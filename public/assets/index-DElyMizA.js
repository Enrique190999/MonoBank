(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function a(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=a(d);fetch(d.href,m)}})();var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eA(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var O0={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function nA(){if(em)return Jl;em=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(c,d,m){var x=null;if(m!==void 0&&(x=""+m),d.key!==void 0&&(x=""+d.key),"key"in d){m={};for(var T in d)T!=="key"&&(m[T]=d[T])}else m=d;return d=m.ref,{$$typeof:l,type:c,key:x,ref:d!==void 0?d:null,props:m}}return Jl.Fragment=e,Jl.jsx=a,Jl.jsxs=a,Jl}var nm;function rA(){return nm||(nm=1,O0.exports=nA()),O0.exports}var fe=rA(),D0={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function iA(){if(rm)return ce;rm=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),B=Symbol.iterator;function L(K){return K===null||typeof K!="object"?null:(K=B&&K[B]||K["@@iterator"],typeof K=="function"?K:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,at={};function ct(K,mt,Nt){this.props=K,this.context=mt,this.refs=at,this.updater=Nt||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(K,mt){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,mt,"setState")},ct.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function it(){}it.prototype=ct.prototype;function At(K,mt,Nt){this.props=K,this.context=mt,this.refs=at,this.updater=Nt||W}var Tt=At.prototype=new it;Tt.constructor=At,Y(Tt,ct.prototype),Tt.isPureReactComponent=!0;var Ut=Array.isArray,Mt={H:null,A:null,T:null,S:null},Wt=Object.prototype.hasOwnProperty;function $(K,mt,Nt,Dt,et,se){return Nt=se.ref,{$$typeof:l,type:K,key:mt,ref:Nt!==void 0?Nt:null,props:se}}function G(K,mt){return $(K.type,mt,void 0,void 0,void 0,K.props)}function z(K){return typeof K=="object"&&K!==null&&K.$$typeof===l}function X(K){var mt={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Nt){return mt[Nt]})}var Q=/\/+/g;function ot(K,mt){return typeof K=="object"&&K!==null&&K.key!=null?X(""+K.key):mt.toString(36)}function F(){}function je(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(F,F):(K.status="pending",K.then(function(mt){K.status==="pending"&&(K.status="fulfilled",K.value=mt)},function(mt){K.status==="pending"&&(K.status="rejected",K.reason=mt)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Yt(K,mt,Nt,Dt,et){var se=typeof K;(se==="undefined"||se==="boolean")&&(K=null);var ae=!1;if(K===null)ae=!0;else switch(se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(K.$$typeof){case l:case e:ae=!0;break;case P:return ae=K._init,Yt(ae(K._payload),mt,Nt,Dt,et)}}if(ae)return et=et(K),ae=Dt===""?"."+ot(K,0):Dt,Ut(et)?(Nt="",ae!=null&&(Nt=ae.replace(Q,"$&/")+"/"),Yt(et,mt,Nt,"",function(Be){return Be})):et!=null&&(z(et)&&(et=G(et,Nt+(et.key==null||K&&K.key===et.key?"":(""+et.key).replace(Q,"$&/")+"/")+ae)),mt.push(et)),1;ae=0;var nn=Dt===""?".":Dt+":";if(Ut(K))for(var we=0;we<K.length;we++)Dt=K[we],se=nn+ot(Dt,we),ae+=Yt(Dt,mt,Nt,se,et);else if(we=L(K),typeof we=="function")for(K=we.call(K),we=0;!(Dt=K.next()).done;)Dt=Dt.value,se=nn+ot(Dt,we++),ae+=Yt(Dt,mt,Nt,se,et);else if(se==="object"){if(typeof K.then=="function")return Yt(je(K),mt,Nt,Dt,et);throw mt=String(K),Error("Objects are not valid as a React child (found: "+(mt==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":mt)+"). If you meant to render a collection of children, use an array instead.")}return ae}function It(K,mt,Nt){if(K==null)return K;var Dt=[],et=0;return Yt(K,Dt,"","",function(se){return mt.call(Nt,se,et++)}),Dt}function Qt(K){if(K._status===-1){var mt=K._result;mt=mt(),mt.then(function(Nt){(K._status===0||K._status===-1)&&(K._status=1,K._result=Nt)},function(Nt){(K._status===0||K._status===-1)&&(K._status=2,K._result=Nt)}),K._status===-1&&(K._status=0,K._result=mt)}if(K._status===1)return K._result.default;throw K._result}var zt=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var mt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(mt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function le(){}return ce.Children={map:It,forEach:function(K,mt,Nt){It(K,function(){mt.apply(this,arguments)},Nt)},count:function(K){var mt=0;return It(K,function(){mt++}),mt},toArray:function(K){return It(K,function(mt){return mt})||[]},only:function(K){if(!z(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},ce.Component=ct,ce.Fragment=a,ce.Profiler=d,ce.PureComponent=At,ce.StrictMode=c,ce.Suspense=S,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mt,ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},ce.cache=function(K){return function(){return K.apply(null,arguments)}},ce.cloneElement=function(K,mt,Nt){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Dt=Y({},K.props),et=K.key,se=void 0;if(mt!=null)for(ae in mt.ref!==void 0&&(se=void 0),mt.key!==void 0&&(et=""+mt.key),mt)!Wt.call(mt,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&mt.ref===void 0||(Dt[ae]=mt[ae]);var ae=arguments.length-2;if(ae===1)Dt.children=Nt;else if(1<ae){for(var nn=Array(ae),we=0;we<ae;we++)nn[we]=arguments[we+2];Dt.children=nn}return $(K.type,et,void 0,void 0,se,Dt)},ce.createContext=function(K){return K={$$typeof:x,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:m,_context:K},K},ce.createElement=function(K,mt,Nt){var Dt,et={},se=null;if(mt!=null)for(Dt in mt.key!==void 0&&(se=""+mt.key),mt)Wt.call(mt,Dt)&&Dt!=="key"&&Dt!=="__self"&&Dt!=="__source"&&(et[Dt]=mt[Dt]);var ae=arguments.length-2;if(ae===1)et.children=Nt;else if(1<ae){for(var nn=Array(ae),we=0;we<ae;we++)nn[we]=arguments[we+2];et.children=nn}if(K&&K.defaultProps)for(Dt in ae=K.defaultProps,ae)et[Dt]===void 0&&(et[Dt]=ae[Dt]);return $(K,se,void 0,void 0,null,et)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(K){return{$$typeof:T,render:K}},ce.isValidElement=z,ce.lazy=function(K){return{$$typeof:P,_payload:{_status:-1,_result:K},_init:Qt}},ce.memo=function(K,mt){return{$$typeof:C,type:K,compare:mt===void 0?null:mt}},ce.startTransition=function(K){var mt=Mt.T,Nt={};Mt.T=Nt;try{var Dt=K(),et=Mt.S;et!==null&&et(Nt,Dt),typeof Dt=="object"&&Dt!==null&&typeof Dt.then=="function"&&Dt.then(le,zt)}catch(se){zt(se)}finally{Mt.T=mt}},ce.unstable_useCacheRefresh=function(){return Mt.H.useCacheRefresh()},ce.use=function(K){return Mt.H.use(K)},ce.useActionState=function(K,mt,Nt){return Mt.H.useActionState(K,mt,Nt)},ce.useCallback=function(K,mt){return Mt.H.useCallback(K,mt)},ce.useContext=function(K){return Mt.H.useContext(K)},ce.useDebugValue=function(){},ce.useDeferredValue=function(K,mt){return Mt.H.useDeferredValue(K,mt)},ce.useEffect=function(K,mt){return Mt.H.useEffect(K,mt)},ce.useId=function(){return Mt.H.useId()},ce.useImperativeHandle=function(K,mt,Nt){return Mt.H.useImperativeHandle(K,mt,Nt)},ce.useInsertionEffect=function(K,mt){return Mt.H.useInsertionEffect(K,mt)},ce.useLayoutEffect=function(K,mt){return Mt.H.useLayoutEffect(K,mt)},ce.useMemo=function(K,mt){return Mt.H.useMemo(K,mt)},ce.useOptimistic=function(K,mt){return Mt.H.useOptimistic(K,mt)},ce.useReducer=function(K,mt,Nt){return Mt.H.useReducer(K,mt,Nt)},ce.useRef=function(K){return Mt.H.useRef(K)},ce.useState=function(K){return Mt.H.useState(K)},ce.useSyncExternalStore=function(K,mt,Nt){return Mt.H.useSyncExternalStore(K,mt,Nt)},ce.useTransition=function(){return Mt.H.useTransition()},ce.version="19.0.0",ce}var im;function xc(){return im||(im=1,D0.exports=iA()),D0.exports}var _t=xc(),N0={exports:{}},tc={},M0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function aA(){return am||(am=1,function(l){function e(It,Qt){var zt=It.length;It.push(Qt);t:for(;0<zt;){var le=zt-1>>>1,K=It[le];if(0<d(K,Qt))It[le]=Qt,It[zt]=K,zt=le;else break t}}function a(It){return It.length===0?null:It[0]}function c(It){if(It.length===0)return null;var Qt=It[0],zt=It.pop();if(zt!==Qt){It[0]=zt;t:for(var le=0,K=It.length,mt=K>>>1;le<mt;){var Nt=2*(le+1)-1,Dt=It[Nt],et=Nt+1,se=It[et];if(0>d(Dt,zt))et<K&&0>d(se,Dt)?(It[le]=se,It[et]=zt,le=et):(It[le]=Dt,It[Nt]=zt,le=Nt);else if(et<K&&0>d(se,zt))It[le]=se,It[et]=zt,le=et;else break t}}return Qt}function d(It,Qt){var zt=It.sortIndex-Qt.sortIndex;return zt!==0?zt:It.id-Qt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var x=Date,T=x.now();l.unstable_now=function(){return x.now()-T}}var S=[],C=[],P=1,B=null,L=3,W=!1,Y=!1,at=!1,ct=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,At=typeof setImmediate<"u"?setImmediate:null;function Tt(It){for(var Qt=a(C);Qt!==null;){if(Qt.callback===null)c(C);else if(Qt.startTime<=It)c(C),Qt.sortIndex=Qt.expirationTime,e(S,Qt);else break;Qt=a(C)}}function Ut(It){if(at=!1,Tt(It),!Y)if(a(S)!==null)Y=!0,je();else{var Qt=a(C);Qt!==null&&Yt(Ut,Qt.startTime-It)}}var Mt=!1,Wt=-1,$=5,G=-1;function z(){return!(l.unstable_now()-G<$)}function X(){if(Mt){var It=l.unstable_now();G=It;var Qt=!0;try{t:{Y=!1,at&&(at=!1,it(Wt),Wt=-1),W=!0;var zt=L;try{e:{for(Tt(It),B=a(S);B!==null&&!(B.expirationTime>It&&z());){var le=B.callback;if(typeof le=="function"){B.callback=null,L=B.priorityLevel;var K=le(B.expirationTime<=It);if(It=l.unstable_now(),typeof K=="function"){B.callback=K,Tt(It),Qt=!0;break e}B===a(S)&&c(S),Tt(It)}else c(S);B=a(S)}if(B!==null)Qt=!0;else{var mt=a(C);mt!==null&&Yt(Ut,mt.startTime-It),Qt=!1}}break t}finally{B=null,L=zt,W=!1}Qt=void 0}}finally{Qt?Q():Mt=!1}}}var Q;if(typeof At=="function")Q=function(){At(X)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,F=ot.port2;ot.port1.onmessage=X,Q=function(){F.postMessage(null)}}else Q=function(){ct(X,0)};function je(){Mt||(Mt=!0,Q())}function Yt(It,Qt){Wt=ct(function(){It(l.unstable_now())},Qt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(It){It.callback=null},l.unstable_continueExecution=function(){Y||W||(Y=!0,je())},l.unstable_forceFrameRate=function(It){0>It||125<It?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<It?Math.floor(1e3/It):5},l.unstable_getCurrentPriorityLevel=function(){return L},l.unstable_getFirstCallbackNode=function(){return a(S)},l.unstable_next=function(It){switch(L){case 1:case 2:case 3:var Qt=3;break;default:Qt=L}var zt=L;L=Qt;try{return It()}finally{L=zt}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(It,Qt){switch(It){case 1:case 2:case 3:case 4:case 5:break;default:It=3}var zt=L;L=It;try{return Qt()}finally{L=zt}},l.unstable_scheduleCallback=function(It,Qt,zt){var le=l.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?le+zt:le):zt=le,It){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=zt+K,It={id:P++,callback:Qt,priorityLevel:It,startTime:zt,expirationTime:K,sortIndex:-1},zt>le?(It.sortIndex=zt,e(C,It),a(S)===null&&It===a(C)&&(at?(it(Wt),Wt=-1):at=!0,Yt(Ut,zt-le))):(It.sortIndex=K,e(S,It),Y||W||(Y=!0,je())),It},l.unstable_shouldYield=z,l.unstable_wrapCallback=function(It){var Qt=L;return function(){var zt=L;L=Qt;try{return It.apply(this,arguments)}finally{L=zt}}}}(P0)),P0}var om;function oA(){return om||(om=1,M0.exports=aA()),M0.exports}var L0={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function sA(){if(sm)return nr;sm=1;var l=xc();function e(S){var C="https://react.dev/errors/"+S;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var P=2;P<arguments.length;P++)C+="&args[]="+encodeURIComponent(arguments[P])}return"Minified React error #"+S+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var c={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(S,C,P){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:B==null?null:""+B,children:S,containerInfo:C,implementation:P}}var x=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(S,C){if(S==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,nr.createPortal=function(S,C){var P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(e(299));return m(S,C,null,P)},nr.flushSync=function(S){var C=x.T,P=c.p;try{if(x.T=null,c.p=2,S)return S()}finally{x.T=C,c.p=P,c.d.f()}},nr.preconnect=function(S,C){typeof S=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,c.d.C(S,C))},nr.prefetchDNS=function(S){typeof S=="string"&&c.d.D(S)},nr.preinit=function(S,C){if(typeof S=="string"&&C&&typeof C.as=="string"){var P=C.as,B=T(P,C.crossOrigin),L=typeof C.integrity=="string"?C.integrity:void 0,W=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;P==="style"?c.d.S(S,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:B,integrity:L,fetchPriority:W}):P==="script"&&c.d.X(S,{crossOrigin:B,integrity:L,fetchPriority:W,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},nr.preinitModule=function(S,C){if(typeof S=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var P=T(C.as,C.crossOrigin);c.d.M(S,{crossOrigin:P,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&c.d.M(S)},nr.preload=function(S,C){if(typeof S=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var P=C.as,B=T(P,C.crossOrigin);c.d.L(S,P,{crossOrigin:B,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},nr.preloadModule=function(S,C){if(typeof S=="string")if(C){var P=T(C.as,C.crossOrigin);c.d.m(S,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:P,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else c.d.m(S)},nr.requestFormReset=function(S){c.d.r(S)},nr.unstable_batchedUpdates=function(S,C){return S(C)},nr.useFormState=function(S,C,P){return x.H.useFormState(S,C,P)},nr.useFormStatus=function(){return x.H.useHostTransitionStatus()},nr.version="19.0.0",nr}var um;function uA(){if(um)return L0.exports;um=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),L0.exports=sA(),L0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function lA(){if(lm)return tc;lm=1;var l=oA(),e=xc(),a=uA();function c(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),W=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Ut=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function Wt(r){return r===null||typeof r!="object"?null:(r=Mt&&r[Mt]||r["@@iterator"],typeof r=="function"?r:null)}var $=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===$?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case T:return"Portal";case P:return"Profiler";case C:return"StrictMode";case at:return"Suspense";case ct:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case W:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case Y:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case it:return s=r.displayName||null,s!==null?s:G(r.type)||"Memo";case At:s=r._payload,r=r._init;try{return G(r(s))}catch{}}return null}var z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Object.assign,Q,ot;function F(r){if(Q===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);Q=s&&s[1]||"",ot=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+r+ot}var je=!1;function Yt(r,s){if(!r||je)return"";je=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(vt){var dt=vt}Reflect.construct(r,[],Ct)}else{try{Ct.call()}catch(vt){dt=vt}r.call(Ct.prototype)}}else{try{throw Error()}catch(vt){dt=vt}(Ct=r())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(vt){if(vt&&dt&&typeof vt.stack=="string")return[vt.stack,dt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),M=w[0],k=w[1];if(M&&k){var q=M.split(`
`),rt=k.split(`
`);for(E=g=0;g<q.length&&!q[g].includes("DetermineComponentFrameRoot");)g++;for(;E<rt.length&&!rt[E].includes("DetermineComponentFrameRoot");)E++;if(g===q.length||E===rt.length)for(g=q.length-1,E=rt.length-1;1<=g&&0<=E&&q[g]!==rt[E];)E--;for(;1<=g&&0<=E;g--,E--)if(q[g]!==rt[E]){if(g!==1||E!==1)do if(g--,E--,0>E||q[g]!==rt[E]){var yt=`
`+q[g].replace(" at new "," at ");return r.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",r.displayName)),yt}while(1<=g&&0<=E);break}}}finally{je=!1,Error.prepareStackTrace=h}return(h=r?r.displayName||r.name:"")?F(h):""}function It(r){switch(r.tag){case 26:case 27:case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return r=Yt(r.type,!1),r;case 11:return r=Yt(r.type.render,!1),r;case 1:return r=Yt(r.type,!0),r;default:return""}}function Qt(r){try{var s="";do s+=It(r),r=r.return;while(r);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function zt(r){var s=r,h=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(h=s.return),r=s.return;while(r)}return s.tag===3?h:null}function le(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function K(r){if(zt(r)!==r)throw Error(c(188))}function mt(r){var s=r.alternate;if(!s){if(s=zt(r),s===null)throw Error(c(188));return s!==r?null:r}for(var h=r,g=s;;){var E=h.return;if(E===null)break;var w=E.alternate;if(w===null){if(g=E.return,g!==null){h=g;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===h)return K(E),r;if(w===g)return K(E),s;w=w.sibling}throw Error(c(188))}if(h.return!==g.return)h=E,g=w;else{for(var M=!1,k=E.child;k;){if(k===h){M=!0,h=E,g=w;break}if(k===g){M=!0,g=E,h=w;break}k=k.sibling}if(!M){for(k=w.child;k;){if(k===h){M=!0,h=w,g=E;break}if(k===g){M=!0,g=w,h=E;break}k=k.sibling}if(!M)throw Error(c(189))}}if(h.alternate!==g)throw Error(c(190))}if(h.tag!==3)throw Error(c(188));return h.stateNode.current===h?r:s}function Nt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=Nt(r),s!==null)return s;r=r.sibling}return null}var Dt=Array.isArray,et=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ae=[],nn=-1;function we(r){return{current:r}}function Be(r){0>nn||(r.current=ae[nn],ae[nn]=null,nn--)}function Me(r,s){nn++,ae[nn]=r.current,r.current=s}var mn=we(null),di=we(null),gr=we(null),Vi=we(null);function Ye(r,s){switch(Me(gr,s),Me(di,r),Me(mn,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Rv(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Rv(r),s=Ov(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Be(mn),Me(mn,s)}function qe(){Be(mn),Be(di),Be(gr)}function cs(r){r.memoizedState!==null&&Me(Vi,r);var s=mn.current,h=Ov(s,r.type);s!==h&&(Me(di,r),Me(mn,h))}function Rr(r){di.current===r&&(Be(mn),Be(di)),Vi.current===r&&(Be(Vi),Kl._currentValue=se)}var hn=Object.prototype.hasOwnProperty,pi=l.unstable_scheduleCallback,qt=l.unstable_cancelCallback,fs=l.unstable_shouldYield,$e=l.unstable_requestPaint,Sn=l.unstable_now,Ui=l.unstable_getCurrentPriorityLevel,ke=l.unstable_ImmediatePriority,yn=l.unstable_UserBlockingPriority,Yr=l.unstable_NormalPriority,su=l.unstable_LowPriority,_n=l.unstable_IdlePriority,dl=l.log,Kr=l.unstable_setDisableYieldValue,Fi=null,Ke=null;function Hi(r){if(Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}}function Ve(r){if(typeof dl=="function"&&Kr(r),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Fi,r)}catch{}}var Nn=Math.clz32?Math.clz32:Vt,he=Math.log,fo=Math.LN2;function Vt(r){return r>>>=0,r===0?32:31-(he(r)/fo|0)|0}var vr=128,zi=4194304;function Or(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,s){var h=r.pendingLanes;if(h===0)return 0;var g=0,E=r.suspendedLanes,w=r.pingedLanes,M=r.warmLanes;r=r.finishedLanes!==0;var k=h&134217727;return k!==0?(h=k&~E,h!==0?g=Or(h):(w&=k,w!==0?g=Or(w):r||(M=k&~M,M!==0&&(g=Or(M))))):(k=h&~E,k!==0?g=Or(k):w!==0?g=Or(w):r||(M=h&~M,M!==0&&(g=Or(M)))),g===0?0:s!==0&&s!==g&&(s&E)===0&&(E=g&-g,M=s&-s,E>=M||E===32&&(M&4194176)!==0)?s:g}function gi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Aa(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hs(){var r=vr;return vr<<=1,(vr&4194176)===0&&(vr=128),r}function Gi(){var r=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),r}function ji(r){for(var s=[],h=0;31>h;h++)s.push(r);return s}function ye(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function uu(r,s,h,g,E,w){var M=r.pendingLanes;r.pendingLanes=h,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=h,r.entangledLanes&=h,r.errorRecoveryDisabledLanes&=h,r.shellSuspendCounter=0;var k=r.entanglements,q=r.expirationTimes,rt=r.hiddenUpdates;for(h=M&~h;0<h;){var yt=31-Nn(h),Ct=1<<yt;k[yt]=0,q[yt]=-1;var dt=rt[yt];if(dt!==null)for(rt[yt]=null,yt=0;yt<dt.length;yt++){var vt=dt[yt];vt!==null&&(vt.lane&=-536870913)}h&=~Ct}g!==0&&Dr(r,g,0),w!==0&&E===0&&r.tag!==0&&(r.suspendedLanes|=w&~(M&~s))}function Dr(r,s,h){r.pendingLanes|=s,r.suspendedLanes&=~s;var g=31-Nn(s);r.entangledLanes|=s,r.entanglements[g]=r.entanglements[g]|1073741824|h&4194218}function qi(r,s){var h=r.entangledLanes|=s;for(r=r.entanglements;h;){var g=31-Nn(h),E=1<<g;E&s|r[g]&s&&(r[g]|=s),h&=~E}}function rn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function lu(){var r=et.p;return r!==0?r:(r=window.event,r===void 0?32:Kv(r.type))}function vi(r,s){var h=et.p;try{return et.p=r,s()}finally{et.p=h}}var Wr=Math.random().toString(36).slice(2),an="__reactFiber$"+Wr,on="__reactProps$"+Wr,mi="__reactContainer$"+Wr,wa="__reactEvents$"+Wr,Ta="__reactListeners$"+Wr,Qr="__reactHandles$"+Wr,$r="__reactResources$"+Wr,Xi="__reactMarker$"+Wr;function Sa(r){delete r[an],delete r[on],delete r[wa],delete r[Ta],delete r[Qr]}function Nr(r){var s=r[an];if(s)return s;for(var h=r.parentNode;h;){if(s=h[mi]||h[an]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(r=Mv(r);r!==null;){if(h=r[an])return h;r=Mv(r)}return s}r=h,h=r.parentNode}return null}function yi(r){if(r=r[an]||r[mi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Yi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(c(33))}function Ki(r){var s=r[$r];return s||(s=r[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function oe(r){r[Xi]=!0}var ds=new Set,Ca={};function Fn(r,s){Zn(r,s),Zn(r+"Capture",s)}function Zn(r,s){for(Ca[r]=s,r=0;r<s.length;r++)ds.add(s[r])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ps={},gs={};function fu(r){return hn.call(gs,r)?!0:hn.call(ps,r)?!1:cu.test(r)?gs[r]=!0:(ps[r]=!0,!1)}function Wi(r,s,h){if(fu(s))if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+h)}}function _i(r,s,h){if(h===null)r.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+h)}}function mr(r,s,h,g){if(g===null)r.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(h);return}r.setAttributeNS(s,h,""+g)}}function Mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ho(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pl(r){var s=ho(r)?"checked":"value",h=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),g=""+r[s];if(!r.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var E=h.get,w=h.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return E.call(this)},set:function(M){g=""+M,w.call(this,M)}}),Object.defineProperty(r,s,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ia(r){r._valueTracker||(r._valueTracker=pl(r))}function Mr(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var h=s.getValue(),g="";return r&&(g=ho(r)?r.checked?"true":"false":r.value),r=g,r!==h?(s.setValue(r),!0):!1}function Ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zr=/[\n"\\]/g;function We(r){return r.replace(Zr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function sr(r,s,h,g,E,w,M,k){r.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.type=M:r.removeAttribute("type"),s!=null?M==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Mn(s)):r.value!==""+Mn(s)&&(r.value=""+Mn(s)):M!=="submit"&&M!=="reset"||r.removeAttribute("value"),s!=null?yr(r,M,Mn(s)):h!=null?yr(r,M,Mn(h)):g!=null&&r.removeAttribute("value"),E==null&&w!=null&&(r.defaultChecked=!!w),E!=null&&(r.checked=E&&typeof E!="function"&&typeof E!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Mn(k):r.removeAttribute("name")}function ba(r,s,h,g,E,w,M,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),s!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||s!=null))return;h=h!=null?""+Mn(h):"",s=s!=null?""+Mn(s):h,k||s===r.value||(r.value=s),r.defaultValue=s}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=k?r.checked:!!g,r.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(r.name=M)}function yr(r,s,h){s==="number"&&Ei(r.ownerDocument)===r||r.defaultValue===""+h||(r.defaultValue=""+h)}function _e(r,s,h,g){if(r=r.options,s){s={};for(var E=0;E<h.length;E++)s["$"+h[E]]=!0;for(h=0;h<r.length;h++)E=s.hasOwnProperty("$"+r[h].value),r[h].selected!==E&&(r[h].selected=E),E&&g&&(r[h].defaultSelected=!0)}else{for(h=""+Mn(h),s=null,E=0;E<r.length;E++){if(r[E].value===h){r[E].selected=!0,g&&(r[E].defaultSelected=!0);return}s!==null||r[E].disabled||(s=r[E])}s!==null&&(s.selected=!0)}}function Ra(r,s,h){if(s!=null&&(s=""+Mn(s),s!==r.value&&(r.value=s),h==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=h!=null?""+Mn(h):""}function En(r,s,h,g){if(s==null){if(g!=null){if(h!=null)throw Error(c(92));if(Dt(g)){if(1<g.length)throw Error(c(93));g=g[0]}h=g}h==null&&(h=""),s=h}h=Mn(s),r.defaultValue=h,g=r.textContent,g===h&&g!==""&&g!==null&&(r.value=g)}function _r(r,s){if(s){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=s;return}}r.textContent=s}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vs(r,s,h){var g=s.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":g?r.setProperty(s,h):typeof h!="number"||h===0||xi.has(s)?s==="float"?r.cssFloat=h:r[s]=(""+h).trim():r[s]=h+"px"}function Ai(r,s,h){if(s!=null&&typeof s!="object")throw Error(c(62));if(r=r.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var E in s)g=s[E],s.hasOwnProperty(E)&&h[E]!==g&&vs(r,E,g)}else for(var w in s)s.hasOwnProperty(w)&&vs(r,w,s[w])}function Qi(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(r){return po.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Er=null;function Pn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wi=null,Ti=null;function Si(r){var s=yi(r);if(s&&(r=s.stateNode)){var h=r[on]||null;t:switch(r=s.stateNode,s.type){case"input":if(sr(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),s=h.name,h.type==="radio"&&s!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+We(""+s)+'"][type="radio"]'),s=0;s<h.length;s++){var g=h[s];if(g!==r&&g.form===r.form){var E=g[on]||null;if(!E)throw Error(c(90));sr(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(s=0;s<h.length;s++)g=h[s],g.form===r.form&&Mr(g)}break t;case"textarea":Ra(r,h.value,h.defaultValue);break t;case"select":s=h.value,s!=null&&_e(r,!!h.multiple,s,!1)}}}var ms=!1;function hu(r,s,h){if(ms)return r(s,h);ms=!0;try{var g=r(s);return g}finally{if(ms=!1,(wi!==null||Ti!==null)&&(Sf(),wi&&(s=wi,r=Ti,Ti=wi=null,Si(s),r)))for(s=0;s<r.length;s++)Si(r[s])}}function Jr(r,s){var h=r.stateNode;if(h===null)return null;var g=h[on]||null;if(g===null)return null;h=g[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break t;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(c(231,s,typeof h));return h}var xr=!1;if(Jn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){xr=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{xr=!1}var ti=null,Zi=null,Ci=null;function ys(){if(Ci)return Ci;var r,s=Zi,h=s.length,g,E="value"in ti?ti.value:ti.textContent,w=E.length;for(r=0;r<h&&s[r]===E[r];r++);var M=h-r;for(g=1;g<=M&&s[h-g]===E[w-g];g++);return Ci=E.slice(r,1<g?1-g:void 0)}function ei(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ni(){return!0}function _s(){return!1}function xn(r){function s(h,g,E,w,M){this._reactName=h,this._targetInst=E,this.type=g,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(h=r[k],this[k]=h?h(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ni:_s,this.isPropagationStopped=_s,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),s}var Oe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=xn(Oe),Oa=X({},Oe,{view:0,detail:0}),Es=xn(Oa),go,vo,Cn,Ji=X({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cn&&(Cn&&r.type==="mousemove"?(go=r.screenX-Cn.screenX,vo=r.screenY-Cn.screenY):vo=go=0,Cn=r),go)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),Ar=xn(Ji),du=X({},Ji,{dataTransfer:0}),vl=xn(du),Ii=X({},Oa,{relatedTarget:0}),Da=xn(Ii),xs=X({},Oe,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=xn(xs),pu=X({},Oe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Na=xn(pu),Ie=X({},Oe,{data:0}),ve=xn(Ie),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},As={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=As[r])?!!s[r]:!1}function ta(){return ws}var Qe=X({},Oa,{key:function(r){if(r.key){var s=Ma[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ei(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(r){return r.type==="keypress"?ei(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ei(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mo=xn(Qe),vu=X({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=xn(vu),bi=X({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Pa=xn(bi),mu=X({},Oe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ri=xn(mu),ea=X({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=xn(ea),Ln=X({},Oe,{newState:0,oldState:0}),yu=xn(Ln),lt=[9,13,27,32],H=Jn&&"CompositionEvent"in window,y=null;Jn&&"documentMode"in document&&(y=document.documentMode);var R=Jn&&"TextEvent"in window&&!y,N=Jn&&(!H||y&&8<y&&11>=y),U=" ",ut=!1;function pt(r,s){switch(r){case"keyup":return lt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Jt=!1;function ee(r,s){switch(r){case"compositionend":return bt(s);case"keypress":return s.which!==32?null:(ut=!0,U);case"textInput":return r=s.data,r===U&&ut?null:r;default:return null}}function Ee(r,s){if(Jt)return r==="compositionend"||!H&&pt(r,s)?(r=ys(),Ci=Zi=ti=null,Jt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return N&&s.locale!=="ko"?null:s.data;default:return null}}var dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dn[r.type]:s==="textarea"}function Oi(r,s,h,g){wi?Ti?Ti.push(g):Ti=[g]:wi=g,s=Of(s,"onChange"),0<s.length&&(h=new ur("onChange","change",null,h,g),r.push({event:h,listeners:s}))}var In=null,ri=null;function Ss(r){Tv(r,0)}function _u(r){var s=Yi(r);if(Mr(s))return r}function Bc(r,s){if(r==="change")return s}var kc=!1;if(Jn){var ml;if(Jn){var La="oninput"in document;if(!La){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),La=typeof Vc.oninput=="function"}ml=La}else ml=!1;kc=ml&&(!document.documentMode||9<document.documentMode)}function Uc(){In&&(In.detachEvent("onpropertychange",Cs),ri=In=null)}function Cs(r){if(r.propertyName==="value"&&_u(ri)){var s=[];Oi(s,ri,r,Pn(r)),hu(Ss,s)}}function nd(r,s,h){r==="focusin"?(Uc(),In=s,ri=h,In.attachEvent("onpropertychange",Cs)):r==="focusout"&&Uc()}function Te(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _u(ri)}function rd(r,s){if(r==="click")return _u(s)}function id(r,s){if(r==="input"||r==="change")return _u(s)}function ad(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var lr=typeof Object.is=="function"?Object.is:ad;function Br(r,s){if(lr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var h=Object.keys(r),g=Object.keys(s);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var E=h[g];if(!hn.call(s,E)||!lr(r[E],s[E]))return!1}return!0}function Fc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hc(r,s){var h=Fc(r);r=0;for(var g;h;){if(h.nodeType===3){if(g=r+h.textContent.length,r<=s&&g>=s)return{node:h,offset:s-r};r=g}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Fc(h)}}function zc(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?zc(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Gc(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ei(r.document);s instanceof r.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)r=s.contentWindow;else break;s=Ei(r.document)}return s}function yl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _l(r,s){var h=Gc(s);s=r.focusedElem;var g=r.selectionRange;if(h!==s&&s&&s.ownerDocument&&zc(s.ownerDocument.documentElement,s)){if(g!==null&&yl(s)){if(r=g.start,h=g.end,h===void 0&&(h=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(h,s.value.length);else if(h=(r=s.ownerDocument||document)&&r.defaultView||window,h.getSelection){h=h.getSelection();var E=s.textContent.length,w=Math.min(g.start,E);g=g.end===void 0?w:Math.min(g.end,E),!h.extend&&w>g&&(E=g,g=w,w=E),E=Hc(s,w);var M=Hc(s,g);E&&M&&(h.rangeCount!==1||h.anchorNode!==E.node||h.anchorOffset!==E.offset||h.focusNode!==M.node||h.focusOffset!==M.offset)&&(r=r.createRange(),r.setStart(E.node,E.offset),h.removeAllRanges(),w>g?(h.addRange(r),h.extend(M.node,M.offset)):(r.setEnd(M.node,M.offset),h.addRange(r)))}}for(r=[],h=s;h=h.parentNode;)h.nodeType===1&&r.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)h=r[s],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var od=Jn&&"documentMode"in document&&11>=document.documentMode,na=null,El=null,_o=null,xl=!1;function jc(r,s,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;xl||na==null||na!==Ei(g)||(g=na,"selectionStart"in g&&yl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_o&&Br(_o,g)||(_o=g,g=Of(El,"onSelect"),0<g.length&&(s=new ur("onSelect","select",null,s,h),r.push({event:s,listeners:g}),s.target=na)))}function kr(r,s){var h={};return h[r.toLowerCase()]=s.toLowerCase(),h["Webkit"+r]="webkit"+s,h["Moz"+r]="moz"+s,h}var Eo={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Is={},Al={};Jn&&(Al=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ba(r){if(Is[r])return Is[r];if(!Eo[r])return r;var s=Eo[r],h;for(h in s)if(s.hasOwnProperty(h)&&h in Al)return Is[r]=s[h];return r}var qc=Ba("animationend"),Xc=Ba("animationiteration"),Yc=Ba("animationstart"),sd=Ba("transitionrun"),Kc=Ba("transitionstart"),ud=Ba("transitioncancel"),Wc=Ba("transitionend"),Qc=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Vr(r,s){Qc.set(r,s),Fn(s,[r])}var wr=[],xo=0,De=0;function bs(){for(var r=xo,s=De=xo=0;s<r;){var h=wr[s];wr[s++]=null;var g=wr[s];wr[s++]=null;var E=wr[s];wr[s++]=null;var w=wr[s];if(wr[s++]=null,g!==null&&E!==null){var M=g.pending;M===null?E.next=E:(E.next=M.next,M.next=E),g.pending=E}w!==0&&Zc(h,E,w)}}function ka(r,s,h,g){wr[xo++]=r,wr[xo++]=s,wr[xo++]=h,wr[xo++]=g,De|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function ii(r,s,h,g){return ka(r,s,h,g),ia(r)}function ra(r,s){return ka(r,null,null,s),ia(r)}function Zc(r,s,h){r.lanes|=h;var g=r.alternate;g!==null&&(g.lanes|=h);for(var E=!1,w=r.return;w!==null;)w.childLanes|=h,g=w.alternate,g!==null&&(g.childLanes|=h),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(E=!0)),r=w,w=w.return;E&&s!==null&&r.tag===3&&(w=r.stateNode,E=31-Nn(h),w=w.hiddenUpdates,r=w[E],r===null?w[E]=[s]:r.push(s),s.lane=h|536870912)}function ia(r){if(50<Hl)throw Hl=0,t0=null,Error(c(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ao={},Jc=new WeakMap;function Hn(r,s){if(typeof r=="object"&&r!==null){var h=Jc.get(r);return h!==void 0?h:(s={value:r,source:s,stack:Qt(s)},Jc.set(r,s),s)}return{value:r,source:s,stack:Qt(s)}}var wo=[],Va=0,Rs=null,Os=0,Tr=[],Sr=0,Ua=null,Ur=1,un="";function aa(r,s){wo[Va++]=Os,wo[Va++]=Rs,Rs=r,Os=s}function To(r,s,h){Tr[Sr++]=Ur,Tr[Sr++]=un,Tr[Sr++]=Ua,Ua=r;var g=Ur;r=un;var E=32-Nn(g)-1;g&=~(1<<E),h+=1;var w=32-Nn(s)+E;if(30<w){var M=E-E%5;w=(g&(1<<M)-1).toString(32),g>>=M,E-=M,Ur=1<<32-Nn(s)+E|h<<E|g,un=w+r}else Ur=1<<w|h<<E|g,un=r}function wl(r){r.return!==null&&(aa(r,1),To(r,1,0))}function Tl(r){for(;r===Rs;)Rs=wo[--Va],wo[Va]=null,Os=wo[--Va],wo[Va]=null;for(;r===Ua;)Ua=Tr[--Sr],Tr[Sr]=null,un=Tr[--Sr],Tr[Sr]=null,Ur=Tr[--Sr],Tr[Sr]=null}var bn=null,Rn=null,jt=!1,Cr=null,ai=!1,Eu=Error(c(519));function oa(r){var s=Error(c(418,""));throw So(Hn(s,r)),Eu}function tf(r){var s=r.stateNode,h=r.type,g=r.memoizedProps;switch(s[an]=r,s[on]=g,h){case"dialog":Se("cancel",s),Se("close",s);break;case"iframe":case"object":case"embed":Se("load",s);break;case"video":case"audio":for(h=0;h<Gl.length;h++)Se(Gl[h],s);break;case"source":Se("error",s);break;case"img":case"image":case"link":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"input":Se("invalid",s),ba(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Ia(s);break;case"select":Se("invalid",s);break;case"textarea":Se("invalid",s),En(s,g.value,g.defaultValue,g.children),Ia(s)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||s.textContent===""+h||g.suppressHydrationWarning===!0||bv(s.textContent,h)?(g.popover!=null&&(Se("beforetoggle",s),Se("toggle",s)),g.onScroll!=null&&Se("scroll",s),g.onScrollEnd!=null&&Se("scrollend",s),g.onClick!=null&&(s.onclick=Df),s=!0):s=!1,s||oa(r)}function ef(r){for(bn=r.return;bn;)switch(bn.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:bn=bn.return}}function Ds(r){if(r!==bn)return!1;if(!jt)return ef(r),jt=!0,!1;var s=!1,h;if((h=r.tag!==3&&r.tag!==27)&&((h=r.tag===5)&&(h=r.type,h=!(h!=="form"&&h!=="button")||m0(r.type,r.memoizedProps)),h=!h),h&&(s=!0),s&&Rn&&oa(r),ef(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(h=r.data,h==="/$"){if(s===0){Rn=Bi(r.nextSibling);break t}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++;r=r.nextSibling}Rn=null}}else Rn=bn?Bi(r.stateNode.nextSibling):null;return!0}function Ns(){Rn=bn=null,jt=!1}function So(r){Cr===null?Cr=[r]:Cr.push(r)}var Ms=Error(c(460)),nf=Error(c(474)),Ps={then:function(){}};function rf(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xu(){}function af(r,s,h){switch(h=r[h],h===void 0?r.push(s):h!==s&&(s.then(xu,xu),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Ms?Error(c(483)):r;default:if(typeof s.status=="string")s.then(xu,xu);else{if(r=ze,r!==null&&100<r.shellSuspendCounter)throw Error(c(482));r=s,r.status="pending",r.then(function(g){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=g}},function(g){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Ms?Error(c(483)):r}throw Di=s,Ms}}var Di=null;function of(){if(Di===null)throw Error(c(459));var r=Di;return Di=null,r}var cr=null,sa=0;function zn(r){var s=sa;return sa+=1,cr===null&&(cr=[]),af(cr,r,s)}function Co(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function fr(r,s){throw s.$$typeof===m?Error(c(525)):(r=Object.prototype.toString.call(s),Error(c(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function sf(r){var s=r._init;return s(r._payload)}function Au(r){function s(st,tt){if(r){var ft=st.deletions;ft===null?(st.deletions=[tt],st.flags|=16):ft.push(tt)}}function h(st,tt){if(!r)return null;for(;tt!==null;)s(st,tt),tt=tt.sibling;return null}function g(st){for(var tt=new Map;st!==null;)st.key!==null?tt.set(st.key,st):tt.set(st.index,st),st=st.sibling;return tt}function E(st,tt){return st=Bo(st,tt),st.index=0,st.sibling=null,st}function w(st,tt,ft){return st.index=ft,r?(ft=st.alternate,ft!==null?(ft=ft.index,ft<tt?(st.flags|=33554434,tt):ft):(st.flags|=33554434,tt)):(st.flags|=1048576,tt)}function M(st){return r&&st.alternate===null&&(st.flags|=33554434),st}function k(st,tt,ft,Et){return tt===null||tt.tag!==6?(tt=Xd(ft,st.mode,Et),tt.return=st,tt):(tt=E(tt,ft),tt.return=st,tt)}function q(st,tt,ft,Et){var Bt=ft.type;return Bt===S?yt(st,tt,ft.props.children,Et,ft.key):tt!==null&&(tt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===At&&sf(Bt)===tt.type)?(tt=E(tt,ft.props),Co(tt,ft),tt.return=st,tt):(tt=Ef(ft.type,ft.key,ft.props,null,st.mode,Et),Co(tt,ft),tt.return=st,tt)}function rt(st,tt,ft,Et){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ft.containerInfo||tt.stateNode.implementation!==ft.implementation?(tt=Yd(ft,st.mode,Et),tt.return=st,tt):(tt=E(tt,ft.children||[]),tt.return=st,tt)}function yt(st,tt,ft,Et,Bt){return tt===null||tt.tag!==7?(tt=Xs(ft,st.mode,Et,Bt),tt.return=st,tt):(tt=E(tt,ft),tt.return=st,tt)}function Ct(st,tt,ft){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=Xd(""+tt,st.mode,ft),tt.return=st,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return ft=Ef(tt.type,tt.key,tt.props,null,st.mode,ft),Co(ft,tt),ft.return=st,ft;case T:return tt=Yd(tt,st.mode,ft),tt.return=st,tt;case At:var Et=tt._init;return tt=Et(tt._payload),Ct(st,tt,ft)}if(Dt(tt)||Wt(tt))return tt=Xs(tt,st.mode,ft,null),tt.return=st,tt;if(typeof tt.then=="function")return Ct(st,zn(tt),ft);if(tt.$$typeof===W)return Ct(st,mf(st,tt),ft);fr(st,tt)}return null}function dt(st,tt,ft,Et){var Bt=tt!==null?tt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Bt!==null?null:k(st,tt,""+ft,Et);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:return ft.key===Bt?q(st,tt,ft,Et):null;case T:return ft.key===Bt?rt(st,tt,ft,Et):null;case At:return Bt=ft._init,ft=Bt(ft._payload),dt(st,tt,ft,Et)}if(Dt(ft)||Wt(ft))return Bt!==null?null:yt(st,tt,ft,Et,null);if(typeof ft.then=="function")return dt(st,tt,zn(ft),Et);if(ft.$$typeof===W)return dt(st,tt,mf(st,ft),Et);fr(st,ft)}return null}function vt(st,tt,ft,Et,Bt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return st=st.get(ft)||null,k(tt,st,""+Et,Bt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case x:return st=st.get(Et.key===null?ft:Et.key)||null,q(tt,st,Et,Bt);case T:return st=st.get(Et.key===null?ft:Et.key)||null,rt(tt,st,Et,Bt);case At:var ge=Et._init;return Et=ge(Et._payload),vt(st,tt,ft,Et,Bt)}if(Dt(Et)||Wt(Et))return st=st.get(ft)||null,yt(tt,st,Et,Bt,null);if(typeof Et.then=="function")return vt(st,tt,ft,zn(Et),Bt);if(Et.$$typeof===W)return vt(st,tt,ft,mf(tt,Et),Bt);fr(tt,Et)}return null}function Gt(st,tt,ft,Et){for(var Bt=null,ge=null,Xt=tt,$t=tt=0,Vn=null;Xt!==null&&$t<ft.length;$t++){Xt.index>$t?(Vn=Xt,Xt=null):Vn=Xt.sibling;var Ne=dt(st,Xt,ft[$t],Et);if(Ne===null){Xt===null&&(Xt=Vn);break}r&&Xt&&Ne.alternate===null&&s(st,Xt),tt=w(Ne,tt,$t),ge===null?Bt=Ne:ge.sibling=Ne,ge=Ne,Xt=Vn}if($t===ft.length)return h(st,Xt),jt&&aa(st,$t),Bt;if(Xt===null){for(;$t<ft.length;$t++)Xt=Ct(st,ft[$t],Et),Xt!==null&&(tt=w(Xt,tt,$t),ge===null?Bt=Xt:ge.sibling=Xt,ge=Xt);return jt&&aa(st,$t),Bt}for(Xt=g(Xt);$t<ft.length;$t++)Vn=vt(Xt,st,$t,ft[$t],Et),Vn!==null&&(r&&Vn.alternate!==null&&Xt.delete(Vn.key===null?$t:Vn.key),tt=w(Vn,tt,$t),ge===null?Bt=Vn:ge.sibling=Vn,ge=Vn);return r&&Xt.forEach(function(Go){return s(st,Go)}),jt&&aa(st,$t),Bt}function re(st,tt,ft,Et){if(ft==null)throw Error(c(151));for(var Bt=null,ge=null,Xt=tt,$t=tt=0,Vn=null,Ne=ft.next();Xt!==null&&!Ne.done;$t++,Ne=ft.next()){Xt.index>$t?(Vn=Xt,Xt=null):Vn=Xt.sibling;var Go=dt(st,Xt,Ne.value,Et);if(Go===null){Xt===null&&(Xt=Vn);break}r&&Xt&&Go.alternate===null&&s(st,Xt),tt=w(Go,tt,$t),ge===null?Bt=Go:ge.sibling=Go,ge=Go,Xt=Vn}if(Ne.done)return h(st,Xt),jt&&aa(st,$t),Bt;if(Xt===null){for(;!Ne.done;$t++,Ne=ft.next())Ne=Ct(st,Ne.value,Et),Ne!==null&&(tt=w(Ne,tt,$t),ge===null?Bt=Ne:ge.sibling=Ne,ge=Ne);return jt&&aa(st,$t),Bt}for(Xt=g(Xt);!Ne.done;$t++,Ne=ft.next())Ne=vt(Xt,st,$t,Ne.value,Et),Ne!==null&&(r&&Ne.alternate!==null&&Xt.delete(Ne.key===null?$t:Ne.key),tt=w(Ne,tt,$t),ge===null?Bt=Ne:ge.sibling=Ne,ge=Ne);return r&&Xt.forEach(function(tA){return s(st,tA)}),jt&&aa(st,$t),Bt}function fn(st,tt,ft,Et){if(typeof ft=="object"&&ft!==null&&ft.type===S&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:t:{for(var Bt=ft.key;tt!==null;){if(tt.key===Bt){if(Bt=ft.type,Bt===S){if(tt.tag===7){h(st,tt.sibling),Et=E(tt,ft.props.children),Et.return=st,st=Et;break t}}else if(tt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===At&&sf(Bt)===tt.type){h(st,tt.sibling),Et=E(tt,ft.props),Co(Et,ft),Et.return=st,st=Et;break t}h(st,tt);break}else s(st,tt);tt=tt.sibling}ft.type===S?(Et=Xs(ft.props.children,st.mode,Et,ft.key),Et.return=st,st=Et):(Et=Ef(ft.type,ft.key,ft.props,null,st.mode,Et),Co(Et,ft),Et.return=st,st=Et)}return M(st);case T:t:{for(Bt=ft.key;tt!==null;){if(tt.key===Bt)if(tt.tag===4&&tt.stateNode.containerInfo===ft.containerInfo&&tt.stateNode.implementation===ft.implementation){h(st,tt.sibling),Et=E(tt,ft.children||[]),Et.return=st,st=Et;break t}else{h(st,tt);break}else s(st,tt);tt=tt.sibling}Et=Yd(ft,st.mode,Et),Et.return=st,st=Et}return M(st);case At:return Bt=ft._init,ft=Bt(ft._payload),fn(st,tt,ft,Et)}if(Dt(ft))return Gt(st,tt,ft,Et);if(Wt(ft)){if(Bt=Wt(ft),typeof Bt!="function")throw Error(c(150));return ft=Bt.call(ft),re(st,tt,ft,Et)}if(typeof ft.then=="function")return fn(st,tt,zn(ft),Et);if(ft.$$typeof===W)return fn(st,tt,mf(st,ft),Et);fr(st,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,tt!==null&&tt.tag===6?(h(st,tt.sibling),Et=E(tt,ft),Et.return=st,st=Et):(h(st,tt),Et=Xd(ft,st.mode,Et),Et.return=st,st=Et),M(st)):h(st,tt)}return function(st,tt,ft,Et){try{sa=0;var Bt=fn(st,tt,ft,Et);return cr=null,Bt}catch(Xt){if(Xt===Ms)throw Xt;var ge=ci(29,Xt,null,st.mode);return ge.lanes=Et,ge.return=st,ge}finally{}}}var Fa=Au(!0),uf=Au(!1),Ha=we(null),wu=we(0);function lf(r,s){r=Qa,Me(wu,r),Me(Ha,s),Qa=r|s.baseLanes}function Sl(){Me(wu,Qa),Me(Ha,Ha.current)}function Ls(){Qa=wu.current,Be(Ha),Be(wu)}var Gn=we(null),oi=null;function ua(r){var s=r.alternate;Me(pn,pn.current&1),Me(Gn,r),oi===null&&(s===null||Ha.current!==null||s.memoizedState!==null)&&(oi=r)}function Ni(r){if(r.tag===22){if(Me(pn,pn.current),Me(Gn,r),oi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(oi=r)}}else Mi()}function Mi(){Me(pn,pn.current),Me(Gn,Gn.current)}function Pi(r){Be(Gn),oi===r&&(oi=null),Be(pn)}var pn=we(0);function He(r){for(var s=r;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ld=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(h,g){r.push(g)}};this.abort=function(){s.aborted=!0,r.forEach(function(h){return h()})}},Ft=l.unstable_scheduleCallback,cd=l.unstable_NormalPriority,gn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cl(){return{controller:new ld,data:new Map,refCount:0}}function Bs(r){r.refCount--,r.refCount===0&&Ft(cd,function(){r.controller.abort()})}var ks=null,Il=0,tr=0,hr=null;function cf(r,s){if(ks===null){var h=ks=[];Il=0,tr=u0(),hr={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Il++,s.then(Vs,Vs),s}function Vs(){if(--Il===0&&ks!==null){hr!==null&&(hr.status="fulfilled");var r=ks;ks=null,tr=0,hr=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function i(r,s){var h=[],g={status:"pending",value:null,reason:null,then:function(E){h.push(E)}};return r.then(function(){g.status="fulfilled",g.value=s;for(var E=0;E<h.length;E++)(0,h[E])(s)},function(E){for(g.status="rejected",g.reason=E,E=0;E<h.length;E++)(0,h[E])(void 0)}),g}var t=z.S;z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&cf(r,s),t!==null&&t(r,s)};var n=we(null);function o(){var r=n.current;return r!==null?r:ze.pooledCache}function u(r,s){s===null?Me(n,n.current):Me(n,s.pool)}function f(){var r=o();return r===null?null:{parent:gn._currentValue,pool:r}}var p=0,v=null,_=null,A=null,I=!1,b=!1,O=!1,D=0,V=0,j=null,nt=0;function Z(){throw Error(c(321))}function J(r,s){if(s===null)return!1;for(var h=0;h<s.length&&h<r.length;h++)if(!lr(r[h],s[h]))return!1;return!0}function ht(r,s,h,g,E,w){return p=w,v=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=r===null||r.memoizedState===null?Fs:bo,O=!1,w=h(g,E),O=!1,b&&(w=St(s,h,g,E)),gt(r),w}function gt(r){z.H=la;var s=_!==null&&_.next!==null;if(p=0,A=_=v=null,I=!1,V=0,j=null,s)throw Error(c(300));r===null||Bn||(r=r.dependencies,r!==null&&vf(r)&&(Bn=!0))}function St(r,s,h,g){v=r;var E=0;do{if(b&&(j=null),V=0,b=!1,25<=E)throw Error(c(301));if(E+=1,A=_=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}z.H=Hs,w=s(h,g)}while(b);return w}function Rt(){var r=z.H,s=r.useState()[0];return s=typeof s.then=="function"?Le(s):s,r=r.useState()[0],(_!==null?_.memoizedState:null)!==r&&(v.flags|=1024),s}function Ot(){var r=D!==0;return D=0,r}function Ht(r,s,h){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h}function de(r){if(I){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}I=!1}p=0,A=_=v=null,b=!1,V=D=0,j=null}function Lt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return A===null?v.memoizedState=A=r:A=A.next=r,A}function ue(){if(_===null){var r=v.alternate;r=r!==null?r.memoizedState:null}else r=_.next;var s=A===null?v.memoizedState:A.next;if(s!==null)A=s,_=r;else{if(r===null)throw v.alternate===null?Error(c(467)):Error(c(310));_=r,r={memoizedState:_.memoizedState,baseState:_.baseState,baseQueue:_.baseQueue,queue:_.queue,next:null},A===null?v.memoizedState=A=r:A=A.next=r}return A}var pe;pe=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Le(r){var s=V;return V+=1,j===null&&(j=[]),r=af(j,r,s),s=v,(A===null?s.memoizedState:A.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?Fs:bo),r}function jn(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Le(r);if(r.$$typeof===W)return er(r)}throw Error(c(438,String(r)))}function si(r){var s=null,h=v.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var g=v.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=pe(),v.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(r),g=0;g<r;g++)h[g]=Ut;return s.index++,h}function Fr(r,s){return typeof s=="function"?s(r):s}function Io(r){var s=ue();return Us(s,_,r)}function Us(r,s,h){var g=r.queue;if(g===null)throw Error(c(311));g.lastRenderedReducer=h;var E=r.baseQueue,w=g.pending;if(w!==null){if(E!==null){var M=E.next;E.next=w.next,w.next=M}s.baseQueue=E=w,g.pending=null}if(w=r.baseState,E===null)r.memoizedState=w;else{s=E.next;var k=M=null,q=null,rt=s,yt=!1;do{var Ct=rt.lane&-536870913;if(Ct!==rt.lane?(be&Ct)===Ct:(p&Ct)===Ct){var dt=rt.revertLane;if(dt===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Ct===tr&&(yt=!0);else if((p&dt)===dt){rt=rt.next,dt===tr&&(yt=!0);continue}else Ct={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},q===null?(k=q=Ct,M=w):q=q.next=Ct,v.lanes|=dt,ko|=dt;Ct=rt.action,O&&h(w,Ct),w=rt.hasEagerState?rt.eagerState:h(w,Ct)}else dt={lane:Ct,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},q===null?(k=q=dt,M=w):q=q.next=dt,v.lanes|=Ct,ko|=Ct;rt=rt.next}while(rt!==null&&rt!==s);if(q===null?M=w:q.next=k,!lr(w,r.memoizedState)&&(Bn=!0,yt&&(h=hr,h!==null)))throw h;r.memoizedState=w,r.baseState=M,r.baseQueue=q,g.lastRenderedState=w}return E===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function fd(r){var s=ue(),h=s.queue;if(h===null)throw Error(c(311));h.lastRenderedReducer=r;var g=h.dispatch,E=h.pending,w=s.memoizedState;if(E!==null){h.pending=null;var M=E=E.next;do w=r(w,M.action),M=M.next;while(M!==E);lr(w,s.memoizedState)||(Bn=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),h.lastRenderedState=w}return[w,g]}function Lp(r,s,h){var g=v,E=ue(),w=jt;if(w){if(h===void 0)throw Error(c(407));h=h()}else h=s();var M=!lr((_||E).memoizedState,h);if(M&&(E.memoizedState=h,Bn=!0),E=E.queue,pd(Vp.bind(null,g,E,r),[r]),E.getSnapshot!==s||M||A!==null&&A.memoizedState.tag&1){if(g.flags|=2048,Tu(9,kp.bind(null,g,E,h,s),{destroy:void 0},null),ze===null)throw Error(c(349));w||(p&60)!==0||Bp(g,s,h)}return h}function Bp(r,s,h){r.flags|=16384,r={getSnapshot:s,value:h},s=v.updateQueue,s===null?(s=pe(),v.updateQueue=s,s.stores=[r]):(h=s.stores,h===null?s.stores=[r]:h.push(r))}function kp(r,s,h,g){s.value=h,s.getSnapshot=g,Up(s)&&Fp(r)}function Vp(r,s,h){return h(function(){Up(s)&&Fp(r)})}function Up(r){var s=r.getSnapshot;r=r.value;try{var h=s();return!lr(r,h)}catch{return!0}}function Fp(r){var s=ra(r,2);s!==null&&dr(s,r,2)}function hd(r){var s=Lt();if(typeof r=="function"){var h=r;if(r=h(),O){Ve(!0);try{h()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:r},s}function Hp(r,s,h,g){return r.baseState=h,Us(r,_,typeof g=="function"?g:Fr)}function KE(r,s,h,g,E){if(df(r))throw Error(c(485));if(r=s.action,r!==null){var w={payload:E,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};z.T!==null?h(!0):w.isTransition=!1,g(w),h=s.pending,h===null?(w.next=s.pending=w,zp(s,w)):(w.next=h.next,s.pending=h.next=w)}}function zp(r,s){var h=s.action,g=s.payload,E=r.state;if(s.isTransition){var w=z.T,M={};z.T=M;try{var k=h(E,g),q=z.S;q!==null&&q(M,k),Gp(r,s,k)}catch(rt){dd(r,s,rt)}finally{z.T=w}}else try{w=h(E,g),Gp(r,s,w)}catch(rt){dd(r,s,rt)}}function Gp(r,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){jp(r,s,g)},function(g){return dd(r,s,g)}):jp(r,s,h)}function jp(r,s,h){s.status="fulfilled",s.value=h,qp(s),r.state=h,s=r.pending,s!==null&&(h=s.next,h===s?r.pending=null:(h=h.next,s.next=h,zp(r,h)))}function dd(r,s,h){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=h,qp(s),s=s.next;while(s!==g)}r.action=null}function qp(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Xp(r,s){return s}function Yp(r,s){if(jt){var h=ze.formState;if(h!==null){t:{var g=v;if(jt){if(Rn){e:{for(var E=Rn,w=ai;E.nodeType!==8;){if(!w){E=null;break e}if(E=Bi(E.nextSibling),E===null){E=null;break e}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){Rn=Bi(E.nextSibling),g=E.data==="F!";break t}}oa(g)}g=!1}g&&(s=h[0])}}return h=Lt(),h.memoizedState=h.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:s},h.queue=g,h=fg.bind(null,v,g),g.dispatch=h,g=hd(!1),w=_d.bind(null,v,!1,g.queue),g=Lt(),E={state:s,dispatch:null,action:r,pending:null},g.queue=E,h=KE.bind(null,v,E,w,h),E.dispatch=h,g.memoizedState=r,[s,h,!1]}function Kp(r){var s=ue();return Wp(s,_,r)}function Wp(r,s,h){s=Us(r,s,Xp)[0],r=Io(Fr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Le(s):s;var g=ue(),E=g.queue,w=E.dispatch;return h!==g.memoizedState&&(v.flags|=2048,Tu(9,WE.bind(null,E,h),{destroy:void 0},null)),[s,w,r]}function WE(r,s){r.action=s}function Qp(r){var s=ue(),h=_;if(h!==null)return Wp(s,h,r);ue(),s=s.memoizedState,h=ue();var g=h.queue.dispatch;return h.memoizedState=r,[s,g,!1]}function Tu(r,s,h,g){return r={tag:r,create:s,inst:h,deps:g,next:null},s=v.updateQueue,s===null&&(s=pe(),v.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=r.next=r:(g=h.next,h.next=r,r.next=g,s.lastEffect=r),r}function $p(){return ue().memoizedState}function ff(r,s,h,g){var E=Lt();v.flags|=r,E.memoizedState=Tu(1|s,h,{destroy:void 0},g===void 0?null:g)}function hf(r,s,h,g){var E=ue();g=g===void 0?null:g;var w=E.memoizedState.inst;_!==null&&g!==null&&J(g,_.memoizedState.deps)?E.memoizedState=Tu(s,h,w,g):(v.flags|=r,E.memoizedState=Tu(1|s,h,w,g))}function Zp(r,s){ff(8390656,8,r,s)}function pd(r,s){hf(2048,8,r,s)}function Jp(r,s){return hf(4,2,r,s)}function tg(r,s){return hf(4,4,r,s)}function eg(r,s){if(typeof s=="function"){r=r();var h=s(r);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ng(r,s,h){h=h!=null?h.concat([r]):null,hf(4,4,eg.bind(null,s,r),h)}function gd(){}function rg(r,s){var h=ue();s=s===void 0?null:s;var g=h.memoizedState;return s!==null&&J(s,g[1])?g[0]:(h.memoizedState=[r,s],r)}function ig(r,s){var h=ue();s=s===void 0?null:s;var g=h.memoizedState;if(s!==null&&J(s,g[1]))return g[0];if(g=r(),O){Ve(!0);try{r()}finally{Ve(!1)}}return h.memoizedState=[g,s],g}function vd(r,s,h){return h===void 0||(p&1073741824)!==0?r.memoizedState=s:(r.memoizedState=h,r=ov(),v.lanes|=r,ko|=r,h)}function ag(r,s,h,g){return lr(h,s)?h:Ha.current!==null?(r=vd(r,h,g),lr(r,s)||(Bn=!0),r):(p&42)===0?(Bn=!0,r.memoizedState=h):(r=ov(),v.lanes|=r,ko|=r,s)}function og(r,s,h,g,E){var w=et.p;et.p=w!==0&&8>w?w:8;var M=z.T,k={};z.T=k,_d(r,!1,s,h);try{var q=E(),rt=z.S;if(rt!==null&&rt(k,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var yt=i(q,g);bl(r,s,yt,jr(r))}else bl(r,s,g,jr(r))}catch(Ct){bl(r,s,{then:function(){},status:"rejected",reason:Ct},jr())}finally{et.p=w,z.T=M}}function QE(){}function md(r,s,h,g){if(r.tag!==5)throw Error(c(476));var E=sg(r).queue;og(r,E,s,se,h===null?QE:function(){return ug(r),h(g)})}function sg(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:se},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:h},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function ug(r){var s=sg(r).next.queue;bl(r,s,{},jr())}function yd(){return er(Kl)}function lg(){return ue().memoizedState}function cg(){return ue().memoizedState}function $E(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var h=jr();r=Do(h);var g=No(s,r,h);g!==null&&(dr(g,s,h),Dl(g,s,h)),s={cache:Cl()},r.payload=s;return}s=s.return}}function ZE(r,s,h){var g=jr();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},df(r)?hg(s,h):(h=ii(r,s,h,g),h!==null&&(dr(h,r,g),dg(h,s,g)))}function fg(r,s,h){var g=jr();bl(r,s,h,g)}function bl(r,s,h,g){var E={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(df(r))hg(s,E);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var M=s.lastRenderedState,k=w(M,h);if(E.hasEagerState=!0,E.eagerState=k,lr(k,M))return ka(r,s,E,0),ze===null&&bs(),!1}catch{}finally{}if(h=ii(r,s,E,g),h!==null)return dr(h,r,g),dg(h,s,g),!0}return!1}function _d(r,s,h,g){if(g={lane:2,revertLane:u0(),action:g,hasEagerState:!1,eagerState:null,next:null},df(r)){if(s)throw Error(c(479))}else s=ii(r,h,g,2),s!==null&&dr(s,r,2)}function df(r){var s=r.alternate;return r===v||s!==null&&s===v}function hg(r,s){b=I=!0;var h=r.pending;h===null?s.next=s:(s.next=h.next,h.next=s),r.pending=s}function dg(r,s,h){if((h&4194176)!==0){var g=s.lanes;g&=r.pendingLanes,h|=g,s.lanes=h,qi(r,h)}}var la={readContext:er,use:jn,useCallback:Z,useContext:Z,useEffect:Z,useImperativeHandle:Z,useLayoutEffect:Z,useInsertionEffect:Z,useMemo:Z,useReducer:Z,useRef:Z,useState:Z,useDebugValue:Z,useDeferredValue:Z,useTransition:Z,useSyncExternalStore:Z,useId:Z};la.useCacheRefresh=Z,la.useMemoCache=Z,la.useHostTransitionStatus=Z,la.useFormState=Z,la.useActionState=Z,la.useOptimistic=Z;var Fs={readContext:er,use:jn,useCallback:function(r,s){return Lt().memoizedState=[r,s===void 0?null:s],r},useContext:er,useEffect:Zp,useImperativeHandle:function(r,s,h){h=h!=null?h.concat([r]):null,ff(4194308,4,eg.bind(null,s,r),h)},useLayoutEffect:function(r,s){return ff(4194308,4,r,s)},useInsertionEffect:function(r,s){ff(4,2,r,s)},useMemo:function(r,s){var h=Lt();s=s===void 0?null:s;var g=r();if(O){Ve(!0);try{r()}finally{Ve(!1)}}return h.memoizedState=[g,s],g},useReducer:function(r,s,h){var g=Lt();if(h!==void 0){var E=h(s);if(O){Ve(!0);try{h(s)}finally{Ve(!1)}}}else E=s;return g.memoizedState=g.baseState=E,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:E},g.queue=r,r=r.dispatch=ZE.bind(null,v,r),[g.memoizedState,r]},useRef:function(r){var s=Lt();return r={current:r},s.memoizedState=r},useState:function(r){r=hd(r);var s=r.queue,h=fg.bind(null,v,s);return s.dispatch=h,[r.memoizedState,h]},useDebugValue:gd,useDeferredValue:function(r,s){var h=Lt();return vd(h,r,s)},useTransition:function(){var r=hd(!1);return r=og.bind(null,v,r.queue,!0,!1),Lt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,h){var g=v,E=Lt();if(jt){if(h===void 0)throw Error(c(407));h=h()}else{if(h=s(),ze===null)throw Error(c(349));(be&60)!==0||Bp(g,s,h)}E.memoizedState=h;var w={value:h,getSnapshot:s};return E.queue=w,Zp(Vp.bind(null,g,w,r),[r]),g.flags|=2048,Tu(9,kp.bind(null,g,w,h,s),{destroy:void 0},null),h},useId:function(){var r=Lt(),s=ze.identifierPrefix;if(jt){var h=un,g=Ur;h=(g&~(1<<32-Nn(g)-1)).toString(32)+h,s=":"+s+"R"+h,h=D++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=nt++,s=":"+s+"r"+h.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Lt().memoizedState=$E.bind(null,v)}};Fs.useMemoCache=si,Fs.useHostTransitionStatus=yd,Fs.useFormState=Yp,Fs.useActionState=Yp,Fs.useOptimistic=function(r){var s=Lt();s.memoizedState=s.baseState=r;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=_d.bind(null,v,!0,h),h.dispatch=s,[r,s]};var bo={readContext:er,use:jn,useCallback:rg,useContext:er,useEffect:pd,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:tg,useMemo:ig,useReducer:Io,useRef:$p,useState:function(){return Io(Fr)},useDebugValue:gd,useDeferredValue:function(r,s){var h=ue();return ag(h,_.memoizedState,r,s)},useTransition:function(){var r=Io(Fr)[0],s=ue().memoizedState;return[typeof r=="boolean"?r:Le(r),s]},useSyncExternalStore:Lp,useId:lg};bo.useCacheRefresh=cg,bo.useMemoCache=si,bo.useHostTransitionStatus=yd,bo.useFormState=Kp,bo.useActionState=Kp,bo.useOptimistic=function(r,s){var h=ue();return Hp(h,_,r,s)};var Hs={readContext:er,use:jn,useCallback:rg,useContext:er,useEffect:pd,useImperativeHandle:ng,useInsertionEffect:Jp,useLayoutEffect:tg,useMemo:ig,useReducer:fd,useRef:$p,useState:function(){return fd(Fr)},useDebugValue:gd,useDeferredValue:function(r,s){var h=ue();return _===null?vd(h,r,s):ag(h,_.memoizedState,r,s)},useTransition:function(){var r=fd(Fr)[0],s=ue().memoizedState;return[typeof r=="boolean"?r:Le(r),s]},useSyncExternalStore:Lp,useId:lg};Hs.useCacheRefresh=cg,Hs.useMemoCache=si,Hs.useHostTransitionStatus=yd,Hs.useFormState=Qp,Hs.useActionState=Qp,Hs.useOptimistic=function(r,s){var h=ue();return _!==null?Hp(h,_,r,s):(h.baseState=r,[r,h.queue.dispatch])};function Ed(r,s,h,g){s=r.memoizedState,h=h(g,s),h=h==null?s:X({},s,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var xd={isMounted:function(r){return(r=r._reactInternals)?zt(r)===r:!1},enqueueSetState:function(r,s,h){r=r._reactInternals;var g=jr(),E=Do(g);E.payload=s,h!=null&&(E.callback=h),s=No(r,E,g),s!==null&&(dr(s,r,g),Dl(s,r,g))},enqueueReplaceState:function(r,s,h){r=r._reactInternals;var g=jr(),E=Do(g);E.tag=1,E.payload=s,h!=null&&(E.callback=h),s=No(r,E,g),s!==null&&(dr(s,r,g),Dl(s,r,g))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var h=jr(),g=Do(h);g.tag=2,s!=null&&(g.callback=s),s=No(r,g,h),s!==null&&(dr(s,r,h),Dl(s,r,h))}};function pg(r,s,h,g,E,w,M){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,w,M):s.prototype&&s.prototype.isPureReactComponent?!Br(h,g)||!Br(E,w):!0}function gg(r,s,h,g){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,g),s.state!==r&&xd.enqueueReplaceState(s,s.state,null)}function zs(r,s){var h=s;if("ref"in s){h={};for(var g in s)g!=="ref"&&(h[g]=s[g])}if(r=r.defaultProps){h===s&&(h=X({},h));for(var E in r)h[E]===void 0&&(h[E]=r[E])}return h}var pf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function vg(r){pf(r)}function mg(r){console.error(r)}function yg(r){pf(r)}function gf(r,s){try{var h=r.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function _g(r,s,h){try{var g=r.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Ad(r,s,h){return h=Do(h),h.tag=3,h.payload={element:null},h.callback=function(){gf(r,s)},h}function Eg(r){return r=Do(r),r.tag=3,r}function xg(r,s,h,g){var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var w=g.value;r.payload=function(){return E(w)},r.callback=function(){_g(s,h,g)}}var M=h.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(r.callback=function(){_g(s,h,g),typeof E!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var k=g.stack;this.componentDidCatch(g.value,{componentStack:k!==null?k:""})})}function JE(r,s,h,g,E){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=h.alternate,s!==null&&Ol(s,h,E,!0),h=Gn.current,h!==null){switch(h.tag){case 13:return oi===null?r0():h.alternate===null&&cn===0&&(cn=3),h.flags&=-257,h.flags|=65536,h.lanes=E,g===Ps?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([g]):s.add(g),a0(r,g,E)),!1;case 22:return h.flags|=65536,g===Ps?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([g]):h.add(g)),a0(r,g,E)),!1}throw Error(c(435,h.tag))}return a0(r,g,E),r0(),!1}if(jt)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=E,g!==Eu&&(r=Error(c(422),{cause:g}),So(Hn(r,h)))):(g!==Eu&&(s=Error(c(423),{cause:g}),So(Hn(s,h))),r=r.current.alternate,r.flags|=65536,E&=-E,r.lanes|=E,g=Hn(g,h),E=Ad(r.stateNode,g,E),kd(r,E),cn!==4&&(cn=2)),!1;var w=Error(c(520),{cause:g});if(w=Hn(w,h),Ul===null?Ul=[w]:Ul.push(w),cn!==4&&(cn=2),s===null)return!0;g=Hn(g,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,r=E&-E,h.lanes|=r,r=Ad(h.stateNode,g,r),kd(h,r),!1;case 1:if(s=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vo===null||!Vo.has(w))))return h.flags|=65536,E&=-E,h.lanes|=E,E=Eg(E),xg(E,r,h,g),kd(h,E),!1}h=h.return}while(h!==null);return!1}var Ag=Error(c(461)),Bn=!1;function qn(r,s,h,g){s.child=r===null?uf(s,null,h,g):Fa(s,r.child,h,g)}function wg(r,s,h,g,E){h=h.render;var w=s.ref;if("ref"in g){var M={};for(var k in g)k!=="ref"&&(M[k]=g[k])}else M=g;return js(s),g=ht(r,s,h,M,w,E),k=Ot(),r!==null&&!Bn?(Ht(r,s,E),za(r,s,E)):(jt&&k&&wl(s),s.flags|=1,qn(r,s,g,E),s.child)}function Tg(r,s,h,g,E){if(r===null){var w=h.type;return typeof w=="function"&&!qd(w)&&w.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=w,Sg(r,s,w,g,E)):(r=Ef(h.type,null,g,s,s.mode,E),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,!Dd(r,E)){var M=w.memoizedProps;if(h=h.compare,h=h!==null?h:Br,h(M,g)&&r.ref===s.ref)return za(r,s,E)}return s.flags|=1,r=Bo(w,g),r.ref=s.ref,r.return=s,s.child=r}function Sg(r,s,h,g,E){if(r!==null){var w=r.memoizedProps;if(Br(w,g)&&r.ref===s.ref)if(Bn=!1,s.pendingProps=g=w,Dd(r,E))(r.flags&131072)!==0&&(Bn=!0);else return s.lanes=r.lanes,za(r,s,E)}return wd(r,s,h,g,E)}function Cg(r,s,h){var g=s.pendingProps,E=g.children,w=(s.stateNode._pendingVisibility&2)!==0,M=r!==null?r.memoizedState:null;if(Rl(r,s),g.mode==="hidden"||w){if((s.flags&128)!==0){if(g=M!==null?M.baseLanes|h:h,r!==null){for(E=s.child=r.child,w=0;E!==null;)w=w|E.lanes|E.childLanes,E=E.sibling;s.childLanes=w&~g}else s.childLanes=0,s.child=null;return Ig(r,s,g,h)}if((h&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&u(s,M!==null?M.cachePool:null),M!==null?lf(s,M):Sl(),Ni(s);else return s.lanes=s.childLanes=536870912,Ig(r,s,M!==null?M.baseLanes|h:h,h)}else M!==null?(u(s,M.cachePool),lf(s,M),Mi(),s.memoizedState=null):(r!==null&&u(s,null),Sl(),Mi());return qn(r,s,E,h),s.child}function Ig(r,s,h,g){var E=o();return E=E===null?null:{parent:gn._currentValue,pool:E},s.memoizedState={baseLanes:h,cachePool:E},r!==null&&u(s,null),Sl(),Ni(s),r!==null&&Ol(r,s,g,!0),null}function Rl(r,s){var h=s.ref;if(h===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(c(284));(r===null||r.ref!==h)&&(s.flags|=2097664)}}function wd(r,s,h,g,E){return js(s),h=ht(r,s,h,g,void 0,E),g=Ot(),r!==null&&!Bn?(Ht(r,s,E),za(r,s,E)):(jt&&g&&wl(s),s.flags|=1,qn(r,s,h,E),s.child)}function bg(r,s,h,g,E,w){return js(s),s.updateQueue=null,h=St(s,g,h,E),gt(r),g=Ot(),r!==null&&!Bn?(Ht(r,s,w),za(r,s,w)):(jt&&g&&wl(s),s.flags|=1,qn(r,s,h,w),s.child)}function Rg(r,s,h,g,E){if(js(s),s.stateNode===null){var w=Ao,M=h.contextType;typeof M=="object"&&M!==null&&(w=er(M)),w=new h(g,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=xd,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=g,w.state=s.memoizedState,w.refs={},Ld(s),M=h.contextType,w.context=typeof M=="object"&&M!==null?er(M):Ao,w.state=s.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(Ed(s,h,M,g),w.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&xd.enqueueReplaceState(w,w.state,null),Ml(s,g,w,E),Nl(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(r===null){w=s.stateNode;var k=s.memoizedProps,q=zs(h,k);w.props=q;var rt=w.context,yt=h.contextType;M=Ao,typeof yt=="object"&&yt!==null&&(M=er(yt));var Ct=h.getDerivedStateFromProps;yt=typeof Ct=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,yt||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||rt!==M)&&gg(s,w,g,M),Oo=!1;var dt=s.memoizedState;w.state=dt,Ml(s,g,w,E),Nl(),rt=s.memoizedState,k||dt!==rt||Oo?(typeof Ct=="function"&&(Ed(s,h,Ct,g),rt=s.memoizedState),(q=Oo||pg(s,h,q,g,dt,rt,M))?(yt||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=rt),w.props=g,w.state=rt,w.context=M,g=q):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{w=s.stateNode,Bd(r,s),M=s.memoizedProps,yt=zs(h,M),w.props=yt,Ct=s.pendingProps,dt=w.context,rt=h.contextType,q=Ao,typeof rt=="object"&&rt!==null&&(q=er(rt)),k=h.getDerivedStateFromProps,(rt=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==Ct||dt!==q)&&gg(s,w,g,q),Oo=!1,dt=s.memoizedState,w.state=dt,Ml(s,g,w,E),Nl();var vt=s.memoizedState;M!==Ct||dt!==vt||Oo||r!==null&&r.dependencies!==null&&vf(r.dependencies)?(typeof k=="function"&&(Ed(s,h,k,g),vt=s.memoizedState),(yt=Oo||pg(s,h,yt,g,dt,vt,q)||r!==null&&r.dependencies!==null&&vf(r.dependencies))?(rt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,vt,q),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,vt,q)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===r.memoizedProps&&dt===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&dt===r.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=vt),w.props=g,w.state=vt,w.context=q,g=yt):(typeof w.componentDidUpdate!="function"||M===r.memoizedProps&&dt===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&dt===r.memoizedState||(s.flags|=1024),g=!1)}return w=g,Rl(r,s),g=(s.flags&128)!==0,w||g?(w=s.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,r!==null&&g?(s.child=Fa(s,r.child,null,E),s.child=Fa(s,null,h,E)):qn(r,s,h,E),s.memoizedState=w.state,r=s.child):r=za(r,s,E),r}function Og(r,s,h,g){return Ns(),s.flags|=256,qn(r,s,h,g),s.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function Sd(r){return{baseLanes:r,cachePool:f()}}function Cd(r,s,h){return r=r!==null?r.childLanes&~h:0,s&&(r|=fi),r}function Dg(r,s,h){var g=s.pendingProps,E=!1,w=(s.flags&128)!==0,M;if((M=w)||(M=r!==null&&r.memoizedState===null?!1:(pn.current&2)!==0),M&&(E=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,r===null){if(jt){if(E?ua(s):Mi(),jt){var k=Rn,q;if(q=k){t:{for(q=k,k=ai;q.nodeType!==8;){if(!k){k=null;break t}if(q=Bi(q.nextSibling),q===null){k=null;break t}}k=q}k!==null?(s.memoizedState={dehydrated:k,treeContext:Ua!==null?{id:Ur,overflow:un}:null,retryLane:536870912},q=ci(18,null,null,0),q.stateNode=k,q.return=s,s.child=q,bn=s,Rn=null,q=!0):q=!1}q||oa(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?s.lanes=16:s.lanes=536870912,null;Pi(s)}return k=g.children,g=g.fallback,E?(Mi(),E=s.mode,k=bd({mode:"hidden",children:k},E),g=Xs(g,E,h,null),k.return=s,g.return=s,k.sibling=g,s.child=k,E=s.child,E.memoizedState=Sd(h),E.childLanes=Cd(r,M,h),s.memoizedState=Td,g):(ua(s),Id(s,k))}if(q=r.memoizedState,q!==null&&(k=q.dehydrated,k!==null)){if(w)s.flags&256?(ua(s),s.flags&=-257,s=Rd(r,s,h)):s.memoizedState!==null?(Mi(),s.child=r.child,s.flags|=128,s=null):(Mi(),E=g.fallback,k=s.mode,g=bd({mode:"visible",children:g.children},k),E=Xs(E,k,h,null),E.flags|=2,g.return=s,E.return=s,g.sibling=E,s.child=g,Fa(s,r.child,null,h),g=s.child,g.memoizedState=Sd(h),g.childLanes=Cd(r,M,h),s.memoizedState=Td,s=E);else if(ua(s),k.data==="$!"){if(M=k.nextSibling&&k.nextSibling.dataset,M)var rt=M.dgst;M=rt,g=Error(c(419)),g.stack="",g.digest=M,So({value:g,source:null,stack:null}),s=Rd(r,s,h)}else if(Bn||Ol(r,s,h,!1),M=(h&r.childLanes)!==0,Bn||M){if(M=ze,M!==null){if(g=h&-h,(g&42)!==0)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=(g&(M.suspendedLanes|h))!==0?0:g,g!==0&&g!==q.retryLane)throw q.retryLane=g,ra(r,g),dr(M,r,g),Ag}k.data==="$?"||r0(),s=Rd(r,s,h)}else k.data==="$?"?(s.flags|=128,s.child=r.child,s=px.bind(null,r),k._reactRetry=s,s=null):(r=q.treeContext,Rn=Bi(k.nextSibling),bn=s,jt=!0,Cr=null,ai=!1,r!==null&&(Tr[Sr++]=Ur,Tr[Sr++]=un,Tr[Sr++]=Ua,Ur=r.id,un=r.overflow,Ua=s),s=Id(s,g.children),s.flags|=4096);return s}return E?(Mi(),E=g.fallback,k=s.mode,q=r.child,rt=q.sibling,g=Bo(q,{mode:"hidden",children:g.children}),g.subtreeFlags=q.subtreeFlags&31457280,rt!==null?E=Bo(rt,E):(E=Xs(E,k,h,null),E.flags|=2),E.return=s,g.return=s,g.sibling=E,s.child=g,g=E,E=s.child,k=r.child.memoizedState,k===null?k=Sd(h):(q=k.cachePool,q!==null?(rt=gn._currentValue,q=q.parent!==rt?{parent:rt,pool:rt}:q):q=f(),k={baseLanes:k.baseLanes|h,cachePool:q}),E.memoizedState=k,E.childLanes=Cd(r,M,h),s.memoizedState=Td,g):(ua(s),h=r.child,r=h.sibling,h=Bo(h,{mode:"visible",children:g.children}),h.return=s,h.sibling=null,r!==null&&(M=s.deletions,M===null?(s.deletions=[r],s.flags|=16):M.push(r)),s.child=h,s.memoizedState=null,h)}function Id(r,s){return s=bd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function bd(r,s){return rv(r,s,0,null)}function Rd(r,s,h){return Fa(s,r.child,null,h),r=Id(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ng(r,s,h){r.lanes|=s;var g=r.alternate;g!==null&&(g.lanes|=s),Md(r.return,s,h)}function Od(r,s,h,g,E){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:E}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=h,w.tailMode=E)}function Mg(r,s,h){var g=s.pendingProps,E=g.revealOrder,w=g.tail;if(qn(r,s,g.children,h),g=pn.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ng(r,h,s);else if(r.tag===19)Ng(r,h,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}switch(Me(pn,g),E){case"forwards":for(h=s.child,E=null;h!==null;)r=h.alternate,r!==null&&He(r)===null&&(E=h),h=h.sibling;h=E,h===null?(E=s.child,s.child=null):(E=h.sibling,h.sibling=null),Od(s,!1,E,h,w);break;case"backwards":for(h=null,E=s.child,s.child=null;E!==null;){if(r=E.alternate,r!==null&&He(r)===null){s.child=E;break}r=E.sibling,E.sibling=h,h=E,E=r}Od(s,!0,h,null,w);break;case"together":Od(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function za(r,s,h){if(r!==null&&(s.dependencies=r.dependencies),ko|=s.lanes,(h&s.childLanes)===0)if(r!==null){if(Ol(r,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(c(153));if(s.child!==null){for(r=s.child,h=Bo(r,r.pendingProps),s.child=h,h.return=s;r.sibling!==null;)r=r.sibling,h=h.sibling=Bo(r,r.pendingProps),h.return=s;h.sibling=null}return s.child}function Dd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&vf(r)))}function tx(r,s,h){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),Ro(s,gn,r.memoizedState.cache),Ns();break;case 27:case 5:cs(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:Ro(s,s.type,s.memoizedProps.value);break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(ua(s),s.flags|=128,null):(h&s.child.childLanes)!==0?Dg(r,s,h):(ua(s),r=za(r,s,h),r!==null?r.sibling:null);ua(s);break;case 19:var E=(r.flags&128)!==0;if(g=(h&s.childLanes)!==0,g||(Ol(r,s,h,!1),g=(h&s.childLanes)!==0),E){if(g)return Mg(r,s,h);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Me(pn,pn.current),g)break;return null;case 22:case 23:return s.lanes=0,Cg(r,s,h);case 24:Ro(s,gn,r.memoizedState.cache)}return za(r,s,h)}function Pg(r,s,h){if(r!==null)if(r.memoizedProps!==s.pendingProps)Bn=!0;else{if(!Dd(r,h)&&(s.flags&128)===0)return Bn=!1,tx(r,s,h);Bn=(r.flags&131072)!==0}else Bn=!1,jt&&(s.flags&1048576)!==0&&To(s,Os,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var g=s.elementType,E=g._init;if(g=E(g._payload),s.type=g,typeof g=="function")qd(g)?(r=zs(g,r),s.tag=1,s=Rg(null,s,g,r,h)):(s.tag=0,s=wd(null,s,g,r,h));else{if(g!=null){if(E=g.$$typeof,E===Y){s.tag=11,s=wg(null,s,g,r,h);break t}else if(E===it){s.tag=14,s=Tg(null,s,g,r,h);break t}}throw s=G(g)||g,Error(c(306,s,""))}}return s;case 0:return wd(r,s,s.type,s.pendingProps,h);case 1:return g=s.type,E=zs(g,s.pendingProps),Rg(r,s,g,E,h);case 3:t:{if(Ye(s,s.stateNode.containerInfo),r===null)throw Error(c(387));var w=s.pendingProps;E=s.memoizedState,g=E.element,Bd(r,s),Ml(s,w,null,h);var M=s.memoizedState;if(w=M.cache,Ro(s,gn,w),w!==E.cache&&Pd(s,[gn],h,!0),Nl(),w=M.element,E.isDehydrated)if(E={element:w,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=Og(r,s,w,h);break t}else if(w!==g){g=Hn(Error(c(424)),s),So(g),s=Og(r,s,w,h);break t}else for(Rn=Bi(s.stateNode.containerInfo.firstChild),bn=s,jt=!0,Cr=null,ai=!0,h=uf(s,null,w,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ns(),w===g){s=za(r,s,h);break t}qn(r,s,w,h)}s=s.child}return s;case 26:return Rl(r,s),r===null?(h=kv(s.type,null,s.pendingProps,null))?s.memoizedState=h:jt||(h=s.type,r=s.pendingProps,g=Nf(gr.current).createElement(h),g[an]=s,g[on]=r,Xn(g,h,r),oe(g),s.stateNode=g):s.memoizedState=kv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return cs(s),r===null&&jt&&(g=s.stateNode=Pv(s.type,s.pendingProps,gr.current),bn=s,ai=!0,Rn=Bi(g.firstChild)),g=s.pendingProps.children,r!==null||jt?qn(r,s,g,h):s.child=Fa(s,null,g,h),Rl(r,s),s.child;case 5:return r===null&&jt&&((E=g=Rn)&&(g=Ox(g,s.type,s.pendingProps,ai),g!==null?(s.stateNode=g,bn=s,Rn=Bi(g.firstChild),ai=!1,E=!0):E=!1),E||oa(s)),cs(s),E=s.type,w=s.pendingProps,M=r!==null?r.memoizedProps:null,g=w.children,m0(E,w)?g=null:M!==null&&m0(E,M)&&(s.flags|=32),s.memoizedState!==null&&(E=ht(r,s,Rt,null,null,h),Kl._currentValue=E),Rl(r,s),qn(r,s,g,h),s.child;case 6:return r===null&&jt&&((r=h=Rn)&&(h=Dx(h,s.pendingProps,ai),h!==null?(s.stateNode=h,bn=s,Rn=null,r=!0):r=!1),r||oa(s)),null;case 13:return Dg(r,s,h);case 4:return Ye(s,s.stateNode.containerInfo),g=s.pendingProps,r===null?s.child=Fa(s,null,g,h):qn(r,s,g,h),s.child;case 11:return wg(r,s,s.type,s.pendingProps,h);case 7:return qn(r,s,s.pendingProps,h),s.child;case 8:return qn(r,s,s.pendingProps.children,h),s.child;case 12:return qn(r,s,s.pendingProps.children,h),s.child;case 10:return g=s.pendingProps,Ro(s,s.type,g.value),qn(r,s,g.children,h),s.child;case 9:return E=s.type._context,g=s.pendingProps.children,js(s),E=er(E),g=g(E),s.flags|=1,qn(r,s,g,h),s.child;case 14:return Tg(r,s,s.type,s.pendingProps,h);case 15:return Sg(r,s,s.type,s.pendingProps,h);case 19:return Mg(r,s,h);case 22:return Cg(r,s,h);case 24:return js(s),g=er(gn),r===null?(E=o(),E===null&&(E=ze,w=Cl(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=h),E=w),s.memoizedState={parent:g,cache:E},Ld(s),Ro(s,gn,E)):((r.lanes&h)!==0&&(Bd(r,s),Ml(s,null,null,h),Nl()),E=r.memoizedState,w=s.memoizedState,E.parent!==g?(E={parent:g,cache:g},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),Ro(s,gn,g)):(g=w.cache,Ro(s,gn,g),g!==E.cache&&Pd(s,[gn],h,!0))),qn(r,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(c(156,s.tag))}var Nd=we(null),Gs=null,Ga=null;function Ro(r,s,h){Me(Nd,s._currentValue),s._currentValue=h}function ja(r){r._currentValue=Nd.current,Be(Nd)}function Md(r,s,h){for(;r!==null;){var g=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),r===h)break;r=r.return}}function Pd(r,s,h,g){var E=r.child;for(E!==null&&(E.return=r);E!==null;){var w=E.dependencies;if(w!==null){var M=E.child;w=w.firstContext;t:for(;w!==null;){var k=w;w=E;for(var q=0;q<s.length;q++)if(k.context===s[q]){w.lanes|=h,k=w.alternate,k!==null&&(k.lanes|=h),Md(w.return,h,r),g||(M=null);break t}w=k.next}}else if(E.tag===18){if(M=E.return,M===null)throw Error(c(341));M.lanes|=h,w=M.alternate,w!==null&&(w.lanes|=h),Md(M,h,r),M=null}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===r){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}}function Ol(r,s,h,g){r=null;for(var E=s,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var M=E.alternate;if(M===null)throw Error(c(387));if(M=M.memoizedProps,M!==null){var k=E.type;lr(E.pendingProps.value,M.value)||(r!==null?r.push(k):r=[k])}}else if(E===Vi.current){if(M=E.alternate,M===null)throw Error(c(387));M.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(r!==null?r.push(Kl):r=[Kl])}E=E.return}r!==null&&Pd(s,r,h,g),s.flags|=262144}function vf(r){for(r=r.firstContext;r!==null;){if(!lr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function js(r){Gs=r,Ga=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function er(r){return Lg(Gs,r)}function mf(r,s){return Gs===null&&js(r),Lg(r,s)}function Lg(r,s){var h=s._currentValue;if(s={context:s,memoizedValue:h,next:null},Ga===null){if(r===null)throw Error(c(308));Ga=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ga=Ga.next=s;return h}var Oo=!1;function Ld(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Do(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function No(r,s,h){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Je&2)!==0){var E=g.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),g.pending=s,s=ia(r),Zc(r,null,h),s}return ka(r,g,s,h),ia(r)}function Dl(r,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194176)!==0)){var g=s.lanes;g&=r.pendingLanes,h|=g,s.lanes=h,qi(r,h)}}function kd(r,s){var h=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var E=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var M={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?E=w=M:w=w.next=M,h=h.next}while(h!==null);w===null?E=w=s:w=w.next=s}else E=w=s;h={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=s:r.next=s,h.lastBaseUpdate=s}var Vd=!1;function Nl(){if(Vd){var r=hr;if(r!==null)throw r}}function Ml(r,s,h,g){Vd=!1;var E=r.updateQueue;Oo=!1;var w=E.firstBaseUpdate,M=E.lastBaseUpdate,k=E.shared.pending;if(k!==null){E.shared.pending=null;var q=k,rt=q.next;q.next=null,M===null?w=rt:M.next=rt,M=q;var yt=r.alternate;yt!==null&&(yt=yt.updateQueue,k=yt.lastBaseUpdate,k!==M&&(k===null?yt.firstBaseUpdate=rt:k.next=rt,yt.lastBaseUpdate=q))}if(w!==null){var Ct=E.baseState;M=0,yt=rt=q=null,k=w;do{var dt=k.lane&-536870913,vt=dt!==k.lane;if(vt?(be&dt)===dt:(g&dt)===dt){dt!==0&&dt===tr&&(Vd=!0),yt!==null&&(yt=yt.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});t:{var Gt=r,re=k;dt=s;var fn=h;switch(re.tag){case 1:if(Gt=re.payload,typeof Gt=="function"){Ct=Gt.call(fn,Ct,dt);break t}Ct=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=re.payload,dt=typeof Gt=="function"?Gt.call(fn,Ct,dt):Gt,dt==null)break t;Ct=X({},Ct,dt);break t;case 2:Oo=!0}}dt=k.callback,dt!==null&&(r.flags|=64,vt&&(r.flags|=8192),vt=E.callbacks,vt===null?E.callbacks=[dt]:vt.push(dt))}else vt={lane:dt,tag:k.tag,payload:k.payload,callback:k.callback,next:null},yt===null?(rt=yt=vt,q=Ct):yt=yt.next=vt,M|=dt;if(k=k.next,k===null){if(k=E.shared.pending,k===null)break;vt=k,k=vt.next,vt.next=null,E.lastBaseUpdate=vt,E.shared.pending=null}}while(!0);yt===null&&(q=Ct),E.baseState=q,E.firstBaseUpdate=rt,E.lastBaseUpdate=yt,w===null&&(E.shared.lanes=0),ko|=M,r.lanes=M,r.memoizedState=Ct}}function Bg(r,s){if(typeof r!="function")throw Error(c(191,r));r.call(s)}function kg(r,s){var h=r.callbacks;if(h!==null)for(r.callbacks=null,r=0;r<h.length;r++)Bg(h[r],s)}function Pl(r,s){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var E=g.next;h=E;do{if((h.tag&r)===r){g=void 0;var w=h.create,M=h.inst;g=w(),M.destroy=g}h=h.next}while(h!==E)}}catch(k){Fe(s,s.return,k)}}function Mo(r,s,h){try{var g=s.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var w=E.next;g=w;do{if((g.tag&r)===r){var M=g.inst,k=M.destroy;if(k!==void 0){M.destroy=void 0,E=s;var q=h;try{k()}catch(rt){Fe(E,q,rt)}}}g=g.next}while(g!==w)}}catch(rt){Fe(s,s.return,rt)}}function Vg(r){var s=r.updateQueue;if(s!==null){var h=r.stateNode;try{kg(s,h)}catch(g){Fe(r,r.return,g)}}}function Ug(r,s,h){h.props=zs(r.type,r.memoizedProps),h.state=r.memoizedState;try{h.componentWillUnmount()}catch(g){Fe(r,s,g)}}function qs(r,s){try{var h=r.ref;if(h!==null){var g=r.stateNode;switch(r.tag){case 26:case 27:case 5:var E=g;break;default:E=g}typeof h=="function"?r.refCleanup=h(E):h.current=E}}catch(w){Fe(r,s,w)}}function Hr(r,s){var h=r.ref,g=r.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(E){Fe(r,s,E)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(E){Fe(r,s,E)}else h.current=null}function Fg(r){var s=r.type,h=r.memoizedProps,g=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break t;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(E){Fe(r,r.return,E)}}function Hg(r,s,h){try{var g=r.stateNode;Sx(g,r.type,h,s),g[on]=s}catch(E){Fe(r,r.return,E)}}function zg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Ud(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||zg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fd(r,s,h){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?h.nodeType===8?h.parentNode.insertBefore(r,s):h.insertBefore(r,s):(h.nodeType===8?(s=h.parentNode,s.insertBefore(r,h)):(s=h,s.appendChild(r)),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Df));else if(g!==4&&g!==27&&(r=r.child,r!==null))for(Fd(r,s,h),r=r.sibling;r!==null;)Fd(r,s,h),r=r.sibling}function yf(r,s,h){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?h.insertBefore(r,s):h.appendChild(r);else if(g!==4&&g!==27&&(r=r.child,r!==null))for(yf(r,s,h),r=r.sibling;r!==null;)yf(r,s,h),r=r.sibling}var qa=!1,ln=!1,Hd=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,kn=null,jg=!1;function ex(r,s){if(r=r.containerInfo,g0=Vf,r=Gc(r),yl(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else t:{h=(h=r.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var E=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break t}var M=0,k=-1,q=-1,rt=0,yt=0,Ct=r,dt=null;e:for(;;){for(var vt;Ct!==h||E!==0&&Ct.nodeType!==3||(k=M+E),Ct!==w||g!==0&&Ct.nodeType!==3||(q=M+g),Ct.nodeType===3&&(M+=Ct.nodeValue.length),(vt=Ct.firstChild)!==null;)dt=Ct,Ct=vt;for(;;){if(Ct===r)break e;if(dt===h&&++rt===E&&(k=M),dt===w&&++yt===g&&(q=M),(vt=Ct.nextSibling)!==null)break;Ct=dt,dt=Ct.parentNode}Ct=vt}h=k===-1||q===-1?null:{start:k,end:q}}else h=null}h=h||{start:0,end:0}}else h=null;for(v0={focusedElem:r,selectionRange:h},Vf=!1,kn=s;kn!==null;)if(s=kn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,kn=r;else for(;kn!==null;){switch(s=kn,w=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,h=s,E=w.memoizedProps,w=w.memoizedState,g=h.stateNode;try{var Gt=zs(h.type,E,h.elementType===h.type);r=g.getSnapshotBeforeUpdate(Gt,w),g.__reactInternalSnapshotBeforeUpdate=r}catch(re){Fe(h,h.return,re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,h=r.nodeType,h===9)E0(r);else if(h===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":E0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(c(163))}if(r=s.sibling,r!==null){r.return=s.return,kn=r;break}kn=s.return}return Gt=jg,jg=!1,Gt}function qg(r,s,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Ya(r,h),g&4&&Pl(5,h);break;case 1:if(Ya(r,h),g&4)if(r=h.stateNode,s===null)try{r.componentDidMount()}catch(k){Fe(h,h.return,k)}else{var E=zs(h.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(E,s,r.__reactInternalSnapshotBeforeUpdate)}catch(k){Fe(h,h.return,k)}}g&64&&Vg(h),g&512&&qs(h,h.return);break;case 3:if(Ya(r,h),g&64&&(g=h.updateQueue,g!==null)){if(r=null,h.child!==null)switch(h.child.tag){case 27:case 5:r=h.child.stateNode;break;case 1:r=h.child.stateNode}try{kg(g,r)}catch(k){Fe(h,h.return,k)}}break;case 26:Ya(r,h),g&512&&qs(h,h.return);break;case 27:case 5:Ya(r,h),s===null&&g&4&&Fg(h),g&512&&qs(h,h.return);break;case 12:Ya(r,h);break;case 13:Ya(r,h),g&4&&Kg(r,h);break;case 22:if(E=h.memoizedState!==null||qa,!E){s=s!==null&&s.memoizedState!==null||ln;var w=qa,M=ln;qa=E,(ln=s)&&!M?Po(r,h,(h.subtreeFlags&8772)!==0):Ya(r,h),qa=w,ln=M}g&512&&(h.memoizedProps.mode==="manual"?qs(h,h.return):Hr(h,h.return));break;default:Ya(r,h)}}function Xg(r){var s=r.alternate;s!==null&&(r.alternate=null,Xg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Sa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var An=null,zr=!1;function Xa(r,s,h){for(h=h.child;h!==null;)Yg(r,s,h),h=h.sibling}function Yg(r,s,h){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Fi,h)}catch{}switch(h.tag){case 26:ln||Hr(h,s),Xa(r,s,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ln||Hr(h,s);var g=An,E=zr;for(An=h.stateNode,Xa(r,s,h),h=h.stateNode,s=h.attributes;s.length;)h.removeAttributeNode(s[0]);Sa(h),An=g,zr=E;break;case 5:ln||Hr(h,s);case 6:E=An;var w=zr;if(An=null,Xa(r,s,h),An=E,zr=w,An!==null)if(zr)try{r=An,g=h.stateNode,r.nodeType===8?r.parentNode.removeChild(g):r.removeChild(g)}catch(M){Fe(h,s,M)}else try{An.removeChild(h.stateNode)}catch(M){Fe(h,s,M)}break;case 18:An!==null&&(zr?(s=An,h=h.stateNode,s.nodeType===8?_0(s.parentNode,h):s.nodeType===1&&_0(s,h),Zl(s)):_0(An,h.stateNode));break;case 4:g=An,E=zr,An=h.stateNode.containerInfo,zr=!0,Xa(r,s,h),An=g,zr=E;break;case 0:case 11:case 14:case 15:ln||Mo(2,h,s),ln||Mo(4,h,s),Xa(r,s,h);break;case 1:ln||(Hr(h,s),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Ug(h,s,g)),Xa(r,s,h);break;case 21:Xa(r,s,h);break;case 22:ln||Hr(h,s),ln=(g=ln)||h.memoizedState!==null,Xa(r,s,h),ln=g;break;default:Xa(r,s,h)}}function Kg(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Zl(r)}catch(h){Fe(s,s.return,h)}}function nx(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Gg),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Gg),s;default:throw Error(c(435,r.tag))}}function zd(r,s){var h=nx(r);s.forEach(function(g){var E=gx.bind(null,r,g);h.has(g)||(h.add(g),g.then(E,E))})}function ui(r,s){var h=s.deletions;if(h!==null)for(var g=0;g<h.length;g++){var E=h[g],w=r,M=s,k=M;t:for(;k!==null;){switch(k.tag){case 27:case 5:An=k.stateNode,zr=!1;break t;case 3:An=k.stateNode.containerInfo,zr=!0;break t;case 4:An=k.stateNode.containerInfo,zr=!0;break t}k=k.return}if(An===null)throw Error(c(160));Yg(w,M,E),An=null,zr=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Wg(s,r),s=s.sibling}var Li=null;function Wg(r,s){var h=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ui(s,r),li(r),g&4&&(Mo(3,r,r.return),Pl(3,r),Mo(5,r,r.return));break;case 1:ui(s,r),li(r),g&512&&(ln||h===null||Hr(h,h.return)),g&64&&qa&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(h=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var E=Li;if(ui(s,r),li(r),g&512&&(ln||h===null||Hr(h,h.return)),g&4){var w=h!==null?h.memoizedState:null;if(g=r.memoizedState,h===null)if(g===null)if(r.stateNode===null){t:{g=r.type,h=r.memoizedProps,E=E.ownerDocument||E;e:switch(g){case"title":w=E.getElementsByTagName("title")[0],(!w||w[Xi]||w[an]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(g),E.head.insertBefore(w,E.querySelector("head > title"))),Xn(w,g,h),w[an]=r,oe(w),g=w;break t;case"link":var M=Fv("link","href",E).get(g+(h.href||""));if(M){for(var k=0;k<M.length;k++)if(w=M[k],w.getAttribute("href")===(h.href==null?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){M.splice(k,1);break e}}w=E.createElement(g),Xn(w,g,h),E.head.appendChild(w);break;case"meta":if(M=Fv("meta","content",E).get(g+(h.content||""))){for(k=0;k<M.length;k++)if(w=M[k],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){M.splice(k,1);break e}}w=E.createElement(g),Xn(w,g,h),E.head.appendChild(w);break;default:throw Error(c(468,g))}w[an]=r,oe(w),g=w}r.stateNode=g}else Hv(E,r.type,r.stateNode);else r.stateNode=Uv(E,g,r.memoizedProps);else w!==g?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,g===null?Hv(E,r.type,r.stateNode):Uv(E,g,r.memoizedProps)):g===null&&r.stateNode!==null&&Hg(r,r.memoizedProps,h.memoizedProps)}break;case 27:if(g&4&&r.alternate===null){E=r.stateNode,w=r.memoizedProps;try{for(var q=E.firstChild;q;){var rt=q.nextSibling,yt=q.nodeName;q[Xi]||yt==="HEAD"||yt==="BODY"||yt==="SCRIPT"||yt==="STYLE"||yt==="LINK"&&q.rel.toLowerCase()==="stylesheet"||E.removeChild(q),q=rt}for(var Ct=r.type,dt=E.attributes;dt.length;)E.removeAttributeNode(dt[0]);Xn(E,Ct,w),E[an]=r,E[on]=w}catch(Gt){Fe(r,r.return,Gt)}}case 5:if(ui(s,r),li(r),g&512&&(ln||h===null||Hr(h,h.return)),r.flags&32){E=r.stateNode;try{_r(E,"")}catch(Gt){Fe(r,r.return,Gt)}}g&4&&r.stateNode!=null&&(E=r.memoizedProps,Hg(r,E,h!==null?h.memoizedProps:E)),g&1024&&(Hd=!0);break;case 6:if(ui(s,r),li(r),g&4){if(r.stateNode===null)throw Error(c(162));g=r.memoizedProps,h=r.stateNode;try{h.nodeValue=g}catch(Gt){Fe(r,r.return,Gt)}}break;case 3:if(Lf=null,E=Li,Li=Mf(s.containerInfo),ui(s,r),Li=E,li(r),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Zl(s.containerInfo)}catch(Gt){Fe(r,r.return,Gt)}Hd&&(Hd=!1,Qg(r));break;case 4:g=Li,Li=Mf(r.stateNode.containerInfo),ui(s,r),li(r),Li=g;break;case 12:ui(s,r),li(r);break;case 13:ui(s,r),li(r),r.child.flags&8192&&r.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&($d=Sn()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,zd(r,g)));break;case 22:if(g&512&&(ln||h===null||Hr(h,h.return)),q=r.memoizedState!==null,rt=h!==null&&h.memoizedState!==null,yt=qa,Ct=ln,qa=yt||q,ln=Ct||rt,ui(s,r),ln=Ct,qa=yt,li(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,g&8192&&(s._visibility=q?s._visibility&-2:s._visibility|1,q&&(s=qa||ln,h===null||rt||s||Su(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(h=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(h===null){rt=h=s;try{if(E=rt.stateNode,q)w=E.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=rt.stateNode,k=rt.memoizedProps.style;var vt=k!=null&&k.hasOwnProperty("display")?k.display:null;M.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Gt){Fe(rt,rt.return,Gt)}}}else if(s.tag===6){if(h===null){rt=s;try{rt.stateNode.nodeValue=q?"":rt.memoizedProps}catch(Gt){Fe(rt,rt.return,Gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=r.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,zd(r,h))));break;case 19:ui(s,r),li(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,zd(r,g)));break;case 21:break;default:ui(s,r),li(r)}}function li(r){var s=r.flags;if(s&2){try{if(r.tag!==27){t:{for(var h=r.return;h!==null;){if(zg(h)){var g=h;break t}h=h.return}throw Error(c(160))}switch(g.tag){case 27:var E=g.stateNode,w=Ud(r);yf(r,w,E);break;case 5:var M=g.stateNode;g.flags&32&&(_r(M,""),g.flags&=-33);var k=Ud(r);yf(r,k,M);break;case 3:case 4:var q=g.stateNode.containerInfo,rt=Ud(r);Fd(r,rt,q);break;default:throw Error(c(161))}}}catch(yt){Fe(r,r.return,yt)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Qg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Qg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ya(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)qg(r,s.alternate,s),s=s.sibling}function Su(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Mo(4,s,s.return),Su(s);break;case 1:Hr(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&Ug(s,s.return,h),Su(s);break;case 26:case 27:case 5:Hr(s,s.return),Su(s);break;case 22:Hr(s,s.return),s.memoizedState===null&&Su(s);break;default:Su(s)}r=r.sibling}}function Po(r,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,E=r,w=s,M=w.flags;switch(w.tag){case 0:case 11:case 15:Po(E,w,h),Pl(4,w);break;case 1:if(Po(E,w,h),g=w,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(rt){Fe(g,g.return,rt)}if(g=w,E=g.updateQueue,E!==null){var k=g.stateNode;try{var q=E.shared.hiddenCallbacks;if(q!==null)for(E.shared.hiddenCallbacks=null,E=0;E<q.length;E++)Bg(q[E],k)}catch(rt){Fe(g,g.return,rt)}}h&&M&64&&Vg(w),qs(w,w.return);break;case 26:case 27:case 5:Po(E,w,h),h&&g===null&&M&4&&Fg(w),qs(w,w.return);break;case 12:Po(E,w,h);break;case 13:Po(E,w,h),h&&M&4&&Kg(E,w);break;case 22:w.memoizedState===null&&Po(E,w,h),qs(w,w.return);break;default:Po(E,w,h)}s=s.sibling}}function Gd(r,s){var h=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==h&&(r!=null&&r.refCount++,h!=null&&Bs(h))}function jd(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Bs(r))}function Lo(r,s,h,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$g(r,s,h,g),s=s.sibling}function $g(r,s,h,g){var E=s.flags;switch(s.tag){case 0:case 11:case 15:Lo(r,s,h,g),E&2048&&Pl(9,s);break;case 3:Lo(r,s,h,g),E&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Bs(r)));break;case 12:if(E&2048){Lo(r,s,h,g),r=s.stateNode;try{var w=s.memoizedProps,M=w.id,k=w.onPostCommit;typeof k=="function"&&k(M,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){Fe(s,s.return,q)}}else Lo(r,s,h,g);break;case 23:break;case 22:w=s.stateNode,s.memoizedState!==null?w._visibility&4?Lo(r,s,h,g):Ll(r,s):w._visibility&4?Lo(r,s,h,g):(w._visibility|=4,Cu(r,s,h,g,(s.subtreeFlags&10256)!==0)),E&2048&&Gd(s.alternate,s);break;case 24:Lo(r,s,h,g),E&2048&&jd(s.alternate,s);break;default:Lo(r,s,h,g)}}function Cu(r,s,h,g,E){for(E=E&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var w=r,M=s,k=h,q=g,rt=M.flags;switch(M.tag){case 0:case 11:case 15:Cu(w,M,k,q,E),Pl(8,M);break;case 23:break;case 22:var yt=M.stateNode;M.memoizedState!==null?yt._visibility&4?Cu(w,M,k,q,E):Ll(w,M):(yt._visibility|=4,Cu(w,M,k,q,E)),E&&rt&2048&&Gd(M.alternate,M);break;case 24:Cu(w,M,k,q,E),E&&rt&2048&&jd(M.alternate,M);break;default:Cu(w,M,k,q,E)}s=s.sibling}}function Ll(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=r,g=s,E=g.flags;switch(g.tag){case 22:Ll(h,g),E&2048&&Gd(g.alternate,g);break;case 24:Ll(h,g),E&2048&&jd(g.alternate,g);break;default:Ll(h,g)}s=s.sibling}}var Bl=8192;function Iu(r){if(r.subtreeFlags&Bl)for(r=r.child;r!==null;)Zg(r),r=r.sibling}function Zg(r){switch(r.tag){case 26:Iu(r),r.flags&Bl&&r.memoizedState!==null&&jx(Li,r.memoizedState,r.memoizedProps);break;case 5:Iu(r);break;case 3:case 4:var s=Li;Li=Mf(r.stateNode.containerInfo),Iu(r),Li=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Bl,Bl=16777216,Iu(r),Bl=s):Iu(r));break;default:Iu(r)}}function Jg(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function kl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var g=s[h];kn=g,ev(g,r)}Jg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(r),r=r.sibling}function tv(r){switch(r.tag){case 0:case 11:case 15:kl(r),r.flags&2048&&Mo(9,r,r.return);break;case 3:kl(r);break;case 12:kl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,_f(r)):kl(r);break;default:kl(r)}}function _f(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var g=s[h];kn=g,ev(g,r)}Jg(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Mo(8,s,s.return),_f(s);break;case 22:h=s.stateNode,h._visibility&4&&(h._visibility&=-5,_f(s));break;default:_f(s)}r=r.sibling}}function ev(r,s){for(;kn!==null;){var h=kn;switch(h.tag){case 0:case 11:case 15:Mo(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Bs(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,kn=g;else t:for(h=r;kn!==null;){g=kn;var E=g.sibling,w=g.return;if(Xg(g),g===h){kn=null;break t}if(E!==null){E.return=w,kn=E;break t}kn=w}}}function rx(r,s,h,g){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(r,s,h,g){return new rx(r,s,h,g)}function qd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Bo(r,s){var h=r.alternate;return h===null?(h=ci(r.tag,s,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=s,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&31457280,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,s=r.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h.refCleanup=r.refCleanup,h}function nv(r,s){r.flags&=31457282;var h=r.alternate;return h===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=h.childLanes,r.lanes=h.lanes,r.child=h.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=h.memoizedProps,r.memoizedState=h.memoizedState,r.updateQueue=h.updateQueue,r.type=h.type,s=h.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ef(r,s,h,g,E,w){var M=0;if(g=r,typeof r=="function")qd(r)&&(M=1);else if(typeof r=="string")M=zx(r,h,mn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case S:return Xs(h.children,E,w,s);case C:M=8,E|=24;break;case P:return r=ci(12,h,s,E|2),r.elementType=P,r.lanes=w,r;case at:return r=ci(13,h,s,E),r.elementType=at,r.lanes=w,r;case ct:return r=ci(19,h,s,E),r.elementType=ct,r.lanes=w,r;case Tt:return rv(h,E,w,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case W:M=10;break t;case L:M=9;break t;case Y:M=11;break t;case it:M=14;break t;case At:M=16,g=null;break t}M=29,h=Error(c(130,r===null?"null":typeof r,"")),g=null}return s=ci(M,h,s,E),s.elementType=r,s.type=g,s.lanes=w,s}function Xs(r,s,h,g){return r=ci(7,r,g,s),r.lanes=h,r}function rv(r,s,h,g){r=ci(22,r,g,s),r.elementType=Tt,r.lanes=h;var E={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var w=E._current;if(w===null)throw Error(c(456));if((E._pendingVisibility&2)===0){var M=ra(w,2);M!==null&&(E._pendingVisibility|=2,dr(M,w,2))}},attach:function(){var w=E._current;if(w===null)throw Error(c(456));if((E._pendingVisibility&2)!==0){var M=ra(w,2);M!==null&&(E._pendingVisibility&=-3,dr(M,w,2))}}};return r.stateNode=E,r}function Xd(r,s,h){return r=ci(6,r,null,s),r.lanes=h,r}function Yd(r,s,h){return s=ci(4,r.children!==null?r.children:[],r.key,s),s.lanes=h,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ka(r){r.flags|=4}function iv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!zv(s)){if(s=Gn.current,s!==null&&((be&4194176)===be?oi!==null:(be&62914560)!==be&&(be&536870912)===0||s!==oi))throw Di=Ps,nf;r.flags|=8192}}function xf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Gi():536870912,r.lanes|=s,Ru|=s)}function Vl(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Ze(r){var s=r.alternate!==null&&r.alternate.child===r.child,h=0,g=0;if(s)for(var E=r.child;E!==null;)h|=E.lanes|E.childLanes,g|=E.subtreeFlags&31457280,g|=E.flags&31457280,E.return=r,E=E.sibling;else for(E=r.child;E!==null;)h|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=r,E=E.sibling;return r.subtreeFlags|=g,r.childLanes=h,s}function ix(r,s,h){var g=s.pendingProps;switch(Tl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(s),null;case 1:return Ze(s),null;case 3:return h=s.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),ja(gn),qe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ds(s)?Ka(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cr!==null&&(e0(Cr),Cr=null))),Ze(s),null;case 26:return h=s.memoizedState,r===null?(Ka(s),h!==null?(Ze(s),iv(s,h)):(Ze(s),s.flags&=-16777217)):h?h!==r.memoizedState?(Ka(s),Ze(s),iv(s,h)):(Ze(s),s.flags&=-16777217):(r.memoizedProps!==g&&Ka(s),Ze(s),s.flags&=-16777217),null;case 27:Rr(s),h=gr.current;var E=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==g&&Ka(s);else{if(!g){if(s.stateNode===null)throw Error(c(166));return Ze(s),null}r=mn.current,Ds(s)?tf(s):(r=Pv(E,g,h),s.stateNode=r,Ka(s))}return Ze(s),null;case 5:if(Rr(s),h=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==g&&Ka(s);else{if(!g){if(s.stateNode===null)throw Error(c(166));return Ze(s),null}if(r=mn.current,Ds(s))tf(s);else{switch(E=Nf(gr.current),r){case 1:r=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:r=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":r=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":r=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof g.is=="string"?E.createElement("select",{is:g.is}):E.createElement("select"),g.multiple?r.multiple=!0:g.size&&(r.size=g.size);break;default:r=typeof g.is=="string"?E.createElement(h,{is:g.is}):E.createElement(h)}}r[an]=s,r[on]=g;t:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)r.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break t;for(;E.sibling===null;){if(E.return===null||E.return===s)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=r;t:switch(Xn(r,h,g),h){case"button":case"input":case"select":case"textarea":r=!!g.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ka(s)}}return Ze(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==g&&Ka(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(c(166));if(r=gr.current,Ds(s)){if(r=s.stateNode,h=s.memoizedProps,g=null,E=bn,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}r[an]=s,r=!!(r.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||bv(r.nodeValue,h)),r||oa(s)}else r=Nf(r).createTextNode(g),r[an]=s,s.stateNode=r}return Ze(s),null;case 13:if(g=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(E=Ds(s),g!==null&&g.dehydrated!==null){if(r===null){if(!E)throw Error(c(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(c(317));E[an]=s}else Ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),E=!1}else Cr!==null&&(e0(Cr),Cr=null),E=!0;if(!E)return s.flags&256?(Pi(s),s):(Pi(s),null)}if(Pi(s),(s.flags&128)!==0)return s.lanes=h,s;if(h=g!==null,r=r!==null&&r.memoizedState!==null,h){g=s.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==E&&(g.flags|=2048)}return h!==r&&h&&(s.child.flags|=8192),xf(s,s.updateQueue),Ze(s),null;case 4:return qe(),r===null&&h0(s.stateNode.containerInfo),Ze(s),null;case 10:return ja(s.type),Ze(s),null;case 19:if(Be(pn),E=s.memoizedState,E===null)return Ze(s),null;if(g=(s.flags&128)!==0,w=E.rendering,w===null)if(g)Vl(E,!1);else{if(cn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=He(r),w!==null){for(s.flags|=128,Vl(E,!1),r=w.updateQueue,s.updateQueue=r,xf(s,r),s.subtreeFlags=0,r=h,h=s.child;h!==null;)nv(h,r),h=h.sibling;return Me(pn,pn.current&1|2),s.child}r=r.sibling}E.tail!==null&&Sn()>Af&&(s.flags|=128,g=!0,Vl(E,!1),s.lanes=4194304)}else{if(!g)if(r=He(w),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,xf(s,r),Vl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!w.alternate&&!jt)return Ze(s),null}else 2*Sn()-E.renderingStartTime>Af&&h!==536870912&&(s.flags|=128,g=!0,Vl(E,!1),s.lanes=4194304);E.isBackwards?(w.sibling=s.child,s.child=w):(r=E.last,r!==null?r.sibling=w:s.child=w,E.last=w)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Sn(),s.sibling=null,r=pn.current,Me(pn,g?r&1|2:r&1),s):(Ze(s),null);case 22:case 23:return Pi(s),Ls(),g=s.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(h&536870912)!==0&&(s.flags&128)===0&&(Ze(s),s.subtreeFlags&6&&(s.flags|=8192)):Ze(s),h=s.updateQueue,h!==null&&xf(s,h.retryQueue),h=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==h&&(s.flags|=2048),r!==null&&Be(n),null;case 24:return h=null,r!==null&&(h=r.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ja(gn),Ze(s),null;case 25:return null}throw Error(c(156,s.tag))}function ax(r,s){switch(Tl(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ja(gn),qe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Rr(s),null;case 13:if(Pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(c(340));Ns()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Be(pn),null;case 4:return qe(),null;case 10:return ja(s.type),null;case 22:case 23:return Pi(s),Ls(),r!==null&&Be(n),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ja(gn),null;case 25:return null;default:return null}}function av(r,s){switch(Tl(s),s.tag){case 3:ja(gn),qe();break;case 26:case 27:case 5:Rr(s);break;case 4:qe();break;case 13:Pi(s);break;case 19:Be(pn);break;case 10:ja(s.type);break;case 22:case 23:Pi(s),Ls(),r!==null&&Be(n);break;case 24:ja(gn)}}var ox={getCacheForType:function(r){var s=er(gn),h=s.data.get(r);return h===void 0&&(h=r(),s.data.set(r,h)),h}},sx=typeof WeakMap=="function"?WeakMap:Map,Je=0,ze=null,me=null,be=0,Ge=0,Gr=null,Wa=!1,bu=!1,Kd=!1,Qa=0,cn=0,ko=0,Ys=0,Wd=0,fi=0,Ru=0,Ul=null,ca=null,Qd=!1,$d=0,Af=1/0,wf=null,Vo=null,Tf=!1,Ks=null,Fl=0,Zd=0,Jd=null,Hl=0,t0=null;function jr(){if((Je&2)!==0&&be!==0)return be&-be;if(z.T!==null){var r=tr;return r!==0?r:u0()}return lu()}function ov(){fi===0&&(fi=(be&536870912)===0||jt?hs():536870912);var r=Gn.current;return r!==null&&(r.flags|=32),fi}function dr(r,s,h){(r===ze&&Ge===2||r.cancelPendingCommit!==null)&&(Ou(r,0),$a(r,be,fi,!1)),ye(r,h),((Je&2)===0||r!==ze)&&(r===ze&&((Je&2)===0&&(Ys|=h),cn===4&&$a(r,be,fi,!1)),fa(r))}function sv(r,s,h){if((Je&6)!==0)throw Error(c(327));var g=!h&&(s&60)===0&&(s&r.expiredLanes)===0||gi(r,s),E=g?cx(r,s):i0(r,s,!0),w=g;do{if(E===0){bu&&!g&&$a(r,s,0,!1);break}else if(E===6)$a(r,s,0,!Wa);else{if(h=r.current.alternate,w&&!ux(h)){E=i0(r,s,!1),w=!1;continue}if(E===2){if(w=s,r.errorRecoveryDisabledLanes&w)var M=0;else M=r.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;t:{var k=r;E=Ul;var q=k.current.memoizedState.isDehydrated;if(q&&(Ou(k,M).flags|=256),M=i0(k,M,!1),M!==2){if(Kd&&!q){k.errorRecoveryDisabledLanes|=w,Ys|=w,E=4;break t}w=ca,ca=E,w!==null&&e0(w)}E=M}if(w=!1,E!==2)continue}}if(E===1){Ou(r,0),$a(r,s,0,!0);break}t:{switch(g=r,E){case 0:case 1:throw Error(c(345));case 4:if((s&4194176)===s){$a(g,s,fi,!Wa);break t}break;case 2:ca=null;break;case 3:case 5:break;default:throw Error(c(329))}if(g.finishedWork=h,g.finishedLanes=s,(s&62914560)===s&&(w=$d+300-Sn(),10<w)){if($a(g,s,fi,!Wa),$n(g,0)!==0)break t;g.timeoutHandle=Dv(uv.bind(null,g,h,ca,wf,Qd,s,fi,Ys,Ru,Wa,2,-0,0),w);break t}uv(g,h,ca,wf,Qd,s,fi,Ys,Ru,Wa,0,-0,0)}}break}while(!0);fa(r)}function e0(r){ca===null?ca=r:ca.push.apply(ca,r)}function uv(r,s,h,g,E,w,M,k,q,rt,yt,Ct,dt){var vt=s.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:Gx},Zg(s),s=qx(),s!==null)){r.cancelPendingCommit=s(gv.bind(null,r,h,g,E,M,k,q,1,Ct,dt)),$a(r,w,M,!rt);return}gv(r,h,g,E,M,k,q,yt,Ct,dt)}function ux(r){for(var s=r;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var E=h[g],w=E.getSnapshot;E=E.value;try{if(!lr(w(),E))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $a(r,s,h,g){s&=~Wd,s&=~Ys,r.suspendedLanes|=s,r.pingedLanes&=~s,g&&(r.warmLanes|=s),g=r.expirationTimes;for(var E=s;0<E;){var w=31-Nn(E),M=1<<w;g[w]=-1,E&=~M}h!==0&&Dr(r,h,s)}function Sf(){return(Je&6)===0?(zl(0),!1):!0}function n0(){if(me!==null){if(Ge===0)var r=me.return;else r=me,Ga=Gs=null,de(r),cr=null,sa=0,r=me;for(;r!==null;)av(r.alternate,r),r=r.return;me=null}}function Ou(r,s){r.finishedWork=null,r.finishedLanes=0;var h=r.timeoutHandle;h!==-1&&(r.timeoutHandle=-1,Ix(h)),h=r.cancelPendingCommit,h!==null&&(r.cancelPendingCommit=null,h()),n0(),ze=r,me=h=Bo(r.current,null),be=s,Ge=0,Gr=null,Wa=!1,bu=gi(r,s),Kd=!1,Ru=fi=Wd=Ys=ko=cn=0,ca=Ul=null,Qd=!1,(s&8)!==0&&(s|=s&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=s;0<g;){var E=31-Nn(g),w=1<<E;s|=r[E],g&=~w}return Qa=s,bs(),h}function lv(r,s){v=null,z.H=la,s===Ms?(s=of(),Ge=3):s===nf?(s=of(),Ge=4):Ge=s===Ag?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gr=s,me===null&&(cn=1,gf(r,Hn(s,r.current)))}function cv(){var r=z.H;return z.H=la,r===null?la:r}function fv(){var r=z.A;return z.A=ox,r}function r0(){cn=4,Wa||(be&4194176)!==be&&Gn.current!==null||(bu=!0),(ko&134217727)===0&&(Ys&134217727)===0||ze===null||$a(ze,be,fi,!1)}function i0(r,s,h){var g=Je;Je|=2;var E=cv(),w=fv();(ze!==r||be!==s)&&(wf=null,Ou(r,s)),s=!1;var M=cn;t:do try{if(Ge!==0&&me!==null){var k=me,q=Gr;switch(Ge){case 8:n0(),M=6;break t;case 3:case 2:case 6:Gn.current===null&&(s=!0);var rt=Ge;if(Ge=0,Gr=null,Du(r,k,q,rt),h&&bu){M=0;break t}break;default:rt=Ge,Ge=0,Gr=null,Du(r,k,q,rt)}}lx(),M=cn;break}catch(yt){lv(r,yt)}while(!0);return s&&r.shellSuspendCounter++,Ga=Gs=null,Je=g,z.H=E,z.A=w,me===null&&(ze=null,be=0,bs()),M}function lx(){for(;me!==null;)hv(me)}function cx(r,s){var h=Je;Je|=2;var g=cv(),E=fv();ze!==r||be!==s?(wf=null,Af=Sn()+500,Ou(r,s)):bu=gi(r,s);t:do try{if(Ge!==0&&me!==null){s=me;var w=Gr;e:switch(Ge){case 1:Ge=0,Gr=null,Du(r,s,w,1);break;case 2:if(rf(w)){Ge=0,Gr=null,dv(s);break}s=function(){Ge===2&&ze===r&&(Ge=7),fa(r)},w.then(s,s);break t;case 3:Ge=7;break t;case 4:Ge=5;break t;case 7:rf(w)?(Ge=0,Gr=null,dv(s)):(Ge=0,Gr=null,Du(r,s,w,7));break;case 5:var M=null;switch(me.tag){case 26:M=me.memoizedState;case 5:case 27:var k=me;if(!M||zv(M)){Ge=0,Gr=null;var q=k.sibling;if(q!==null)me=q;else{var rt=k.return;rt!==null?(me=rt,Cf(rt)):me=null}break e}}Ge=0,Gr=null,Du(r,s,w,5);break;case 6:Ge=0,Gr=null,Du(r,s,w,6);break;case 8:n0(),cn=6;break t;default:throw Error(c(462))}}fx();break}catch(yt){lv(r,yt)}while(!0);return Ga=Gs=null,z.H=g,z.A=E,Je=h,me!==null?0:(ze=null,be=0,bs(),cn)}function fx(){for(;me!==null&&!fs();)hv(me)}function hv(r){var s=Pg(r.alternate,r,Qa);r.memoizedProps=r.pendingProps,s===null?Cf(r):me=s}function dv(r){var s=r,h=s.alternate;switch(s.tag){case 15:case 0:s=bg(h,s,s.pendingProps,s.type,void 0,be);break;case 11:s=bg(h,s,s.pendingProps,s.type.render,s.ref,be);break;case 5:de(s);default:av(h,s),s=me=nv(s,Qa),s=Pg(h,s,Qa)}r.memoizedProps=r.pendingProps,s===null?Cf(r):me=s}function Du(r,s,h,g){Ga=Gs=null,de(s),cr=null,sa=0;var E=s.return;try{if(JE(r,E,s,h,be)){cn=1,gf(r,Hn(h,r.current)),me=null;return}}catch(w){if(E!==null)throw me=E,w;cn=1,gf(r,Hn(h,r.current)),me=null;return}s.flags&32768?(jt||g===1?r=!0:bu||(be&536870912)!==0?r=!1:(Wa=r=!0,(g===2||g===3||g===6)&&(g=Gn.current,g!==null&&g.tag===13&&(g.flags|=16384))),pv(s,r)):Cf(s)}function Cf(r){var s=r;do{if((s.flags&32768)!==0){pv(s,Wa);return}r=s.return;var h=ix(s.alternate,s,Qa);if(h!==null){me=h;return}if(s=s.sibling,s!==null){me=s;return}me=s=r}while(s!==null);cn===0&&(cn=5)}function pv(r,s){do{var h=ax(r.alternate,r);if(h!==null){h.flags&=32767,me=h;return}if(h=r.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(r=r.sibling,r!==null)){me=r;return}me=r=h}while(r!==null);cn=6,me=null}function gv(r,s,h,g,E,w,M,k,q,rt){var yt=z.T,Ct=et.p;try{et.p=2,z.T=null,hx(r,s,h,g,Ct,E,w,M,k,q,rt)}finally{z.T=yt,et.p=Ct}}function hx(r,s,h,g,E,w,M,k){do Nu();while(Ks!==null);if((Je&6)!==0)throw Error(c(327));var q=r.finishedWork;if(g=r.finishedLanes,q===null)return null;if(r.finishedWork=null,r.finishedLanes=0,q===r.current)throw Error(c(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var rt=q.lanes|q.childLanes;if(rt|=De,uu(r,g,rt,w,M,k),r===ze&&(me=ze=null,be=0),(q.subtreeFlags&10256)===0&&(q.flags&10256)===0||Tf||(Tf=!0,Zd=rt,Jd=h,vx(Yr,function(){return Nu(),null})),h=(q.flags&15990)!==0,(q.subtreeFlags&15990)!==0||h?(h=z.T,z.T=null,w=et.p,et.p=2,M=Je,Je|=4,ex(r,q),Wg(q,r),_l(v0,r.containerInfo),Vf=!!g0,v0=g0=null,r.current=q,qg(r,q.alternate,q),$e(),Je=M,et.p=w,z.T=h):r.current=q,Tf?(Tf=!1,Ks=r,Fl=g):vv(r,rt),rt=r.pendingLanes,rt===0&&(Vo=null),Hi(q.stateNode),fa(r),s!==null)for(E=r.onRecoverableError,q=0;q<s.length;q++)rt=s[q],E(rt.value,{componentStack:rt.stack});return(Fl&3)!==0&&Nu(),rt=r.pendingLanes,(g&4194218)!==0&&(rt&42)!==0?r===t0?Hl++:(Hl=0,t0=r):Hl=0,zl(0),null}function vv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Bs(s)))}function Nu(){if(Ks!==null){var r=Ks,s=Zd;Zd=0;var h=rn(Fl),g=z.T,E=et.p;try{if(et.p=32>h?32:h,z.T=null,Ks===null)var w=!1;else{h=Jd,Jd=null;var M=Ks,k=Fl;if(Ks=null,Fl=0,(Je&6)!==0)throw Error(c(331));var q=Je;if(Je|=4,tv(M.current),$g(M,M.current,k,h),Je=q,zl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Fi,M)}catch{}w=!0}return w}finally{et.p=E,z.T=g,vv(r,s)}}return!1}function mv(r,s,h){s=Hn(h,s),s=Ad(r.stateNode,s,2),r=No(r,s,2),r!==null&&(ye(r,2),fa(r))}function Fe(r,s,h){if(r.tag===3)mv(r,r,h);else for(;s!==null;){if(s.tag===3){mv(s,r,h);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Vo===null||!Vo.has(g))){r=Hn(h,r),h=Eg(2),g=No(s,h,2),g!==null&&(xg(h,g,s,r),ye(g,2),fa(g));break}}s=s.return}}function a0(r,s,h){var g=r.pingCache;if(g===null){g=r.pingCache=new sx;var E=new Set;g.set(s,E)}else E=g.get(s),E===void 0&&(E=new Set,g.set(s,E));E.has(h)||(Kd=!0,E.add(h),r=dx.bind(null,r,s,h),s.then(r,r))}function dx(r,s,h){var g=r.pingCache;g!==null&&g.delete(s),r.pingedLanes|=r.suspendedLanes&h,r.warmLanes&=~h,ze===r&&(be&h)===h&&(cn===4||cn===3&&(be&62914560)===be&&300>Sn()-$d?(Je&2)===0&&Ou(r,0):Wd|=h,Ru===be&&(Ru=0)),fa(r)}function yv(r,s){s===0&&(s=Gi()),r=ra(r,s),r!==null&&(ye(r,s),fa(r))}function px(r){var s=r.memoizedState,h=0;s!==null&&(h=s.retryLane),yv(r,h)}function gx(r,s){var h=0;switch(r.tag){case 13:var g=r.stateNode,E=r.memoizedState;E!==null&&(h=E.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(c(314))}g!==null&&g.delete(s),yv(r,h)}function vx(r,s){return pi(r,s)}var If=null,Mu=null,o0=!1,bf=!1,s0=!1,Ws=0;function fa(r){r!==Mu&&r.next===null&&(Mu===null?If=Mu=r:Mu=Mu.next=r),bf=!0,o0||(o0=!0,yx(mx))}function zl(r,s){if(!s0&&bf){s0=!0;do for(var h=!1,g=If;g!==null;){if(r!==0){var E=g.pendingLanes;if(E===0)var w=0;else{var M=g.suspendedLanes,k=g.pingedLanes;w=(1<<31-Nn(42|r)+1)-1,w&=E&~(M&~k),w=w&201326677?w&201326677|1:w?w|2:0}w!==0&&(h=!0,xv(g,w))}else w=be,w=$n(g,g===ze?w:0),(w&3)===0||gi(g,w)||(h=!0,xv(g,w));g=g.next}while(h);s0=!1}}function mx(){bf=o0=!1;var r=0;Ws!==0&&(Cx()&&(r=Ws),Ws=0);for(var s=Sn(),h=null,g=If;g!==null;){var E=g.next,w=_v(g,s);w===0?(g.next=null,h===null?If=E:h.next=E,E===null&&(Mu=h)):(h=g,(r!==0||(w&3)!==0)&&(bf=!0)),g=E}zl(r)}function _v(r,s){for(var h=r.suspendedLanes,g=r.pingedLanes,E=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var M=31-Nn(w),k=1<<M,q=E[M];q===-1?((k&h)===0||(k&g)!==0)&&(E[M]=Aa(k,s)):q<=s&&(r.expiredLanes|=k),w&=~k}if(s=ze,h=be,h=$n(r,r===s?h:0),g=r.callbackNode,h===0||r===s&&Ge===2||r.cancelPendingCommit!==null)return g!==null&&g!==null&&qt(g),r.callbackNode=null,r.callbackPriority=0;if((h&3)===0||gi(r,h)){if(s=h&-h,s===r.callbackPriority)return s;switch(g!==null&&qt(g),rn(h)){case 2:case 8:h=yn;break;case 32:h=Yr;break;case 268435456:h=_n;break;default:h=Yr}return g=Ev.bind(null,r),h=pi(h,g),r.callbackPriority=s,r.callbackNode=h,s}return g!==null&&g!==null&&qt(g),r.callbackPriority=2,r.callbackNode=null,2}function Ev(r,s){var h=r.callbackNode;if(Nu()&&r.callbackNode!==h)return null;var g=be;return g=$n(r,r===ze?g:0),g===0?null:(sv(r,g,s),_v(r,Sn()),r.callbackNode!=null&&r.callbackNode===h?Ev.bind(null,r):null)}function xv(r,s){if(Nu())return null;sv(r,s,!0)}function yx(r){bx(function(){(Je&6)!==0?pi(ke,r):r()})}function u0(){return Ws===0&&(Ws=hs()),Ws}function Av(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pr(""+r)}function wv(r,s){var h=s.ownerDocument.createElement("input");return h.name=s.name,h.value=s.value,r.id&&h.setAttribute("form",r.id),s.parentNode.insertBefore(h,s),r=new FormData(r),h.parentNode.removeChild(h),r}function _x(r,s,h,g,E){if(s==="submit"&&h&&h.stateNode===E){var w=Av((E[on]||null).action),M=g.submitter;M&&(s=(s=M[on]||null)?Av(s.formAction):M.getAttribute("formAction"),s!==null&&(w=s,M=null));var k=new ur("action","action",null,g,E);r.push({event:k,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ws!==0){var q=M?wv(E,M):new FormData(E);md(h,{pending:!0,data:q,method:E.method,action:w},null,q)}}else typeof w=="function"&&(k.preventDefault(),q=M?wv(E,M):new FormData(E),md(h,{pending:!0,data:q,method:E.method,action:w},w,q))},currentTarget:E}]})}}for(var l0=0;l0<$c.length;l0++){var c0=$c[l0],Ex=c0.toLowerCase(),xx=c0[0].toUpperCase()+c0.slice(1);Vr(Ex,"on"+xx)}Vr(qc,"onAnimationEnd"),Vr(Xc,"onAnimationIteration"),Vr(Yc,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(sd,"onTransitionRun"),Vr(Kc,"onTransitionStart"),Vr(ud,"onTransitionCancel"),Vr(Wc,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function Tv(r,s){s=(s&4)!==0;for(var h=0;h<r.length;h++){var g=r[h],E=g.event;g=g.listeners;t:{var w=void 0;if(s)for(var M=g.length-1;0<=M;M--){var k=g[M],q=k.instance,rt=k.currentTarget;if(k=k.listener,q!==w&&E.isPropagationStopped())break t;w=k,E.currentTarget=rt;try{w(E)}catch(yt){pf(yt)}E.currentTarget=null,w=q}else for(M=0;M<g.length;M++){if(k=g[M],q=k.instance,rt=k.currentTarget,k=k.listener,q!==w&&E.isPropagationStopped())break t;w=k,E.currentTarget=rt;try{w(E)}catch(yt){pf(yt)}E.currentTarget=null,w=q}}}}function Se(r,s){var h=s[wa];h===void 0&&(h=s[wa]=new Set);var g=r+"__bubble";h.has(g)||(Sv(s,r,2,!1),h.add(g))}function f0(r,s,h){var g=0;s&&(g|=4),Sv(h,r,g,s)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function h0(r){if(!r[Rf]){r[Rf]=!0,ds.forEach(function(h){h!=="selectionchange"&&(Ax.has(h)||f0(h,!1,r),f0(h,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Rf]||(s[Rf]=!0,f0("selectionchange",!1,s))}}function Sv(r,s,h,g){switch(Kv(s)){case 2:var E=Kx;break;case 8:E=Wx;break;default:E=S0}h=E.bind(null,s,h,r),E=void 0,!xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(E=!0),g?E!==void 0?r.addEventListener(s,h,{capture:!0,passive:E}):r.addEventListener(s,h,!0):E!==void 0?r.addEventListener(s,h,{passive:E}):r.addEventListener(s,h,!1)}function d0(r,s,h,g,E){var w=g;if((s&1)===0&&(s&2)===0&&g!==null)t:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var k=g.stateNode.containerInfo;if(k===E||k.nodeType===8&&k.parentNode===E)break;if(M===4)for(M=g.return;M!==null;){var q=M.tag;if((q===3||q===4)&&(q=M.stateNode.containerInfo,q===E||q.nodeType===8&&q.parentNode===E))return;M=M.return}for(;k!==null;){if(M=Nr(k),M===null)return;if(q=M.tag,q===5||q===6||q===26||q===27){g=w=M;continue t}k=k.parentNode}}g=g.return}hu(function(){var rt=w,yt=Pn(h),Ct=[];t:{var dt=Qc.get(r);if(dt!==void 0){var vt=ur,Gt=r;switch(r){case"keypress":if(ei(h)===0)break t;case"keydown":case"keyup":vt=mo;break;case"focusin":Gt="focus",vt=Da;break;case"focusout":Gt="blur",vt=Da;break;case"beforeblur":case"afterblur":vt=Da;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Pa;break;case qc:case Xc:case Yc:vt=Lr;break;case Wc:vt=Ri;break;case"scroll":case"scrollend":vt=Es;break;case"wheel":vt=yo;break;case"copy":case"cut":case"paste":vt=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Ts;break;case"toggle":case"beforetoggle":vt=yu}var re=(s&4)!==0,fn=!re&&(r==="scroll"||r==="scrollend"),st=re?dt!==null?dt+"Capture":null:dt;re=[];for(var tt=rt,ft;tt!==null;){var Et=tt;if(ft=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||ft===null||st===null||(Et=Jr(tt,st),Et!=null&&re.push(jl(tt,Et,ft))),fn)break;tt=tt.return}0<re.length&&(dt=new vt(dt,Gt,null,h,yt),Ct.push({event:dt,listeners:re}))}}if((s&7)===0){t:{if(dt=r==="mouseover"||r==="pointerover",vt=r==="mouseout"||r==="pointerout",dt&&h!==Er&&(Gt=h.relatedTarget||h.fromElement)&&(Nr(Gt)||Gt[mi]))break t;if((vt||dt)&&(dt=yt.window===yt?yt:(dt=yt.ownerDocument)?dt.defaultView||dt.parentWindow:window,vt?(Gt=h.relatedTarget||h.toElement,vt=rt,Gt=Gt?Nr(Gt):null,Gt!==null&&(fn=zt(Gt),re=Gt.tag,Gt!==fn||re!==5&&re!==27&&re!==6)&&(Gt=null)):(vt=null,Gt=rt),vt!==Gt)){if(re=Ar,Et="onMouseLeave",st="onMouseEnter",tt="mouse",(r==="pointerout"||r==="pointerover")&&(re=Ts,Et="onPointerLeave",st="onPointerEnter",tt="pointer"),fn=vt==null?dt:Yi(vt),ft=Gt==null?dt:Yi(Gt),dt=new re(Et,tt+"leave",vt,h,yt),dt.target=fn,dt.relatedTarget=ft,Et=null,Nr(yt)===rt&&(re=new re(st,tt+"enter",Gt,h,yt),re.target=ft,re.relatedTarget=fn,Et=re),fn=Et,vt&&Gt)e:{for(re=vt,st=Gt,tt=0,ft=re;ft;ft=Pu(ft))tt++;for(ft=0,Et=st;Et;Et=Pu(Et))ft++;for(;0<tt-ft;)re=Pu(re),tt--;for(;0<ft-tt;)st=Pu(st),ft--;for(;tt--;){if(re===st||st!==null&&re===st.alternate)break e;re=Pu(re),st=Pu(st)}re=null}else re=null;vt!==null&&Cv(Ct,dt,vt,re,!1),Gt!==null&&fn!==null&&Cv(Ct,fn,Gt,re,!0)}}t:{if(dt=rt?Yi(rt):window,vt=dt.nodeName&&dt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&dt.type==="file")var Bt=Bc;else if(sn(dt))if(kc)Bt=id;else{Bt=Te;var ge=nd}else vt=dt.nodeName,!vt||vt.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?rt&&Qi(rt.elementType)&&(Bt=Bc):Bt=rd;if(Bt&&(Bt=Bt(r,rt))){Oi(Ct,Bt,h,yt);break t}ge&&ge(r,dt,rt),r==="focusout"&&rt&&dt.type==="number"&&rt.memoizedProps.value!=null&&yr(dt,"number",dt.value)}switch(ge=rt?Yi(rt):window,r){case"focusin":(sn(ge)||ge.contentEditable==="true")&&(na=ge,El=rt,_o=null);break;case"focusout":_o=El=na=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,jc(Ct,h,yt);break;case"selectionchange":if(od)break;case"keydown":case"keyup":jc(Ct,h,yt)}var Xt;if(H)t:{switch(r){case"compositionstart":var $t="onCompositionStart";break t;case"compositionend":$t="onCompositionEnd";break t;case"compositionupdate":$t="onCompositionUpdate";break t}$t=void 0}else Jt?pt(r,h)&&($t="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&($t="onCompositionStart");$t&&(N&&h.locale!=="ko"&&(Jt||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Jt&&(Xt=ys()):(ti=yt,Zi="value"in ti?ti.value:ti.textContent,Jt=!0)),ge=Of(rt,$t),0<ge.length&&($t=new ve($t,r,null,h,yt),Ct.push({event:$t,listeners:ge}),Xt?$t.data=Xt:(Xt=bt(h),Xt!==null&&($t.data=Xt)))),(Xt=R?ee(r,h):Ee(r,h))&&($t=Of(rt,"onBeforeInput"),0<$t.length&&(ge=new ve("onBeforeInput","beforeinput",null,h,yt),Ct.push({event:ge,listeners:$t}),ge.data=Xt)),_x(Ct,r,rt,h,yt)}Tv(Ct,s)})}function jl(r,s,h){return{instance:r,listener:s,currentTarget:h}}function Of(r,s){for(var h=s+"Capture",g=[];r!==null;){var E=r,w=E.stateNode;E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=Jr(r,h),E!=null&&g.unshift(jl(r,E,w)),E=Jr(r,s),E!=null&&g.push(jl(r,E,w))),r=r.return}return g}function Pu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cv(r,s,h,g,E){for(var w=s._reactName,M=[];h!==null&&h!==g;){var k=h,q=k.alternate,rt=k.stateNode;if(k=k.tag,q!==null&&q===g)break;k!==5&&k!==26&&k!==27||rt===null||(q=rt,E?(rt=Jr(h,w),rt!=null&&M.unshift(jl(h,rt,q))):E||(rt=Jr(h,w),rt!=null&&M.push(jl(h,rt,q)))),h=h.return}M.length!==0&&r.push({event:s,listeners:M})}var wx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function Iv(r){return(typeof r=="string"?r:""+r).replace(wx,`
`).replace(Tx,"")}function bv(r,s){return s=Iv(s),Iv(r)===s}function Df(){}function Ue(r,s,h,g,E,w){switch(h){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||_r(r,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&_r(r,""+g);break;case"className":_i(r,"class",g);break;case"tabIndex":_i(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(r,h,g);break;case"style":Ai(r,g,w);break;case"data":if(s!=="object"){_i(r,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||h!=="href")){r.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(h);break}g=Pr(""+g),r.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(s!=="input"&&Ue(r,s,"name",E.name,E,null),Ue(r,s,"formEncType",E.formEncType,E,null),Ue(r,s,"formMethod",E.formMethod,E,null),Ue(r,s,"formTarget",E.formTarget,E,null)):(Ue(r,s,"encType",E.encType,E,null),Ue(r,s,"method",E.method,E,null),Ue(r,s,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(h);break}g=Pr(""+g),r.setAttribute(h,g);break;case"onClick":g!=null&&(r.onclick=Df);break;case"onScroll":g!=null&&Se("scroll",r);break;case"onScrollEnd":g!=null&&Se("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(c(61));if(h=g.__html,h!=null){if(E.children!=null)throw Error(c(60));r.innerHTML=h}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}h=Pr(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(h,""+g):r.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(h,""):r.removeAttribute(h);break;case"capture":case"download":g===!0?r.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(h,g):r.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(h,g):r.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(h):r.setAttribute(h,g);break;case"popover":Se("beforetoggle",r),Se("toggle",r),Wi(r,"popover",g);break;case"xlinkActuate":mr(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":mr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":mr(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":mr(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":mr(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":mr(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":mr(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":mr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":mr(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Wi(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=gl.get(h)||h,Wi(r,h,g))}}function p0(r,s,h,g,E,w){switch(h){case"style":Ai(r,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(c(61));if(h=g.__html,h!=null){if(E.children!=null)throw Error(c(60));r.innerHTML=h}}break;case"children":typeof g=="string"?_r(r,g):(typeof g=="number"||typeof g=="bigint")&&_r(r,""+g);break;case"onScroll":g!=null&&Se("scroll",r);break;case"onScrollEnd":g!=null&&Se("scrollend",r);break;case"onClick":g!=null&&(r.onclick=Df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(E=h.endsWith("Capture"),s=h.slice(2,E?h.length-7:void 0),w=r[on]||null,w=w!=null?w[h]:null,typeof w=="function"&&r.removeEventListener(s,w,E),typeof g=="function")){typeof w!="function"&&w!==null&&(h in r?r[h]=null:r.hasAttribute(h)&&r.removeAttribute(h)),r.addEventListener(s,g,E);break t}h in r?r[h]=g:g===!0?r.setAttribute(h,""):Wi(r,h,g)}}}function Xn(r,s,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",r),Se("load",r);var g=!1,E=!1,w;for(w in h)if(h.hasOwnProperty(w)){var M=h[w];if(M!=null)switch(w){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:Ue(r,s,w,M,h,null)}}E&&Ue(r,s,"srcSet",h.srcSet,h,null),g&&Ue(r,s,"src",h.src,h,null);return;case"input":Se("invalid",r);var k=w=M=E=null,q=null,rt=null;for(g in h)if(h.hasOwnProperty(g)){var yt=h[g];if(yt!=null)switch(g){case"name":E=yt;break;case"type":M=yt;break;case"checked":q=yt;break;case"defaultChecked":rt=yt;break;case"value":w=yt;break;case"defaultValue":k=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(c(137,s));break;default:Ue(r,s,g,yt,h,null)}}ba(r,w,k,q,rt,M,E,!1),Ia(r);return;case"select":Se("invalid",r),g=M=w=null;for(E in h)if(h.hasOwnProperty(E)&&(k=h[E],k!=null))switch(E){case"value":w=k;break;case"defaultValue":M=k;break;case"multiple":g=k;default:Ue(r,s,E,k,h,null)}s=w,h=M,r.multiple=!!g,s!=null?_e(r,!!g,s,!1):h!=null&&_e(r,!!g,h,!0);return;case"textarea":Se("invalid",r),w=E=g=null;for(M in h)if(h.hasOwnProperty(M)&&(k=h[M],k!=null))switch(M){case"value":g=k;break;case"defaultValue":E=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(c(91));break;default:Ue(r,s,M,k,h,null)}En(r,g,E,w),Ia(r);return;case"option":for(q in h)if(h.hasOwnProperty(q)&&(g=h[q],g!=null))switch(q){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ue(r,s,q,g,h,null)}return;case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":Se("load",r);break;case"video":case"audio":for(g=0;g<Gl.length;g++)Se(Gl[g],r);break;case"image":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"embed":case"source":case"link":Se("error",r),Se("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in h)if(h.hasOwnProperty(rt)&&(g=h[rt],g!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:Ue(r,s,rt,g,h,null)}return;default:if(Qi(s)){for(yt in h)h.hasOwnProperty(yt)&&(g=h[yt],g!==void 0&&p0(r,s,yt,g,h,void 0));return}}for(k in h)h.hasOwnProperty(k)&&(g=h[k],g!=null&&Ue(r,s,k,g,h,null))}function Sx(r,s,h,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,M=null,k=null,q=null,rt=null,yt=null;for(vt in h){var Ct=h[vt];if(h.hasOwnProperty(vt)&&Ct!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":q=Ct;default:g.hasOwnProperty(vt)||Ue(r,s,vt,null,g,Ct)}}for(var dt in g){var vt=g[dt];if(Ct=h[dt],g.hasOwnProperty(dt)&&(vt!=null||Ct!=null))switch(dt){case"type":w=vt;break;case"name":E=vt;break;case"checked":rt=vt;break;case"defaultChecked":yt=vt;break;case"value":M=vt;break;case"defaultValue":k=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(c(137,s));break;default:vt!==Ct&&Ue(r,s,dt,vt,g,Ct)}}sr(r,M,k,q,rt,yt,w,E);return;case"select":vt=M=k=dt=null;for(w in h)if(q=h[w],h.hasOwnProperty(w)&&q!=null)switch(w){case"value":break;case"multiple":vt=q;default:g.hasOwnProperty(w)||Ue(r,s,w,null,g,q)}for(E in g)if(w=g[E],q=h[E],g.hasOwnProperty(E)&&(w!=null||q!=null))switch(E){case"value":dt=w;break;case"defaultValue":k=w;break;case"multiple":M=w;default:w!==q&&Ue(r,s,E,w,g,q)}s=k,h=M,g=vt,dt!=null?_e(r,!!h,dt,!1):!!g!=!!h&&(s!=null?_e(r,!!h,s,!0):_e(r,!!h,h?[]:"",!1));return;case"textarea":vt=dt=null;for(k in h)if(E=h[k],h.hasOwnProperty(k)&&E!=null&&!g.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ue(r,s,k,null,g,E)}for(M in g)if(E=g[M],w=h[M],g.hasOwnProperty(M)&&(E!=null||w!=null))switch(M){case"value":dt=E;break;case"defaultValue":vt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(c(91));break;default:E!==w&&Ue(r,s,M,E,g,w)}Ra(r,dt,vt);return;case"option":for(var Gt in h)if(dt=h[Gt],h.hasOwnProperty(Gt)&&dt!=null&&!g.hasOwnProperty(Gt))switch(Gt){case"selected":r.selected=!1;break;default:Ue(r,s,Gt,null,g,dt)}for(q in g)if(dt=g[q],vt=h[q],g.hasOwnProperty(q)&&dt!==vt&&(dt!=null||vt!=null))switch(q){case"selected":r.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:Ue(r,s,q,dt,g,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in h)dt=h[re],h.hasOwnProperty(re)&&dt!=null&&!g.hasOwnProperty(re)&&Ue(r,s,re,null,g,dt);for(rt in g)if(dt=g[rt],vt=h[rt],g.hasOwnProperty(rt)&&dt!==vt&&(dt!=null||vt!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(c(137,s));break;default:Ue(r,s,rt,dt,g,vt)}return;default:if(Qi(s)){for(var fn in h)dt=h[fn],h.hasOwnProperty(fn)&&dt!==void 0&&!g.hasOwnProperty(fn)&&p0(r,s,fn,void 0,g,dt);for(yt in g)dt=g[yt],vt=h[yt],!g.hasOwnProperty(yt)||dt===vt||dt===void 0&&vt===void 0||p0(r,s,yt,dt,g,vt);return}}for(var st in h)dt=h[st],h.hasOwnProperty(st)&&dt!=null&&!g.hasOwnProperty(st)&&Ue(r,s,st,null,g,dt);for(Ct in g)dt=g[Ct],vt=h[Ct],!g.hasOwnProperty(Ct)||dt===vt||dt==null&&vt==null||Ue(r,s,Ct,dt,g,vt)}var g0=null,v0=null;function Nf(r){return r.nodeType===9?r:r.ownerDocument}function Rv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function m0(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var y0=null;function Cx(){var r=window.event;return r&&r.type==="popstate"?r===y0?!1:(y0=r,!0):(y0=null,!1)}var Dv=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(r){return Nv.resolve(null).then(r).catch(Rx)}:Dv;function Rx(r){setTimeout(function(){throw r})}function _0(r,s){var h=s,g=0;do{var E=h.nextSibling;if(r.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"){if(g===0){r.removeChild(E),Zl(s);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=E}while(h);Zl(s)}function E0(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var h=s;switch(s=s.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":E0(h),Sa(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}r.removeChild(h)}}function Ox(r,s,h,g){for(;r.nodeType===1;){var E=h;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[Xi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==E.rel||r.getAttribute("href")!==(E.href==null?null:E.href)||r.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||r.getAttribute("title")!==(E.title==null?null:E.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(E.src==null?null:E.src)||r.getAttribute("type")!==(E.type==null?null:E.type)||r.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Bi(r.nextSibling),r===null)break}return null}function Dx(r,s,h){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!h||(r=Bi(r.nextSibling),r===null))return null;return r}function Bi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function Mv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return r;s--}else h==="/$"&&s++}r=r.previousSibling}return null}function Pv(r,s,h){switch(s=Nf(h),r){case"html":if(r=s.documentElement,!r)throw Error(c(452));return r;case"head":if(r=s.head,!r)throw Error(c(453));return r;case"body":if(r=s.body,!r)throw Error(c(454));return r;default:throw Error(c(451))}}var hi=new Map,Lv=new Set;function Mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Za=et.d;et.d={f:Nx,r:Mx,D:Px,C:Lx,L:Bx,m:kx,X:Ux,S:Vx,M:Fx};function Nx(){var r=Za.f(),s=Sf();return r||s}function Mx(r){var s=yi(r);s!==null&&s.tag===5&&s.type==="form"?ug(s):Za.r(r)}var Lu=typeof document>"u"?null:document;function Bv(r,s,h){var g=Lu;if(g&&typeof s=="string"&&s){var E=We(s);E='link[rel="'+r+'"][href="'+E+'"]',typeof h=="string"&&(E+='[crossorigin="'+h+'"]'),Lv.has(E)||(Lv.add(E),r={rel:r,crossOrigin:h,href:s},g.querySelector(E)===null&&(s=g.createElement("link"),Xn(s,"link",r),oe(s),g.head.appendChild(s)))}}function Px(r){Za.D(r),Bv("dns-prefetch",r,null)}function Lx(r,s){Za.C(r,s),Bv("preconnect",r,s)}function Bx(r,s,h){Za.L(r,s,h);var g=Lu;if(g&&r&&s){var E='link[rel="preload"][as="'+We(s)+'"]';s==="image"&&h&&h.imageSrcSet?(E+='[imagesrcset="'+We(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(E+='[imagesizes="'+We(h.imageSizes)+'"]')):E+='[href="'+We(r)+'"]';var w=E;switch(s){case"style":w=Bu(r);break;case"script":w=ku(r)}hi.has(w)||(r=X({rel:"preload",href:s==="image"&&h&&h.imageSrcSet?void 0:r,as:s},h),hi.set(w,r),g.querySelector(E)!==null||s==="style"&&g.querySelector(ql(w))||s==="script"&&g.querySelector(Xl(w))||(s=g.createElement("link"),Xn(s,"link",r),oe(s),g.head.appendChild(s)))}}function kx(r,s){Za.m(r,s);var h=Lu;if(h&&r){var g=s&&typeof s.as=="string"?s.as:"script",E='link[rel="modulepreload"][as="'+We(g)+'"][href="'+We(r)+'"]',w=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ku(r)}if(!hi.has(w)&&(r=X({rel:"modulepreload",href:r},s),hi.set(w,r),h.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Xl(w)))return}g=h.createElement("link"),Xn(g,"link",r),oe(g),h.head.appendChild(g)}}}function Vx(r,s,h){Za.S(r,s,h);var g=Lu;if(g&&r){var E=Ki(g).hoistableStyles,w=Bu(r);s=s||"default";var M=E.get(w);if(!M){var k={loading:0,preload:null};if(M=g.querySelector(ql(w)))k.loading=5;else{r=X({rel:"stylesheet",href:r,"data-precedence":s},h),(h=hi.get(w))&&x0(r,h);var q=M=g.createElement("link");oe(q),Xn(q,"link",r),q._p=new Promise(function(rt,yt){q.onload=rt,q.onerror=yt}),q.addEventListener("load",function(){k.loading|=1}),q.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Pf(M,s,g)}M={type:"stylesheet",instance:M,count:1,state:k},E.set(w,M)}}}function Ux(r,s){Za.X(r,s);var h=Lu;if(h&&r){var g=Ki(h).hoistableScripts,E=ku(r),w=g.get(E);w||(w=h.querySelector(Xl(E)),w||(r=X({src:r,async:!0},s),(s=hi.get(E))&&A0(r,s),w=h.createElement("script"),oe(w),Xn(w,"link",r),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(E,w))}}function Fx(r,s){Za.M(r,s);var h=Lu;if(h&&r){var g=Ki(h).hoistableScripts,E=ku(r),w=g.get(E);w||(w=h.querySelector(Xl(E)),w||(r=X({src:r,async:!0,type:"module"},s),(s=hi.get(E))&&A0(r,s),w=h.createElement("script"),oe(w),Xn(w,"link",r),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(E,w))}}function kv(r,s,h,g){var E=(E=gr.current)?Mf(E):null;if(!E)throw Error(c(446));switch(r){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(s=Bu(h.href),h=Ki(E).hoistableStyles,g=h.get(s),g||(g={type:"style",instance:null,count:0,state:null},h.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){r=Bu(h.href);var w=Ki(E).hoistableStyles,M=w.get(r);if(M||(E=E.ownerDocument||E,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,M),(w=E.querySelector(ql(r)))&&!w._p&&(M.instance=w,M.state.loading=5),hi.has(r)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},hi.set(r,h),w||Hx(E,r,h,M.state))),s&&g===null)throw Error(c(528,""));return M}if(s&&g!==null)throw Error(c(529,""));return null;case"script":return s=h.async,h=h.src,typeof h=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ku(h),h=Ki(E).hoistableScripts,g=h.get(s),g||(g={type:"script",instance:null,count:0,state:null},h.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,r))}}function Bu(r){return'href="'+We(r)+'"'}function ql(r){return'link[rel="stylesheet"]['+r+"]"}function Vv(r){return X({},r,{"data-precedence":r.precedence,precedence:null})}function Hx(r,s,h,g){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=r.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),Xn(s,"link",h),oe(s),r.head.appendChild(s))}function ku(r){return'[src="'+We(r)+'"]'}function Xl(r){return"script[async]"+r}function Uv(r,s,h){if(s.count++,s.instance===null)switch(s.type){case"style":var g=r.querySelector('style[data-href~="'+We(h.href)+'"]');if(g)return s.instance=g,oe(g),g;var E=X({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),oe(g),Xn(g,"style",E),Pf(g,h.precedence,r),s.instance=g;case"stylesheet":E=Bu(h.href);var w=r.querySelector(ql(E));if(w)return s.state.loading|=4,s.instance=w,oe(w),w;g=Vv(h),(E=hi.get(E))&&x0(g,E),w=(r.ownerDocument||r).createElement("link"),oe(w);var M=w;return M._p=new Promise(function(k,q){M.onload=k,M.onerror=q}),Xn(w,"link",g),s.state.loading|=4,Pf(w,h.precedence,r),s.instance=w;case"script":return w=ku(h.src),(E=r.querySelector(Xl(w)))?(s.instance=E,oe(E),E):(g=h,(E=hi.get(w))&&(g=X({},h),A0(g,E)),r=r.ownerDocument||r,E=r.createElement("script"),oe(E),Xn(E,"link",g),r.head.appendChild(E),s.instance=E);case"void":return null;default:throw Error(c(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Pf(g,h.precedence,r));return s.instance}function Pf(r,s,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,w=E,M=0;M<g.length;M++){var k=g[M];if(k.dataset.precedence===s)w=k;else if(w!==E)break}w?w.parentNode.insertBefore(r,w.nextSibling):(s=h.nodeType===9?h.head:h,s.insertBefore(r,s.firstChild))}function x0(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function A0(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Lf=null;function Fv(r,s,h){if(Lf===null){var g=new Map,E=Lf=new Map;E.set(h,g)}else E=Lf,g=E.get(h),g||(g=new Map,E.set(h,g));if(g.has(r))return g;for(g.set(r,null),h=h.getElementsByTagName(r),E=0;E<h.length;E++){var w=h[E];if(!(w[Xi]||w[an]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(s)||"";M=r+M;var k=g.get(M);k?k.push(w):g.set(M,[w])}}return g}function Hv(r,s,h){r=r.ownerDocument||r,r.head.insertBefore(h,s==="title"?r.querySelector("head > title"):null)}function zx(r,s,h){if(h===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function zv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Yl=null;function Gx(){}function jx(r,s,h){if(Yl===null)throw Error(c(475));var g=Yl;if(s.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var E=Bu(h.href),w=r.querySelector(ql(E));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(g.count++,g=Bf.bind(g),r.then(g,g)),s.state.loading|=4,s.instance=w,oe(w);return}w=r.ownerDocument||r,h=Vv(h),(E=hi.get(E))&&x0(h,E),w=w.createElement("link"),oe(w);var M=w;M._p=new Promise(function(k,q){M.onload=k,M.onerror=q}),Xn(w,"link",h),s.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(g.count++,s=Bf.bind(g),r.addEventListener("load",s),r.addEventListener("error",s))}}function qx(){if(Yl===null)throw Error(c(475));var r=Yl;return r.stylesheets&&r.count===0&&w0(r,r.stylesheets),0<r.count?function(s){var h=setTimeout(function(){if(r.stylesheets&&w0(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(h)}}:null}function Bf(){if(this.count--,this.count===0){if(this.stylesheets)w0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kf=null;function w0(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kf=new Map,s.forEach(Xx,r),kf=null,Bf.call(r))}function Xx(r,s){if(!(s.state.loading&4)){var h=kf.get(r);if(h)var g=h.get(null);else{h=new Map,kf.set(r,h);for(var E=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var M=E[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(h.set(M.dataset.precedence,M),g=M)}g&&h.set(null,g)}E=s.instance,M=E.getAttribute("data-precedence"),w=h.get(M)||g,w===g&&h.set(null,E),h.set(M,E),this.count++,g=Bf.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),w?w.parentNode.insertBefore(E,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(E,r.firstChild)),s.state.loading|=4}}var Kl={$$typeof:W,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Yx(r,s,h,g,E,w,M,k){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Gv(r,s,h,g,E,w,M,k,q,rt,yt,Ct){return r=new Yx(r,s,h,M,k,q,rt,Ct),s=1,w===!0&&(s|=24),w=ci(3,null,null,s),r.current=w,w.stateNode=r,s=Cl(),s.refCount++,r.pooledCache=s,s.refCount++,w.memoizedState={element:g,isDehydrated:h,cache:s},Ld(w),r}function jv(r){return r?(r=Ao,r):Ao}function qv(r,s,h,g,E,w){E=jv(E),g.context===null?g.context=E:g.pendingContext=E,g=Do(s),g.payload={element:h},w=w===void 0?null:w,w!==null&&(g.callback=w),h=No(r,g,s),h!==null&&(dr(h,r,s),Dl(h,r,s))}function Xv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<s?h:s}}function T0(r,s){Xv(r,s),(r=r.alternate)&&Xv(r,s)}function Yv(r){if(r.tag===13){var s=ra(r,67108864);s!==null&&dr(s,r,67108864),T0(r,67108864)}}var Vf=!0;function Kx(r,s,h,g){var E=z.T;z.T=null;var w=et.p;try{et.p=2,S0(r,s,h,g)}finally{et.p=w,z.T=E}}function Wx(r,s,h,g){var E=z.T;z.T=null;var w=et.p;try{et.p=8,S0(r,s,h,g)}finally{et.p=w,z.T=E}}function S0(r,s,h,g){if(Vf){var E=C0(g);if(E===null)d0(r,s,g,Uf,h),Wv(r,g);else if($x(E,r,s,h,g))g.stopPropagation();else if(Wv(r,g),s&4&&-1<Qx.indexOf(r)){for(;E!==null;){var w=yi(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=Or(w.pendingLanes);if(M!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;M;){var q=1<<31-Nn(M);k.entanglements[1]|=q,M&=~q}fa(w),(Je&6)===0&&(Af=Sn()+500,zl(0))}}break;case 13:k=ra(w,2),k!==null&&dr(k,w,2),Sf(),T0(w,2)}if(w=C0(g),w===null&&d0(r,s,g,Uf,h),w===E)break;E=w}E!==null&&g.stopPropagation()}else d0(r,s,g,null,h)}}function C0(r){return r=Pn(r),I0(r)}var Uf=null;function I0(r){if(Uf=null,r=Nr(r),r!==null){var s=zt(r);if(s===null)r=null;else{var h=s.tag;if(h===13){if(r=le(s),r!==null)return r;r=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Uf=r,null}function Kv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case ke:return 2;case yn:return 8;case Yr:case su:return 32;case _n:return 268435456;default:return 32}default:return 32}}var b0=!1,Uo=null,Fo=null,Ho=null,Wl=new Map,Ql=new Map,zo=[],Qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(r,s){switch(r){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(s.pointerId)}}function $l(r,s,h,g,E,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:h,eventSystemFlags:g,nativeEvent:w,targetContainers:[E]},s!==null&&(s=yi(s),s!==null&&Yv(s)),r):(r.eventSystemFlags|=g,s=r.targetContainers,E!==null&&s.indexOf(E)===-1&&s.push(E),r)}function $x(r,s,h,g,E){switch(s){case"focusin":return Uo=$l(Uo,r,s,h,g,E),!0;case"dragenter":return Fo=$l(Fo,r,s,h,g,E),!0;case"mouseover":return Ho=$l(Ho,r,s,h,g,E),!0;case"pointerover":var w=E.pointerId;return Wl.set(w,$l(Wl.get(w)||null,r,s,h,g,E)),!0;case"gotpointercapture":return w=E.pointerId,Ql.set(w,$l(Ql.get(w)||null,r,s,h,g,E)),!0}return!1}function Qv(r){var s=Nr(r.target);if(s!==null){var h=zt(s);if(h!==null){if(s=h.tag,s===13){if(s=le(h),s!==null){r.blockedOn=s,vi(r.priority,function(){if(h.tag===13){var g=jr(),E=ra(h,g);E!==null&&dr(E,h,g),T0(h,g)}});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ff(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var h=C0(r.nativeEvent);if(h===null){h=r.nativeEvent;var g=new h.constructor(h.type,h);Er=g,h.target.dispatchEvent(g),Er=null}else return s=yi(h),s!==null&&Yv(s),r.blockedOn=h,!1;s.shift()}return!0}function $v(r,s,h){Ff(r)&&h.delete(s)}function Zx(){b0=!1,Uo!==null&&Ff(Uo)&&(Uo=null),Fo!==null&&Ff(Fo)&&(Fo=null),Ho!==null&&Ff(Ho)&&(Ho=null),Wl.forEach($v),Ql.forEach($v)}function Hf(r,s){r.blockedOn===s&&(r.blockedOn=null,b0||(b0=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Zx)))}var zf=null;function Zv(r){zf!==r&&(zf=r,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zf===r&&(zf=null);for(var s=0;s<r.length;s+=3){var h=r[s],g=r[s+1],E=r[s+2];if(typeof g!="function"){if(I0(g||h)===null)continue;break}var w=yi(h);w!==null&&(r.splice(s,3),s-=3,md(w,{pending:!0,data:E,method:h.method,action:g},g,E))}}))}function Zl(r){function s(q){return Hf(q,r)}Uo!==null&&Hf(Uo,r),Fo!==null&&Hf(Fo,r),Ho!==null&&Hf(Ho,r),Wl.forEach(s),Ql.forEach(s);for(var h=0;h<zo.length;h++){var g=zo[h];g.blockedOn===r&&(g.blockedOn=null)}for(;0<zo.length&&(h=zo[0],h.blockedOn===null);)Qv(h),h.blockedOn===null&&zo.shift();if(h=(r.ownerDocument||r).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var E=h[g],w=h[g+1],M=E[on]||null;if(typeof w=="function")M||Zv(h);else if(M){var k=null;if(w&&w.hasAttribute("formAction")){if(E=w,M=w[on]||null)k=M.formAction;else if(I0(E)!==null)continue}else k=M.action;typeof k=="function"?h[g+1]=k:(h.splice(g,3),g-=3),Zv(h)}}}function R0(r){this._internalRoot=r}Gf.prototype.render=R0.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(c(409));var h=s.current,g=jr();qv(h,g,r,s,null,null)},Gf.prototype.unmount=R0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Nu(),qv(r.current,2,null,r,null,null),Sf(),s[mi]=null}};function Gf(r){this._internalRoot=r}Gf.prototype.unstable_scheduleHydration=function(r){if(r){var s=lu();r={blockedOn:null,target:r,priority:s};for(var h=0;h<zo.length&&s!==0&&s<zo[h].priority;h++);zo.splice(h,0,r),h===0&&Qv(r)}};var Jv=e.version;if(Jv!=="19.0.0")throw Error(c(527,Jv,"19.0.0"));et.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(c(188)):(r=Object.keys(r).join(","),Error(c(268,r)));return r=mt(s),r=r!==null?Nt(r):null,r=r===null?null:r.stateNode,r};var Jx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:Nr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Fi=jf.inject(Jx),Ke=jf}catch{}}return tc.createRoot=function(r,s){if(!d(r))throw Error(c(299));var h=!1,g="",E=vg,w=mg,M=yg,k=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Gv(r,1,!1,null,null,h,g,E,w,M,k,null),r[mi]=s.current,h0(r.nodeType===8?r.parentNode:r),new R0(s)},tc.hydrateRoot=function(r,s,h){if(!d(r))throw Error(c(299));var g=!1,E="",w=vg,M=mg,k=yg,q=null,rt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(M=h.onCaughtError),h.onRecoverableError!==void 0&&(k=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(q=h.unstable_transitionCallbacks),h.formState!==void 0&&(rt=h.formState)),s=Gv(r,1,!0,s,h??null,g,E,w,M,k,q,rt),s.context=jv(null),h=s.current,g=jr(),E=Do(g),E.callback=null,No(h,E,g),s.current.lanes=g,ye(s,g),fa(s),r[mi]=s.current,h0(r),new Gf(s)},tc.version="19.0.0",tc}var cm;function cA(){if(cm)return N0.exports;cm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),N0.exports=lA(),N0.exports}var fA=cA(),ec={},fm;function hA(){if(fm)return ec;fm=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.parse=x,ec.serialize=C;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,d=Object.prototype.toString,m=(()=>{const L=function(){};return L.prototype=Object.create(null),L})();function x(L,W){const Y=new m,at=L.length;if(at<2)return Y;const ct=(W==null?void 0:W.decode)||P;let it=0;do{const At=L.indexOf("=",it);if(At===-1)break;const Tt=L.indexOf(";",it),Ut=Tt===-1?at:Tt;if(At>Ut){it=L.lastIndexOf(";",At-1)+1;continue}const Mt=T(L,it,At),Wt=S(L,At,Mt),$=L.slice(Mt,Wt);if(Y[$]===void 0){let G=T(L,At+1,Ut),z=S(L,Ut,G);const X=ct(L.slice(G,z));Y[$]=X}it=Ut+1}while(it<at);return Y}function T(L,W,Y){do{const at=L.charCodeAt(W);if(at!==32&&at!==9)return W}while(++W<Y);return Y}function S(L,W,Y){for(;W>Y;){const at=L.charCodeAt(--W);if(at!==32&&at!==9)return W+1}return Y}function C(L,W,Y){const at=(Y==null?void 0:Y.encode)||encodeURIComponent;if(!l.test(L))throw new TypeError(`argument name is invalid: ${L}`);const ct=at(W);if(!e.test(ct))throw new TypeError(`argument val is invalid: ${W}`);let it=L+"="+ct;if(!Y)return it;if(Y.maxAge!==void 0){if(!Number.isInteger(Y.maxAge))throw new TypeError(`option maxAge is invalid: ${Y.maxAge}`);it+="; Max-Age="+Y.maxAge}if(Y.domain){if(!a.test(Y.domain))throw new TypeError(`option domain is invalid: ${Y.domain}`);it+="; Domain="+Y.domain}if(Y.path){if(!c.test(Y.path))throw new TypeError(`option path is invalid: ${Y.path}`);it+="; Path="+Y.path}if(Y.expires){if(!B(Y.expires)||!Number.isFinite(Y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${Y.expires}`);it+="; Expires="+Y.expires.toUTCString()}if(Y.httpOnly&&(it+="; HttpOnly"),Y.secure&&(it+="; Secure"),Y.partitioned&&(it+="; Partitioned"),Y.priority)switch(typeof Y.priority=="string"?Y.priority.toLowerCase():void 0){case"low":it+="; Priority=Low";break;case"medium":it+="; Priority=Medium";break;case"high":it+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${Y.priority}`)}if(Y.sameSite)switch(typeof Y.sameSite=="string"?Y.sameSite.toLowerCase():Y.sameSite){case!0:case"strict":it+="; SameSite=Strict";break;case"lax":it+="; SameSite=Lax";break;case"none":it+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${Y.sameSite}`)}return it}function P(L){if(L.indexOf("%")===-1)return L;try{return decodeURIComponent(L)}catch{return L}}function B(L){return d.call(L)==="[object Date]"}return ec}hA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hm="popstate";function dA(l={}){function e(c,d){let{pathname:m,search:x,hash:T}=c.location;return u1("",{pathname:m,search:x,hash:T},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(c,d){return typeof d=="string"?d:hc(d)}return gA(e,a,null,l)}function tn(l,e){if(l===!1||l===null||typeof l>"u")throw new Error(e)}function _a(l,e){if(!l){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function dm(l,e){return{usr:l.state,key:l.key,idx:e}}function u1(l,e,a=null,c){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:a,key:e&&e.key||c||pA()}}function hc({pathname:l="/",search:e="",hash:a=""}){return e&&e!=="?"&&(l+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(l+=a.charAt(0)==="#"?a:"#"+a),l}function il(l){let e={};if(l){let a=l.indexOf("#");a>=0&&(e.hash=l.substring(a),l=l.substring(0,a));let c=l.indexOf("?");c>=0&&(e.search=l.substring(c),l=l.substring(0,c)),l&&(e.pathname=l)}return e}function gA(l,e,a,c={}){let{window:d=document.defaultView,v5Compat:m=!1}=c,x=d.history,T="POP",S=null,C=P();C==null&&(C=0,x.replaceState({...x.state,idx:C},""));function P(){return(x.state||{idx:null}).idx}function B(){T="POP";let ct=P(),it=ct==null?null:ct-C;C=ct,S&&S({action:T,location:at.location,delta:it})}function L(ct,it){T="PUSH";let At=u1(at.location,ct,it);C=P()+1;let Tt=dm(At,C),Ut=at.createHref(At);try{x.pushState(Tt,"",Ut)}catch(Mt){if(Mt instanceof DOMException&&Mt.name==="DataCloneError")throw Mt;d.location.assign(Ut)}m&&S&&S({action:T,location:at.location,delta:1})}function W(ct,it){T="REPLACE";let At=u1(at.location,ct,it);C=P();let Tt=dm(At,C),Ut=at.createHref(At);x.replaceState(Tt,"",Ut),m&&S&&S({action:T,location:at.location,delta:0})}function Y(ct){let it=d.location.origin!=="null"?d.location.origin:d.location.href,At=typeof ct=="string"?ct:hc(ct);return At=At.replace(/ $/,"%20"),tn(it,`No window.location.(origin|href) available to create URL for href: ${At}`),new URL(At,it)}let at={get action(){return T},get location(){return l(d,x)},listen(ct){if(S)throw new Error("A history only accepts one active listener");return d.addEventListener(hm,B),S=ct,()=>{d.removeEventListener(hm,B),S=null}},createHref(ct){return e(d,ct)},createURL:Y,encodeLocation(ct){let it=Y(ct);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:L,replace:W,go(ct){return x.go(ct)}};return at}function a2(l,e,a="/"){return vA(l,e,a,!1)}function vA(l,e,a,c){let d=typeof e=="string"?il(e):e,m=ro(d.pathname||"/",a);if(m==null)return null;let x=o2(l);mA(x);let T=null;for(let S=0;T==null&&S<x.length;++S){let C=bA(m);T=CA(x[S],C,c)}return T}function o2(l,e=[],a=[],c=""){let d=(m,x,T)=>{let S={relativePath:T===void 0?m.path||"":T,caseSensitive:m.caseSensitive===!0,childrenIndex:x,route:m};S.relativePath.startsWith("/")&&(tn(S.relativePath.startsWith(c),`Absolute route path "${S.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(c.length));let C=no([c,S.relativePath]),P=a.concat(S);m.children&&m.children.length>0&&(tn(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),o2(m.children,e,P,C)),!(m.path==null&&!m.index)&&e.push({path:C,score:TA(C,m.index),routesMeta:P})};return l.forEach((m,x)=>{var T;if(m.path===""||!((T=m.path)!=null&&T.includes("?")))d(m,x);else for(let S of s2(m.path))d(m,x,S)}),e}function s2(l){let e=l.split("/");if(e.length===0)return[];let[a,...c]=e,d=a.endsWith("?"),m=a.replace(/\?$/,"");if(c.length===0)return d?[m,""]:[m];let x=s2(c.join("/")),T=[];return T.push(...x.map(S=>S===""?m:[m,S].join("/"))),d&&T.push(...x),T.map(S=>l.startsWith("/")&&S===""?"/":S)}function mA(l){l.sort((e,a)=>e.score!==a.score?a.score-e.score:SA(e.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}var yA=/^:[\w-]+$/,_A=3,EA=2,xA=1,AA=10,wA=-2,pm=l=>l==="*";function TA(l,e){let a=l.split("/"),c=a.length;return a.some(pm)&&(c+=wA),e&&(c+=EA),a.filter(d=>!pm(d)).reduce((d,m)=>d+(yA.test(m)?_A:m===""?xA:AA),c)}function SA(l,e){return l.length===e.length&&l.slice(0,-1).every((c,d)=>c===e[d])?l[l.length-1]-e[e.length-1]:0}function CA(l,e,a=!1){let{routesMeta:c}=l,d={},m="/",x=[];for(let T=0;T<c.length;++T){let S=c[T],C=T===c.length-1,P=m==="/"?e:e.slice(m.length)||"/",B=ph({path:S.relativePath,caseSensitive:S.caseSensitive,end:C},P),L=S.route;if(!B&&C&&a&&!c[c.length-1].route.index&&(B=ph({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},P)),!B)return null;Object.assign(d,B.params),x.push({params:d,pathname:no([m,B.pathname]),pathnameBase:NA(no([m,B.pathnameBase])),route:L}),B.pathnameBase!=="/"&&(m=no([m,B.pathnameBase]))}return x}function ph(l,e){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[a,c]=IA(l.path,l.caseSensitive,l.end),d=e.match(a);if(!d)return null;let m=d[0],x=m.replace(/(.)\/+$/,"$1"),T=d.slice(1);return{params:c.reduce((C,{paramName:P,isOptional:B},L)=>{if(P==="*"){let Y=T[L]||"";x=m.slice(0,m.length-Y.length).replace(/(.)\/+$/,"$1")}const W=T[L];return B&&!W?C[P]=void 0:C[P]=(W||"").replace(/%2F/g,"/"),C},{}),pathname:m,pathnameBase:x,pattern:l}}function IA(l,e=!1,a=!0){_a(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let c=[],d="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,T,S)=>(c.push({paramName:T,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(c.push({paramName:"*"}),d+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":l!==""&&l!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,e?void 0:"i"),c]}function bA(l){try{return l.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _a(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),l}}function ro(l,e){if(e==="/")return l;if(!l.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,c=l.charAt(a);return c&&c!=="/"?null:l.slice(a)||"/"}function RA(l,e="/"){let{pathname:a,search:c="",hash:d=""}=typeof l=="string"?il(l):l;return{pathname:a?a.startsWith("/")?a:OA(a,e):e,search:MA(c),hash:PA(d)}}function OA(l,e){let a=e.replace(/\/+$/,"").split("/");return l.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function B0(l,e,a,c){return`Cannot include a '${l}' character in a manually specified \`to.${e}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DA(l){return l.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function u2(l){let e=DA(l);return e.map((a,c)=>c===e.length-1?a.pathname:a.pathnameBase)}function l2(l,e,a,c=!1){let d;typeof l=="string"?d=il(l):(d={...l},tn(!d.pathname||!d.pathname.includes("?"),B0("?","pathname","search",d)),tn(!d.pathname||!d.pathname.includes("#"),B0("#","pathname","hash",d)),tn(!d.search||!d.search.includes("#"),B0("#","search","hash",d)));let m=l===""||d.pathname==="",x=m?"/":d.pathname,T;if(x==null)T=a;else{let B=e.length-1;if(!c&&x.startsWith("..")){let L=x.split("/");for(;L[0]==="..";)L.shift(),B-=1;d.pathname=L.join("/")}T=B>=0?e[B]:"/"}let S=RA(d,T),C=x&&x!=="/"&&x.endsWith("/"),P=(m||x===".")&&a.endsWith("/");return!S.pathname.endsWith("/")&&(C||P)&&(S.pathname+="/"),S}var no=l=>l.join("/").replace(/\/\/+/g,"/"),NA=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),MA=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,PA=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function LA(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var c2=["POST","PUT","PATCH","DELETE"];new Set(c2);var BA=["GET",...c2];new Set(BA);var al=_t.createContext(null);al.displayName="DataRouter";var Ph=_t.createContext(null);Ph.displayName="DataRouterState";var f2=_t.createContext({isTransitioning:!1});f2.displayName="ViewTransition";var kA=_t.createContext(new Map);kA.displayName="Fetchers";var VA=_t.createContext(null);VA.displayName="Await";var xa=_t.createContext(null);xa.displayName="Navigation";var Ac=_t.createContext(null);Ac.displayName="Location";var lo=_t.createContext({outlet:null,matches:[],isDataRoute:!1});lo.displayName="Route";var L1=_t.createContext(null);L1.displayName="RouteError";function UA(l,{relative:e}={}){tn(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:c}=_t.useContext(xa),{hash:d,pathname:m,search:x}=Tc(l,{relative:e}),T=m;return a!=="/"&&(T=m==="/"?a:no([a,m])),c.createHref({pathname:T,search:x,hash:d})}function wc(){return _t.useContext(Ac)!=null}function iu(){return tn(wc(),"useLocation() may be used only in the context of a <Router> component."),_t.useContext(Ac).location}var h2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d2(l){_t.useContext(xa).static||_t.useLayoutEffect(l)}function B1(){let{isDataRoute:l}=_t.useContext(lo);return l?ZA():FA()}function FA(){tn(wc(),"useNavigate() may be used only in the context of a <Router> component.");let l=_t.useContext(al),{basename:e,navigator:a}=_t.useContext(xa),{matches:c}=_t.useContext(lo),{pathname:d}=iu(),m=JSON.stringify(u2(c)),x=_t.useRef(!1);return d2(()=>{x.current=!0}),_t.useCallback((S,C={})=>{if(_a(x.current,h2),!x.current)return;if(typeof S=="number"){a.go(S);return}let P=l2(S,JSON.parse(m),d,C.relative==="path");l==null&&e!=="/"&&(P.pathname=P.pathname==="/"?e:no([e,P.pathname])),(C.replace?a.replace:a.push)(P,C.state,C)},[e,a,m,d,l])}_t.createContext(null);function Tc(l,{relative:e}={}){let{matches:a}=_t.useContext(lo),{pathname:c}=iu(),d=JSON.stringify(u2(a));return _t.useMemo(()=>l2(l,JSON.parse(d),c,e==="path"),[l,d,c,e])}function HA(l,e){return p2(l,e)}function p2(l,e,a,c){var At;tn(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d,static:m}=_t.useContext(xa),{matches:x}=_t.useContext(lo),T=x[x.length-1],S=T?T.params:{},C=T?T.pathname:"/",P=T?T.pathnameBase:"/",B=T&&T.route;{let Tt=B&&B.path||"";g2(C,!B||Tt.endsWith("*")||Tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${C}" (under <Route path="${Tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Tt}"> to <Route path="${Tt==="/"?"*":`${Tt}/*`}">.`)}let L=iu(),W;if(e){let Tt=typeof e=="string"?il(e):e;tn(P==="/"||((At=Tt.pathname)==null?void 0:At.startsWith(P)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${P}" but pathname "${Tt.pathname}" was given in the \`location\` prop.`),W=Tt}else W=L;let Y=W.pathname||"/",at=Y;if(P!=="/"){let Tt=P.replace(/^\//,"").split("/");at="/"+Y.replace(/^\//,"").split("/").slice(Tt.length).join("/")}let ct=!m&&a&&a.matches&&a.matches.length>0?a.matches:a2(l,{pathname:at});_a(B||ct!=null,`No routes matched location "${W.pathname}${W.search}${W.hash}" `),_a(ct==null||ct[ct.length-1].route.element!==void 0||ct[ct.length-1].route.Component!==void 0||ct[ct.length-1].route.lazy!==void 0,`Matched leaf route at location "${W.pathname}${W.search}${W.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=XA(ct&&ct.map(Tt=>Object.assign({},Tt,{params:Object.assign({},S,Tt.params),pathname:no([P,d.encodeLocation?d.encodeLocation(Tt.pathname).pathname:Tt.pathname]),pathnameBase:Tt.pathnameBase==="/"?P:no([P,d.encodeLocation?d.encodeLocation(Tt.pathnameBase).pathname:Tt.pathnameBase])})),x,a,c);return e&&it?_t.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...W},navigationType:"POP"}},it):it}function zA(){let l=$A(),e=LA(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),a=l instanceof Error?l.stack:null,c="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},x=null;return console.error("Error handled by React Router default ErrorBoundary:",l),x=_t.createElement(_t.Fragment,null,_t.createElement("p",null,"💿 Hey developer 👋"),_t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_t.createElement("code",{style:m},"ErrorBoundary")," or"," ",_t.createElement("code",{style:m},"errorElement")," prop on your route.")),_t.createElement(_t.Fragment,null,_t.createElement("h2",null,"Unexpected Application Error!"),_t.createElement("h3",{style:{fontStyle:"italic"}},e),a?_t.createElement("pre",{style:d},a):null,x)}var GA=_t.createElement(zA,null),jA=class extends _t.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,e){return e.location!==l.location||e.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:e.error,location:e.location,revalidation:l.revalidation||e.revalidation}}componentDidCatch(l,e){console.error("React Router caught the following error during render",l,e)}render(){return this.state.error!==void 0?_t.createElement(lo.Provider,{value:this.props.routeContext},_t.createElement(L1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qA({routeContext:l,match:e,children:a}){let c=_t.useContext(al);return c&&c.static&&c.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=e.route.id),_t.createElement(lo.Provider,{value:l},a)}function XA(l,e=[],a=null,c=null){if(l==null){if(!a)return null;if(a.errors)l=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)l=a.matches;else return null}let d=l,m=a==null?void 0:a.errors;if(m!=null){let S=d.findIndex(C=>C.route.id&&(m==null?void 0:m[C.route.id])!==void 0);tn(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,S+1))}let x=!1,T=-1;if(a)for(let S=0;S<d.length;S++){let C=d[S];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(T=S),C.route.id){let{loaderData:P,errors:B}=a,L=C.route.loader&&!P.hasOwnProperty(C.route.id)&&(!B||B[C.route.id]===void 0);if(C.route.lazy||L){x=!0,T>=0?d=d.slice(0,T+1):d=[d[0]];break}}}return d.reduceRight((S,C,P)=>{let B,L=!1,W=null,Y=null;a&&(B=m&&C.route.id?m[C.route.id]:void 0,W=C.route.errorElement||GA,x&&(T<0&&P===0?(g2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,Y=null):T===P&&(L=!0,Y=C.route.hydrateFallbackElement||null)));let at=e.concat(d.slice(0,P+1)),ct=()=>{let it;return B?it=W:L?it=Y:C.route.Component?it=_t.createElement(C.route.Component,null):C.route.element?it=C.route.element:it=S,_t.createElement(qA,{match:C,routeContext:{outlet:S,matches:at,isDataRoute:a!=null},children:it})};return a&&(C.route.ErrorBoundary||C.route.errorElement||P===0)?_t.createElement(jA,{location:a.location,revalidation:a.revalidation,component:W,error:B,children:ct(),routeContext:{outlet:null,matches:at,isDataRoute:!0}}):ct()},null)}function k1(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YA(l){let e=_t.useContext(al);return tn(e,k1(l)),e}function KA(l){let e=_t.useContext(Ph);return tn(e,k1(l)),e}function WA(l){let e=_t.useContext(lo);return tn(e,k1(l)),e}function V1(l){let e=WA(l),a=e.matches[e.matches.length-1];return tn(a.route.id,`${l} can only be used on routes that contain a unique "id"`),a.route.id}function QA(){return V1("useRouteId")}function $A(){var c;let l=_t.useContext(L1),e=KA("useRouteError"),a=V1("useRouteError");return l!==void 0?l:(c=e.errors)==null?void 0:c[a]}function ZA(){let{router:l}=YA("useNavigate"),e=V1("useNavigate"),a=_t.useRef(!1);return d2(()=>{a.current=!0}),_t.useCallback(async(d,m={})=>{_a(a.current,h2),a.current&&(typeof d=="number"?l.navigate(d):await l.navigate(d,{fromRouteId:e,...m}))},[l,e])}var gm={};function g2(l,e,a){!e&&!gm[l]&&(gm[l]=!0,_a(!1,a))}_t.memo(JA);function JA({routes:l,future:e,state:a}){return p2(l,void 0,a,e)}function eh(l){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tw({basename:l="/",children:e=null,location:a,navigationType:c="POP",navigator:d,static:m=!1}){tn(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=l.replace(/^\/*/,"/"),T=_t.useMemo(()=>({basename:x,navigator:d,static:m,future:{}}),[x,d,m]);typeof a=="string"&&(a=il(a));let{pathname:S="/",search:C="",hash:P="",state:B=null,key:L="default"}=a,W=_t.useMemo(()=>{let Y=ro(S,x);return Y==null?null:{location:{pathname:Y,search:C,hash:P,state:B,key:L},navigationType:c}},[x,S,C,P,B,L,c]);return _a(W!=null,`<Router basename="${x}"> is not able to match the URL "${S}${C}${P}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:_t.createElement(xa.Provider,{value:T},_t.createElement(Ac.Provider,{children:e,value:W}))}function ew({children:l,location:e}){return HA(l1(l),e)}function l1(l,e=[]){let a=[];return _t.Children.forEach(l,(c,d)=>{if(!_t.isValidElement(c))return;let m=[...e,d];if(c.type===_t.Fragment){a.push.apply(a,l1(c.props.children,m));return}tn(c.type===eh,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!c.props.index||!c.props.children,"An index route cannot have child routes.");let x={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(x.children=l1(c.props.children,m)),a.push(x)}),a}var nh="get",rh="application/x-www-form-urlencoded";function Lh(l){return l!=null&&typeof l.tagName=="string"}function nw(l){return Lh(l)&&l.tagName.toLowerCase()==="button"}function rw(l){return Lh(l)&&l.tagName.toLowerCase()==="form"}function iw(l){return Lh(l)&&l.tagName.toLowerCase()==="input"}function aw(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function ow(l,e){return l.button===0&&(!e||e==="_self")&&!aw(l)}var qf=null;function sw(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k0(l){return l!=null&&!uw.has(l)?(_a(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):l}function lw(l,e){let a,c,d,m,x;if(rw(l)){let T=l.getAttribute("action");c=T?ro(T,e):null,a=l.getAttribute("method")||nh,d=k0(l.getAttribute("enctype"))||rh,m=new FormData(l)}else if(nw(l)||iw(l)&&(l.type==="submit"||l.type==="image")){let T=l.form;if(T==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=l.getAttribute("formaction")||T.getAttribute("action");if(c=S?ro(S,e):null,a=l.getAttribute("formmethod")||T.getAttribute("method")||nh,d=k0(l.getAttribute("formenctype"))||k0(T.getAttribute("enctype"))||rh,m=new FormData(T,l),!sw()){let{name:C,type:P,value:B}=l;if(P==="image"){let L=C?`${C}.`:"";m.append(`${L}x`,"0"),m.append(`${L}y`,"0")}else C&&m.append(C,B)}}else{if(Lh(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=nh,c=null,d=rh,x=l}return m&&d==="text/plain"&&(x=m,m=void 0),{action:c,method:a.toLowerCase(),encType:d,formData:m,body:x}}function U1(l,e){if(l===!1||l===null||typeof l>"u")throw new Error(e)}async function cw(l,e){if(l.id in e)return e[l.id];try{let a=await import(l.module);return e[l.id]=a,a}catch(a){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function hw(l,e,a){let c=await Promise.all(l.map(async d=>{let m=e.routes[d.route.id];if(m){let x=await cw(m,a);return x.links?x.links():[]}return[]}));return vw(c.flat(1).filter(fw).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function vm(l,e,a,c,d,m){let x=(S,C)=>a[C]?S.route.id!==a[C].route.id:!0,T=(S,C)=>{var P;return a[C].pathname!==S.pathname||((P=a[C].route.path)==null?void 0:P.endsWith("*"))&&a[C].params["*"]!==S.params["*"]};return m==="assets"?e.filter((S,C)=>x(S,C)||T(S,C)):m==="data"?e.filter((S,C)=>{var B;let P=c.routes[S.route.id];if(!P||!P.hasLoader)return!1;if(x(S,C)||T(S,C))return!0;if(S.route.shouldRevalidate){let L=S.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((B=a[0])==null?void 0:B.params)||{},nextUrl:new URL(l,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof L=="boolean")return L}return!0}):[]}function dw(l,e,{includeHydrateFallback:a}={}){return pw(l.map(c=>{let d=e.routes[c.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),a&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function pw(l){return[...new Set(l)]}function gw(l){let e={},a=Object.keys(l).sort();for(let c of a)e[c]=l[c];return e}function vw(l,e){let a=new Set;return new Set(e),l.reduce((c,d)=>{let m=JSON.stringify(gw(d));return a.has(m)||(a.add(m),c.push({key:m,link:d})),c},[])}function mw(l,e){let a=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return a.pathname==="/"?a.pathname="_root.data":e&&ro(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function v2(){let l=_t.useContext(al);return U1(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function yw(){let l=_t.useContext(Ph);return U1(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var F1=_t.createContext(void 0);F1.displayName="FrameworkContext";function m2(){let l=_t.useContext(F1);return U1(l,"You must render this element inside a <HydratedRouter> element"),l}function _w(l,e){let a=_t.useContext(F1),[c,d]=_t.useState(!1),[m,x]=_t.useState(!1),{onFocus:T,onBlur:S,onMouseEnter:C,onMouseLeave:P,onTouchStart:B}=e,L=_t.useRef(null);_t.useEffect(()=>{if(l==="render"&&x(!0),l==="viewport"){let at=it=>{it.forEach(At=>{x(At.isIntersecting)})},ct=new IntersectionObserver(at,{threshold:.5});return L.current&&ct.observe(L.current),()=>{ct.disconnect()}}},[l]),_t.useEffect(()=>{if(c){let at=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(at)}}},[c]);let W=()=>{d(!0)},Y=()=>{d(!1),x(!1)};return a?l!=="intent"?[m,L,{}]:[m,L,{onFocus:nc(T,W),onBlur:nc(S,Y),onMouseEnter:nc(C,W),onMouseLeave:nc(P,Y),onTouchStart:nc(B,W)}]:[!1,L,{}]}function nc(l,e){return a=>{l&&l(a),a.defaultPrevented||e(a)}}function Ew({page:l,...e}){let{router:a}=v2(),c=_t.useMemo(()=>a2(a.routes,l,a.basename),[a.routes,l,a.basename]);return c?_t.createElement(Aw,{page:l,matches:c,...e}):null}function xw(l){let{manifest:e,routeModules:a}=m2(),[c,d]=_t.useState([]);return _t.useEffect(()=>{let m=!1;return hw(l,e,a).then(x=>{m||d(x)}),()=>{m=!0}},[l,e,a]),c}function Aw({page:l,matches:e,...a}){let c=iu(),{manifest:d,routeModules:m}=m2(),{basename:x}=v2(),{loaderData:T,matches:S}=yw(),C=_t.useMemo(()=>vm(l,e,S,d,c,"data"),[l,e,S,d,c]),P=_t.useMemo(()=>vm(l,e,S,d,c,"assets"),[l,e,S,d,c]),B=_t.useMemo(()=>{if(l===c.pathname+c.search+c.hash)return[];let Y=new Set,at=!1;if(e.forEach(it=>{var Tt;let At=d.routes[it.route.id];!At||!At.hasLoader||(!C.some(Ut=>Ut.route.id===it.route.id)&&it.route.id in T&&((Tt=m[it.route.id])!=null&&Tt.shouldRevalidate)||At.hasClientLoader?at=!0:Y.add(it.route.id))}),Y.size===0)return[];let ct=mw(l,x);return at&&Y.size>0&&ct.searchParams.set("_routes",e.filter(it=>Y.has(it.route.id)).map(it=>it.route.id).join(",")),[ct.pathname+ct.search]},[x,T,c,d,C,e,l,m]),L=_t.useMemo(()=>dw(P,d),[P,d]),W=xw(P);return _t.createElement(_t.Fragment,null,B.map(Y=>_t.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...a})),L.map(Y=>_t.createElement("link",{key:Y,rel:"modulepreload",href:Y,...a})),W.map(({key:Y,link:at})=>_t.createElement("link",{key:Y,...at})))}function ww(...l){return e=>{l.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y2&&(window.__reactRouterVersion="7.3.0")}catch{}function Tw({basename:l,children:e,window:a}){let c=_t.useRef();c.current==null&&(c.current=dA({window:a,v5Compat:!0}));let d=c.current,[m,x]=_t.useState({action:d.action,location:d.location}),T=_t.useCallback(S=>{_t.startTransition(()=>x(S))},[x]);return _t.useLayoutEffect(()=>d.listen(T),[d,T]),_t.createElement(tw,{basename:l,children:e,location:m.location,navigationType:m.action,navigator:d})}var _2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E2=_t.forwardRef(function({onClick:e,discover:a="render",prefetch:c="none",relative:d,reloadDocument:m,replace:x,state:T,target:S,to:C,preventScrollReset:P,viewTransition:B,...L},W){let{basename:Y}=_t.useContext(xa),at=typeof C=="string"&&_2.test(C),ct,it=!1;if(typeof C=="string"&&at&&(ct=C,y2))try{let z=new URL(window.location.href),X=C.startsWith("//")?new URL(z.protocol+C):new URL(C),Q=ro(X.pathname,Y);X.origin===z.origin&&Q!=null?C=Q+X.search+X.hash:it=!0}catch{_a(!1,`<Link to="${C}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let At=UA(C,{relative:d}),[Tt,Ut,Mt]=_w(c,L),Wt=bw(C,{replace:x,state:T,target:S,preventScrollReset:P,relative:d,viewTransition:B});function $(z){e&&e(z),z.defaultPrevented||Wt(z)}let G=_t.createElement("a",{...L,...Mt,href:ct||At,onClick:it||m?e:$,ref:ww(W,Ut),target:S,"data-discover":!at&&a==="render"?"true":void 0});return Tt&&!at?_t.createElement(_t.Fragment,null,G,_t.createElement(Ew,{page:At})):G});E2.displayName="Link";var Sw=_t.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:c="",end:d=!1,style:m,to:x,viewTransition:T,children:S,...C},P){let B=Tc(x,{relative:C.relative}),L=iu(),W=_t.useContext(Ph),{navigator:Y,basename:at}=_t.useContext(xa),ct=W!=null&&Mw(B)&&T===!0,it=Y.encodeLocation?Y.encodeLocation(B).pathname:B.pathname,At=L.pathname,Tt=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;a||(At=At.toLowerCase(),Tt=Tt?Tt.toLowerCase():null,it=it.toLowerCase()),Tt&&at&&(Tt=ro(Tt,at)||Tt);const Ut=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let Mt=At===it||!d&&At.startsWith(it)&&At.charAt(Ut)==="/",Wt=Tt!=null&&(Tt===it||!d&&Tt.startsWith(it)&&Tt.charAt(it.length)==="/"),$={isActive:Mt,isPending:Wt,isTransitioning:ct},G=Mt?e:void 0,z;typeof c=="function"?z=c($):z=[c,Mt?"active":null,Wt?"pending":null,ct?"transitioning":null].filter(Boolean).join(" ");let X=typeof m=="function"?m($):m;return _t.createElement(E2,{...C,"aria-current":G,className:z,ref:P,style:X,to:x,viewTransition:T},typeof S=="function"?S($):S)});Sw.displayName="NavLink";var Cw=_t.forwardRef(({discover:l="render",fetcherKey:e,navigate:a,reloadDocument:c,replace:d,state:m,method:x=nh,action:T,onSubmit:S,relative:C,preventScrollReset:P,viewTransition:B,...L},W)=>{let Y=Dw(),at=Nw(T,{relative:C}),ct=x.toLowerCase()==="get"?"get":"post",it=typeof T=="string"&&_2.test(T),At=Tt=>{if(S&&S(Tt),Tt.defaultPrevented)return;Tt.preventDefault();let Ut=Tt.nativeEvent.submitter,Mt=(Ut==null?void 0:Ut.getAttribute("formmethod"))||x;Y(Ut||Tt.currentTarget,{fetcherKey:e,method:Mt,navigate:a,replace:d,state:m,relative:C,preventScrollReset:P,viewTransition:B})};return _t.createElement("form",{ref:W,method:ct,action:at,onSubmit:c?S:At,...L,"data-discover":!it&&l==="render"?"true":void 0})});Cw.displayName="Form";function Iw(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(l){let e=_t.useContext(al);return tn(e,Iw(l)),e}function bw(l,{target:e,replace:a,state:c,preventScrollReset:d,relative:m,viewTransition:x}={}){let T=B1(),S=iu(),C=Tc(l,{relative:m});return _t.useCallback(P=>{if(ow(P,e)){P.preventDefault();let B=a!==void 0?a:hc(S)===hc(C);T(l,{replace:B,state:c,preventScrollReset:d,relative:m,viewTransition:x})}},[S,T,C,a,c,e,l,d,m,x])}var Rw=0,Ow=()=>`__${String(++Rw)}__`;function Dw(){let{router:l}=x2("useSubmit"),{basename:e}=_t.useContext(xa),a=QA();return _t.useCallback(async(c,d={})=>{let{action:m,method:x,encType:T,formData:S,body:C}=lw(c,e);if(d.navigate===!1){let P=d.fetcherKey||Ow();await l.fetch(P,a,d.action||m,{preventScrollReset:d.preventScrollReset,formData:S,body:C,formMethod:d.method||x,formEncType:d.encType||T,flushSync:d.flushSync})}else await l.navigate(d.action||m,{preventScrollReset:d.preventScrollReset,formData:S,body:C,formMethod:d.method||x,formEncType:d.encType||T,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,e,a])}function Nw(l,{relative:e}={}){let{basename:a}=_t.useContext(xa),c=_t.useContext(lo);tn(c,"useFormAction must be used inside a RouteContext");let[d]=c.matches.slice(-1),m={...Tc(l||".",{relative:e})},x=iu();if(l==null){m.search=x.search;let T=new URLSearchParams(m.search),S=T.getAll("index");if(S.some(P=>P==="")){T.delete("index"),S.filter(B=>B).forEach(B=>T.append("index",B));let P=T.toString();m.search=P?`?${P}`:""}}return(!l||l===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(m.pathname=m.pathname==="/"?a:no([a,m.pathname])),hc(m)}function Mw(l,e={}){let a=_t.useContext(f2);tn(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=x2("useViewTransitionState"),d=Tc(l,{relative:e.relative});if(!a.isTransitioning)return!1;let m=ro(a.currentLocation.pathname,c)||a.currentLocation.pathname,x=ro(a.nextLocation.pathname,c)||a.nextLocation.pathname;return ph(d.pathname,x)!=null||ph(d.pathname,m)!=null}new TextEncoder;const Pw=()=>{const l=B1();return fe.jsxs("div",{className:"homepage-container",children:[fe.jsx("h1",{children:"🏦 Banco de Monopoly Online"}),fe.jsx("p",{children:"Administra el dinero de los jugadores de Monopoly de forma digital."}),fe.jsx("button",{style:{marginBottom:"10px"},onClick:()=>l("/crear-jugador"),className:"btn",children:"➕ Crear Jugador"}),fe.jsx("button",{onClick:()=>l("/modificar-dinero"),className:"btn",children:"💰 Modificar Dinero"})]})},Lw=()=>{};var mm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=function(l){const e=[];let a=0;for(let c=0;c<l.length;c++){let d=l.charCodeAt(c);d<128?e[a++]=d:d<2048?(e[a++]=d>>6|192,e[a++]=d&63|128):(d&64512)===55296&&c+1<l.length&&(l.charCodeAt(c+1)&64512)===56320?(d=65536+((d&1023)<<10)+(l.charCodeAt(++c)&1023),e[a++]=d>>18|240,e[a++]=d>>12&63|128,e[a++]=d>>6&63|128,e[a++]=d&63|128):(e[a++]=d>>12|224,e[a++]=d>>6&63|128,e[a++]=d&63|128)}return e},Bw=function(l){const e=[];let a=0,c=0;for(;a<l.length;){const d=l[a++];if(d<128)e[c++]=String.fromCharCode(d);else if(d>191&&d<224){const m=l[a++];e[c++]=String.fromCharCode((d&31)<<6|m&63)}else if(d>239&&d<365){const m=l[a++],x=l[a++],T=l[a++],S=((d&7)<<18|(m&63)<<12|(x&63)<<6|T&63)-65536;e[c++]=String.fromCharCode(55296+(S>>10)),e[c++]=String.fromCharCode(56320+(S&1023))}else{const m=l[a++],x=l[a++];e[c++]=String.fromCharCode((d&15)<<12|(m&63)<<6|x&63)}}return e.join("")},w2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,e){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let d=0;d<l.length;d+=3){const m=l[d],x=d+1<l.length,T=x?l[d+1]:0,S=d+2<l.length,C=S?l[d+2]:0,P=m>>2,B=(m&3)<<4|T>>4;let L=(T&15)<<2|C>>6,W=C&63;S||(W=64,x||(L=64)),c.push(a[P],a[B],a[L],a[W])}return c.join("")},encodeString(l,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(l):this.encodeByteArray(A2(l),e)},decodeString(l,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(l):Bw(this.decodeStringToByteArray(l,e))},decodeStringToByteArray(l,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let d=0;d<l.length;){const m=a[l.charAt(d++)],T=d<l.length?a[l.charAt(d)]:0;++d;const C=d<l.length?a[l.charAt(d)]:64;++d;const B=d<l.length?a[l.charAt(d)]:64;if(++d,m==null||T==null||C==null||B==null)throw new kw;const L=m<<2|T>>4;if(c.push(L),C!==64){const W=T<<4&240|C>>2;if(c.push(W),B!==64){const Y=C<<6&192|B;c.push(Y)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(l){const e=A2(l);return w2.encodeByteArray(e,!0)},gh=function(l){return Vw(l).replace(/\./g,"")},T2=function(l){try{return w2.decodeString(l,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=()=>Uw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof mm>"u")return;const l=mm.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},zw=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=l&&T2(l[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Lw()||Fw()||Hw()||zw()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},S2=l=>{var e,a;return(a=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||a===void 0?void 0:a[l]},Gw=l=>{const e=S2(l);if(!e)return;const a=e.lastIndexOf(":");if(a<=0||a+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const c=parseInt(e.substring(a+1),10);return e[0]==="["?[e.substring(1,a-1),c]:[e.substring(0,a),c]},C2=()=>{var l;return(l=Bh())===null||l===void 0?void 0:l.config},I2=l=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${l}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}wrapCallback(e){return(a,c)=>{a?this.reject(a):this.resolve(c),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(a):e(a,c))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(l,e){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},c=e||"demo-project",d=l.iat||0,m=l.sub||l.user_id;if(!m)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const x=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:d,exp:d+3600,auth_time:d,sub:m,user_id:m,firebase:{sign_in_provider:"custom",identities:{}}},l);return[gh(JSON.stringify(a)),gh(JSON.stringify(x)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function Yw(){var l;const e=(l=Bh())===null||l===void 0?void 0:l.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ww(){const l=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof l=="object"&&l.id!==void 0}function Qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $w(){const l=or();return l.indexOf("MSIE ")>=0||l.indexOf("Trident/")>=0}function Zw(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function tT(){return new Promise((l,e)=>{try{let a=!0;const c="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(c);d.onsuccess=()=>{d.result.close(),a||self.indexedDB.deleteDatabase(c),l(!0)},d.onupgradeneeded=()=>{a=!1},d.onerror=()=>{var m;e(((m=d.error)===null||m===void 0?void 0:m.message)||"")}}catch(a){e(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="FirebaseError";class co extends Error{constructor(e,a,c){super(a),this.code=e,this.customData=c,this.name=eT,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,a,c){this.service=e,this.serviceName=a,this.errors=c}create(e,...a){const c=a[0]||{},d=`${this.service}/${e}`,m=this.errors[e],x=m?nT(m,c):"Error",T=`${this.serviceName}: ${x} (${d}).`;return new co(d,T,c)}}function nT(l,e){return l.replace(rT,(a,c)=>{const d=e[c];return d!=null?String(d):`<${c}?>`})}const rT=/\{\$([^}]+)}/g;function iT(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}function Js(l,e){if(l===e)return!0;const a=Object.keys(l),c=Object.keys(e);for(const d of a){if(!c.includes(d))return!1;const m=l[d],x=e[d];if(ym(m)&&ym(x)){if(!Js(m,x))return!1}else if(m!==x)return!1}for(const d of c)if(!a.includes(d))return!1;return!0}function ym(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(l){const e=[];for(const[a,c]of Object.entries(l))Array.isArray(c)?c.forEach(d=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(a)+"="+encodeURIComponent(c));return e.length?"&"+e.join("&"):""}function aT(l,e){const a=new oT(l,e);return a.subscribe.bind(a)}class oT{constructor(e,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{e(this)}).catch(c=>{this.error(c)})}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,c){let d;if(e===void 0&&a===void 0&&c===void 0)throw new Error("Missing Observer.");sT(e,["next","error","complete"])?d=e:d={next:e,error:a,complete:c},d.next===void 0&&(d.next=V0),d.error===void 0&&(d.error=V0),d.complete===void 0&&(d.complete=V0);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch{}}),this.observers.push(d),m}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e])}catch(c){typeof console<"u"&&console.error&&console.error(c)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sT(l,e){if(typeof l!="object"||l===null)return!1;for(const a of e)if(a in l&&typeof l[a]=="function")return!0;return!1}function V0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(l){return l&&l._delegate?l._delegate:l}class tu{constructor(e,a,c){this.name=e,this.instanceFactory=a,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,a){this.name=e,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const a=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(a)){const c=new jw;if(this.instancesDeferred.set(a,c),this.isInitialized(a)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:a});d&&c.resolve(d)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(e){var a;const c=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),d=(a=e==null?void 0:e.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(m){if(d)return null;throw m}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cT(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);try{const m=this.getOrInitializeService({instanceIdentifier:d});c.resolve(m)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...e.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:a={}}=e,c=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:c,options:a});for(const[m,x]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(m);c===T&&x.resolve(d)}return d}onInit(e,a){var c;const d=this.normalizeInstanceIdentifier(a),m=(c=this.onInitCallbacks.get(d))!==null&&c!==void 0?c:new Set;m.add(e),this.onInitCallbacks.set(d,m);const x=this.instances.get(d);return x&&e(x,d),()=>{m.delete(e)}}invokeOnInitCallbacks(e,a){const c=this.onInitCallbacks.get(a);if(c)for(const d of c)try{d(e,a)}catch{}}getOrInitializeService({instanceIdentifier:e,options:a={}}){let c=this.instances.get(e);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:lT(e),options:a}),this.instances.set(e,c),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(c,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,c)}catch{}return c||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lT(l){return l===Qs?void 0:l}function cT(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const a=this.getProvider(e.name);if(a.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);a.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const a=new uT(e,this);return this.providers.set(e,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(xe||(xe={}));const hT={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},dT=xe.INFO,pT={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},gT=(l,e,...a)=>{if(e<l.logLevel)return;const c=new Date().toISOString(),d=pT[e];if(d)console[d](`[${c}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H1{constructor(e){this.name=e,this._logLevel=dT,this._logHandler=gT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const vT=(l,e)=>e.some(a=>l instanceof a);let _m,Em;function mT(){return _m||(_m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yT(){return Em||(Em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b2=new WeakMap,c1=new WeakMap,R2=new WeakMap,U0=new WeakMap,z1=new WeakMap;function _T(l){const e=new Promise((a,c)=>{const d=()=>{l.removeEventListener("success",m),l.removeEventListener("error",x)},m=()=>{a(Qo(l.result)),d()},x=()=>{c(l.error),d()};l.addEventListener("success",m),l.addEventListener("error",x)});return e.then(a=>{a instanceof IDBCursor&&b2.set(a,l)}).catch(()=>{}),z1.set(e,l),e}function ET(l){if(c1.has(l))return;const e=new Promise((a,c)=>{const d=()=>{l.removeEventListener("complete",m),l.removeEventListener("error",x),l.removeEventListener("abort",x)},m=()=>{a(),d()},x=()=>{c(l.error||new DOMException("AbortError","AbortError")),d()};l.addEventListener("complete",m),l.addEventListener("error",x),l.addEventListener("abort",x)});c1.set(l,e)}let f1={get(l,e,a){if(l instanceof IDBTransaction){if(e==="done")return c1.get(l);if(e==="objectStoreNames")return l.objectStoreNames||R2.get(l);if(e==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Qo(l[e])},set(l,e,a){return l[e]=a,!0},has(l,e){return l instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in l}};function xT(l){f1=l(f1)}function AT(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...a){const c=l.call(F0(this),e,...a);return R2.set(c,e.sort?e.sort():[e]),Qo(c)}:yT().includes(l)?function(...e){return l.apply(F0(this),e),Qo(b2.get(this))}:function(...e){return Qo(l.apply(F0(this),e))}}function wT(l){return typeof l=="function"?AT(l):(l instanceof IDBTransaction&&ET(l),vT(l,mT())?new Proxy(l,f1):l)}function Qo(l){if(l instanceof IDBRequest)return _T(l);if(U0.has(l))return U0.get(l);const e=wT(l);return e!==l&&(U0.set(l,e),z1.set(e,l)),e}const F0=l=>z1.get(l);function TT(l,e,{blocked:a,upgrade:c,blocking:d,terminated:m}={}){const x=indexedDB.open(l,e),T=Qo(x);return c&&x.addEventListener("upgradeneeded",S=>{c(Qo(x.result),S.oldVersion,S.newVersion,Qo(x.transaction),S)}),a&&x.addEventListener("blocked",S=>a(S.oldVersion,S.newVersion,S)),T.then(S=>{m&&S.addEventListener("close",()=>m()),d&&S.addEventListener("versionchange",C=>d(C.oldVersion,C.newVersion,C))}).catch(()=>{}),T}const ST=["get","getKey","getAll","getAllKeys","count"],CT=["put","add","delete","clear"],H0=new Map;function xm(l,e){if(!(l instanceof IDBDatabase&&!(e in l)&&typeof e=="string"))return;if(H0.get(e))return H0.get(e);const a=e.replace(/FromIndex$/,""),c=e!==a,d=CT.includes(a);if(!(a in(c?IDBIndex:IDBObjectStore).prototype)||!(d||ST.includes(a)))return;const m=async function(x,...T){const S=this.transaction(x,d?"readwrite":"readonly");let C=S.store;return c&&(C=C.index(T.shift())),(await Promise.all([C[a](...T),d&&S.done]))[0]};return H0.set(e,m),m}xT(l=>({...l,get:(e,a,c)=>xm(e,a)||l.get(e,a,c),has:(e,a)=>!!xm(e,a)||l.has(e,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(bT(a)){const c=a.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(a=>a).join(" ")}}function bT(l){const e=l.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h1="@firebase/app",Am="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new H1("@firebase/app"),RT="@firebase/app-compat",OT="@firebase/analytics-compat",DT="@firebase/analytics",NT="@firebase/app-check-compat",MT="@firebase/app-check",PT="@firebase/auth",LT="@firebase/auth-compat",BT="@firebase/database",kT="@firebase/data-connect",VT="@firebase/database-compat",UT="@firebase/functions",FT="@firebase/functions-compat",HT="@firebase/installations",zT="@firebase/installations-compat",GT="@firebase/messaging",jT="@firebase/messaging-compat",qT="@firebase/performance",XT="@firebase/performance-compat",YT="@firebase/remote-config",KT="@firebase/remote-config-compat",WT="@firebase/storage",QT="@firebase/storage-compat",$T="@firebase/firestore",ZT="@firebase/vertexai",JT="@firebase/firestore-compat",t3="firebase",e3="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="[DEFAULT]",n3={[h1]:"fire-core",[RT]:"fire-core-compat",[DT]:"fire-analytics",[OT]:"fire-analytics-compat",[MT]:"fire-app-check",[NT]:"fire-app-check-compat",[PT]:"fire-auth",[LT]:"fire-auth-compat",[BT]:"fire-rtdb",[kT]:"fire-data-connect",[VT]:"fire-rtdb-compat",[UT]:"fire-fn",[FT]:"fire-fn-compat",[HT]:"fire-iid",[zT]:"fire-iid-compat",[GT]:"fire-fcm",[jT]:"fire-fcm-compat",[qT]:"fire-perf",[XT]:"fire-perf-compat",[YT]:"fire-rc",[KT]:"fire-rc-compat",[WT]:"fire-gcs",[QT]:"fire-gcs-compat",[$T]:"fire-fst",[JT]:"fire-fst-compat",[ZT]:"fire-vertex","fire-js":"fire-js",[t3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,r3=new Map,p1=new Map;function wm(l,e){try{l.container.addComponent(e)}catch(a){io.debug(`Component ${e.name} failed to register with FirebaseApp ${l.name}`,a)}}function Ku(l){const e=l.name;if(p1.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;p1.set(e,l);for(const a of vh.values())wm(a,l);for(const a of r3.values())wm(a,l);return!0}function G1(l,e){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(e)}function da(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Sc("app","Firebase",i3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,a,c){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=e3;function O2(l,e={}){let a=l;typeof e!="object"&&(e={name:e});const c=Object.assign({name:d1,automaticDataCollectionEnabled:!1},e),d=c.name;if(typeof d!="string"||!d)throw $o.create("bad-app-name",{appName:String(d)});if(a||(a=C2()),!a)throw $o.create("no-options");const m=vh.get(d);if(m){if(Js(a,m.options)&&Js(c,m.config))return m;throw $o.create("duplicate-app",{appName:d})}const x=new fT(d);for(const S of p1.values())x.addComponent(S);const T=new a3(a,c,x);return vh.set(d,T),T}function D2(l=d1){const e=vh.get(l);if(!e&&l===d1&&C2())return O2();if(!e)throw $o.create("no-app",{appName:l});return e}function Zo(l,e,a){var c;let d=(c=n3[l])!==null&&c!==void 0?c:l;a&&(d+=`-${a}`);const m=d.match(/\s|\//),x=e.match(/\s|\//);if(m||x){const T=[`Unable to register library "${d}" with version "${e}":`];m&&T.push(`library name "${d}" contains illegal characters (whitespace or "/")`),m&&x&&T.push("and"),x&&T.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(T.join(" "));return}Ku(new tu(`${d}-version`,()=>({library:d,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebase-heartbeat-database",s3=1,dc="firebase-heartbeat-store";let z0=null;function N2(){return z0||(z0=TT(o3,s3,{upgrade:(l,e)=>{switch(e){case 0:try{l.createObjectStore(dc)}catch(a){console.warn(a)}}}}).catch(l=>{throw $o.create("idb-open",{originalErrorMessage:l.message})})),z0}async function u3(l){try{const a=(await N2()).transaction(dc),c=await a.objectStore(dc).get(M2(l));return await a.done,c}catch(e){if(e instanceof co)io.warn(e.message);else{const a=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});io.warn(a.message)}}}async function Tm(l,e){try{const c=(await N2()).transaction(dc,"readwrite");await c.objectStore(dc).put(e,M2(l)),await c.done}catch(a){if(a instanceof co)io.warn(a.message);else{const c=$o.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});io.warn(c.message)}}}function M2(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=1024,c3=30;class f3{constructor(e){this.container=e,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new d3(a),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){var e,a;try{const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),m=Sm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===m||this._heartbeatsCache.heartbeats.some(x=>x.date===m))return;if(this._heartbeatsCache.heartbeats.push({date:m,agent:d}),this._heartbeatsCache.heartbeats.length>c3){const x=p3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(x,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(c){io.warn(c)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Sm(),{heartbeatsToSend:c,unsentEntries:d}=h3(this._heartbeatsCache.heartbeats),m=gh(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=a,d.length>0?(this._heartbeatsCache.heartbeats=d,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),m}catch(a){return io.warn(a),""}}}function Sm(){return new Date().toISOString().substring(0,10)}function h3(l,e=l3){const a=[];let c=l.slice();for(const d of l){const m=a.find(x=>x.agent===d.agent);if(m){if(m.dates.push(d.date),Cm(a)>e){m.dates.pop();break}}else if(a.push({agent:d.agent,dates:[d.date]}),Cm(a)>e){a.pop();break}c=c.slice(1)}return{heartbeatsToSend:a,unsentEntries:c}}class d3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?tT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await u3(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var a;if(await this._canUseIndexedDBPromise){const d=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:d.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var a;if(await this._canUseIndexedDBPromise){const d=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!==null&&a!==void 0?a:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...e.heartbeats]})}else return}}function Cm(l){return gh(JSON.stringify({version:2,heartbeats:l})).length}function p3(l){if(l.length===0)return-1;let e=0,a=l[0].date;for(let c=1;c<l.length;c++)l[c].date<a&&(a=l[c].date,e=c);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(l){Ku(new tu("platform-logger",e=>new IT(e),"PRIVATE")),Ku(new tu("heartbeat",e=>new f3(e),"PRIVATE")),Zo(h1,Am,l),Zo(h1,Am,"esm2017"),Zo("fire-js","")}g3("");var Im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jo,P2;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,G){function z(){}z.prototype=G.prototype,$.D=G.prototype,$.prototype=new z,$.prototype.constructor=$,$.C=function(X,Q,ot){for(var F=Array(arguments.length-2),je=2;je<arguments.length;je++)F[je-2]=arguments[je];return G.prototype[Q].apply(X,F)}}function a(){this.blockSize=-1}function c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(c,a),c.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function d($,G,z){z||(z=0);var X=Array(16);if(typeof G=="string")for(var Q=0;16>Q;++Q)X[Q]=G.charCodeAt(z++)|G.charCodeAt(z++)<<8|G.charCodeAt(z++)<<16|G.charCodeAt(z++)<<24;else for(Q=0;16>Q;++Q)X[Q]=G[z++]|G[z++]<<8|G[z++]<<16|G[z++]<<24;G=$.g[0],z=$.g[1],Q=$.g[2];var ot=$.g[3],F=G+(ot^z&(Q^ot))+X[0]+3614090360&4294967295;G=z+(F<<7&4294967295|F>>>25),F=ot+(Q^G&(z^Q))+X[1]+3905402710&4294967295,ot=G+(F<<12&4294967295|F>>>20),F=Q+(z^ot&(G^z))+X[2]+606105819&4294967295,Q=ot+(F<<17&4294967295|F>>>15),F=z+(G^Q&(ot^G))+X[3]+3250441966&4294967295,z=Q+(F<<22&4294967295|F>>>10),F=G+(ot^z&(Q^ot))+X[4]+4118548399&4294967295,G=z+(F<<7&4294967295|F>>>25),F=ot+(Q^G&(z^Q))+X[5]+1200080426&4294967295,ot=G+(F<<12&4294967295|F>>>20),F=Q+(z^ot&(G^z))+X[6]+2821735955&4294967295,Q=ot+(F<<17&4294967295|F>>>15),F=z+(G^Q&(ot^G))+X[7]+4249261313&4294967295,z=Q+(F<<22&4294967295|F>>>10),F=G+(ot^z&(Q^ot))+X[8]+1770035416&4294967295,G=z+(F<<7&4294967295|F>>>25),F=ot+(Q^G&(z^Q))+X[9]+2336552879&4294967295,ot=G+(F<<12&4294967295|F>>>20),F=Q+(z^ot&(G^z))+X[10]+4294925233&4294967295,Q=ot+(F<<17&4294967295|F>>>15),F=z+(G^Q&(ot^G))+X[11]+2304563134&4294967295,z=Q+(F<<22&4294967295|F>>>10),F=G+(ot^z&(Q^ot))+X[12]+1804603682&4294967295,G=z+(F<<7&4294967295|F>>>25),F=ot+(Q^G&(z^Q))+X[13]+4254626195&4294967295,ot=G+(F<<12&4294967295|F>>>20),F=Q+(z^ot&(G^z))+X[14]+2792965006&4294967295,Q=ot+(F<<17&4294967295|F>>>15),F=z+(G^Q&(ot^G))+X[15]+1236535329&4294967295,z=Q+(F<<22&4294967295|F>>>10),F=G+(Q^ot&(z^Q))+X[1]+4129170786&4294967295,G=z+(F<<5&4294967295|F>>>27),F=ot+(z^Q&(G^z))+X[6]+3225465664&4294967295,ot=G+(F<<9&4294967295|F>>>23),F=Q+(G^z&(ot^G))+X[11]+643717713&4294967295,Q=ot+(F<<14&4294967295|F>>>18),F=z+(ot^G&(Q^ot))+X[0]+3921069994&4294967295,z=Q+(F<<20&4294967295|F>>>12),F=G+(Q^ot&(z^Q))+X[5]+3593408605&4294967295,G=z+(F<<5&4294967295|F>>>27),F=ot+(z^Q&(G^z))+X[10]+38016083&4294967295,ot=G+(F<<9&4294967295|F>>>23),F=Q+(G^z&(ot^G))+X[15]+3634488961&4294967295,Q=ot+(F<<14&4294967295|F>>>18),F=z+(ot^G&(Q^ot))+X[4]+3889429448&4294967295,z=Q+(F<<20&4294967295|F>>>12),F=G+(Q^ot&(z^Q))+X[9]+568446438&4294967295,G=z+(F<<5&4294967295|F>>>27),F=ot+(z^Q&(G^z))+X[14]+3275163606&4294967295,ot=G+(F<<9&4294967295|F>>>23),F=Q+(G^z&(ot^G))+X[3]+4107603335&4294967295,Q=ot+(F<<14&4294967295|F>>>18),F=z+(ot^G&(Q^ot))+X[8]+1163531501&4294967295,z=Q+(F<<20&4294967295|F>>>12),F=G+(Q^ot&(z^Q))+X[13]+2850285829&4294967295,G=z+(F<<5&4294967295|F>>>27),F=ot+(z^Q&(G^z))+X[2]+4243563512&4294967295,ot=G+(F<<9&4294967295|F>>>23),F=Q+(G^z&(ot^G))+X[7]+1735328473&4294967295,Q=ot+(F<<14&4294967295|F>>>18),F=z+(ot^G&(Q^ot))+X[12]+2368359562&4294967295,z=Q+(F<<20&4294967295|F>>>12),F=G+(z^Q^ot)+X[5]+4294588738&4294967295,G=z+(F<<4&4294967295|F>>>28),F=ot+(G^z^Q)+X[8]+2272392833&4294967295,ot=G+(F<<11&4294967295|F>>>21),F=Q+(ot^G^z)+X[11]+1839030562&4294967295,Q=ot+(F<<16&4294967295|F>>>16),F=z+(Q^ot^G)+X[14]+4259657740&4294967295,z=Q+(F<<23&4294967295|F>>>9),F=G+(z^Q^ot)+X[1]+2763975236&4294967295,G=z+(F<<4&4294967295|F>>>28),F=ot+(G^z^Q)+X[4]+1272893353&4294967295,ot=G+(F<<11&4294967295|F>>>21),F=Q+(ot^G^z)+X[7]+4139469664&4294967295,Q=ot+(F<<16&4294967295|F>>>16),F=z+(Q^ot^G)+X[10]+3200236656&4294967295,z=Q+(F<<23&4294967295|F>>>9),F=G+(z^Q^ot)+X[13]+681279174&4294967295,G=z+(F<<4&4294967295|F>>>28),F=ot+(G^z^Q)+X[0]+3936430074&4294967295,ot=G+(F<<11&4294967295|F>>>21),F=Q+(ot^G^z)+X[3]+3572445317&4294967295,Q=ot+(F<<16&4294967295|F>>>16),F=z+(Q^ot^G)+X[6]+76029189&4294967295,z=Q+(F<<23&4294967295|F>>>9),F=G+(z^Q^ot)+X[9]+3654602809&4294967295,G=z+(F<<4&4294967295|F>>>28),F=ot+(G^z^Q)+X[12]+3873151461&4294967295,ot=G+(F<<11&4294967295|F>>>21),F=Q+(ot^G^z)+X[15]+530742520&4294967295,Q=ot+(F<<16&4294967295|F>>>16),F=z+(Q^ot^G)+X[2]+3299628645&4294967295,z=Q+(F<<23&4294967295|F>>>9),F=G+(Q^(z|~ot))+X[0]+4096336452&4294967295,G=z+(F<<6&4294967295|F>>>26),F=ot+(z^(G|~Q))+X[7]+1126891415&4294967295,ot=G+(F<<10&4294967295|F>>>22),F=Q+(G^(ot|~z))+X[14]+2878612391&4294967295,Q=ot+(F<<15&4294967295|F>>>17),F=z+(ot^(Q|~G))+X[5]+4237533241&4294967295,z=Q+(F<<21&4294967295|F>>>11),F=G+(Q^(z|~ot))+X[12]+1700485571&4294967295,G=z+(F<<6&4294967295|F>>>26),F=ot+(z^(G|~Q))+X[3]+2399980690&4294967295,ot=G+(F<<10&4294967295|F>>>22),F=Q+(G^(ot|~z))+X[10]+4293915773&4294967295,Q=ot+(F<<15&4294967295|F>>>17),F=z+(ot^(Q|~G))+X[1]+2240044497&4294967295,z=Q+(F<<21&4294967295|F>>>11),F=G+(Q^(z|~ot))+X[8]+1873313359&4294967295,G=z+(F<<6&4294967295|F>>>26),F=ot+(z^(G|~Q))+X[15]+4264355552&4294967295,ot=G+(F<<10&4294967295|F>>>22),F=Q+(G^(ot|~z))+X[6]+2734768916&4294967295,Q=ot+(F<<15&4294967295|F>>>17),F=z+(ot^(Q|~G))+X[13]+1309151649&4294967295,z=Q+(F<<21&4294967295|F>>>11),F=G+(Q^(z|~ot))+X[4]+4149444226&4294967295,G=z+(F<<6&4294967295|F>>>26),F=ot+(z^(G|~Q))+X[11]+3174756917&4294967295,ot=G+(F<<10&4294967295|F>>>22),F=Q+(G^(ot|~z))+X[2]+718787259&4294967295,Q=ot+(F<<15&4294967295|F>>>17),F=z+(ot^(Q|~G))+X[9]+3951481745&4294967295,$.g[0]=$.g[0]+G&4294967295,$.g[1]=$.g[1]+(Q+(F<<21&4294967295|F>>>11))&4294967295,$.g[2]=$.g[2]+Q&4294967295,$.g[3]=$.g[3]+ot&4294967295}c.prototype.u=function($,G){G===void 0&&(G=$.length);for(var z=G-this.blockSize,X=this.B,Q=this.h,ot=0;ot<G;){if(Q==0)for(;ot<=z;)d(this,$,ot),ot+=this.blockSize;if(typeof $=="string"){for(;ot<G;)if(X[Q++]=$.charCodeAt(ot++),Q==this.blockSize){d(this,X),Q=0;break}}else for(;ot<G;)if(X[Q++]=$[ot++],Q==this.blockSize){d(this,X),Q=0;break}}this.h=Q,this.o+=G},c.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var G=1;G<$.length-8;++G)$[G]=0;var z=8*this.o;for(G=$.length-8;G<$.length;++G)$[G]=z&255,z/=256;for(this.u($),$=Array(16),G=z=0;4>G;++G)for(var X=0;32>X;X+=8)$[z++]=this.g[G]>>>X&255;return $};function m($,G){var z=T;return Object.prototype.hasOwnProperty.call(z,$)?z[$]:z[$]=G($)}function x($,G){this.h=G;for(var z=[],X=!0,Q=$.length-1;0<=Q;Q--){var ot=$[Q]|0;X&&ot==G||(z[Q]=ot,X=!1)}this.g=z}var T={};function S($){return-128<=$&&128>$?m($,function(G){return new x([G|0],0>G?-1:0)}):new x([$|0],0>$?-1:0)}function C($){if(isNaN($)||!isFinite($))return B;if(0>$)return ct(C(-$));for(var G=[],z=1,X=0;$>=z;X++)G[X]=$/z|0,z*=4294967296;return new x(G,0)}function P($,G){if($.length==0)throw Error("number format error: empty string");if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if($.charAt(0)=="-")return ct(P($.substring(1),G));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=C(Math.pow(G,8)),X=B,Q=0;Q<$.length;Q+=8){var ot=Math.min(8,$.length-Q),F=parseInt($.substring(Q,Q+ot),G);8>ot?(ot=C(Math.pow(G,ot)),X=X.j(ot).add(C(F))):(X=X.j(z),X=X.add(C(F)))}return X}var B=S(0),L=S(1),W=S(16777216);l=x.prototype,l.m=function(){if(at(this))return-ct(this).m();for(var $=0,G=1,z=0;z<this.g.length;z++){var X=this.i(z);$+=(0<=X?X:4294967296+X)*G,G*=4294967296}return $},l.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(Y(this))return"0";if(at(this))return"-"+ct(this).toString($);for(var G=C(Math.pow($,6)),z=this,X="";;){var Q=Ut(z,G).g;z=it(z,Q.j(G));var ot=((0<z.g.length?z.g[0]:z.h)>>>0).toString($);if(z=Q,Y(z))return ot+X;for(;6>ot.length;)ot="0"+ot;X=ot+X}},l.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function Y($){if($.h!=0)return!1;for(var G=0;G<$.g.length;G++)if($.g[G]!=0)return!1;return!0}function at($){return $.h==-1}l.l=function($){return $=it(this,$),at($)?-1:Y($)?0:1};function ct($){for(var G=$.g.length,z=[],X=0;X<G;X++)z[X]=~$.g[X];return new x(z,~$.h).add(L)}l.abs=function(){return at(this)?ct(this):this},l.add=function($){for(var G=Math.max(this.g.length,$.g.length),z=[],X=0,Q=0;Q<=G;Q++){var ot=X+(this.i(Q)&65535)+($.i(Q)&65535),F=(ot>>>16)+(this.i(Q)>>>16)+($.i(Q)>>>16);X=F>>>16,ot&=65535,F&=65535,z[Q]=F<<16|ot}return new x(z,z[z.length-1]&-2147483648?-1:0)};function it($,G){return $.add(ct(G))}l.j=function($){if(Y(this)||Y($))return B;if(at(this))return at($)?ct(this).j(ct($)):ct(ct(this).j($));if(at($))return ct(this.j(ct($)));if(0>this.l(W)&&0>$.l(W))return C(this.m()*$.m());for(var G=this.g.length+$.g.length,z=[],X=0;X<2*G;X++)z[X]=0;for(X=0;X<this.g.length;X++)for(var Q=0;Q<$.g.length;Q++){var ot=this.i(X)>>>16,F=this.i(X)&65535,je=$.i(Q)>>>16,Yt=$.i(Q)&65535;z[2*X+2*Q]+=F*Yt,At(z,2*X+2*Q),z[2*X+2*Q+1]+=ot*Yt,At(z,2*X+2*Q+1),z[2*X+2*Q+1]+=F*je,At(z,2*X+2*Q+1),z[2*X+2*Q+2]+=ot*je,At(z,2*X+2*Q+2)}for(X=0;X<G;X++)z[X]=z[2*X+1]<<16|z[2*X];for(X=G;X<2*G;X++)z[X]=0;return new x(z,0)};function At($,G){for(;($[G]&65535)!=$[G];)$[G+1]+=$[G]>>>16,$[G]&=65535,G++}function Tt($,G){this.g=$,this.h=G}function Ut($,G){if(Y(G))throw Error("division by zero");if(Y($))return new Tt(B,B);if(at($))return G=Ut(ct($),G),new Tt(ct(G.g),ct(G.h));if(at(G))return G=Ut($,ct(G)),new Tt(ct(G.g),G.h);if(30<$.g.length){if(at($)||at(G))throw Error("slowDivide_ only works with positive integers.");for(var z=L,X=G;0>=X.l($);)z=Mt(z),X=Mt(X);var Q=Wt(z,1),ot=Wt(X,1);for(X=Wt(X,2),z=Wt(z,2);!Y(X);){var F=ot.add(X);0>=F.l($)&&(Q=Q.add(z),ot=F),X=Wt(X,1),z=Wt(z,1)}return G=it($,Q.j(G)),new Tt(Q,G)}for(Q=B;0<=$.l(G);){for(z=Math.max(1,Math.floor($.m()/G.m())),X=Math.ceil(Math.log(z)/Math.LN2),X=48>=X?1:Math.pow(2,X-48),ot=C(z),F=ot.j(G);at(F)||0<F.l($);)z-=X,ot=C(z),F=ot.j(G);Y(ot)&&(ot=L),Q=Q.add(ot),$=it($,F)}return new Tt(Q,$)}l.A=function($){return Ut(this,$).h},l.and=function($){for(var G=Math.max(this.g.length,$.g.length),z=[],X=0;X<G;X++)z[X]=this.i(X)&$.i(X);return new x(z,this.h&$.h)},l.or=function($){for(var G=Math.max(this.g.length,$.g.length),z=[],X=0;X<G;X++)z[X]=this.i(X)|$.i(X);return new x(z,this.h|$.h)},l.xor=function($){for(var G=Math.max(this.g.length,$.g.length),z=[],X=0;X<G;X++)z[X]=this.i(X)^$.i(X);return new x(z,this.h^$.h)};function Mt($){for(var G=$.g.length+1,z=[],X=0;X<G;X++)z[X]=$.i(X)<<1|$.i(X-1)>>>31;return new x(z,$.h)}function Wt($,G){var z=G>>5;G%=32;for(var X=$.g.length-z,Q=[],ot=0;ot<X;ot++)Q[ot]=0<G?$.i(ot+z)>>>G|$.i(ot+z+1)<<32-G:$.i(ot+z);return new x(Q,$.h)}c.prototype.digest=c.prototype.v,c.prototype.reset=c.prototype.s,c.prototype.update=c.prototype.u,P2=c,x.prototype.add=x.prototype.add,x.prototype.multiply=x.prototype.j,x.prototype.modulo=x.prototype.A,x.prototype.compare=x.prototype.l,x.prototype.toNumber=x.prototype.m,x.prototype.toString=x.prototype.toString,x.prototype.getBits=x.prototype.i,x.fromNumber=C,x.fromString=P,Jo=x}).apply(typeof Im<"u"?Im:typeof self<"u"?self:typeof window<"u"?window:{});var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L2,rc,B2,ih,g1,k2,V2,U2;(function(){var l,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,N){return y==Array.prototype||y==Object.prototype||(y[R]=N.value),y};function a(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xf=="object"&&Xf];for(var R=0;R<y.length;++R){var N=y[R];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var c=a(this);function d(y,R){if(R)t:{var N=c;y=y.split(".");for(var U=0;U<y.length-1;U++){var ut=y[U];if(!(ut in N))break t;N=N[ut]}y=y[y.length-1],U=N[y],R=R(U),R!=U&&R!=null&&e(N,y,{configurable:!0,writable:!0,value:R})}}function m(y,R){y instanceof String&&(y+="");var N=0,U=!1,ut={next:function(){if(!U&&N<y.length){var pt=N++;return{value:R(pt,y[pt]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ut[Symbol.iterator]=function(){return ut},ut}d("Array.prototype.values",function(y){return y||function(){return m(this,function(R,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var x=x||{},T=this||self;function S(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function C(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function P(y,R,N){return y.call.apply(y.bind,arguments)}function B(y,R,N){if(!y)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ut=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ut,U),y.apply(R,ut)}}return function(){return y.apply(R,arguments)}}function L(y,R,N){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P:B,L.apply(null,arguments)}function W(y,R){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),y.apply(this,U)}}function Y(y,R){function N(){}N.prototype=R.prototype,y.aa=R.prototype,y.prototype=new N,y.prototype.constructor=y,y.Qb=function(U,ut,pt){for(var bt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)bt[Jt-2]=arguments[Jt];return R.prototype[ut].apply(U,bt)}}function at(y){const R=y.length;if(0<R){const N=Array(R);for(let U=0;U<R;U++)N[U]=y[U];return N}return[]}function ct(y,R){for(let N=1;N<arguments.length;N++){const U=arguments[N];if(S(U)){const ut=y.length||0,pt=U.length||0;y.length=ut+pt;for(let bt=0;bt<pt;bt++)y[ut+bt]=U[bt]}else y.push(U)}}class it{constructor(R,N){this.i=R,this.j=N,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function At(y){return/^[\s\xa0]*$/.test(y)}function Tt(){var y=T.navigator;return y&&(y=y.userAgent)?y:""}function Ut(y){return Ut[" "](y),y}Ut[" "]=function(){};var Mt=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function Wt(y,R,N){for(const U in y)R.call(N,y[U],U,y)}function $(y,R){for(const N in y)R.call(void 0,y[N],N,y)}function G(y){const R={};for(const N in y)R[N]=y[N];return R}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(y,R){let N,U;for(let ut=1;ut<arguments.length;ut++){U=arguments[ut];for(N in U)y[N]=U[N];for(let pt=0;pt<z.length;pt++)N=z[pt],Object.prototype.hasOwnProperty.call(U,N)&&(y[N]=U[N])}}function Q(y){var R=1;y=y.split(":");const N=[];for(;0<R&&y.length;)N.push(y.shift()),R--;return y.length&&N.push(y.join(":")),N}function ot(y){T.setTimeout(()=>{throw y},0)}function F(){var y=le;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class je{constructor(){this.h=this.g=null}add(R,N){const U=Yt.get();U.set(R,N),this.h?this.h.next=U:this.g=U,this.h=U}}var Yt=new it(()=>new It,y=>y.reset());class It{constructor(){this.next=this.g=this.h=null}set(R,N){this.h=R,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let Qt,zt=!1,le=new je,K=()=>{const y=T.Promise.resolve(void 0);Qt=()=>{y.then(mt)}};var mt=()=>{for(var y;y=F();){try{y.h.call(y.g)}catch(N){ot(N)}var R=Yt;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}zt=!1};function Nt(){this.s=this.s,this.C=this.C}Nt.prototype.s=!1,Nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const N=()=>{};T.addEventListener("test",N,R),T.removeEventListener("test",N,R)}catch{}return y}();function se(y,R){if(Dt.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var N=this.type=y.type,U=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(Mt){t:{try{Ut(R.nodeName);var ut=!0;break t}catch{}ut=!1}ut||(R=null)}}else N=="mouseover"?R=y.fromElement:N=="mouseout"&&(R=y.toElement);this.relatedTarget=R,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:ae[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&se.aa.h.call(this)}}Y(se,Dt);var ae={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),we=0;function Be(y,R,N,U,ut){this.listener=y,this.proxy=null,this.src=R,this.type=N,this.capture=!!U,this.ha=ut,this.key=++we,this.da=this.fa=!1}function Me(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function mn(y){this.src=y,this.g={},this.h=0}mn.prototype.add=function(y,R,N,U,ut){var pt=y.toString();y=this.g[pt],y||(y=this.g[pt]=[],this.h++);var bt=gr(y,R,U,ut);return-1<bt?(R=y[bt],N||(R.fa=!1)):(R=new Be(R,this.src,pt,!!U,ut),R.fa=N,y.push(R)),R};function di(y,R){var N=R.type;if(N in y.g){var U=y.g[N],ut=Array.prototype.indexOf.call(U,R,void 0),pt;(pt=0<=ut)&&Array.prototype.splice.call(U,ut,1),pt&&(Me(R),y.g[N].length==0&&(delete y.g[N],y.h--))}}function gr(y,R,N,U){for(var ut=0;ut<y.length;++ut){var pt=y[ut];if(!pt.da&&pt.listener==R&&pt.capture==!!N&&pt.ha==U)return ut}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),Ye={};function qe(y,R,N,U,ut){if(Array.isArray(R)){for(var pt=0;pt<R.length;pt++)qe(y,R[pt],N,U,ut);return null}return N=Ui(N),y&&y[nn]?y.K(R,N,C(U)?!!U.capture:!1,ut):cs(y,R,N,!1,U,ut)}function cs(y,R,N,U,ut,pt){if(!R)throw Error("Invalid event type");var bt=C(ut)?!!ut.capture:!!ut,Jt=$e(y);if(Jt||(y[Vi]=Jt=new mn(y)),N=Jt.add(R,N,U,bt,pt),N.proxy)return N;if(U=Rr(),N.proxy=U,U.src=y,U.listener=N,y.addEventListener)et||(ut=bt),ut===void 0&&(ut=!1),y.addEventListener(R.toString(),U,ut);else if(y.attachEvent)y.attachEvent(qt(R.toString()),U);else if(y.addListener&&y.removeListener)y.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Rr(){function y(N){return R.call(y.src,y.listener,N)}const R=fs;return y}function hn(y,R,N,U,ut){if(Array.isArray(R))for(var pt=0;pt<R.length;pt++)hn(y,R[pt],N,U,ut);else U=C(U)?!!U.capture:!!U,N=Ui(N),y&&y[nn]?(y=y.i,R=String(R).toString(),R in y.g&&(pt=y.g[R],N=gr(pt,N,U,ut),-1<N&&(Me(pt[N]),Array.prototype.splice.call(pt,N,1),pt.length==0&&(delete y.g[R],y.h--)))):y&&(y=$e(y))&&(R=y.g[R.toString()],y=-1,R&&(y=gr(R,N,U,ut)),(N=-1<y?R[y]:null)&&pi(N))}function pi(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[nn])di(R.i,y);else{var N=y.type,U=y.proxy;R.removeEventListener?R.removeEventListener(N,U,y.capture):R.detachEvent?R.detachEvent(qt(N),U):R.addListener&&R.removeListener&&R.removeListener(U),(N=$e(R))?(di(N,y),N.h==0&&(N.src=null,R[Vi]=null)):Me(y)}}}function qt(y){return y in Ye?Ye[y]:Ye[y]="on"+y}function fs(y,R){if(y.da)y=!0;else{R=new se(R,this);var N=y.listener,U=y.ha||y.src;y.fa&&pi(y),y=N.call(U,R)}return y}function $e(y){return y=y[Vi],y instanceof mn?y:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(y){return typeof y=="function"?y:(y[Sn]||(y[Sn]=function(R){return y.handleEvent(R)}),y[Sn])}function ke(){Nt.call(this),this.i=new mn(this),this.M=this,this.F=null}Y(ke,Nt),ke.prototype[nn]=!0,ke.prototype.removeEventListener=function(y,R,N,U){hn(this,y,R,N,U)};function yn(y,R){var N,U=y.F;if(U)for(N=[];U;U=U.F)N.push(U);if(y=y.M,U=R.type||R,typeof R=="string")R=new Dt(R,y);else if(R instanceof Dt)R.target=R.target||y;else{var ut=R;R=new Dt(U,y),X(R,ut)}if(ut=!0,N)for(var pt=N.length-1;0<=pt;pt--){var bt=R.g=N[pt];ut=Yr(bt,U,!0,R)&&ut}if(bt=R.g=y,ut=Yr(bt,U,!0,R)&&ut,ut=Yr(bt,U,!1,R)&&ut,N)for(pt=0;pt<N.length;pt++)bt=R.g=N[pt],ut=Yr(bt,U,!1,R)&&ut}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var N=y.g[R],U=0;U<N.length;U++)Me(N[U]);delete y.g[R],y.h--}}this.F=null},ke.prototype.K=function(y,R,N,U){return this.i.add(String(y),R,!1,N,U)},ke.prototype.L=function(y,R,N,U){return this.i.add(String(y),R,!0,N,U)};function Yr(y,R,N,U){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var ut=!0,pt=0;pt<R.length;++pt){var bt=R[pt];if(bt&&!bt.da&&bt.capture==N){var Jt=bt.listener,ee=bt.ha||bt.src;bt.fa&&di(y.i,bt),ut=Jt.call(ee,U)!==!1&&ut}}return ut&&!U.defaultPrevented}function su(y,R,N){if(typeof y=="function")N&&(y=L(y,N));else if(y&&typeof y.handleEvent=="function")y=L(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:T.setTimeout(y,R||0)}function _n(y){y.g=su(()=>{y.g=null,y.i&&(y.i=!1,_n(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class dl extends Nt{constructor(R,N){super(),this.m=R,this.l=N,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(y){Nt.call(this),this.h=y,this.g={}}Y(Kr,Nt);var Fi=[];function Ke(y){Wt(y.g,function(R,N){this.g.hasOwnProperty(N)&&pi(R)},y),y.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Ke(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=T.JSON.stringify,Ve=T.JSON.parse,Nn=class{stringify(y){return T.JSON.stringify(y,void 0)}parse(y){return T.JSON.parse(y,void 0)}};function he(){}he.prototype.h=null;function fo(y){return y.h||(y.h=y.i())}function Vt(){}var vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){Dt.call(this,"d")}Y(zi,Dt);function Or(){Dt.call(this,"c")}Y(Or,Dt);var $n={},gi=null;function Aa(){return gi=gi||new ke}$n.La="serverreachability";function hs(y){Dt.call(this,$n.La,y)}Y(hs,Dt);function Gi(y){const R=Aa();yn(R,new hs(R))}$n.STAT_EVENT="statevent";function ji(y,R){Dt.call(this,$n.STAT_EVENT,y),this.stat=R}Y(ji,Dt);function ye(y){const R=Aa();yn(R,new ji(R,y))}$n.Ma="timingevent";function uu(y,R){Dt.call(this,$n.Ma,y),this.size=R}Y(uu,Dt);function Dr(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){y()},R)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function rn(y,R,N,U,ut,pt){y.info(function(){if(y.g)if(pt)for(var bt="",Jt=pt.split("&"),ee=0;ee<Jt.length;ee++){var Ee=Jt[ee].split("=");if(1<Ee.length){var dn=Ee[0];Ee=Ee[1];var sn=dn.split("_");bt=2<=sn.length&&sn[1]=="type"?bt+(dn+"="+Ee+"&"):bt+(dn+"=redacted&")}}else bt=null;else bt=pt;return"XMLHTTP REQ ("+U+") [attempt "+ut+"]: "+R+`
`+N+`
`+bt})}function lu(y,R,N,U,ut,pt,bt){y.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ut+"]: "+R+`
`+N+`
`+pt+" "+bt})}function vi(y,R,N,U){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+an(y,N)+(U?" "+U:"")})}function Wr(y,R){y.info(function(){return"TIMEOUT: "+R})}qi.prototype.info=function(){};function an(y,R){if(!y.g)return R;if(!R)return null;try{var N=JSON.parse(R);if(N){for(y=0;y<N.length;y++)if(Array.isArray(N[y])){var U=N[y];if(!(2>U.length)){var ut=U[1];if(Array.isArray(ut)&&!(1>ut.length)){var pt=ut[0];if(pt!="noop"&&pt!="stop"&&pt!="close")for(var bt=1;bt<ut.length;bt++)ut[bt]=""}}}}return Hi(N)}catch{return R}}var on={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wa;function Ta(){}Y(Ta,he),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},wa=new Ta;function Qr(y,R,N,U){this.j=y,this.i=R,this.l=N,this.R=U||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var Xi={},Sa={};function Nr(y,R,N){y.L=1,y.v=Ra(We(R)),y.m=N,y.P=!0,yi(y,null)}function yi(y,R){y.F=Date.now(),oe(y),y.A=We(y.v);var N=y.A,U=y.R;Array.isArray(U)||(U=[String(U)]),Ti(N.i,"t",U),y.C=0,N=y.j.J,y.h=new $r,y.g=Ri(y.j,N?R:null,!y.m),0<y.O&&(y.M=new dl(L(y.Y,y,y.g),y.O)),R=y.U,N=y.g,U=y.ca;var ut="readystatechange";Array.isArray(ut)||(ut&&(Fi[0]=ut.toString()),ut=Fi);for(var pt=0;pt<ut.length;pt++){var bt=qe(N,ut[pt],U||R.handleEvent,!1,R.h||R);if(!bt)break;R.g[bt.key]=bt}R=y.H?G(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),Gi(),rn(y.i,y.u,y.A,y.l,y.R,y.m)}Qr.prototype.ca=function(y){y=y.target;const R=this.M;R&&Ar(y)==3?R.j():this.Y(y)},Qr.prototype.Y=function(y){try{if(y==this.g)t:{const sn=Ar(this.g);var R=this.g.Ba();const Oi=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||sn!=4||R==7||(R==8||0>=Oi?Gi(3):Gi(2)),Ca(this);var N=this.g.Z();this.X=N;e:if(Yi(this)){var U=du(this.g);y="";var ut=U.length,pt=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Fn(this);var bt="";break e}this.h.i=new T.TextDecoder}for(R=0;R<ut;R++)this.h.h=!0,y+=this.h.i.decode(U[R],{stream:!(pt&&R==ut-1)});U.length=0,this.h.g+=y,this.C=0,bt=this.h.g}else bt=this.g.oa();if(this.o=N==200,lu(this.i,this.u,this.A,this.l,this.R,sn,N),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,ee=this.g;if((Jt=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Jt)){var Ee=Jt;break e}}Ee=null}if(N=Ee)vi(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jn(this,N);else{this.o=!1,this.s=3,ye(12),Zn(this),Fn(this);break t}}if(this.P){N=!0;let In;for(;!this.J&&this.C<bt.length;)if(In=Ki(this,bt),In==Sa){sn==4&&(this.s=4,ye(14),N=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Xi){this.s=4,ye(15),vi(this.i,this.l,bt,"[Invalid Chunk]"),N=!1;break}else vi(this.i,this.l,In,null),Jn(this,In);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||bt.length!=0||this.h.h||(this.s=1,ye(16),N=!1),this.o=this.o&&N,!N)vi(this.i,this.l,bt,"[Invalid Chunked Response]"),Zn(this),Fn(this);else if(0<bt.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+bt.length),ta(dn),dn.M=!0,ye(11))}}else vi(this.i,this.l,bt,null),Jn(this,bt);sn==4&&Zn(this),this.o&&!this.J&&(sn==4?vu(this.j,this):(this.o=!1,oe(this)))}else vl(this.g),N==400&&0<bt.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),Zn(this),Fn(this)}}}catch{}finally{}};function Yi(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Ki(y,R){var N=y.C,U=R.indexOf(`
`,N);return U==-1?Sa:(N=Number(R.substring(N,U)),isNaN(N)?Xi:(U+=1,U+N>R.length?Sa:(R=R.slice(U,U+N),y.C=U+N,R)))}Qr.prototype.cancel=function(){this.J=!0,Zn(this)};function oe(y){y.S=Date.now()+y.I,ds(y,y.I)}function ds(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Dr(L(y.ba,y),R)}function Ca(y){y.B&&(T.clearTimeout(y.B),y.B=null)}Qr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Wr(this.i,this.A),this.L!=2&&(Gi(),ye(17)),Zn(this),this.s=2,Fn(this)):ds(this,this.S-y)};function Fn(y){y.j.G==0||y.J||vu(y.j,y)}function Zn(y){Ca(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,Ke(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function Jn(y,R){try{var N=y.j;if(N.G!=0&&(N.g==y||Wi(N.h,y))){if(!y.K&&Wi(N.h,y)&&N.G==3){try{var U=N.Da.g.parse(R)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ut=U;if(ut[0]==0){t:if(!N.u){if(N.g)if(N.g.F+3e3<y.F)mo(N),Lr(N);else break t;ws(N),ye(18)}}else N.za=ut[1],0<N.za-N.T&&37500>ut[2]&&N.F&&N.v==0&&!N.C&&(N.C=Dr(L(N.Za,N),6e3));if(1>=fu(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else bi(N,11)}else if((y.K||N.g==y)&&mo(N),!At(R))for(ut=N.Da.g.parse(R),R=0;R<ut.length;R++){let Ee=ut[R];if(N.T=Ee[0],Ee=Ee[1],N.G==2)if(Ee[0]=="c"){N.K=Ee[1],N.ia=Ee[2];const dn=Ee[3];dn!=null&&(N.la=dn,N.j.info("VER="+N.la));const sn=Ee[4];sn!=null&&(N.Aa=sn,N.j.info("SVER="+N.Aa));const Oi=Ee[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(U=1.5*Oi,N.L=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const In=y.g;if(In){const ri=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var pt=U.h;pt.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(pt.j=pt.l,pt.g=new Set,pt.h&&(_i(pt,pt.h),pt.h=null))}if(U.D){const Ss=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Ss&&(U.ya=Ss,_e(U.I,U.D,Ss))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-y.F,N.j.info("Handshake RTT: "+N.R+"ms")),U=N;var bt=y;if(U.qa=mu(U,U.J?U.ia:null,U.W),bt.K){mr(U.h,bt);var Jt=bt,ee=U.L;ee&&(Jt.I=ee),Jt.B&&(Ca(Jt),oe(Jt)),U.g=bt}else As(U);0<N.i.length&&Na(N)}else Ee[0]!="stop"&&Ee[0]!="close"||bi(N,7);else N.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?bi(N,7):xs(N):Ee[0]!="noop"&&N.l&&N.l.ta(Ee),N.v=0)}}Gi(4)}catch{}}var cu=class{constructor(y,R){this.g=y,this.map=R}};function ps(y){this.l=y||10,T.PerformanceNavigationTiming?(y=T.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gs(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function fu(y){return y.h?1:y.g?y.g.size:0}function Wi(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function _i(y,R){y.g?y.g.add(R):y.h=R}function mr(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}ps.prototype.cancel=function(){if(this.i=Mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Mn(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const N of y.g.values())R=R.concat(N.D);return R}return at(y.i)}function ho(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(S(y)){for(var R=[],N=y.length,U=0;U<N;U++)R.push(y[U]);return R}R=[],N=0;for(U in y)R[N++]=y[U];return R}function pl(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(S(y)||typeof y=="string"){var R=[];y=y.length;for(var N=0;N<y;N++)R.push(N);return R}R=[],N=0;for(const U in y)R[N++]=U;return R}}}function Ia(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(S(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var N=pl(y),U=ho(y),ut=U.length,pt=0;pt<ut;pt++)R.call(void 0,U[pt],N&&N[pt],y)}var Mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ei(y,R){if(y){y=y.split("&");for(var N=0;N<y.length;N++){var U=y[N].indexOf("="),ut=null;if(0<=U){var pt=y[N].substring(0,U);ut=y[N].substring(U+1)}else pt=y[N];R(pt,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}function Zr(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Zr){this.h=y.h,sr(this,y.j),this.o=y.o,this.g=y.g,ba(this,y.s),this.l=y.l;var R=y.i,N=new Pr;N.i=R.i,R.g&&(N.g=new Map(R.g),N.h=R.h),yr(this,N),this.m=y.m}else y&&(R=String(y).match(Mr))?(this.h=!1,sr(this,R[1]||"",!0),this.o=En(R[2]||""),this.g=En(R[3]||"",!0),ba(this,R[4]),this.l=En(R[5]||"",!0),yr(this,R[6]||"",!0),this.m=En(R[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Zr.prototype.toString=function(){var y=[],R=this.j;R&&y.push(_r(R,vs,!0),":");var N=this.g;return(N||R=="file")&&(y.push("//"),(R=this.o)&&y.push(_r(R,vs,!0),"@"),y.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&y.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&y.push("/"),y.push(_r(N,N.charAt(0)=="/"?Qi:Ai,!0))),(N=this.i.toString())&&y.push("?",N),(N=this.m)&&y.push("#",_r(N,po)),y.join("")};function We(y){return new Zr(y)}function sr(y,R,N){y.j=N?En(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function ba(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function yr(y,R,N){R instanceof Pr?(y.i=R,ms(y.i,y.h)):(N||(R=_r(R,gl)),y.i=new Pr(R,y.h))}function _e(y,R,N){y.i.set(R,N)}function Ra(y){return _e(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function En(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function _r(y,R,N){return typeof y=="string"?(y=encodeURI(y).replace(R,xi),N&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function xi(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var vs=/[#\/\?@]/g,Ai=/[#\?:]/g,Qi=/[#\?]/g,gl=/[#\?@]/g,po=/#/g;function Pr(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function Er(y){y.g||(y.g=new Map,y.h=0,y.i&&Ei(y.i,function(R,N){y.add(decodeURIComponent(R.replace(/\+/g," ")),N)}))}l=Pr.prototype,l.add=function(y,R){Er(this),this.i=null,y=Si(this,y);var N=this.g.get(y);return N||this.g.set(y,N=[]),N.push(R),this.h+=1,this};function Pn(y,R){Er(y),R=Si(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function wi(y,R){return Er(y),R=Si(y,R),y.g.has(R)}l.forEach=function(y,R){Er(this),this.g.forEach(function(N,U){N.forEach(function(ut){y.call(R,ut,U,this)},this)},this)},l.na=function(){Er(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),N=[];for(let U=0;U<R.length;U++){const ut=y[U];for(let pt=0;pt<ut.length;pt++)N.push(R[U])}return N},l.V=function(y){Er(this);let R=[];if(typeof y=="string")wi(this,y)&&(R=R.concat(this.g.get(Si(this,y))));else{y=Array.from(this.g.values());for(let N=0;N<y.length;N++)R=R.concat(y[N])}return R},l.set=function(y,R){return Er(this),this.i=null,y=Si(this,y),wi(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},l.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function Ti(y,R,N){Pn(y,R),0<N.length&&(y.i=null,y.g.set(Si(y,R),at(N)),y.h+=N.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var N=0;N<R.length;N++){var U=R[N];const pt=encodeURIComponent(String(U)),bt=this.V(U);for(U=0;U<bt.length;U++){var ut=pt;bt[U]!==""&&(ut+="="+encodeURIComponent(String(bt[U]))),y.push(ut)}}return this.i=y.join("&")};function Si(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function ms(y,R){R&&!y.j&&(Er(y),y.i=null,y.g.forEach(function(N,U){var ut=U.toLowerCase();U!=ut&&(Pn(this,U),Ti(this,ut,N))},y)),y.j=R}function hu(y,R){const N=new qi;if(T.Image){const U=new Image;U.onload=W(xr,N,"TestLoadImage: loaded",!0,R,U),U.onerror=W(xr,N,"TestLoadImage: error",!1,R,U),U.onabort=W(xr,N,"TestLoadImage: abort",!1,R,U),U.ontimeout=W(xr,N,"TestLoadImage: timeout",!1,R,U),T.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=y}else R(!1)}function Jr(y,R){const N=new qi,U=new AbortController,ut=setTimeout(()=>{U.abort(),xr(N,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:U.signal}).then(pt=>{clearTimeout(ut),pt.ok?xr(N,"TestPingServer: ok",!0,R):xr(N,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ut),xr(N,"TestPingServer: error",!1,R)})}function xr(y,R,N,U,ut){try{ut&&(ut.onload=null,ut.onerror=null,ut.onabort=null,ut.ontimeout=null),U(N)}catch{}}function $i(){this.g=new Nn}function ti(y,R,N){const U=N||"";try{Ia(y,function(ut,pt){let bt=ut;C(ut)&&(bt=Hi(ut)),R.push(U+pt+"="+encodeURIComponent(bt))})}catch(ut){throw R.push(U+"type="+encodeURIComponent("_badmap")),ut}}function Zi(y){this.l=y.Ub||null,this.j=y.eb||!1}Y(Zi,he),Zi.prototype.g=function(){return new Ci(this.l,this.j)},Zi.prototype.i=function(y){return function(){return y}}({});function Ci(y,R){ke.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ci,ke),l=Ci.prototype,l.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,ni(this)},l.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||T).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},l.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ys(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function ys(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}l.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?ei(this):ni(this),this.readyState==3&&ys(this)}},l.Ra=function(y){this.g&&(this.response=this.responseText=y,ei(this))},l.Qa=function(y){this.g&&(this.response=y,ei(this))},l.ga=function(){this.g&&ei(this)};function ei(y){y.readyState=4,y.l=null,y.j=null,y.v=null,ni(y)}l.setRequestHeader=function(y,R){this.u.append(y,R)},l.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var N=R.next();!N.done;)N=N.value,y.push(N[0]+": "+N[1]),N=R.next();return y.join(`\r
`)};function ni(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function _s(y){let R="";return Wt(y,function(N,U){R+=U,R+=":",R+=N,R+=`\r
`}),R}function xn(y,R,N){t:{for(U in N){var U=!1;break t}U=!0}U||(N=_s(N),typeof y=="string"?N!=null&&encodeURIComponent(String(N)):_e(y,R,N))}function Oe(y){ke.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Oe,ke);var ur=/^https?$/i,Oa=["POST","PUT"];l=Oe.prototype,l.Ha=function(y){this.J=y},l.ea=function(y,R,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wa.g(),this.v=this.o?fo(this.o):fo(wa),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(pt){Es(this,pt);return}if(y=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ut in U)N.set(ut,U[ut]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const pt of U.keys())N.set(pt,U.get(pt));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(pt=>pt.toLowerCase()=="content-type"),ut=T.FormData&&y instanceof T.FormData,!(0<=Array.prototype.indexOf.call(Oa,R,void 0))||U||ut||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pt,bt]of N)this.g.setRequestHeader(pt,bt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(y),this.u=!1}catch(pt){Es(this,pt)}};function Es(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,go(y),Cn(y)}function go(y){y.A||(y.A=!0,yn(y,"complete"),yn(y,"error"))}l.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,yn(this,"complete"),yn(this,"abort"),Cn(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),Oe.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},l.bb=function(){vo(this)};function vo(y){if(y.h&&typeof x<"u"&&(!y.v[1]||Ar(y)!=4||y.Z()!=2)){if(y.u&&Ar(y)==4)su(y.Ea,0,y);else if(yn(y,"readystatechange"),Ar(y)==4){y.h=!1;try{const bt=y.Z();t:switch(bt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break t;default:R=!1}var N;if(!(N=R)){var U;if(U=bt===0){var ut=String(y.D).match(Mr)[1]||null;!ut&&T.self&&T.self.location&&(ut=T.self.location.protocol.slice(0,-1)),U=!ur.test(ut?ut.toLowerCase():"")}N=U}if(N)yn(y,"complete"),yn(y,"success");else{y.m=6;try{var pt=2<Ar(y)?y.g.statusText:""}catch{pt=""}y.l=pt+" ["+y.Z()+"]",go(y)}}finally{Cn(y)}}}}function Cn(y,R){if(y.g){Ji(y);const N=y.g,U=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||yn(y,"ready");try{N.onreadystatechange=U}catch{}}}function Ji(y){y.I&&(T.clearTimeout(y.I),y.I=null)}l.isActive=function(){return!!this.g};function Ar(y){return y.g?y.g.readyState:0}l.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Ve(R)}};function du(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function vl(y){const R={};y=(y.g&&2<=Ar(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<y.length;U++){if(At(y[U]))continue;var N=Q(y[U]);const ut=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const pt=R[ut]||[];R[ut]=pt,pt.push(N)}$(R,function(U){return U.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(y,R,N){return N&&N.internalChannelParams&&N.internalChannelParams[y]||R}function Da(y){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,y),this.cb=Ii("retryDelaySeedMs",1e4,y),this.Wa=Ii("forwardChannelMaxRetries",2,y),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(y&&y.concurrentRequestLimit),this.Da=new $i,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=Da.prototype,l.la=8,l.G=1,l.connect=function(y,R,N,U){ye(0),this.W=y,this.H=R||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.I=mu(this,null,this.W),Na(this)};function xs(y){if(pu(y),y.G==3){var R=y.U++,N=We(y.I);if(_e(N,"SID",y.K),_e(N,"RID",R),_e(N,"TYPE","terminate"),Ma(y,N),R=new Qr(y,y.j,R),R.L=2,R.v=Ra(We(N)),N=!1,T.navigator&&T.navigator.sendBeacon)try{N=T.navigator.sendBeacon(R.v.toString(),"")}catch{}!N&&T.Image&&(new Image().src=R.v,N=!0),N||(R.g=Ri(R.j,null),R.g.ea(R.v)),R.F=Date.now(),oe(R)}Pa(y)}function Lr(y){y.g&&(ta(y),y.g.cancel(),y.g=null)}function pu(y){Lr(y),y.u&&(T.clearTimeout(y.u),y.u=null),mo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&T.clearTimeout(y.s),y.s=null)}function Na(y){if(!gs(y.h)&&!y.s){y.s=!0;var R=y.Ga;Qt||K(),zt||(Qt(),zt=!0),le.add(R,y),y.B=0}}function Ie(y,R){return fu(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Dr(L(y.Ga,y,R),Ts(y,y.B)),y.B++,!0)}l.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ut=new Qr(this,this.j,y);let pt=this.o;if(this.S&&(pt?(pt=G(pt),X(pt,this.S)):pt=this.S),this.m!==null||this.O||(ut.H=pt,pt=null),this.P)t:{for(var R=0,N=0;N<this.i.length;N++){e:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break e}U=void 0}if(U===void 0)break;if(R+=U,4096<R){R=N;break t}if(R===4096||N===this.i.length-1){R=N+1;break t}}R=1e3}else R=1e3;R=gu(this,ut,R),N=We(this.I),_e(N,"RID",y),_e(N,"CVER",22),this.D&&_e(N,"X-HTTP-Session-Id",this.D),Ma(this,N),pt&&(this.O?R="headers="+encodeURIComponent(String(_s(pt)))+"&"+R:this.m&&xn(N,this.m,pt)),_i(this.h,ut),this.Ua&&_e(N,"TYPE","init"),this.P?(_e(N,"$req",R),_e(N,"SID","null"),ut.T=!0,Nr(ut,N,null)):Nr(ut,N,R),this.G=2}}else this.G==3&&(y?ve(this,y):this.i.length==0||gs(this.h)||ve(this))};function ve(y,R){var N;R?N=R.l:N=y.U++;const U=We(y.I);_e(U,"SID",y.K),_e(U,"RID",N),_e(U,"AID",y.T),Ma(y,U),y.m&&y.o&&xn(U,y.m,y.o),N=new Qr(y,y.j,N,y.B+1),y.m===null&&(N.H=y.o),R&&(y.i=R.D.concat(y.i)),R=gu(y,N,1e3),N.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),_i(y.h,N),Nr(N,U,R)}function Ma(y,R){y.H&&Wt(y.H,function(N,U){_e(R,U,N)}),y.l&&Ia({},function(N,U){_e(R,U,N)})}function gu(y,R,N){N=Math.min(y.i.length,N);var U=y.l?L(y.l.Na,y.l,y):null;t:{var ut=y.i;let pt=-1;for(;;){const bt=["count="+N];pt==-1?0<N?(pt=ut[0].g,bt.push("ofs="+pt)):pt=0:bt.push("ofs="+pt);let Jt=!0;for(let ee=0;ee<N;ee++){let Ee=ut[ee].g;const dn=ut[ee].map;if(Ee-=pt,0>Ee)pt=Math.max(0,ut[ee].g-100),Jt=!1;else try{ti(dn,bt,"req"+Ee+"_")}catch{U&&U(dn)}}if(Jt){U=bt.join("&");break t}}}return y=y.i.splice(0,N),R.D=y,U}function As(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;Qt||K(),zt||(Qt(),zt=!0),le.add(R,y),y.v=0}}function ws(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Dr(L(y.Fa,y),Ts(y,y.v)),y.v++,!0)}l.Fa=function(){if(this.u=null,Qe(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Dr(L(this.ab,this),y)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),Lr(this),Qe(this))};function ta(y){y.A!=null&&(T.clearTimeout(y.A),y.A=null)}function Qe(y){y.g=new Qr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=We(y.qa);_e(R,"RID","rpc"),_e(R,"SID",y.K),_e(R,"AID",y.T),_e(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&_e(R,"TO",y.ja),_e(R,"TYPE","xmlhttp"),Ma(y,R),y.m&&y.o&&xn(R,y.m,y.o),y.L&&(y.g.I=y.L);var N=y.g;y=y.ia,N.L=1,N.v=Ra(We(R)),N.m=null,N.P=!0,yi(N,y)}l.Za=function(){this.C!=null&&(this.C=null,Lr(this),ws(this),ye(19))};function mo(y){y.C!=null&&(T.clearTimeout(y.C),y.C=null)}function vu(y,R){var N=null;if(y.g==R){mo(y),ta(y),y.g=null;var U=2}else if(Wi(y.h,R))N=R.D,mr(y.h,R),U=1;else return;if(y.G!=0){if(R.o)if(U==1){N=R.m?R.m.length:0,R=Date.now()-R.F;var ut=y.B;U=Aa(),yn(U,new uu(U,N)),Na(y)}else As(y);else if(ut=R.s,ut==3||ut==0&&0<R.X||!(U==1&&Ie(y,R)||U==2&&ws(y)))switch(N&&0<N.length&&(R=y.h,R.i=R.i.concat(N)),ut){case 1:bi(y,5);break;case 4:bi(y,10);break;case 3:bi(y,6);break;default:bi(y,2)}}}function Ts(y,R){let N=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(N*=2),N*R}function bi(y,R){if(y.j.info("Error code "+R),R==2){var N=L(y.fb,y),U=y.Xa;const ut=!U;U=new Zr(U||"//www.google.com/images/cleardot.gif"),T.location&&T.location.protocol=="http"||sr(U,"https"),Ra(U),ut?hu(U.toString(),N):Jr(U.toString(),N)}else ye(2);y.G=0,y.l&&y.l.sa(R),Pa(y),pu(y)}l.fb=function(y){y?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Pa(y){if(y.G=0,y.ka=[],y.l){const R=Mn(y.h);(R.length!=0||y.i.length!=0)&&(ct(y.ka,R),ct(y.ka,y.i),y.h.i.length=0,at(y.i),y.i.length=0),y.l.ra()}}function mu(y,R,N){var U=N instanceof Zr?We(N):new Zr(N);if(U.g!="")R&&(U.g=R+"."+U.g),ba(U,U.s);else{var ut=T.location;U=ut.protocol,R=R?R+"."+ut.hostname:ut.hostname,ut=+ut.port;var pt=new Zr(null);U&&sr(pt,U),R&&(pt.g=R),ut&&ba(pt,ut),N&&(pt.l=N),U=pt}return N=y.D,R=y.ya,N&&R&&_e(U,N,R),_e(U,"VER",y.la),Ma(y,U),U}function Ri(y,R,N){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new Oe(new Zi({eb:N})):new Oe(y.pa),R.Ha(y.J),R}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function ea(){}l=ea.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function yo(){}yo.prototype.g=function(y,R){return new Ln(y,R)};function Ln(y,R){ke.call(this),this.g=new Da(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!At(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!At(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new H(this)}Y(Ln,ke),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){xs(this.g)},Ln.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var N={};N.__data__=y,y=N}else this.u&&(N={},N.__data__=Hi(y),y=N);R.i.push(new cu(R.Ya++,y)),R.G==3&&Na(R)},Ln.prototype.N=function(){this.g.l=null,delete this.j,xs(this.g),delete this.g,Ln.aa.N.call(this)};function yu(y){zi.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){t:{for(const N in R){y=N;break t}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}Y(yu,zi);function lt(){Or.call(this),this.status=1}Y(lt,Or);function H(y){this.g=y}Y(H,ea),H.prototype.ua=function(){yn(this.g,"a")},H.prototype.ta=function(y){yn(this.g,new yu(y))},H.prototype.sa=function(y){yn(this.g,new lt)},H.prototype.ra=function(){yn(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,U2=function(){return new yo},V2=function(){return Aa()},k2=$n,g1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,ih=on,mi.COMPLETE="complete",B2=mi,Vt.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",ke.prototype.listen=ke.prototype.K,rc=Vt,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,L2=Oe}).apply(typeof Xf<"u"?Xf:typeof self<"u"?self:typeof window<"u"?window:{});const bm="@firebase/firestore",Rm="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new H1("@firebase/firestore");function Uu(){return eu.logLevel}function Pt(l,...e){if(eu.logLevel<=xe.DEBUG){const a=e.map(j1);eu.debug(`Firestore (${sl}): ${l}`,...a)}}function ao(l,...e){if(eu.logLevel<=xe.ERROR){const a=e.map(j1);eu.error(`Firestore (${sl}): ${l}`,...a)}}function Wu(l,...e){if(eu.logLevel<=xe.WARN){const a=e.map(j1);eu.warn(`Firestore (${sl}): ${l}`,...a)}}function j1(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(l="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+l;throw ao(e),new Error(e)}function Pe(l,e){l||Zt()}function ie(l,e){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends co{constructor(e,a){super(e,a),this.code=e,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,a)=>{this.resolve=e,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,a){e.enqueueRetryable(()=>a(ir.UNAUTHENTICATED))}shutdown(){}}class m3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,a){this.changeListener=a,e.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class y3{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,a){Pe(this.o===void 0);let c=this.i;const d=S=>this.i!==c?(c=this.i,a(S)):Promise.resolve();let m=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new ts,e.enqueueRetryable(()=>d(this.currentUser))};const x=()=>{const S=m;e.enqueueRetryable(async()=>{await S.promise,await d(this.currentUser)})},T=S=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.o&&(this.auth.addAuthTokenListener(this.o),x())};this.t.onInit(S=>T(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?T(S):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new ts)}},0),x()}getToken(){const e=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(c=>this.i!==e?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(Pe(typeof c.accessToken=="string"),new F2(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new ir(e)}}class _3{constructor(e,a,c){this.l=e,this.h=a,this.P=c,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class E3{constructor(e,a,c){this.l=e,this.h=a,this.P=c}getToken(){return Promise.resolve(new _3(this.l,this.h,this.P))}start(e,a){e.enqueueRetryable(()=>a(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Om{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x3{constructor(e,a){this.A=a,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,da(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,a){Pe(this.o===void 0);const c=m=>{m.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const x=m.token!==this.R;return this.R=m.token,Pt("FirebaseAppCheckTokenProvider",`Received ${x?"new":"existing"} token.`),x?a(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>c(m))};const d=m=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>d(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?d(m):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Om(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(a=>a?(Pe(typeof a.token=="string"),this.R=a.token,new Om(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(l){const e=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(a);else for(let c=0;c<l;c++)a[c]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let c="";for(;c.length<20;){const d=A3(40);for(let m=0;m<d.length;++m)c.length<20&&d[m]<a&&(c+=e.charAt(d[m]%62))}return c}}function Ce(l,e){return l<e?-1:l>e?1:0}function Qu(l,e,a){return l.length===e.length&&l.every((c,d)=>a(c,e[d]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-62135596800,Nm=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const a=Math.floor(e/1e3),c=Math.floor((e-1e3*a)*Nm);return new On(a,c)}constructor(e,a){if(this.seconds=e,this.nanoseconds=a,a<0)throw new kt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new kt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(e<Dm)throw new kt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nm}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Dm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new On(0,0))}static max(){return new ne(new On(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="__name__";class ha{constructor(e,a,c){a===void 0?a=0:a>e.length&&Zt(),c===void 0?c=e.length-a:c>e.length-a&&Zt(),this.segments=e,this.offset=a,this.len=c}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const a=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach(c=>{a.push(c)}):a.push(e),this.construct(a)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==e.get(a))return!1;return!0}forEach(e){for(let a=this.offset,c=this.limit();a<c;a++)e(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,a){const c=Math.min(e.length,a.length);for(let d=0;d<c;d++){const m=ha.compareSegments(e.get(d),a.get(d));if(m!==0)return m}return Math.sign(e.length-a.length)}static compareSegments(e,a){const c=ha.isNumericId(e),d=ha.isNumericId(a);return c&&!d?-1:!c&&d?1:c&&d?ha.extractNumericId(e).compare(ha.extractNumericId(a)):e<a?-1:e>a?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jo.fromString(e.substring(4,e.length-2))}}class Xe extends ha{construct(e,a,c){return new Xe(e,a,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const a=[];for(const c of e){if(c.indexOf("//")>=0)throw new kt(wt.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);a.push(...c.split("/").filter(d=>d.length>0))}return new Xe(a)}static emptyPath(){return new Xe([])}}const w3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends ha{construct(e,a,c){return new Wn(e,a,c)}static isValidIdentifier(e){return w3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mm}static keyField(){return new Wn([Mm])}static fromServerFormat(e){const a=[];let c="",d=0;const m=()=>{if(c.length===0)throw new kt(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(c),c=""};let x=!1;for(;d<e.length;){const T=e[d];if(T==="\\"){if(d+1===e.length)throw new kt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[d+1];if(S!=="\\"&&S!=="."&&S!=="`")throw new kt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=S,d+=2}else T==="`"?(x=!x,d++):T!=="."||x?(c+=T,d++):(m(),d++)}if(m(),x)throw new kt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(a)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(Xe.fromString(e))}static fromName(e){return new Kt(Xe.fromString(e).popFirst(5))}static empty(){return new Kt(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,a){return Xe.comparator(e.path,a.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function T3(l,e){const a=l.toTimestamp().seconds,c=l.toTimestamp().nanoseconds+1,d=ne.fromTimestamp(c===1e9?new On(a+1,0):new On(a,c));return new ns(d,Kt.empty(),e)}function S3(l){return new ns(l.readTime,l.key,pc)}class ns{constructor(e,a,c){this.readTime=e,this.documentKey=a,this.largestBatchId=c}static min(){return new ns(ne.min(),Kt.empty(),pc)}static max(){return new ns(ne.max(),Kt.empty(),pc)}}function C3(l,e){let a=l.readTime.compareTo(e.readTime);return a!==0?a:(a=Kt.comparator(l.documentKey,e.documentKey),a!==0?a:Ce(l.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(l){if(l.code!==wt.FAILED_PRECONDITION||l.message!==I3)throw l;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(e){return this.next(void 0,e)}next(e,a){return this.callbackAttached&&Zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(e,this.result):new xt((c,d)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(c,d)},this.catchCallback=m=>{this.wrapFailure(a,m).next(c,d)}})}toPromise(){return new Promise((e,a)=>{this.next(e,a)})}wrapUserFunction(e){try{const a=e();return a instanceof xt?a:xt.resolve(a)}catch(a){return xt.reject(a)}}wrapSuccess(e,a){return e?this.wrapUserFunction(()=>e(a)):xt.resolve(a)}wrapFailure(e,a){return e?this.wrapUserFunction(()=>e(a)):xt.reject(a)}static resolve(e){return new xt((a,c)=>{a(e)})}static reject(e){return new xt((a,c)=>{c(e)})}static waitFor(e){return new xt((a,c)=>{let d=0,m=0,x=!1;e.forEach(T=>{++d,T.next(()=>{++m,x&&m===d&&a()},S=>c(S))}),x=!0,m===d&&a()})}static or(e){let a=xt.resolve(!1);for(const c of e)a=a.next(d=>d?xt.resolve(d):c());return a}static forEach(e,a){const c=[];return e.forEach((d,m)=>{c.push(a.call(this,d,m))}),this.waitFor(c)}static mapArray(e,a){return new xt((c,d)=>{const m=e.length,x=new Array(m);let T=0;for(let S=0;S<m;S++){const C=S;a(e[C]).next(P=>{x[C]=P,++T,T===m&&c(x)},P=>d(P))}})}static doWhile(e,a){return new xt((c,d)=>{const m=()=>{e()===!0?a().next(()=>{m()},d):c()};m()})}}function R3(l){const e=l.match(/Android ([\d.]+)/i),a=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function ll(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,a){this.previousValue=e,a&&(a.sequenceNumberHandler=c=>this.oe(c),this._e=c=>a.writeSequenceNumber(c))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=-1;function Vh(l){return l==null}function mh(l){return l===0&&1/l==-1/0}function O3(l){return typeof l=="number"&&Number.isInteger(l)&&!mh(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="";function D3(l){let e="";for(let a=0;a<l.length;a++)e.length>0&&(e=Pm(e)),e=N3(l.get(a),e);return Pm(e)}function N3(l,e){let a=e;const c=l.length;for(let d=0;d<c;d++){const m=l.charAt(d);switch(m){case"\0":a+="";break;case z2:a+="";break;default:a+=m}}return a}function Pm(l){return l+z2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(l){let e=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&e++;return e}function us(l,e){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&e(a,l[a])}function G2(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,a){this.comparator=e,this.root=a||Kn.EMPTY}insert(e,a){return new en(this.comparator,this.root.insert(e,a,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let a=this.root;for(;!a.isEmpty();){const c=this.comparator(e,a.key);if(c===0)return a.value;c<0?a=a.left:c>0&&(a=a.right)}return null}indexOf(e){let a=0,c=this.root;for(;!c.isEmpty();){const d=this.comparator(e,c.key);if(d===0)return a+c.left.size;d<0?c=c.left:(a+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((a,c)=>(e(a,c),!1))}toString(){const e=[];return this.inorderTraversal((a,c)=>(e.push(`${a}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yf(this.root,e,this.comparator,!0)}}class Yf{constructor(e,a,c,d){this.isReverse=d,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=a?c(e.key,a):1,a&&d&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(m===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const a={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,a,c,d,m){this.key=e,this.value=a,this.color=c??Kn.RED,this.left=d??Kn.EMPTY,this.right=m??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,a,c,d,m){return new Kn(e??this.key,a??this.value,c??this.color,d??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,a,c){let d=this;const m=c(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,a,c),null):m===0?d.copy(null,a,null,null,null):d.copy(null,null,null,null,d.right.insert(e,a,c)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,a){let c,d=this;if(a(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,a),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),a(e,d.key)===0){if(d.right.isEmpty())return Kn.EMPTY;c=d.right.min(),d=d.copy(c.key,c.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,a))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,a)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zt();const e=this.left.check();if(e!==this.right.check())throw Zt();return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt()}get value(){throw Zt()}get color(){throw Zt()}get left(){throw Zt()}get right(){throw Zt()}copy(e,a,c,d,m){return this}insert(e,a,c){return new Kn(e,a)}remove(e,a){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((a,c)=>(e(a),!1))}forEachInRange(e,a){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const d=c.getNext();if(this.comparator(d.key,e[1])>=0)return;a(d.key)}}forEachWhile(e,a){let c;for(c=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const a=this.data.getIteratorFrom(e);return a.hasNext()?a.getNext().key:null}getIterator(){return new Bm(this.data.getIterator())}getIteratorFrom(e){return new Bm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let a=this;return a.size<e.size&&(a=e,e=this),e.forEach(c=>{a=a.add(c)}),a}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const a=this.data.getIterator(),c=e.data.getIterator();for(;a.hasNext();){const d=a.getNext().key,m=c.getNext().key;if(this.comparator(d,m)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(a=>{e.push(a)}),e}toString(){const e=[];return this.forEach(a=>e.push(a)),"SortedSet("+e.toString()+")"}copy(e){const a=new Dn(this.comparator);return a.data=e,a}}class Bm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new qr([])}unionWith(e){let a=new Dn(Wn.comparator);for(const c of this.fields)a=a.add(c);for(const c of e)a=a.add(c);return new qr(a.toArray())}covers(e){for(const a of this.fields)if(a.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(a,c)=>a.isEqual(c))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const a=function(d){try{return atob(d)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new j2("Invalid base64 string: "+m):m}}(e);return new Qn(a)}static fromUint8Array(e){const a=function(d){let m="";for(let x=0;x<d.length;++x)m+=String.fromCharCode(d[x]);return m}(e);return new Qn(a)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(a){return btoa(a)}(this.binaryString)}toUint8Array(){return function(a){const c=new Uint8Array(a.length);for(let d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const M3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(l){if(Pe(!!l),typeof l=="string"){let e=0;const a=M3.exec(l);if(Pe(!!a),a[1]){let d=a[1];d=(d+"000000000").substr(0,9),e=Number(d)}const c=new Date(l);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:vn(l.seconds),nanos:vn(l.nanos)}}function vn(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function is(l){return typeof l=="string"?Qn.fromBase64String(l):Qn.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="server_timestamp",X2="__type__",Y2="__previous_value__",K2="__local_write_time__";function X1(l){var e,a;return((a=(((e=l==null?void 0:l.mapValue)===null||e===void 0?void 0:e.fields)||{})[X2])===null||a===void 0?void 0:a.stringValue)===q2}function Uh(l){const e=l.mapValue.fields[Y2];return X1(e)?Uh(e):e}function gc(l){const e=rs(l.mapValue.fields[K2].timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,a,c,d,m,x,T,S,C){this.databaseId=e,this.appId=a,this.persistenceKey=c,this.host=d,this.ssl=m,this.forceLongPolling=x,this.autoDetectLongPolling=T,this.longPollingOptions=S,this.useFetchStreams=C}}const yh="(default)";class vc{constructor(e,a){this.projectId=e,this.database=a||yh}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="__type__",L3="__max__",Kf={mapValue:{}},Q2="__vector__",_h="value";function as(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?X1(l)?4:k3(l)?9007199254740991:B3(l)?10:11:Zt()}function Ea(l,e){if(l===e)return!0;const a=as(l);if(a!==as(e))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return gc(l).isEqual(gc(e));case 3:return function(d,m){if(typeof d.timestampValue=="string"&&typeof m.timestampValue=="string"&&d.timestampValue.length===m.timestampValue.length)return d.timestampValue===m.timestampValue;const x=rs(d.timestampValue),T=rs(m.timestampValue);return x.seconds===T.seconds&&x.nanos===T.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return function(d,m){return is(d.bytesValue).isEqual(is(m.bytesValue))}(l,e);case 7:return l.referenceValue===e.referenceValue;case 8:return function(d,m){return vn(d.geoPointValue.latitude)===vn(m.geoPointValue.latitude)&&vn(d.geoPointValue.longitude)===vn(m.geoPointValue.longitude)}(l,e);case 2:return function(d,m){if("integerValue"in d&&"integerValue"in m)return vn(d.integerValue)===vn(m.integerValue);if("doubleValue"in d&&"doubleValue"in m){const x=vn(d.doubleValue),T=vn(m.doubleValue);return x===T?mh(x)===mh(T):isNaN(x)&&isNaN(T)}return!1}(l,e);case 9:return Qu(l.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:case 11:return function(d,m){const x=d.mapValue.fields||{},T=m.mapValue.fields||{};if(Lm(x)!==Lm(T))return!1;for(const S in x)if(x.hasOwnProperty(S)&&(T[S]===void 0||!Ea(x[S],T[S])))return!1;return!0}(l,e);default:return Zt()}}function mc(l,e){return(l.values||[]).find(a=>Ea(a,e))!==void 0}function $u(l,e){if(l===e)return 0;const a=as(l),c=as(e);if(a!==c)return Ce(a,c);switch(a){case 0:case 9007199254740991:return 0;case 1:return Ce(l.booleanValue,e.booleanValue);case 2:return function(m,x){const T=vn(m.integerValue||m.doubleValue),S=vn(x.integerValue||x.doubleValue);return T<S?-1:T>S?1:T===S?0:isNaN(T)?isNaN(S)?0:-1:1}(l,e);case 3:return km(l.timestampValue,e.timestampValue);case 4:return km(gc(l),gc(e));case 5:return Ce(l.stringValue,e.stringValue);case 6:return function(m,x){const T=is(m),S=is(x);return T.compareTo(S)}(l.bytesValue,e.bytesValue);case 7:return function(m,x){const T=m.split("/"),S=x.split("/");for(let C=0;C<T.length&&C<S.length;C++){const P=Ce(T[C],S[C]);if(P!==0)return P}return Ce(T.length,S.length)}(l.referenceValue,e.referenceValue);case 8:return function(m,x){const T=Ce(vn(m.latitude),vn(x.latitude));return T!==0?T:Ce(vn(m.longitude),vn(x.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return Vm(l.arrayValue,e.arrayValue);case 10:return function(m,x){var T,S,C,P;const B=m.fields||{},L=x.fields||{},W=(T=B[_h])===null||T===void 0?void 0:T.arrayValue,Y=(S=L[_h])===null||S===void 0?void 0:S.arrayValue,at=Ce(((C=W==null?void 0:W.values)===null||C===void 0?void 0:C.length)||0,((P=Y==null?void 0:Y.values)===null||P===void 0?void 0:P.length)||0);return at!==0?at:Vm(W,Y)}(l.mapValue,e.mapValue);case 11:return function(m,x){if(m===Kf.mapValue&&x===Kf.mapValue)return 0;if(m===Kf.mapValue)return 1;if(x===Kf.mapValue)return-1;const T=m.fields||{},S=Object.keys(T),C=x.fields||{},P=Object.keys(C);S.sort(),P.sort();for(let B=0;B<S.length&&B<P.length;++B){const L=Ce(S[B],P[B]);if(L!==0)return L;const W=$u(T[S[B]],C[P[B]]);if(W!==0)return W}return Ce(S.length,P.length)}(l.mapValue,e.mapValue);default:throw Zt()}}function km(l,e){if(typeof l=="string"&&typeof e=="string"&&l.length===e.length)return Ce(l,e);const a=rs(l),c=rs(e),d=Ce(a.seconds,c.seconds);return d!==0?d:Ce(a.nanos,c.nanos)}function Vm(l,e){const a=l.values||[],c=e.values||[];for(let d=0;d<a.length&&d<c.length;++d){const m=$u(a[d],c[d]);if(m)return m}return Ce(a.length,c.length)}function Zu(l){return v1(l)}function v1(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(a){const c=rs(a);return`time(${c.seconds},${c.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(a){return is(a).toBase64()}(l.bytesValue):"referenceValue"in l?function(a){return Kt.fromName(a).toString()}(l.referenceValue):"geoPointValue"in l?function(a){return`geo(${a.latitude},${a.longitude})`}(l.geoPointValue):"arrayValue"in l?function(a){let c="[",d=!0;for(const m of a.values||[])d?d=!1:c+=",",c+=v1(m);return c+"]"}(l.arrayValue):"mapValue"in l?function(a){const c=Object.keys(a.fields||{}).sort();let d="{",m=!0;for(const x of c)m?m=!1:d+=",",d+=`${x}:${v1(a.fields[x])}`;return d+"}"}(l.mapValue):Zt()}function ah(l){switch(as(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(l);return e?16+ah(e):16;case 5:return 2*l.stringValue.length;case 6:return is(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(c){return(c.values||[]).reduce((d,m)=>d+ah(m),0)}(l.arrayValue);case 10:case 11:return function(c){let d=0;return us(c.fields,(m,x)=>{d+=m.length+ah(x)}),d}(l.mapValue);default:throw Zt()}}function Um(l,e){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${e.path.canonicalString()}`}}function m1(l){return!!l&&"integerValue"in l}function Y1(l){return!!l&&"arrayValue"in l}function Fm(l){return!!l&&"nullValue"in l}function Hm(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function oh(l){return!!l&&"mapValue"in l}function B3(l){var e,a;return((a=(((e=l==null?void 0:l.mapValue)===null||e===void 0?void 0:e.fields)||{})[W2])===null||a===void 0?void 0:a.stringValue)===Q2}function sc(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return us(l.mapValue.fields,(a,c)=>e.mapValue.fields[a]=sc(c)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)e.arrayValue.values[a]=sc(l.arrayValue.values[a]);return e}return Object.assign({},l)}function k3(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===L3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let a=this.value;for(let c=0;c<e.length-1;++c)if(a=(a.mapValue.fields||{})[e.get(c)],!oh(a))return null;return a=(a.mapValue.fields||{})[e.lastSegment()],a||null}}set(e,a){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(a)}setAll(e){let a=Wn.emptyPath(),c={},d=[];e.forEach((x,T)=>{if(!a.isImmediateParentOf(T)){const S=this.getFieldsMap(a);this.applyChanges(S,c,d),c={},d=[],a=T.popLast()}x?c[T.lastSegment()]=sc(x):d.push(T.lastSegment())});const m=this.getFieldsMap(a);this.applyChanges(m,c,d)}delete(e){const a=this.field(e.popLast());oh(a)&&a.mapValue.fields&&delete a.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let c=0;c<e.length;++c){let d=a.mapValue.fields[e.get(c)];oh(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},a.mapValue.fields[e.get(c)]=d),a=d}return a.mapValue.fields}applyChanges(e,a,c){us(a,(d,m)=>e[d]=m);for(const d of c)delete e[d]}clone(){return new br(sc(this.value))}}function $2(l){const e=[];return us(l.fields,(a,c)=>{const d=new Wn([a]);if(oh(c)){const m=$2(c.mapValue).fields;if(m.length===0)e.push(d);else for(const x of m)e.push(d.child(x))}else e.push(d)}),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,a,c,d,m,x,T){this.key=e,this.documentType=a,this.version=c,this.readTime=d,this.createTime=m,this.data=x,this.documentState=T}static newInvalidDocument(e){return new ar(e,0,ne.min(),ne.min(),ne.min(),br.empty(),0)}static newFoundDocument(e,a,c,d){return new ar(e,1,a,ne.min(),c,d,0)}static newNoDocument(e,a){return new ar(e,2,a,ne.min(),ne.min(),br.empty(),0)}static newUnknownDocument(e,a){return new ar(e,3,a,ne.min(),ne.min(),br.empty(),2)}convertToFoundDocument(e,a){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,a){this.position=e,this.inclusive=a}}function zm(l,e,a){let c=0;for(let d=0;d<l.position.length;d++){const m=e[d],x=l.position[d];if(m.field.isKeyField()?c=Kt.comparator(Kt.fromName(x.referenceValue),a.key):c=$u(x,a.data.field(m.field)),m.dir==="desc"&&(c*=-1),c!==0)break}return c}function Gm(l,e){if(l===null)return e===null;if(e===null||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!Ea(l.position[a],e.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,a="asc"){this.field=e,this.dir=a}}function V3(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{}class Tn extends Z2{constructor(e,a,c){super(),this.field=e,this.op=a,this.value=c}static create(e,a,c){return e.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(e,a,c):new F3(e,a,c):a==="array-contains"?new G3(e,c):a==="in"?new j3(e,c):a==="not-in"?new q3(e,c):a==="array-contains-any"?new X3(e,c):new Tn(e,a,c)}static createKeyFieldInFilter(e,a,c){return a==="in"?new H3(e,c):new z3(e,c)}matches(e){const a=e.data.field(this.field);return this.op==="!="?a!==null&&this.matchesComparison($u(a,this.value)):a!==null&&as(this.value)===as(a)&&this.matchesComparison($u(a,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends Z2{constructor(e,a){super(),this.filters=e,this.op=a,this.ce=null}static create(e,a){return new ki(e,a)}matches(e){return J2(this)?this.filters.find(a=>!a.matches(e))===void 0:this.filters.find(a=>a.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,a)=>e.concat(a.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function J2(l){return l.op==="and"}function t_(l){return U3(l)&&J2(l)}function U3(l){for(const e of l.filters)if(e instanceof ki)return!1;return!0}function y1(l){if(l instanceof Tn)return l.field.canonicalString()+l.op.toString()+Zu(l.value);if(t_(l))return l.filters.map(e=>y1(e)).join(",");{const e=l.filters.map(a=>y1(a)).join(",");return`${l.op}(${e})`}}function e_(l,e){return l instanceof Tn?function(c,d){return d instanceof Tn&&c.op===d.op&&c.field.isEqual(d.field)&&Ea(c.value,d.value)}(l,e):l instanceof ki?function(c,d){return d instanceof ki&&c.op===d.op&&c.filters.length===d.filters.length?c.filters.reduce((m,x,T)=>m&&e_(x,d.filters[T]),!0):!1}(l,e):void Zt()}function n_(l){return l instanceof Tn?function(a){return`${a.field.canonicalString()} ${a.op} ${Zu(a.value)}`}(l):l instanceof ki?function(a){return a.op.toString()+" {"+a.getFilters().map(n_).join(" ,")+"}"}(l):"Filter"}class F3 extends Tn{constructor(e,a,c){super(e,a,c),this.key=Kt.fromName(c.referenceValue)}matches(e){const a=Kt.comparator(e.key,this.key);return this.matchesComparison(a)}}class H3 extends Tn{constructor(e,a){super(e,"in",a),this.keys=r_("in",a)}matches(e){return this.keys.some(a=>a.isEqual(e.key))}}class z3 extends Tn{constructor(e,a){super(e,"not-in",a),this.keys=r_("not-in",a)}matches(e){return!this.keys.some(a=>a.isEqual(e.key))}}function r_(l,e){var a;return(((a=e.arrayValue)===null||a===void 0?void 0:a.values)||[]).map(c=>Kt.fromName(c.referenceValue))}class G3 extends Tn{constructor(e,a){super(e,"array-contains",a)}matches(e){const a=e.data.field(this.field);return Y1(a)&&mc(a.arrayValue,this.value)}}class j3 extends Tn{constructor(e,a){super(e,"in",a)}matches(e){const a=e.data.field(this.field);return a!==null&&mc(this.value.arrayValue,a)}}class q3 extends Tn{constructor(e,a){super(e,"not-in",a)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=e.data.field(this.field);return a!==null&&!mc(this.value.arrayValue,a)}}class X3 extends Tn{constructor(e,a){super(e,"array-contains-any",a)}matches(e){const a=e.data.field(this.field);return!(!Y1(a)||!a.arrayValue.values)&&a.arrayValue.values.some(c=>mc(this.value.arrayValue,c))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,a=null,c=[],d=[],m=null,x=null,T=null){this.path=e,this.collectionGroup=a,this.orderBy=c,this.filters=d,this.limit=m,this.startAt=x,this.endAt=T,this.le=null}}function jm(l,e=null,a=[],c=[],d=null,m=null,x=null){return new Y3(l,e,a,c,d,m,x)}function K1(l){const e=ie(l);if(e.le===null){let a=e.path.canonicalString();e.collectionGroup!==null&&(a+="|cg:"+e.collectionGroup),a+="|f:",a+=e.filters.map(c=>y1(c)).join(","),a+="|ob:",a+=e.orderBy.map(c=>function(m){return m.field.canonicalString()+m.dir}(c)).join(","),Vh(e.limit)||(a+="|l:",a+=e.limit),e.startAt&&(a+="|lb:",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(c=>Zu(c)).join(",")),e.endAt&&(a+="|ub:",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(c=>Zu(c)).join(",")),e.le=a}return e.le}function W1(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<l.orderBy.length;a++)if(!V3(l.orderBy[a],e.orderBy[a]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let a=0;a<l.filters.length;a++)if(!e_(l.filters[a],e.filters[a]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!Gm(l.startAt,e.startAt)&&Gm(l.endAt,e.endAt)}function _1(l){return Kt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,a=null,c=[],d=[],m=null,x="F",T=null,S=null){this.path=e,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=d,this.limit=m,this.limitType=x,this.startAt=T,this.endAt=S,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function K3(l,e,a,c,d,m,x,T){return new Ic(l,e,a,c,d,m,x,T)}function i_(l){return new Ic(l)}function qm(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function a_(l){return l.collectionGroup!==null}function uc(l){const e=ie(l);if(e.he===null){e.he=[];const a=new Set;for(const m of e.explicitOrderBy)e.he.push(m),a.add(m.field.canonicalString());const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(x){let T=new Dn(Wn.comparator);return x.filters.forEach(S=>{S.getFlattenedFilters().forEach(C=>{C.isInequality()&&(T=T.add(C.field))})}),T})(e).forEach(m=>{a.has(m.canonicalString())||m.isKeyField()||e.he.push(new xh(m,c))}),a.has(Wn.keyField().canonicalString())||e.he.push(new xh(Wn.keyField(),c))}return e.he}function pa(l){const e=ie(l);return e.Pe||(e.Pe=W3(e,uc(l))),e.Pe}function W3(l,e){if(l.limitType==="F")return jm(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(d=>{const m=d.dir==="desc"?"asc":"desc";return new xh(d.field,m)});const a=l.endAt?new Eh(l.endAt.position,l.endAt.inclusive):null,c=l.startAt?new Eh(l.startAt.position,l.startAt.inclusive):null;return jm(l.path,l.collectionGroup,e,l.filters,l.limit,a,c)}}function E1(l,e){const a=l.filters.concat([e]);return new Ic(l.path,l.collectionGroup,l.explicitOrderBy.slice(),a,l.limit,l.limitType,l.startAt,l.endAt)}function x1(l,e,a){return new Ic(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,a,l.startAt,l.endAt)}function Fh(l,e){return W1(pa(l),pa(e))&&l.limitType===e.limitType}function o_(l){return`${K1(pa(l))}|lt:${l.limitType}`}function Fu(l){return`Query(target=${function(a){let c=a.path.canonicalString();return a.collectionGroup!==null&&(c+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(c+=`, filters: [${a.filters.map(d=>n_(d)).join(", ")}]`),Vh(a.limit)||(c+=", limit: "+a.limit),a.orderBy.length>0&&(c+=`, orderBy: [${a.orderBy.map(d=>function(x){return`${x.field.canonicalString()} (${x.dir})`}(d)).join(", ")}]`),a.startAt&&(c+=", startAt: ",c+=a.startAt.inclusive?"b:":"a:",c+=a.startAt.position.map(d=>Zu(d)).join(",")),a.endAt&&(c+=", endAt: ",c+=a.endAt.inclusive?"a:":"b:",c+=a.endAt.position.map(d=>Zu(d)).join(",")),`Target(${c})`}(pa(l))}; limitType=${l.limitType})`}function Hh(l,e){return e.isFoundDocument()&&function(c,d){const m=d.key.path;return c.collectionGroup!==null?d.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(m):Kt.isDocumentKey(c.path)?c.path.isEqual(m):c.path.isImmediateParentOf(m)}(l,e)&&function(c,d){for(const m of uc(c))if(!m.field.isKeyField()&&d.data.field(m.field)===null)return!1;return!0}(l,e)&&function(c,d){for(const m of c.filters)if(!m.matches(d))return!1;return!0}(l,e)&&function(c,d){return!(c.startAt&&!function(x,T,S){const C=zm(x,T,S);return x.inclusive?C<=0:C<0}(c.startAt,uc(c),d)||c.endAt&&!function(x,T,S){const C=zm(x,T,S);return x.inclusive?C>=0:C>0}(c.endAt,uc(c),d))}(l,e)}function Q3(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function s_(l){return(e,a)=>{let c=!1;for(const d of uc(l)){const m=$3(d,e,a);if(m!==0)return m;c=c||d.field.isKeyField()}return 0}}function $3(l,e,a){const c=l.field.isKeyField()?Kt.comparator(e.key,a.key):function(m,x,T){const S=x.data.field(m),C=T.data.field(m);return S!==null&&C!==null?$u(S,C):Zt()}(l.field,e,a);switch(l.dir){case"asc":return c;case"desc":return-1*c;default:return Zt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,a){this.mapKeyFn=e,this.equalsFn=a,this.inner={},this.innerSize=0}get(e){const a=this.mapKeyFn(e),c=this.inner[a];if(c!==void 0){for(const[d,m]of c)if(this.equalsFn(d,e))return m}}has(e){return this.get(e)!==void 0}set(e,a){const c=this.mapKeyFn(e),d=this.inner[c];if(d===void 0)return this.inner[c]=[[e,a]],void this.innerSize++;for(let m=0;m<d.length;m++)if(this.equalsFn(d[m][0],e))return void(d[m]=[e,a]);d.push([e,a]),this.innerSize++}delete(e){const a=this.mapKeyFn(e),c=this.inner[a];if(c===void 0)return!1;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return c.length===1?delete this.inner[a]:c.splice(d,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(a,c)=>{for(const[d,m]of c)e(d,m)})}isEmpty(){return G2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new en(Kt.comparator);function oo(){return Z3}const u_=new en(Kt.comparator);function ic(...l){let e=u_;for(const a of l)e=e.insert(a.key,a);return e}function l_(l){let e=u_;return l.forEach((a,c)=>e=e.insert(a,c.overlayedDocument)),e}function $s(){return lc()}function c_(){return lc()}function lc(){return new au(l=>l.toString(),(l,e)=>l.isEqual(e))}const J3=new en(Kt.comparator),tS=new Dn(Kt.comparator);function Ae(...l){let e=tS;for(const a of l)e=e.add(a);return e}const eS=new Dn(Ce);function nS(){return eS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function f_(l){return{integerValue:""+l}}function rS(l,e){return O3(e)?f_(e):Q1(l,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function iS(l,e,a){return l instanceof Ah?function(d,m){const x={fields:{[X2]:{stringValue:q2},[K2]:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return m&&X1(m)&&(m=Uh(m)),m&&(x.fields[Y2]=m),{mapValue:x}}(a,e):l instanceof yc?d_(l,e):l instanceof _c?p_(l,e):function(d,m){const x=h_(d,m),T=Xm(x)+Xm(d.Ie);return m1(x)&&m1(d.Ie)?f_(T):Q1(d.serializer,T)}(l,e)}function aS(l,e,a){return l instanceof yc?d_(l,e):l instanceof _c?p_(l,e):a}function h_(l,e){return l instanceof wh?function(c){return m1(c)||function(m){return!!m&&"doubleValue"in m}(c)}(e)?e:{integerValue:0}:null}class Ah extends zh{}class yc extends zh{constructor(e){super(),this.elements=e}}function d_(l,e){const a=g_(e);for(const c of l.elements)a.some(d=>Ea(d,c))||a.push(c);return{arrayValue:{values:a}}}class _c extends zh{constructor(e){super(),this.elements=e}}function p_(l,e){let a=g_(e);for(const c of l.elements)a=a.filter(d=>!Ea(d,c));return{arrayValue:{values:a}}}class wh extends zh{constructor(e,a){super(),this.serializer=e,this.Ie=a}}function Xm(l){return vn(l.integerValue||l.doubleValue)}function g_(l){return Y1(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function oS(l,e){return l.field.isEqual(e.field)&&function(c,d){return c instanceof yc&&d instanceof yc||c instanceof _c&&d instanceof _c?Qu(c.elements,d.elements,Ea):c instanceof wh&&d instanceof wh?Ea(c.Ie,d.Ie):c instanceof Ah&&d instanceof Ah}(l.transform,e.transform)}class sS{constructor(e,a){this.version=e,this.transformResults=a}}class ga{constructor(e,a){this.updateTime=e,this.exists=a}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(l,e){return l.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(l.updateTime):l.exists===void 0||l.exists===e.isFoundDocument()}class Gh{}function v_(l,e){if(!l.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return l.isNoDocument()?new y_(l.key,ga.none()):new bc(l.key,l.data,ga.none());{const a=l.data,c=br.empty();let d=new Dn(Wn.comparator);for(let m of e.fields)if(!d.has(m)){let x=a.field(m);x===null&&m.length>1&&(m=m.popLast(),x=a.field(m)),x===null?c.delete(m):c.set(m,x),d=d.add(m)}return new ls(l.key,c,new qr(d.toArray()),ga.none())}}function uS(l,e,a){l instanceof bc?function(d,m,x){const T=d.value.clone(),S=Km(d.fieldTransforms,m,x.transformResults);T.setAll(S),m.convertToFoundDocument(x.version,T).setHasCommittedMutations()}(l,e,a):l instanceof ls?function(d,m,x){if(!sh(d.precondition,m))return void m.convertToUnknownDocument(x.version);const T=Km(d.fieldTransforms,m,x.transformResults),S=m.data;S.setAll(m_(d)),S.setAll(T),m.convertToFoundDocument(x.version,S).setHasCommittedMutations()}(l,e,a):function(d,m,x){m.convertToNoDocument(x.version).setHasCommittedMutations()}(0,e,a)}function cc(l,e,a,c){return l instanceof bc?function(m,x,T,S){if(!sh(m.precondition,x))return T;const C=m.value.clone(),P=Wm(m.fieldTransforms,S,x);return C.setAll(P),x.convertToFoundDocument(x.version,C).setHasLocalMutations(),null}(l,e,a,c):l instanceof ls?function(m,x,T,S){if(!sh(m.precondition,x))return T;const C=Wm(m.fieldTransforms,S,x),P=x.data;return P.setAll(m_(m)),P.setAll(C),x.convertToFoundDocument(x.version,P).setHasLocalMutations(),T===null?null:T.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(B=>B.field))}(l,e,a,c):function(m,x,T){return sh(m.precondition,x)?(x.convertToNoDocument(x.version).setHasLocalMutations(),null):T}(l,e,a)}function lS(l,e){let a=null;for(const c of l.fieldTransforms){const d=e.data.field(c.field),m=h_(c.transform,d||null);m!=null&&(a===null&&(a=br.empty()),a.set(c.field,m))}return a||null}function Ym(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&!!function(c,d){return c===void 0&&d===void 0||!(!c||!d)&&Qu(c,d,(m,x)=>oS(m,x))}(l.fieldTransforms,e.fieldTransforms)&&(l.type===0?l.value.isEqual(e.value):l.type!==1||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask))}class bc extends Gh{constructor(e,a,c,d=[]){super(),this.key=e,this.value=a,this.precondition=c,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}class ls extends Gh{constructor(e,a,c,d,m=[]){super(),this.key=e,this.data=a,this.fieldMask=c,this.precondition=d,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function m_(l){const e=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const c=l.data.field(a);e.set(a,c)}}),e}function Km(l,e,a){const c=new Map;Pe(l.length===a.length);for(let d=0;d<a.length;d++){const m=l[d],x=m.transform,T=e.data.field(m.field);c.set(m.field,aS(x,T,a[d]))}return c}function Wm(l,e,a){const c=new Map;for(const d of l){const m=d.transform,x=a.data.field(d.field);c.set(d.field,iS(m,x,e))}return c}class y_ extends Gh{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cS extends Gh{constructor(e,a){super(),this.key=e,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,a,c,d){this.batchId=e,this.localWriteTime=a,this.baseMutations=c,this.mutations=d}applyToRemoteDocument(e,a){const c=a.mutationResults;for(let d=0;d<this.mutations.length;d++){const m=this.mutations[d];m.key.isEqual(e.key)&&uS(m,e,c[d])}}applyToLocalView(e,a){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(a=cc(c,e,a,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(a=cc(c,e,a,this.localWriteTime));return a}applyToLocalDocumentSet(e,a){const c=c_();return this.mutations.forEach(d=>{const m=e.get(d.key),x=m.overlayedDocument;let T=this.applyToLocalView(x,m.mutatedFields);T=a.has(d.key)?null:T;const S=v_(x,T);S!==null&&c.set(d.key,S),x.isValidDocument()||x.convertToNoDocument(ne.min())}),c}keys(){return this.mutations.reduce((e,a)=>e.add(a.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(a,c)=>Ym(a,c))&&Qu(this.baseMutations,e.baseMutations,(a,c)=>Ym(a,c))}}class $1{constructor(e,a,c,d){this.batch=e,this.commitVersion=a,this.mutationResults=c,this.docVersions=d}static from(e,a,c){Pe(e.mutations.length===c.length);let d=function(){return J3}();const m=e.mutations;for(let x=0;x<m.length;x++)d=d.insert(m[x].key,c[x].version);return new $1(e,a,c,d)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,a){this.largestBatchId=e,this.mutation=a}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,a){this.count=e,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,Re;function pS(l){switch(l){case wt.OK:return Zt();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0;default:return Zt()}}function __(l){if(l===void 0)return ao("GRPC error has no .code"),wt.UNKNOWN;switch(l){case wn.OK:return wt.OK;case wn.CANCELLED:return wt.CANCELLED;case wn.UNKNOWN:return wt.UNKNOWN;case wn.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case wn.INTERNAL:return wt.INTERNAL;case wn.UNAVAILABLE:return wt.UNAVAILABLE;case wn.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case wn.NOT_FOUND:return wt.NOT_FOUND;case wn.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case wn.ABORTED:return wt.ABORTED;case wn.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case wn.DATA_LOSS:return wt.DATA_LOSS;default:return Zt()}}(Re=wn||(wn={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new Jo([4294967295,4294967295],0);function Qm(l){const e=gS().encode(l),a=new P2;return a.update(e),new Uint8Array(a.digest())}function $m(l){const e=new DataView(l.buffer),a=e.getUint32(0,!0),c=e.getUint32(4,!0),d=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Jo([a,c],0),new Jo([d,m],0)]}class Z1{constructor(e,a,c){if(this.bitmap=e,this.padding=a,this.hashCount=c,a<0||a>=8)throw new ac(`Invalid padding: ${a}`);if(c<0)throw new ac(`Invalid hash count: ${c}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${c}`);if(e.length===0&&a!==0)throw new ac(`Invalid padding when bitmap length is 0: ${a}`);this.Ee=8*e.length-a,this.de=Jo.fromNumber(this.Ee)}Ae(e,a,c){let d=e.add(a.multiply(Jo.fromNumber(c)));return d.compare(vS)===1&&(d=new Jo([d.getBits(0),d.getBits(1)],0)),d.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const a=Qm(e),[c,d]=$m(a);for(let m=0;m<this.hashCount;m++){const x=this.Ae(c,d,m);if(!this.Re(x))return!1}return!0}static create(e,a,c){const d=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),x=new Z1(m,d,a);return c.forEach(T=>x.insert(T)),x}insert(e){if(this.Ee===0)return;const a=Qm(e),[c,d]=$m(a);for(let m=0;m<this.hashCount;m++){const x=this.Ae(c,d,m);this.Ve(x)}}Ve(e){const a=Math.floor(e/8),c=e%8;this.bitmap[a]|=1<<c}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,a,c,d,m){this.snapshotVersion=e,this.targetChanges=a,this.targetMismatches=c,this.documentUpdates=d,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,a,c){const d=new Map;return d.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,a,c)),new jh(ne.min(),d,new en(Ce),oo(),Ae())}}class Rc{constructor(e,a,c,d,m){this.resumeToken=e,this.current=a,this.addedDocuments=c,this.modifiedDocuments=d,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,a,c){return new Rc(c,a,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,a,c,d){this.me=e,this.removedTargetIds=a,this.key=c,this.fe=d}}class E_{constructor(e,a){this.targetId=e,this.ge=a}}class x_{constructor(e,a,c=Qn.EMPTY_BYTE_STRING,d=null){this.state=e,this.targetIds=a,this.resumeToken=c,this.cause=d}}class Zm{constructor(){this.pe=0,this.ye=Jm(),this.we=Qn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ae(),a=Ae(),c=Ae();return this.ye.forEach((d,m)=>{switch(m){case 0:e=e.add(d);break;case 2:a=a.add(d);break;case 1:c=c.add(d);break;default:Zt()}}),new Rc(this.we,this.be,e,a,c)}Me(){this.Se=!1,this.ye=Jm()}xe(e,a){this.Se=!0,this.ye=this.ye.insert(e,a)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Pe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class mS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=oo(),this.$e=Wf(),this.Ke=Wf(),this.Ue=new en(Ce)}We(e){for(const a of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(a,e.fe):this.ze(a,e.key,e.fe);for(const a of e.removedTargetIds)this.ze(a,e.key,e.fe)}je(e){this.forEachTarget(e,a=>{const c=this.He(a);switch(e.state){case 0:this.Je(a)&&c.Ce(e.resumeToken);break;case 1:c.Be(),c.De||c.Me(),c.Ce(e.resumeToken);break;case 2:c.Be(),c.De||this.removeTarget(a);break;case 3:this.Je(a)&&(c.Le(),c.Ce(e.resumeToken));break;case 4:this.Je(a)&&(this.Ye(a),c.Ce(e.resumeToken));break;default:Zt()}})}forEachTarget(e,a){e.targetIds.length>0?e.targetIds.forEach(a):this.qe.forEach((c,d)=>{this.Je(d)&&a(d)})}Ze(e){const a=e.targetId,c=e.ge.count,d=this.Xe(a);if(d){const m=d.target;if(_1(m))if(c===0){const x=new Kt(m.path);this.ze(a,x,ar.newNoDocument(x,ne.min()))}else Pe(c===1);else{const x=this.et(a);if(x!==c){const T=this.tt(e),S=T?this.nt(T,e,x):1;if(S!==0){this.Ye(a);const C=S===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(a,C)}}}}}tt(e){const a=e.ge.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:c="",padding:d=0},hashCount:m=0}=a;let x,T;try{x=is(c).toUint8Array()}catch(S){if(S instanceof j2)return Wu("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{T=new Z1(x,d,m)}catch(S){return Wu(S instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return T.Ee===0?null:T}nt(e,a,c){return a.ge.count===c-this.st(e,a.targetId)?0:2}st(e,a){const c=this.ke.getRemoteKeysForTarget(a);let d=0;return c.forEach(m=>{const x=this.ke.it(),T=`projects/${x.projectId}/databases/${x.database}/documents/${m.path.canonicalString()}`;e.mightContain(T)||(this.ze(a,m,null),d++)}),d}ot(e){const a=new Map;this.qe.forEach((m,x)=>{const T=this.Xe(x);if(T){if(m.current&&_1(T.target)){const S=new Kt(T.target.path);this._t(S).has(x)||this.ut(x,S)||this.ze(x,S,ar.newNoDocument(S,e))}m.ve&&(a.set(x,m.Fe()),m.Me())}});let c=Ae();this.Ke.forEach((m,x)=>{let T=!0;x.forEachWhile(S=>{const C=this.Xe(S);return!C||C.purpose==="TargetPurposeLimboResolution"||(T=!1,!1)}),T&&(c=c.add(m))}),this.Qe.forEach((m,x)=>x.setReadTime(e));const d=new jh(e,a,this.Ue,this.Qe,c);return this.Qe=oo(),this.$e=Wf(),this.Ke=Wf(),this.Ue=new en(Ce),d}Ge(e,a){if(!this.Je(e))return;const c=this.ut(e,a.key)?2:0;this.He(e).xe(a.key,c),this.Qe=this.Qe.insert(a.key,a),this.$e=this.$e.insert(a.key,this._t(a.key).add(e)),this.Ke=this.Ke.insert(a.key,this.ct(a.key).add(e))}ze(e,a,c){if(!this.Je(e))return;const d=this.He(e);this.ut(e,a)?d.xe(a,1):d.Oe(a),this.Ke=this.Ke.insert(a,this.ct(a).delete(e)),this.Ke=this.Ke.insert(a,this.ct(a).add(e)),c&&(this.Qe=this.Qe.insert(a,c))}removeTarget(e){this.qe.delete(e)}et(e){const a=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+a.addedDocuments.size-a.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let a=this.qe.get(e);return a||(a=new Zm,this.qe.set(e,a)),a}ct(e){let a=this.Ke.get(e);return a||(a=new Dn(Ce),this.Ke=this.Ke.insert(e,a)),a}_t(e){let a=this.$e.get(e);return a||(a=new Dn(Ce),this.$e=this.$e.insert(e,a)),a}Je(e){const a=this.Xe(e)!==null;return a||Pt("WatchChangeAggregator","Detected inactive target",e),a}Xe(e){const a=this.qe.get(e);return a&&a.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Zm),this.ke.getRemoteKeysForTarget(e).forEach(a=>{this.ze(e,a,null)})}ut(e,a){return this.ke.getRemoteKeysForTarget(e).has(a)}}function Wf(){return new en(Kt.comparator)}function Jm(){return new en(Kt.comparator)}const yS={asc:"ASCENDING",desc:"DESCENDING"},_S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ES={and:"AND",or:"OR"};class xS{constructor(e,a){this.databaseId=e,this.useProto3Json=a}}function A1(l,e){return l.useProto3Json||Vh(e)?e:{value:e}}function Th(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A_(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function AS(l,e){return Th(l,e.toTimestamp())}function va(l){return Pe(!!l),ne.fromTimestamp(function(a){const c=rs(a);return new On(c.seconds,c.nanos)}(l))}function J1(l,e){return w1(l,e).canonicalString()}function w1(l,e){const a=function(d){return new Xe(["projects",d.projectId,"databases",d.database])}(l).child("documents");return e===void 0?a:a.child(e)}function w_(l){const e=Xe.fromString(l);return Pe(b_(e)),e}function T1(l,e){return J1(l.databaseId,e.path)}function G0(l,e){const a=w_(e);if(a.get(1)!==l.databaseId.projectId)throw new kt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new kt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new Kt(S_(a))}function T_(l,e){return J1(l.databaseId,e)}function wS(l){const e=w_(l);return e.length===4?Xe.emptyPath():S_(e)}function S1(l){return new Xe(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function S_(l){return Pe(l.length>4&&l.get(4)==="documents"),l.popFirst(5)}function ty(l,e,a){return{name:T1(l,e),fields:a.value.mapValue.fields}}function TS(l,e){let a;if("targetChange"in e){e.targetChange;const c=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:Zt()}(e.targetChange.targetChangeType||"NO_CHANGE"),d=e.targetChange.targetIds||[],m=function(C,P){return C.useProto3Json?(Pe(P===void 0||typeof P=="string"),Qn.fromBase64String(P||"")):(Pe(P===void 0||P instanceof Buffer||P instanceof Uint8Array),Qn.fromUint8Array(P||new Uint8Array))}(l,e.targetChange.resumeToken),x=e.targetChange.cause,T=x&&function(C){const P=C.code===void 0?wt.UNKNOWN:__(C.code);return new kt(P,C.message||"")}(x);a=new x_(c,d,m,T||null)}else if("documentChange"in e){e.documentChange;const c=e.documentChange;c.document,c.document.name,c.document.updateTime;const d=G0(l,c.document.name),m=va(c.document.updateTime),x=c.document.createTime?va(c.document.createTime):ne.min(),T=new br({mapValue:{fields:c.document.fields}}),S=ar.newFoundDocument(d,m,x,T),C=c.targetIds||[],P=c.removedTargetIds||[];a=new uh(C,P,S.key,S)}else if("documentDelete"in e){e.documentDelete;const c=e.documentDelete;c.document;const d=G0(l,c.document),m=c.readTime?va(c.readTime):ne.min(),x=ar.newNoDocument(d,m),T=c.removedTargetIds||[];a=new uh([],T,x.key,x)}else if("documentRemove"in e){e.documentRemove;const c=e.documentRemove;c.document;const d=G0(l,c.document),m=c.removedTargetIds||[];a=new uh([],m,d,null)}else{if(!("filter"in e))return Zt();{e.filter;const c=e.filter;c.targetId;const{count:d=0,unchangedNames:m}=c,x=new dS(d,m),T=c.targetId;a=new E_(T,x)}}return a}function SS(l,e){let a;if(e instanceof bc)a={update:ty(l,e.key,e.value)};else if(e instanceof y_)a={delete:T1(l,e.key)};else if(e instanceof ls)a={update:ty(l,e.key,e.data),updateMask:PS(e.fieldMask)};else{if(!(e instanceof cS))return Zt();a={verify:T1(l,e.key)}}return e.fieldTransforms.length>0&&(a.updateTransforms=e.fieldTransforms.map(c=>function(m,x){const T=x.transform;if(T instanceof Ah)return{fieldPath:x.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof yc)return{fieldPath:x.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof _c)return{fieldPath:x.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof wh)return{fieldPath:x.field.canonicalString(),increment:T.Ie};throw Zt()}(0,c))),e.precondition.isNone||(a.currentDocument=function(d,m){return m.updateTime!==void 0?{updateTime:AS(d,m.updateTime)}:m.exists!==void 0?{exists:m.exists}:Zt()}(l,e.precondition)),a}function CS(l,e){return l&&l.length>0?(Pe(e!==void 0),l.map(a=>function(d,m){let x=d.updateTime?va(d.updateTime):va(m);return x.isEqual(ne.min())&&(x=va(m)),new sS(x,d.transformResults||[])}(a,e))):[]}function IS(l,e){return{documents:[T_(l,e.path)]}}function bS(l,e){const a={structuredQuery:{}},c=e.path;let d;e.collectionGroup!==null?(d=c,a.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(d=c.popLast(),a.structuredQuery.from=[{collectionId:c.lastSegment()}]),a.parent=T_(l,d);const m=function(C){if(C.length!==0)return I_(ki.create(C,"and"))}(e.filters);m&&(a.structuredQuery.where=m);const x=function(C){if(C.length!==0)return C.map(P=>function(L){return{field:Hu(L.field),direction:DS(L.dir)}}(P))}(e.orderBy);x&&(a.structuredQuery.orderBy=x);const T=A1(l,e.limit);return T!==null&&(a.structuredQuery.limit=T),e.startAt&&(a.structuredQuery.startAt=function(C){return{before:C.inclusive,values:C.position}}(e.startAt)),e.endAt&&(a.structuredQuery.endAt=function(C){return{before:!C.inclusive,values:C.position}}(e.endAt)),{ht:a,parent:d}}function RS(l){let e=wS(l.parent);const a=l.structuredQuery,c=a.from?a.from.length:0;let d=null;if(c>0){Pe(c===1);const P=a.from[0];P.allDescendants?d=P.collectionId:e=e.child(P.collectionId)}let m=[];a.where&&(m=function(B){const L=C_(B);return L instanceof ki&&t_(L)?L.getFilters():[L]}(a.where));let x=[];a.orderBy&&(x=function(B){return B.map(L=>function(Y){return new xh(zu(Y.field),function(ct){switch(ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(L))}(a.orderBy));let T=null;a.limit&&(T=function(B){let L;return L=typeof B=="object"?B.value:B,Vh(L)?null:L}(a.limit));let S=null;a.startAt&&(S=function(B){const L=!!B.before,W=B.values||[];return new Eh(W,L)}(a.startAt));let C=null;return a.endAt&&(C=function(B){const L=!B.before,W=B.values||[];return new Eh(W,L)}(a.endAt)),K3(e,d,x,m,T,"F",S,C)}function OS(l,e){const a=function(d){switch(d){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zt()}}(e.purpose);return a==null?null:{"goog-listen-tags":a}}function C_(l){return l.unaryFilter!==void 0?function(a){switch(a.unaryFilter.op){case"IS_NAN":const c=zu(a.unaryFilter.field);return Tn.create(c,"==",{doubleValue:NaN});case"IS_NULL":const d=zu(a.unaryFilter.field);return Tn.create(d,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=zu(a.unaryFilter.field);return Tn.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const x=zu(a.unaryFilter.field);return Tn.create(x,"!=",{nullValue:"NULL_VALUE"});default:return Zt()}}(l):l.fieldFilter!==void 0?function(a){return Tn.create(zu(a.fieldFilter.field),function(d){switch(d){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zt()}}(a.fieldFilter.op),a.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(a){return ki.create(a.compositeFilter.filters.map(c=>C_(c)),function(d){switch(d){case"AND":return"and";case"OR":return"or";default:return Zt()}}(a.compositeFilter.op))}(l):Zt()}function DS(l){return yS[l]}function NS(l){return _S[l]}function MS(l){return ES[l]}function Hu(l){return{fieldPath:l.canonicalString()}}function zu(l){return Wn.fromServerFormat(l.fieldPath)}function I_(l){return l instanceof Tn?function(a){if(a.op==="=="){if(Hm(a.value))return{unaryFilter:{field:Hu(a.field),op:"IS_NAN"}};if(Fm(a.value))return{unaryFilter:{field:Hu(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Hm(a.value))return{unaryFilter:{field:Hu(a.field),op:"IS_NOT_NAN"}};if(Fm(a.value))return{unaryFilter:{field:Hu(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(a.field),op:NS(a.op),value:a.value}}}(l):l instanceof ki?function(a){const c=a.getFilters().map(d=>I_(d));return c.length===1?c[0]:{compositeFilter:{op:MS(a.op),filters:c}}}(l):Zt()}function PS(l){const e=[];return l.fields.forEach(a=>e.push(a.canonicalString())),{fieldPaths:e}}function b_(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,a,c,d,m=ne.min(),x=ne.min(),T=Qn.EMPTY_BYTE_STRING,S=null){this.target=e,this.targetId=a,this.purpose=c,this.sequenceNumber=d,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=x,this.resumeToken=T,this.expectedCount=S}withSequenceNumber(e){return new Wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,a){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.Tt=e}}function BS(l){const e=RS({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?x1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.Tn=new VS}addToCollectionParentIndex(e,a){return this.Tn.add(a),xt.resolve()}getCollectionParents(e,a){return xt.resolve(this.Tn.getEntries(a))}addFieldIndex(e,a){return xt.resolve()}deleteFieldIndex(e,a){return xt.resolve()}deleteAllFieldIndexes(e){return xt.resolve()}createTargetIndexes(e,a){return xt.resolve()}getDocumentsMatchingTarget(e,a){return xt.resolve(null)}getIndexType(e,a){return xt.resolve(0)}getFieldIndexes(e,a){return xt.resolve([])}getNextCollectionGroupToUpdate(e){return xt.resolve(null)}getMinOffset(e,a){return xt.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,a){return xt.resolve(ns.min())}updateCollectionGroup(e,a,c){return xt.resolve()}updateIndexEntries(e,a){return xt.resolve()}}class VS{constructor(){this.index={}}add(e){const a=e.lastSegment(),c=e.popLast(),d=this.index[a]||new Dn(Xe.comparator),m=!d.has(c);return this.index[a]=d.add(c),m}has(e){const a=e.lastSegment(),c=e.popLast(),d=this.index[a];return d&&d.has(c)}getEntries(e){return(this.index[e]||new Dn(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R_=41943040;class Ir{static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,a,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(R_,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ju(0)}static Un(){return new Ju(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="LruGarbageCollector",US=1048576;function ry([l,e],[a,c]){const d=Ce(l,a);return d===0?Ce(e,c):d}class FS{constructor(e){this.Hn=e,this.buffer=new Dn(ry),this.Jn=0}Yn(){return++this.Jn}Zn(e){const a=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(a);else{const c=this.buffer.last();ry(a,c)<0&&(this.buffer=this.buffer.delete(c).add(a))}}get maxValue(){return this.buffer.last()[0]}}class HS{constructor(e,a,c){this.garbageCollector=e,this.asyncQueue=a,this.localStore=c,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Pt(ny,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){ll(a)?Pt(ny,"Ignoring IndexedDB error during garbage collection: ",a):await ul(a)}await this.er(3e5)})}}class zS{constructor(e,a){this.tr=e,this.params=a}calculateTargetCount(e,a){return this.tr.nr(e).next(c=>Math.floor(a/100*c))}nthSequenceNumber(e,a){if(a===0)return xt.resolve(kh.ae);const c=new FS(a);return this.tr.forEachTarget(e,d=>c.Zn(d.sequenceNumber)).next(()=>this.tr.rr(e,d=>c.Zn(d))).next(()=>c.maxValue)}removeTargets(e,a,c){return this.tr.removeTargets(e,a,c)}removeOrphanedDocuments(e,a){return this.tr.removeOrphanedDocuments(e,a)}collect(e,a){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),xt.resolve(ey)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ey):this.ir(e,a))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,a){let c,d,m,x,T,S,C;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(B=>(B>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${B}`),d=this.params.maximumSequenceNumbersToCollect):d=B,x=Date.now(),this.nthSequenceNumber(e,d))).next(B=>(c=B,T=Date.now(),this.removeTargets(e,c,a))).next(B=>(m=B,S=Date.now(),this.removeOrphanedDocuments(e,c))).next(B=>(C=Date.now(),Uu()<=xe.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${x-P}ms
	Determined least recently used ${d} in `+(T-x)+`ms
	Removed ${m} targets in `+(S-T)+`ms
	Removed ${B} documents in `+(C-S)+`ms
Total Duration: ${C-P}ms`),xt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:m,documentsRemoved:B})))}}function GS(l,e){return new zS(l,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.changes=new au(e=>e.toString(),(e,a)=>e.isEqual(a)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,a){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(a))}getEntry(e,a){this.assertNotApplied();const c=this.changes.get(a);return c!==void 0?xt.resolve(c):this.getFromCache(e,a)}getEntries(e,a){return this.getAllFromCache(e,a)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,a){this.overlayedDocument=e,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,a,c,d){this.remoteDocumentCache=e,this.mutationQueue=a,this.documentOverlayCache=c,this.indexManager=d}getDocument(e,a){let c=null;return this.documentOverlayCache.getOverlay(e,a).next(d=>(c=d,this.remoteDocumentCache.getEntry(e,a))).next(d=>(c!==null&&cc(c.mutation,d,qr.empty(),On.now()),d))}getDocuments(e,a){return this.remoteDocumentCache.getEntries(e,a).next(c=>this.getLocalViewOfDocuments(e,c,Ae()).next(()=>c))}getLocalViewOfDocuments(e,a,c=Ae()){const d=$s();return this.populateOverlays(e,d,a).next(()=>this.computeViews(e,a,d,c).next(m=>{let x=ic();return m.forEach((T,S)=>{x=x.insert(T,S.overlayedDocument)}),x}))}getOverlayedDocuments(e,a){const c=$s();return this.populateOverlays(e,c,a).next(()=>this.computeViews(e,a,c,Ae()))}populateOverlays(e,a,c){const d=[];return c.forEach(m=>{a.has(m)||d.push(m)}),this.documentOverlayCache.getOverlays(e,d).next(m=>{m.forEach((x,T)=>{a.set(x,T)})})}computeViews(e,a,c,d){let m=oo();const x=lc(),T=function(){return lc()}();return a.forEach((S,C)=>{const P=c.get(C.key);d.has(C.key)&&(P===void 0||P.mutation instanceof ls)?m=m.insert(C.key,C):P!==void 0?(x.set(C.key,P.mutation.getFieldMask()),cc(P.mutation,C,P.mutation.getFieldMask(),On.now())):x.set(C.key,qr.empty())}),this.recalculateAndSaveOverlays(e,m).next(S=>(S.forEach((C,P)=>x.set(C,P)),a.forEach((C,P)=>{var B;return T.set(C,new qS(P,(B=x.get(C))!==null&&B!==void 0?B:null))}),T))}recalculateAndSaveOverlays(e,a){const c=lc();let d=new en((x,T)=>x-T),m=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,a).next(x=>{for(const T of x)T.keys().forEach(S=>{const C=a.get(S);if(C===null)return;let P=c.get(S)||qr.empty();P=T.applyToLocalView(C,P),c.set(S,P);const B=(d.get(T.batchId)||Ae()).add(S);d=d.insert(T.batchId,B)})}).next(()=>{const x=[],T=d.getReverseIterator();for(;T.hasNext();){const S=T.getNext(),C=S.key,P=S.value,B=c_();P.forEach(L=>{if(!m.has(L)){const W=v_(a.get(L),c.get(L));W!==null&&B.set(L,W),m=m.add(L)}}),x.push(this.documentOverlayCache.saveOverlays(e,C,B))}return xt.waitFor(x)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,a){return this.remoteDocumentCache.getEntries(e,a).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,a,c,d){return function(x){return Kt.isDocumentKey(x.path)&&x.collectionGroup===null&&x.filters.length===0}(a)?this.getDocumentsMatchingDocumentQuery(e,a.path):a_(a)?this.getDocumentsMatchingCollectionGroupQuery(e,a,c,d):this.getDocumentsMatchingCollectionQuery(e,a,c,d)}getNextDocuments(e,a,c,d){return this.remoteDocumentCache.getAllFromCollectionGroup(e,a,c,d).next(m=>{const x=d-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,a,c.largestBatchId,d-m.size):xt.resolve($s());let T=pc,S=m;return x.next(C=>xt.forEach(C,(P,B)=>(T<B.largestBatchId&&(T=B.largestBatchId),m.get(P)?xt.resolve():this.remoteDocumentCache.getEntry(e,P).next(L=>{S=S.insert(P,L)}))).next(()=>this.populateOverlays(e,C,m)).next(()=>this.computeViews(e,S,C,Ae())).next(P=>({batchId:T,changes:l_(P)})))})}getDocumentsMatchingDocumentQuery(e,a){return this.getDocument(e,new Kt(a)).next(c=>{let d=ic();return c.isFoundDocument()&&(d=d.insert(c.key,c)),d})}getDocumentsMatchingCollectionGroupQuery(e,a,c,d){const m=a.collectionGroup;let x=ic();return this.indexManager.getCollectionParents(e,m).next(T=>xt.forEach(T,S=>{const C=function(B,L){return new Ic(L,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt)}(a,S.child(m));return this.getDocumentsMatchingCollectionQuery(e,C,c,d).next(P=>{P.forEach((B,L)=>{x=x.insert(B,L)})})}).next(()=>x))}getDocumentsMatchingCollectionQuery(e,a,c,d){let m;return this.documentOverlayCache.getOverlaysForCollection(e,a.path,c.largestBatchId).next(x=>(m=x,this.remoteDocumentCache.getDocumentsMatchingQuery(e,a,c,m,d))).next(x=>{m.forEach((S,C)=>{const P=C.getKey();x.get(P)===null&&(x=x.insert(P,ar.newInvalidDocument(P)))});let T=ic();return x.forEach((S,C)=>{const P=m.get(S);P!==void 0&&cc(P.mutation,C,qr.empty(),On.now()),Hh(a,C)&&(T=T.insert(S,C))}),T})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,a){return xt.resolve(this.dr.get(a))}saveBundleMetadata(e,a){return this.dr.set(a.id,function(d){return{id:d.id,version:d.version,createTime:va(d.createTime)}}(a)),xt.resolve()}getNamedQuery(e,a){return xt.resolve(this.Ar.get(a))}saveNamedQuery(e,a){return this.Ar.set(a.name,function(d){return{name:d.name,query:BS(d.bundledQuery),readTime:va(d.readTime)}}(a)),xt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.overlays=new en(Kt.comparator),this.Rr=new Map}getOverlay(e,a){return xt.resolve(this.overlays.get(a))}getOverlays(e,a){const c=$s();return xt.forEach(a,d=>this.getOverlay(e,d).next(m=>{m!==null&&c.set(d,m)})).next(()=>c)}saveOverlays(e,a,c){return c.forEach((d,m)=>{this.Et(e,a,m)}),xt.resolve()}removeOverlaysForBatchId(e,a,c){const d=this.Rr.get(c);return d!==void 0&&(d.forEach(m=>this.overlays=this.overlays.remove(m)),this.Rr.delete(c)),xt.resolve()}getOverlaysForCollection(e,a,c){const d=$s(),m=a.length+1,x=new Kt(a.child("")),T=this.overlays.getIteratorFrom(x);for(;T.hasNext();){const S=T.getNext().value,C=S.getKey();if(!a.isPrefixOf(C.path))break;C.path.length===m&&S.largestBatchId>c&&d.set(S.getKey(),S)}return xt.resolve(d)}getOverlaysForCollectionGroup(e,a,c,d){let m=new en((C,P)=>C-P);const x=this.overlays.getIterator();for(;x.hasNext();){const C=x.getNext().value;if(C.getKey().getCollectionGroup()===a&&C.largestBatchId>c){let P=m.get(C.largestBatchId);P===null&&(P=$s(),m=m.insert(C.largestBatchId,P)),P.set(C.getKey(),C)}}const T=$s(),S=m.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((C,P)=>T.set(C,P)),!(T.size()>=d)););return xt.resolve(T)}Et(e,a,c){const d=this.overlays.get(c.key);if(d!==null){const x=this.Rr.get(d.largestBatchId).delete(c.key);this.Rr.set(d.largestBatchId,x)}this.overlays=this.overlays.insert(c.key,new hS(a,c));let m=this.Rr.get(a);m===void 0&&(m=Ae(),this.Rr.set(a,m)),this.Rr.set(a,m.add(c.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return xt.resolve(this.sessionToken)}setSessionToken(e,a){return this.sessionToken=a,xt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.Vr=new Dn(Un.mr),this.gr=new Dn(Un.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,a){const c=new Un(e,a);this.Vr=this.Vr.add(c),this.gr=this.gr.add(c)}yr(e,a){e.forEach(c=>this.addReference(c,a))}removeReference(e,a){this.wr(new Un(e,a))}br(e,a){e.forEach(c=>this.removeReference(c,a))}Sr(e){const a=new Kt(new Xe([])),c=new Un(a,e),d=new Un(a,e+1),m=[];return this.gr.forEachInRange([c,d],x=>{this.wr(x),m.push(x.key)}),m}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const a=new Kt(new Xe([])),c=new Un(a,e),d=new Un(a,e+1);let m=Ae();return this.gr.forEachInRange([c,d],x=>{m=m.add(x.key)}),m}containsKey(e){const a=new Un(e,0),c=this.Vr.firstAfterOrEqual(a);return c!==null&&e.isEqual(c.key)}}class Un{constructor(e,a){this.key=e,this.Cr=a}static mr(e,a){return Kt.comparator(e.key,a.key)||Ce(e.Cr,a.Cr)}static pr(e,a){return Ce(e.Cr,a.Cr)||Kt.comparator(e.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,a){this.indexManager=e,this.referenceDelegate=a,this.mutationQueue=[],this.Fr=1,this.Mr=new Dn(Un.mr)}checkEmpty(e){return xt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,a,c,d){const m=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const x=new fS(m,a,c,d);this.mutationQueue.push(x);for(const T of d)this.Mr=this.Mr.add(new Un(T.key,m)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return xt.resolve(x)}lookupMutationBatch(e,a){return xt.resolve(this.Or(a))}getNextMutationBatchAfterBatchId(e,a){const c=a+1,d=this.Nr(c),m=d<0?0:d;return xt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(this.mutationQueue.length===0?q1:this.Fr-1)}getAllMutationBatches(e){return xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,a){const c=new Un(a,0),d=new Un(a,Number.POSITIVE_INFINITY),m=[];return this.Mr.forEachInRange([c,d],x=>{const T=this.Or(x.Cr);m.push(T)}),xt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,a){let c=new Dn(Ce);return a.forEach(d=>{const m=new Un(d,0),x=new Un(d,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([m,x],T=>{c=c.add(T.Cr)})}),xt.resolve(this.Br(c))}getAllMutationBatchesAffectingQuery(e,a){const c=a.path,d=c.length+1;let m=c;Kt.isDocumentKey(m)||(m=m.child(""));const x=new Un(new Kt(m),0);let T=new Dn(Ce);return this.Mr.forEachWhile(S=>{const C=S.key.path;return!!c.isPrefixOf(C)&&(C.length===d&&(T=T.add(S.Cr)),!0)},x),xt.resolve(this.Br(T))}Br(e){const a=[];return e.forEach(c=>{const d=this.Or(c);d!==null&&a.push(d)}),a}removeMutationBatch(e,a){Pe(this.Lr(a.batchId,"removed")===0),this.mutationQueue.shift();let c=this.Mr;return xt.forEach(a.mutations,d=>{const m=new Un(d.key,a.batchId);return c=c.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,d.key)}).next(()=>{this.Mr=c})}qn(e){}containsKey(e,a){const c=new Un(a,0),d=this.Mr.firstAfterOrEqual(c);return xt.resolve(a.isEqual(d&&d.key))}performConsistencyCheck(e){return this.mutationQueue.length,xt.resolve()}Lr(e,a){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const a=this.Nr(e);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.kr=e,this.docs=function(){return new en(Kt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,a){const c=a.key,d=this.docs.get(c),m=d?d.size:0,x=this.kr(a);return this.docs=this.docs.insert(c,{document:a.mutableCopy(),size:x}),this.size+=x-m,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const a=this.docs.get(e);a&&(this.docs=this.docs.remove(e),this.size-=a.size)}getEntry(e,a){const c=this.docs.get(a);return xt.resolve(c?c.document.mutableCopy():ar.newInvalidDocument(a))}getEntries(e,a){let c=oo();return a.forEach(d=>{const m=this.docs.get(d);c=c.insert(d,m?m.document.mutableCopy():ar.newInvalidDocument(d))}),xt.resolve(c)}getDocumentsMatchingQuery(e,a,c,d){let m=oo();const x=a.path,T=new Kt(x.child("__id-9223372036854775808__")),S=this.docs.getIteratorFrom(T);for(;S.hasNext();){const{key:C,value:{document:P}}=S.getNext();if(!x.isPrefixOf(C.path))break;C.path.length>x.length+1||C3(S3(P),c)<=0||(d.has(P.key)||Hh(a,P))&&(m=m.insert(P.key,P.mutableCopy()))}return xt.resolve(m)}getAllFromCollectionGroup(e,a,c,d){Zt()}qr(e,a){return xt.forEach(this.docs,c=>a(c))}newChangeBuffer(e){return new ZS(this)}getSize(e){return xt.resolve(this.size)}}class ZS extends jS{constructor(e){super(),this.Ir=e}applyChanges(e){const a=[];return this.changes.forEach((c,d)=>{d.isValidDocument()?a.push(this.Ir.addEntry(e,d)):this.Ir.removeEntry(c)}),xt.waitFor(a)}getFromCache(e,a){return this.Ir.getEntry(e,a)}getAllFromCache(e,a){return this.Ir.getEntries(e,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.persistence=e,this.Qr=new au(a=>K1(a),W1),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tp,this.targetCount=0,this.Ur=Ju.Kn()}forEachTarget(e,a){return this.Qr.forEach((c,d)=>a(d)),xt.resolve()}getLastRemoteSnapshotVersion(e){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(e,a,c){return c&&(this.lastRemoteSnapshotVersion=c),a>this.$r&&(this.$r=a),xt.resolve()}zn(e){this.Qr.set(e.target,e);const a=e.targetId;a>this.highestTargetId&&(this.Ur=new Ju(a),this.highestTargetId=a),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,a){return this.zn(a),this.targetCount+=1,xt.resolve()}updateTargetData(e,a){return this.zn(a),xt.resolve()}removeTargetData(e,a){return this.Qr.delete(a.target),this.Kr.Sr(a.targetId),this.targetCount-=1,xt.resolve()}removeTargets(e,a,c){let d=0;const m=[];return this.Qr.forEach((x,T)=>{T.sequenceNumber<=a&&c.get(T.targetId)===null&&(this.Qr.delete(x),m.push(this.removeMatchingKeysForTargetId(e,T.targetId)),d++)}),xt.waitFor(m).next(()=>d)}getTargetCount(e){return xt.resolve(this.targetCount)}getTargetData(e,a){const c=this.Qr.get(a)||null;return xt.resolve(c)}addMatchingKeys(e,a,c){return this.Kr.yr(a,c),xt.resolve()}removeMatchingKeys(e,a,c){this.Kr.br(a,c);const d=this.persistence.referenceDelegate,m=[];return d&&a.forEach(x=>{m.push(d.markPotentiallyOrphaned(e,x))}),xt.waitFor(m)}removeMatchingKeysForTargetId(e,a){return this.Kr.Sr(a),xt.resolve()}getMatchingKeysForTargetId(e,a){const c=this.Kr.vr(a);return xt.resolve(c)}containsKey(e,a){return xt.resolve(this.Kr.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,a){this.Wr={},this.overlays={},this.Gr=new kh(0),this.zr=!1,this.zr=!0,this.jr=new WS,this.referenceDelegate=e(this),this.Hr=new JS(this),this.indexManager=new kS,this.remoteDocumentCache=function(d){return new $S(d)}(c=>this.referenceDelegate.Jr(c)),this.serializer=new LS(a),this.Yr=new YS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let a=this.overlays[e.toKey()];return a||(a=new KS,this.overlays[e.toKey()]=a),a}getMutationQueue(e,a){let c=this.Wr[e.toKey()];return c||(c=new QS(a,this.referenceDelegate),this.Wr[e.toKey()]=c),c}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,a,c){Pt("MemoryPersistence","Starting transaction:",e);const d=new t4(this.Gr.next());return this.referenceDelegate.Zr(),c(d).next(m=>this.referenceDelegate.Xr(d).next(()=>m)).toPromise().then(m=>(d.raiseOnCommittedEvent(),m))}ei(e,a){return xt.or(Object.values(this.Wr).map(c=>()=>c.containsKey(e,a)))}}class t4 extends b3{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.ti=new tp,this.ni=null}static ri(e){return new ep(e)}get ii(){if(this.ni)return this.ni;throw Zt()}addReference(e,a,c){return this.ti.addReference(c,a),this.ii.delete(c.toString()),xt.resolve()}removeReference(e,a,c){return this.ti.removeReference(c,a),this.ii.add(c.toString()),xt.resolve()}markPotentiallyOrphaned(e,a){return this.ii.add(a.toString()),xt.resolve()}removeTarget(e,a){this.ti.Sr(a.targetId).forEach(d=>this.ii.add(d.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,a.targetId).next(d=>{d.forEach(m=>this.ii.add(m.toString()))}).next(()=>c.removeTargetData(e,a))}Zr(){this.ni=new Set}Xr(e){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.ii,c=>{const d=Kt.fromPath(c);return this.si(e,d).next(m=>{m||a.removeEntry(d,ne.min())})}).next(()=>(this.ni=null,a.apply(e)))}updateLimboDocument(e,a){return this.si(e,a).next(c=>{c?this.ii.delete(a.toString()):this.ii.add(a.toString())})}Jr(e){return 0}si(e,a){return xt.or([()=>xt.resolve(this.ti.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(e,a),()=>this.persistence.ei(e,a)])}}class Sh{constructor(e,a){this.persistence=e,this.oi=new au(c=>D3(c.path),(c,d)=>c.isEqual(d)),this.garbageCollector=GS(this,a)}static ri(e,a){return new Sh(e,a)}Zr(){}Xr(e){return xt.resolve()}forEachTarget(e,a){return this.persistence.getTargetCache().forEachTarget(e,a)}nr(e){const a=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(c=>a.next(d=>c+d))}sr(e){let a=0;return this.rr(e,c=>{a++}).next(()=>a)}rr(e,a){return xt.forEach(this.oi,(c,d)=>this.ar(e,c,d).next(m=>m?xt.resolve():a(d)))}removeTargets(e,a,c){return this.persistence.getTargetCache().removeTargets(e,a,c)}removeOrphanedDocuments(e,a){let c=0;const d=this.persistence.getRemoteDocumentCache(),m=d.newChangeBuffer();return d.qr(e,x=>this.ar(e,x,a).next(T=>{T||(c++,m.removeEntry(x,ne.min()))})).next(()=>m.apply(e)).next(()=>c)}markPotentiallyOrphaned(e,a){return this.oi.set(a,e.currentSequenceNumber),xt.resolve()}removeTarget(e,a){const c=a.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,c)}addReference(e,a,c){return this.oi.set(c,e.currentSequenceNumber),xt.resolve()}removeReference(e,a,c){return this.oi.set(c,e.currentSequenceNumber),xt.resolve()}updateLimboDocument(e,a){return this.oi.set(a,e.currentSequenceNumber),xt.resolve()}Jr(e){let a=e.key.toString().length;return e.isFoundDocument()&&(a+=ah(e.data.value)),a}ar(e,a,c){return xt.or([()=>this.persistence.ei(e,a),()=>this.persistence.getTargetCache().containsKey(e,a),()=>{const d=this.oi.get(a);return xt.resolve(d!==void 0&&d>c)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,a,c,d){this.targetId=e,this.fromCache=a,this.Hi=c,this.Ji=d}static Yi(e,a){let c=Ae(),d=Ae();for(const m of a.docChanges)switch(m.type){case 0:c=c.add(m.doc.key);break;case 1:d=d.add(m.doc.key)}return new np(e,a.fromCache,c,d)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Zw()?8:R3(or())>0?6:4}()}initialize(e,a){this.ns=e,this.indexManager=a,this.Zi=!0}getDocumentsMatchingQuery(e,a,c,d){const m={result:null};return this.rs(e,a).next(x=>{m.result=x}).next(()=>{if(!m.result)return this.ss(e,a,d,c).next(x=>{m.result=x})}).next(()=>{if(m.result)return;const x=new e4;return this._s(e,a,x).next(T=>{if(m.result=T,this.Xi)return this.us(e,a,x,T.size)})}).next(()=>m.result)}us(e,a,c,d){return c.documentReadCount<this.es?(Uu()<=xe.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",Fu(a),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),xt.resolve()):(Uu()<=xe.DEBUG&&Pt("QueryEngine","Query:",Fu(a),"scans",c.documentReadCount,"local documents and returns",d,"documents as results."),c.documentReadCount>this.ts*d?(Uu()<=xe.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",Fu(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pa(a))):xt.resolve())}rs(e,a){if(qm(a))return xt.resolve(null);let c=pa(a);return this.indexManager.getIndexType(e,c).next(d=>d===0?null:(a.limit!==null&&d===1&&(a=x1(a,null,"F"),c=pa(a)),this.indexManager.getDocumentsMatchingTarget(e,c).next(m=>{const x=Ae(...m);return this.ns.getDocuments(e,x).next(T=>this.indexManager.getMinOffset(e,c).next(S=>{const C=this.cs(a,T);return this.ls(a,C,x,S.readTime)?this.rs(e,x1(a,null,"F")):this.hs(e,C,a,S)}))})))}ss(e,a,c,d){return qm(a)||d.isEqual(ne.min())?xt.resolve(null):this.ns.getDocuments(e,c).next(m=>{const x=this.cs(a,m);return this.ls(a,x,c,d)?xt.resolve(null):(Uu()<=xe.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Fu(a)),this.hs(e,x,a,T3(d,pc)).next(T=>T))})}cs(e,a){let c=new Dn(s_(e));return a.forEach((d,m)=>{Hh(e,m)&&(c=c.add(m))}),c}ls(e,a,c,d){if(e.limit===null)return!1;if(c.size!==a.size)return!0;const m=e.limitType==="F"?a.last():a.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(d)>0)}_s(e,a,c){return Uu()<=xe.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",Fu(a)),this.ns.getDocumentsMatchingQuery(e,a,ns.min(),c)}hs(e,a,c,d){return this.ns.getDocumentsMatchingQuery(e,c,d).next(m=>(a.forEach(x=>{m=m.insert(x.key,x)}),m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="LocalStore",r4=3e8;class i4{constructor(e,a,c,d){this.persistence=e,this.Ps=a,this.serializer=d,this.Ts=new en(Ce),this.Is=new au(m=>K1(m),W1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(c)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>e.collect(a,this.Ts))}}function a4(l,e,a,c){return new i4(l,e,a,c)}async function D_(l,e){const a=ie(l);return await a.persistence.runTransaction("Handle user change","readonly",c=>{let d;return a.mutationQueue.getAllMutationBatches(c).next(m=>(d=m,a.As(e),a.mutationQueue.getAllMutationBatches(c))).next(m=>{const x=[],T=[];let S=Ae();for(const C of d){x.push(C.batchId);for(const P of C.mutations)S=S.add(P.key)}for(const C of m){T.push(C.batchId);for(const P of C.mutations)S=S.add(P.key)}return a.localDocuments.getDocuments(c,S).next(C=>({Rs:C,removedBatchIds:x,addedBatchIds:T}))})})}function o4(l,e){const a=ie(l);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const d=e.batch.keys(),m=a.ds.newChangeBuffer({trackRemovals:!0});return function(T,S,C,P){const B=C.batch,L=B.keys();let W=xt.resolve();return L.forEach(Y=>{W=W.next(()=>P.getEntry(S,Y)).next(at=>{const ct=C.docVersions.get(Y);Pe(ct!==null),at.version.compareTo(ct)<0&&(B.applyToRemoteDocument(at,C),at.isValidDocument()&&(at.setReadTime(C.commitVersion),P.addEntry(at)))})}),W.next(()=>T.mutationQueue.removeMutationBatch(S,B))}(a,c,e,m).next(()=>m.apply(c)).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,d,e.batch.batchId)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(T){let S=Ae();for(let C=0;C<T.mutationResults.length;++C)T.mutationResults[C].transformResults.length>0&&(S=S.add(T.batch.mutations[C].key));return S}(e))).next(()=>a.localDocuments.getDocuments(c,d))})}function N_(l){const e=ie(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",a=>e.Hr.getLastRemoteSnapshotVersion(a))}function s4(l,e){const a=ie(l),c=e.snapshotVersion;let d=a.Ts;return a.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const x=a.ds.newChangeBuffer({trackRemovals:!0});d=a.Ts;const T=[];e.targetChanges.forEach((P,B)=>{const L=d.get(B);if(!L)return;T.push(a.Hr.removeMatchingKeys(m,P.removedDocuments,B).next(()=>a.Hr.addMatchingKeys(m,P.addedDocuments,B)));let W=L.withSequenceNumber(m.currentSequenceNumber);e.targetMismatches.get(B)!==null?W=W.withResumeToken(Qn.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):P.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(P.resumeToken,c)),d=d.insert(B,W),function(at,ct,it){return at.resumeToken.approximateByteSize()===0||ct.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=r4?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0}(L,W,P)&&T.push(a.Hr.updateTargetData(m,W))});let S=oo(),C=Ae();if(e.documentUpdates.forEach(P=>{e.resolvedLimboDocuments.has(P)&&T.push(a.persistence.referenceDelegate.updateLimboDocument(m,P))}),T.push(u4(m,x,e.documentUpdates).next(P=>{S=P.Vs,C=P.fs})),!c.isEqual(ne.min())){const P=a.Hr.getLastRemoteSnapshotVersion(m).next(B=>a.Hr.setTargetsMetadata(m,m.currentSequenceNumber,c));T.push(P)}return xt.waitFor(T).next(()=>x.apply(m)).next(()=>a.localDocuments.getLocalViewOfDocuments(m,S,C)).next(()=>S)}).then(m=>(a.Ts=d,m))}function u4(l,e,a){let c=Ae(),d=Ae();return a.forEach(m=>c=c.add(m)),e.getEntries(l,c).next(m=>{let x=oo();return a.forEach((T,S)=>{const C=m.get(T);S.isFoundDocument()!==C.isFoundDocument()&&(d=d.add(T)),S.isNoDocument()&&S.version.isEqual(ne.min())?(e.removeEntry(T,S.readTime),x=x.insert(T,S)):!C.isValidDocument()||S.version.compareTo(C.version)>0||S.version.compareTo(C.version)===0&&C.hasPendingWrites?(e.addEntry(S),x=x.insert(T,S)):Pt(rp,"Ignoring outdated watch update for ",T,". Current version:",C.version," Watch version:",S.version)}),{Vs:x,fs:d}})}function l4(l,e){const a=ie(l);return a.persistence.runTransaction("Get next mutation batch","readonly",c=>(e===void 0&&(e=q1),a.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function c4(l,e){const a=ie(l);return a.persistence.runTransaction("Allocate target","readwrite",c=>{let d;return a.Hr.getTargetData(c,e).next(m=>m?(d=m,xt.resolve(d)):a.Hr.allocateTargetId(c).next(x=>(d=new Wo(e,x,"TargetPurposeListen",c.currentSequenceNumber),a.Hr.addTargetData(c,d).next(()=>d))))}).then(c=>{const d=a.Ts.get(c.targetId);return(d===null||c.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(a.Ts=a.Ts.insert(c.targetId,c),a.Is.set(e,c.targetId)),c})}async function C1(l,e,a){const c=ie(l),d=c.Ts.get(e),m=a?"readwrite":"readwrite-primary";try{a||await c.persistence.runTransaction("Release target",m,x=>c.persistence.referenceDelegate.removeTarget(x,d))}catch(x){if(!ll(x))throw x;Pt(rp,`Failed to update sequence numbers for target ${e}: ${x}`)}c.Ts=c.Ts.remove(e),c.Is.delete(d.target)}function iy(l,e,a){const c=ie(l);let d=ne.min(),m=Ae();return c.persistence.runTransaction("Execute query","readwrite",x=>function(S,C,P){const B=ie(S),L=B.Is.get(P);return L!==void 0?xt.resolve(B.Ts.get(L)):B.Hr.getTargetData(C,P)}(c,x,pa(e)).next(T=>{if(T)return d=T.lastLimboFreeSnapshotVersion,c.Hr.getMatchingKeysForTargetId(x,T.targetId).next(S=>{m=S})}).next(()=>c.Ps.getDocumentsMatchingQuery(x,e,a?d:ne.min(),a?m:Ae())).next(T=>(f4(c,Q3(e),T),{documents:T,gs:m})))}function f4(l,e,a){let c=l.Es.get(e)||ne.min();a.forEach((d,m)=>{m.readTime.compareTo(c)>0&&(c=m.readTime)}),l.Es.set(e,c)}class ay{constructor(){this.activeTargetIds=nS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h4{constructor(){this.ho=new ay,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,a,c){}addLocalQueryTarget(e,a=!0){return a&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,a,c){this.Po[e]=a}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ay,Promise.resolve()}handleUserChange(e,a,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="ConnectivityMonitor";class sy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Pt(oy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Pt(oy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function I1(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="RestConnection",p4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const a=e.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.po=a+"://"+e.host,this.yo=`projects/${c}/databases/${d}`,this.wo=this.databaseId.database===yh?`project_id=${c}`:`project_id=${c}&database_id=${d}`}bo(e,a,c,d,m){const x=I1(),T=this.So(e,a.toUriEncodedString());Pt(j0,`Sending RPC '${e}' ${x}:`,T,c);const S={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(S,d,m),this.vo(e,T,S,c).then(C=>(Pt(j0,`Received RPC '${e}' ${x}: `,C),C),C=>{throw Wu(j0,`RPC '${e}' ${x} failed with error: `,C,"url: ",T,"request:",c),C})}Co(e,a,c,d,m,x){return this.bo(e,a,c,d,m)}Do(e,a,c){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((d,m)=>e[m]=d),c&&c.headers.forEach((d,m)=>e[m]=d)}So(e,a){const c=p4[e];return`${this.po}/v1/${a}:${c}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection";class m4 extends g4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,a,c,d){const m=I1();return new Promise((x,T)=>{const S=new L2;S.setWithCredentials(!0),S.listenOnce(B2.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case ih.NO_ERROR:const P=S.getResponseJson();Pt(rr,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(P)),x(P);break;case ih.TIMEOUT:Pt(rr,`RPC '${e}' ${m} timed out`),T(new kt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const B=S.getStatus();if(Pt(rr,`RPC '${e}' ${m} failed with status:`,B,"response text:",S.getResponseText()),B>0){let L=S.getResponseJson();Array.isArray(L)&&(L=L[0]);const W=L==null?void 0:L.error;if(W&&W.status&&W.message){const Y=function(ct){const it=ct.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(it)>=0?it:wt.UNKNOWN}(W.status);T(new kt(Y,W.message))}else T(new kt(wt.UNKNOWN,"Server responded with status "+S.getStatus()))}else T(new kt(wt.UNAVAILABLE,"Connection failed."));break;default:Zt()}}finally{Pt(rr,`RPC '${e}' ${m} completed.`)}});const C=JSON.stringify(d);Pt(rr,`RPC '${e}' ${m} sending request:`,d),S.send(a,"POST",C,c,15)})}Wo(e,a,c){const d=I1(),m=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],x=U2(),T=V2(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;C!==void 0&&(S.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(S.useFetchStreams=!0),this.Do(S.initMessageHeaders,a,c),S.encodeInitMessageHeaders=!0;const P=m.join("");Pt(rr,`Creating RPC '${e}' stream ${d}: ${P}`,S);const B=x.createWebChannel(P,S);let L=!1,W=!1;const Y=new v4({Fo:ct=>{W?Pt(rr,`Not sending because RPC '${e}' stream ${d} is closed:`,ct):(L||(Pt(rr,`Opening RPC '${e}' stream ${d} transport.`),B.open(),L=!0),Pt(rr,`RPC '${e}' stream ${d} sending:`,ct),B.send(ct))},Mo:()=>B.close()}),at=(ct,it,At)=>{ct.listen(it,Tt=>{try{At(Tt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return at(B,rc.EventType.OPEN,()=>{W||(Pt(rr,`RPC '${e}' stream ${d} transport opened.`),Y.Qo())}),at(B,rc.EventType.CLOSE,()=>{W||(W=!0,Pt(rr,`RPC '${e}' stream ${d} transport closed`),Y.Ko())}),at(B,rc.EventType.ERROR,ct=>{W||(W=!0,Wu(rr,`RPC '${e}' stream ${d} transport errored:`,ct),Y.Ko(new kt(wt.UNAVAILABLE,"The operation could not be completed")))}),at(B,rc.EventType.MESSAGE,ct=>{var it;if(!W){const At=ct.data[0];Pe(!!At);const Tt=At,Ut=(Tt==null?void 0:Tt.error)||((it=Tt[0])===null||it===void 0?void 0:it.error);if(Ut){Pt(rr,`RPC '${e}' stream ${d} received error:`,Ut);const Mt=Ut.status;let Wt=function(z){const X=wn[z];if(X!==void 0)return __(X)}(Mt),$=Ut.message;Wt===void 0&&(Wt=wt.INTERNAL,$="Unknown error status: "+Mt+" with message "+Ut.message),W=!0,Y.Ko(new kt(Wt,$)),B.close()}else Pt(rr,`RPC '${e}' stream ${d} received:`,At),Y.Uo(At)}}),at(T,k2.STAT_EVENT,ct=>{ct.stat===g1.PROXY?Pt(rr,`RPC '${e}' stream ${d} detected buffering proxy`):ct.stat===g1.NOPROXY&&Pt(rr,`RPC '${e}' stream ${d} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}function q0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(l){return new xS(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,a,c=1e3,d=1.5,m=6e4){this.Ti=e,this.timerId=a,this.Go=c,this.zo=d,this.jo=m,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const a=Math.floor(this.Ho+this.e_()),c=Math.max(0,Date.now()-this.Yo),d=Math.max(0,a-c);d>0&&Pt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.Ho} ms, delay with jitter: ${a} ms, last attempt: ${c} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,d,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="PersistentStream";class P_{constructor(e,a,c,d,m,x,T,S){this.Ti=e,this.n_=c,this.r_=d,this.connection=m,this.authCredentialsProvider=x,this.appCheckCredentialsProvider=T,this.listener=S,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new M_(e,a)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,a){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():a&&a.code===wt.RESOURCE_EXHAUSTED?(ao(a.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):a&&a.code===wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(a)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),a=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,d])=>{this.i_===a&&this.V_(c,d)},c=>{e(()=>{const d=new kt(wt.UNKNOWN,"Fetching auth token failed: "+c.message);return this.m_(d)})})}V_(e,a){const c=this.R_(this.i_);this.stream=this.f_(e,a),this.stream.xo(()=>{c(()=>this.listener.xo())}),this.stream.No(()=>{c(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(d=>{c(()=>this.m_(d))}),this.stream.onMessage(d=>{c(()=>++this.__==1?this.g_(d):this.onNext(d))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Pt(uy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return a=>{this.Ti.enqueueAndForget(()=>this.i_===e?a():(Pt(uy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y4 extends P_{constructor(e,a,c,d,m,x){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,c,d,x),this.serializer=m}f_(e,a){return this.connection.Wo("Listen",e,a)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const a=TS(this.serializer,e),c=function(m){if(!("targetChange"in m))return ne.min();const x=m.targetChange;return x.targetIds&&x.targetIds.length?ne.min():x.readTime?va(x.readTime):ne.min()}(e);return this.listener.p_(a,c)}y_(e){const a={};a.database=S1(this.serializer),a.addTarget=function(m,x){let T;const S=x.target;if(T=_1(S)?{documents:IS(m,S)}:{query:bS(m,S).ht},T.targetId=x.targetId,x.resumeToken.approximateByteSize()>0){T.resumeToken=A_(m,x.resumeToken);const C=A1(m,x.expectedCount);C!==null&&(T.expectedCount=C)}else if(x.snapshotVersion.compareTo(ne.min())>0){T.readTime=Th(m,x.snapshotVersion.toTimestamp());const C=A1(m,x.expectedCount);C!==null&&(T.expectedCount=C)}return T}(this.serializer,e);const c=OS(this.serializer,e);c&&(a.labels=c),this.I_(a)}w_(e){const a={};a.database=S1(this.serializer),a.removeTarget=e,this.I_(a)}}class _4 extends P_{constructor(e,a,c,d,m,x){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,c,d,x),this.serializer=m}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,a){return this.connection.Wo("Write",e,a)}g_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const a=CS(e.writeResults,e.commitTime),c=va(e.commitTime);return this.listener.v_(c,a)}C_(){const e={};e.database=S1(this.serializer),this.I_(e)}S_(e){const a={streamToken:this.lastStreamToken,writes:e.map(c=>SS(this.serializer,c))};this.I_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class x4 extends E4{constructor(e,a,c,d){super(),this.authCredentials=e,this.appCheckCredentials=a,this.connection=c,this.serializer=d,this.F_=!1}M_(){if(this.F_)throw new kt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,a,c,d){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,x])=>this.connection.bo(e,w1(a,c),d,m,x)).catch(m=>{throw m.name==="FirebaseError"?(m.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new kt(wt.UNKNOWN,m.toString())})}Co(e,a,c,d,m){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([x,T])=>this.connection.Co(e,w1(a,c),d,x,T,m)).catch(x=>{throw x.name==="FirebaseError"?(x.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),x):new kt(wt.UNKNOWN,x.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class A4{constructor(e,a){this.asyncQueue=e,this.onlineStateHandler=a,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const a=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ao(a),this.N_=!1):Pt("OnlineStateTracker",a)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="RemoteStore";class w4{constructor(e,a,c,d,m){this.localStore=e,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=m,this.z_.To(x=>{c.enqueueAndForget(async()=>{ou(this)&&(Pt(nu,"Restarting streams for network reachability change."),await async function(S){const C=ie(S);C.W_.add(4),await Oc(C),C.j_.set("Unknown"),C.W_.delete(4),await Xh(C)}(this))})}),this.j_=new A4(c,d)}}async function Xh(l){if(ou(l))for(const e of l.G_)await e(!0)}async function Oc(l){for(const e of l.G_)await e(!1)}function L_(l,e){const a=ie(l);a.U_.has(e.targetId)||(a.U_.set(e.targetId,e),sp(a)?op(a):cl(a).c_()&&ap(a,e))}function ip(l,e){const a=ie(l),c=cl(a);a.U_.delete(e),c.c_()&&B_(a,e),a.U_.size===0&&(c.c_()?c.P_():ou(a)&&a.j_.set("Unknown"))}function ap(l,e){if(l.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const a=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(a)}cl(l).y_(e)}function B_(l,e){l.H_.Ne(e),cl(l).w_(e)}function op(l){l.H_=new mS({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>l.U_.get(e)||null,it:()=>l.datastore.serializer.databaseId}),cl(l).start(),l.j_.B_()}function sp(l){return ou(l)&&!cl(l).u_()&&l.U_.size>0}function ou(l){return ie(l).W_.size===0}function k_(l){l.H_=void 0}async function T4(l){l.j_.set("Online")}async function S4(l){l.U_.forEach((e,a)=>{ap(l,e)})}async function C4(l,e){k_(l),sp(l)?(l.j_.q_(e),op(l)):l.j_.set("Unknown")}async function I4(l,e,a){if(l.j_.set("Online"),e instanceof x_&&e.state===2&&e.cause)try{await async function(d,m){const x=m.cause;for(const T of m.targetIds)d.U_.has(T)&&(await d.remoteSyncer.rejectListen(T,x),d.U_.delete(T),d.H_.removeTarget(T))}(l,e)}catch(c){Pt(nu,"Failed to remove targets %s: %s ",e.targetIds.join(","),c),await Ch(l,c)}else if(e instanceof uh?l.H_.We(e):e instanceof E_?l.H_.Ze(e):l.H_.je(e),!a.isEqual(ne.min()))try{const c=await N_(l.localStore);a.compareTo(c)>=0&&await function(m,x){const T=m.H_.ot(x);return T.targetChanges.forEach((S,C)=>{if(S.resumeToken.approximateByteSize()>0){const P=m.U_.get(C);P&&m.U_.set(C,P.withResumeToken(S.resumeToken,x))}}),T.targetMismatches.forEach((S,C)=>{const P=m.U_.get(S);if(!P)return;m.U_.set(S,P.withResumeToken(Qn.EMPTY_BYTE_STRING,P.snapshotVersion)),B_(m,S);const B=new Wo(P.target,S,C,P.sequenceNumber);ap(m,B)}),m.remoteSyncer.applyRemoteEvent(T)}(l,a)}catch(c){Pt(nu,"Failed to raise snapshot:",c),await Ch(l,c)}}async function Ch(l,e,a){if(!ll(e))throw e;l.W_.add(1),await Oc(l),l.j_.set("Offline"),a||(a=()=>N_(l.localStore)),l.asyncQueue.enqueueRetryable(async()=>{Pt(nu,"Retrying IndexedDB access"),await a(),l.W_.delete(1),await Xh(l)})}function V_(l,e){return e().catch(a=>Ch(l,a,e))}async function Yh(l){const e=ie(l),a=os(e);let c=e.K_.length>0?e.K_[e.K_.length-1].batchId:q1;for(;b4(e);)try{const d=await l4(e.localStore,c);if(d===null){e.K_.length===0&&a.P_();break}c=d.batchId,R4(e,d)}catch(d){await Ch(e,d)}U_(e)&&F_(e)}function b4(l){return ou(l)&&l.K_.length<10}function R4(l,e){l.K_.push(e);const a=os(l);a.c_()&&a.b_&&a.S_(e.mutations)}function U_(l){return ou(l)&&!os(l).u_()&&l.K_.length>0}function F_(l){os(l).start()}async function O4(l){os(l).C_()}async function D4(l){const e=os(l);for(const a of l.K_)e.S_(a.mutations)}async function N4(l,e,a){const c=l.K_.shift(),d=$1.from(c,e,a);await V_(l,()=>l.remoteSyncer.applySuccessfulWrite(d)),await Yh(l)}async function M4(l,e){e&&os(l).b_&&await async function(c,d){if(function(x){return pS(x)&&x!==wt.ABORTED}(d.code)){const m=c.K_.shift();os(c).h_(),await V_(c,()=>c.remoteSyncer.rejectFailedWrite(m.batchId,d)),await Yh(c)}}(l,e),U_(l)&&F_(l)}async function ly(l,e){const a=ie(l);a.asyncQueue.verifyOperationInProgress(),Pt(nu,"RemoteStore received new credentials");const c=ou(a);a.W_.add(3),await Oc(a),c&&a.j_.set("Unknown"),await a.remoteSyncer.handleCredentialChange(e),a.W_.delete(3),await Xh(a)}async function P4(l,e){const a=ie(l);e?(a.W_.delete(2),await Xh(a)):e||(a.W_.add(2),await Oc(a),a.j_.set("Unknown"))}function cl(l){return l.J_||(l.J_=function(a,c,d){const m=ie(a);return m.M_(),new y4(c,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,d)}(l.datastore,l.asyncQueue,{xo:T4.bind(null,l),No:S4.bind(null,l),Lo:C4.bind(null,l),p_:I4.bind(null,l)}),l.G_.push(async e=>{e?(l.J_.h_(),sp(l)?op(l):l.j_.set("Unknown")):(await l.J_.stop(),k_(l))})),l.J_}function os(l){return l.Y_||(l.Y_=function(a,c,d){const m=ie(a);return m.M_(),new _4(c,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,d)}(l.datastore,l.asyncQueue,{xo:()=>Promise.resolve(),No:O4.bind(null,l),Lo:M4.bind(null,l),D_:D4.bind(null,l),v_:N4.bind(null,l)}),l.G_.push(async e=>{e?(l.Y_.h_(),await Yh(l)):(await l.Y_.stop(),l.K_.length>0&&(Pt(nu,`Stopping write stream with ${l.K_.length} pending writes`),l.K_=[]))})),l.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,a,c,d,m){this.asyncQueue=e,this.timerId=a,this.targetTimeMs=c,this.op=d,this.removalCallback=m,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(x=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,a,c,d,m){const x=Date.now()+c,T=new up(e,a,x,d,m);return T.start(c),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(l,e){if(ao("AsyncQueue",`${e}: ${l}`),ll(l))return new kt(wt.UNAVAILABLE,`${e}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static emptySet(e){return new ju(e.comparator)}constructor(e){this.comparator=e?(a,c)=>e(a,c)||Kt.comparator(a.key,c.key):(a,c)=>Kt.comparator(a.key,c.key),this.keyedMap=ic(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const a=this.keyedMap.get(e);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((a,c)=>(e(a),!1))}add(e){const a=this.delete(e.key);return a.copy(a.keyedMap.insert(e.key,e),a.sortedSet.insert(e,null))}delete(e){const a=this.get(e);return a?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(a)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const a=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;a.hasNext();){const d=a.getNext().key,m=c.getNext().key;if(!d.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(a=>{e.push(a.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,a){const c=new ju;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=a,c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.Z_=new en(Kt.comparator)}track(e){const a=e.doc.key,c=this.Z_.get(a);c?e.type!==0&&c.type===3?this.Z_=this.Z_.insert(a,e):e.type===3&&c.type!==1?this.Z_=this.Z_.insert(a,{type:c.type,doc:e.doc}):e.type===2&&c.type===2?this.Z_=this.Z_.insert(a,{type:2,doc:e.doc}):e.type===2&&c.type===0?this.Z_=this.Z_.insert(a,{type:0,doc:e.doc}):e.type===1&&c.type===0?this.Z_=this.Z_.remove(a):e.type===1&&c.type===2?this.Z_=this.Z_.insert(a,{type:1,doc:c.doc}):e.type===0&&c.type===1?this.Z_=this.Z_.insert(a,{type:2,doc:e.doc}):Zt():this.Z_=this.Z_.insert(a,e)}X_(){const e=[];return this.Z_.inorderTraversal((a,c)=>{e.push(c)}),e}}class tl{constructor(e,a,c,d,m,x,T,S,C){this.query=e,this.docs=a,this.oldDocs=c,this.docChanges=d,this.mutatedKeys=m,this.fromCache=x,this.syncStateChanged=T,this.excludesMetadataChanges=S,this.hasCachedResults=C}static fromInitialDocuments(e,a,c,d,m){const x=[];return a.forEach(T=>{x.push({type:0,doc:T})}),new tl(e,a,ju.emptySet(a),x,c,d,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const a=this.docChanges,c=e.docChanges;if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(a[d].type!==c[d].type||!a[d].doc.isEqual(c[d].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class B4{constructor(){this.queries=fy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(a,c){const d=ie(a),m=d.queries;d.queries=fy(),m.forEach((x,T)=>{for(const S of T.ta)S.onError(c)})})(this,new kt(wt.ABORTED,"Firestore shutting down"))}}function fy(){return new au(l=>o_(l),Fh)}async function k4(l,e){const a=ie(l);let c=3;const d=e.query;let m=a.queries.get(d);m?!m.na()&&e.ra()&&(c=2):(m=new L4,c=e.ra()?0:1);try{switch(c){case 0:m.ea=await a.onListen(d,!0);break;case 1:m.ea=await a.onListen(d,!1);break;case 2:await a.onFirstRemoteStoreListen(d)}}catch(x){const T=lp(x,`Initialization of query '${Fu(e.query)}' failed`);return void e.onError(T)}a.queries.set(d,m),m.ta.push(e),e.sa(a.onlineState),m.ea&&e.oa(m.ea)&&cp(a)}async function V4(l,e){const a=ie(l),c=e.query;let d=3;const m=a.queries.get(c);if(m){const x=m.ta.indexOf(e);x>=0&&(m.ta.splice(x,1),m.ta.length===0?d=e.ra()?0:1:!m.na()&&e.ra()&&(d=2))}switch(d){case 0:return a.queries.delete(c),a.onUnlisten(c,!0);case 1:return a.queries.delete(c),a.onUnlisten(c,!1);case 2:return a.onLastRemoteStoreUnlisten(c);default:return}}function U4(l,e){const a=ie(l);let c=!1;for(const d of e){const m=d.query,x=a.queries.get(m);if(x){for(const T of x.ta)T.oa(d)&&(c=!0);x.ea=d}}c&&cp(a)}function F4(l,e,a){const c=ie(l),d=c.queries.get(e);if(d)for(const m of d.ta)m.onError(a);c.queries.delete(e)}function cp(l){l.ia.forEach(e=>{e.next()})}var b1,hy;(hy=b1||(b1={}))._a="default",hy.Cache="cache";class H4{constructor(e,a,c){this.query=e,this.aa=a,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=c||{}}oa(e){if(!this.options.includeMetadataChanges){const c=[];for(const d of e.docChanges)d.type!==3&&c.push(d);e=new tl(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let a=!1;return this.ua?this.la(e)&&(this.aa.next(e),a=!0):this.ha(e,this.onlineState)&&(this.Pa(e),a=!0),this.ca=e,a}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let a=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),a=!0),a}ha(e,a){if(!e.fromCache||!this.ra())return!0;const c=a!=="Offline";return(!this.options.Ta||!c)&&(!e.docs.isEmpty()||e.hasCachedResults||a==="Offline")}la(e){if(e.docChanges.length>0)return!0;const a=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}Pa(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==b1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.key=e}}class z_{constructor(e){this.key=e}}class z4{constructor(e,a){this.query=e,this.fa=a,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ae(),this.mutatedKeys=Ae(),this.ya=s_(e),this.wa=new ju(this.ya)}get ba(){return this.fa}Sa(e,a){const c=a?a.Da:new cy,d=a?a.wa:this.wa;let m=a?a.mutatedKeys:this.mutatedKeys,x=d,T=!1;const S=this.query.limitType==="F"&&d.size===this.query.limit?d.last():null,C=this.query.limitType==="L"&&d.size===this.query.limit?d.first():null;if(e.inorderTraversal((P,B)=>{const L=d.get(P),W=Hh(this.query,B)?B:null,Y=!!L&&this.mutatedKeys.has(L.key),at=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let ct=!1;L&&W?L.data.isEqual(W.data)?Y!==at&&(c.track({type:3,doc:W}),ct=!0):this.va(L,W)||(c.track({type:2,doc:W}),ct=!0,(S&&this.ya(W,S)>0||C&&this.ya(W,C)<0)&&(T=!0)):!L&&W?(c.track({type:0,doc:W}),ct=!0):L&&!W&&(c.track({type:1,doc:L}),ct=!0,(S||C)&&(T=!0)),ct&&(W?(x=x.add(W),m=at?m.add(P):m.delete(P)):(x=x.delete(P),m=m.delete(P)))}),this.query.limit!==null)for(;x.size>this.query.limit;){const P=this.query.limitType==="F"?x.last():x.first();x=x.delete(P.key),m=m.delete(P.key),c.track({type:1,doc:P})}return{wa:x,Da:c,ls:T,mutatedKeys:m}}va(e,a){return e.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(e,a,c,d){const m=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const x=e.Da.X_();x.sort((P,B)=>function(W,Y){const at=ct=>{switch(ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt()}};return at(W)-at(Y)}(P.type,B.type)||this.ya(P.doc,B.doc)),this.Ca(c),d=d!=null&&d;const T=a&&!d?this.Fa():[],S=this.pa.size===0&&this.current&&!d?1:0,C=S!==this.ga;return this.ga=S,x.length!==0||C?{snapshot:new tl(this.query,e.wa,m,x,e.mutatedKeys,S===0,C,!1,!!c&&c.resumeToken.approximateByteSize()>0),Ma:T}:{Ma:T}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(a=>this.fa=this.fa.add(a)),e.modifiedDocuments.forEach(a=>{}),e.removedDocuments.forEach(a=>this.fa=this.fa.delete(a)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ae(),this.wa.forEach(c=>{this.xa(c.key)&&(this.pa=this.pa.add(c.key))});const a=[];return e.forEach(c=>{this.pa.has(c)||a.push(new z_(c))}),this.pa.forEach(c=>{e.has(c)||a.push(new H_(c))}),a}Oa(e){this.fa=e.gs,this.pa=Ae();const a=this.Sa(e.documents);return this.applyChanges(a,!0)}Na(){return tl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const fp="SyncEngine";class G4{constructor(e,a,c){this.query=e,this.targetId=a,this.view=c}}class j4{constructor(e){this.key=e,this.Ba=!1}}class q4{constructor(e,a,c,d,m,x){this.localStore=e,this.remoteStore=a,this.eventManager=c,this.sharedClientState=d,this.currentUser=m,this.maxConcurrentLimboResolutions=x,this.La={},this.ka=new au(T=>o_(T),Fh),this.qa=new Map,this.Qa=new Set,this.$a=new en(Kt.comparator),this.Ka=new Map,this.Ua=new tp,this.Wa={},this.Ga=new Map,this.za=Ju.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function X4(l,e,a=!0){const c=K_(l);let d;const m=c.ka.get(e);return m?(c.sharedClientState.addLocalQueryTarget(m.targetId),d=m.view.Na()):d=await G_(c,e,a,!0),d}async function Y4(l,e){const a=K_(l);await G_(a,e,!0,!1)}async function G_(l,e,a,c){const d=await c4(l.localStore,pa(e)),m=d.targetId,x=l.sharedClientState.addLocalQueryTarget(m,a);let T;return c&&(T=await K4(l,e,m,x==="current",d.resumeToken)),l.isPrimaryClient&&a&&L_(l.remoteStore,d),T}async function K4(l,e,a,c,d){l.Ha=(B,L,W)=>async function(at,ct,it,At){let Tt=ct.view.Sa(it);Tt.ls&&(Tt=await iy(at.localStore,ct.query,!1).then(({documents:$})=>ct.view.Sa($,Tt)));const Ut=At&&At.targetChanges.get(ct.targetId),Mt=At&&At.targetMismatches.get(ct.targetId)!=null,Wt=ct.view.applyChanges(Tt,at.isPrimaryClient,Ut,Mt);return py(at,ct.targetId,Wt.Ma),Wt.snapshot}(l,B,L,W);const m=await iy(l.localStore,e,!0),x=new z4(e,m.gs),T=x.Sa(m.documents),S=Rc.createSynthesizedTargetChangeForCurrentChange(a,c&&l.onlineState!=="Offline",d),C=x.applyChanges(T,l.isPrimaryClient,S);py(l,a,C.Ma);const P=new G4(e,a,x);return l.ka.set(e,P),l.qa.has(a)?l.qa.get(a).push(e):l.qa.set(a,[e]),C.snapshot}async function W4(l,e,a){const c=ie(l),d=c.ka.get(e),m=c.qa.get(d.targetId);if(m.length>1)return c.qa.set(d.targetId,m.filter(x=>!Fh(x,e))),void c.ka.delete(e);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(d.targetId),c.sharedClientState.isActiveQueryTarget(d.targetId)||await C1(c.localStore,d.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(d.targetId),a&&ip(c.remoteStore,d.targetId),R1(c,d.targetId)}).catch(ul)):(R1(c,d.targetId),await C1(c.localStore,d.targetId,!0))}async function Q4(l,e){const a=ie(l),c=a.ka.get(e),d=a.qa.get(c.targetId);a.isPrimaryClient&&d.length===1&&(a.sharedClientState.removeLocalQueryTarget(c.targetId),ip(a.remoteStore,c.targetId))}async function $4(l,e,a){const c=iC(l);try{const d=await function(x,T){const S=ie(x),C=On.now(),P=T.reduce((W,Y)=>W.add(Y.key),Ae());let B,L;return S.persistence.runTransaction("Locally write mutations","readwrite",W=>{let Y=oo(),at=Ae();return S.ds.getEntries(W,P).next(ct=>{Y=ct,Y.forEach((it,At)=>{At.isValidDocument()||(at=at.add(it))})}).next(()=>S.localDocuments.getOverlayedDocuments(W,Y)).next(ct=>{B=ct;const it=[];for(const At of T){const Tt=lS(At,B.get(At.key).overlayedDocument);Tt!=null&&it.push(new ls(At.key,Tt,$2(Tt.value.mapValue),ga.exists(!0)))}return S.mutationQueue.addMutationBatch(W,C,it,T)}).next(ct=>{L=ct;const it=ct.applyToLocalDocumentSet(B,at);return S.documentOverlayCache.saveOverlays(W,ct.batchId,it)})}).then(()=>({batchId:L.batchId,changes:l_(B)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(d.batchId),function(x,T,S){let C=x.Wa[x.currentUser.toKey()];C||(C=new en(Ce)),C=C.insert(T,S),x.Wa[x.currentUser.toKey()]=C}(c,d.batchId,a),await Dc(c,d.changes),await Yh(c.remoteStore)}catch(d){const m=lp(d,"Failed to persist write");a.reject(m)}}async function j_(l,e){const a=ie(l);try{const c=await s4(a.localStore,e);e.targetChanges.forEach((d,m)=>{const x=a.Ka.get(m);x&&(Pe(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?x.Ba=!0:d.modifiedDocuments.size>0?Pe(x.Ba):d.removedDocuments.size>0&&(Pe(x.Ba),x.Ba=!1))}),await Dc(a,c,e)}catch(c){await ul(c)}}function dy(l,e,a){const c=ie(l);if(c.isPrimaryClient&&a===0||!c.isPrimaryClient&&a===1){const d=[];c.ka.forEach((m,x)=>{const T=x.view.sa(e);T.snapshot&&d.push(T.snapshot)}),function(x,T){const S=ie(x);S.onlineState=T;let C=!1;S.queries.forEach((P,B)=>{for(const L of B.ta)L.sa(T)&&(C=!0)}),C&&cp(S)}(c.eventManager,e),d.length&&c.La.p_(d),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}async function Z4(l,e,a){const c=ie(l);c.sharedClientState.updateQueryState(e,"rejected",a);const d=c.Ka.get(e),m=d&&d.key;if(m){let x=new en(Kt.comparator);x=x.insert(m,ar.newNoDocument(m,ne.min()));const T=Ae().add(m),S=new jh(ne.min(),new Map,new en(Ce),x,T);await j_(c,S),c.$a=c.$a.remove(m),c.Ka.delete(e),hp(c)}else await C1(c.localStore,e,!1).then(()=>R1(c,e,a)).catch(ul)}async function J4(l,e){const a=ie(l),c=e.batch.batchId;try{const d=await o4(a.localStore,e);X_(a,c,null),q_(a,c),a.sharedClientState.updateMutationState(c,"acknowledged"),await Dc(a,d)}catch(d){await ul(d)}}async function tC(l,e,a){const c=ie(l);try{const d=await function(x,T){const S=ie(x);return S.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let P;return S.mutationQueue.lookupMutationBatch(C,T).next(B=>(Pe(B!==null),P=B.keys(),S.mutationQueue.removeMutationBatch(C,B))).next(()=>S.mutationQueue.performConsistencyCheck(C)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(C,P,T)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,P)).next(()=>S.localDocuments.getDocuments(C,P))})}(c.localStore,e);X_(c,e,a),q_(c,e),c.sharedClientState.updateMutationState(e,"rejected",a),await Dc(c,d)}catch(d){await ul(d)}}function q_(l,e){(l.Ga.get(e)||[]).forEach(a=>{a.resolve()}),l.Ga.delete(e)}function X_(l,e,a){const c=ie(l);let d=c.Wa[c.currentUser.toKey()];if(d){const m=d.get(e);m&&(a?m.reject(a):m.resolve(),d=d.remove(e)),c.Wa[c.currentUser.toKey()]=d}}function R1(l,e,a=null){l.sharedClientState.removeLocalQueryTarget(e);for(const c of l.qa.get(e))l.ka.delete(c),a&&l.La.Ja(c,a);l.qa.delete(e),l.isPrimaryClient&&l.Ua.Sr(e).forEach(c=>{l.Ua.containsKey(c)||Y_(l,c)})}function Y_(l,e){l.Qa.delete(e.path.canonicalString());const a=l.$a.get(e);a!==null&&(ip(l.remoteStore,a),l.$a=l.$a.remove(e),l.Ka.delete(a),hp(l))}function py(l,e,a){for(const c of a)c instanceof H_?(l.Ua.addReference(c.key,e),eC(l,c)):c instanceof z_?(Pt(fp,"Document no longer in limbo: "+c.key),l.Ua.removeReference(c.key,e),l.Ua.containsKey(c.key)||Y_(l,c.key)):Zt()}function eC(l,e){const a=e.key,c=a.path.canonicalString();l.$a.get(a)||l.Qa.has(c)||(Pt(fp,"New document in limbo: "+a),l.Qa.add(c),hp(l))}function hp(l){for(;l.Qa.size>0&&l.$a.size<l.maxConcurrentLimboResolutions;){const e=l.Qa.values().next().value;l.Qa.delete(e);const a=new Kt(Xe.fromString(e)),c=l.za.next();l.Ka.set(c,new j4(a)),l.$a=l.$a.insert(a,c),L_(l.remoteStore,new Wo(pa(i_(a.path)),c,"TargetPurposeLimboResolution",kh.ae))}}async function Dc(l,e,a){const c=ie(l),d=[],m=[],x=[];c.ka.isEmpty()||(c.ka.forEach((T,S)=>{x.push(c.Ha(S,e,a).then(C=>{var P;if((C||a)&&c.isPrimaryClient){const B=C?!C.fromCache:(P=a==null?void 0:a.targetChanges.get(S.targetId))===null||P===void 0?void 0:P.current;c.sharedClientState.updateQueryState(S.targetId,B?"current":"not-current")}if(C){d.push(C);const B=np.Yi(S.targetId,C);m.push(B)}}))}),await Promise.all(x),c.La.p_(d),await async function(S,C){const P=ie(S);try{await P.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>xt.forEach(C,L=>xt.forEach(L.Hi,W=>P.persistence.referenceDelegate.addReference(B,L.targetId,W)).next(()=>xt.forEach(L.Ji,W=>P.persistence.referenceDelegate.removeReference(B,L.targetId,W)))))}catch(B){if(!ll(B))throw B;Pt(rp,"Failed to update sequence numbers: "+B)}for(const B of C){const L=B.targetId;if(!B.fromCache){const W=P.Ts.get(L),Y=W.snapshotVersion,at=W.withLastLimboFreeSnapshotVersion(Y);P.Ts=P.Ts.insert(L,at)}}}(c.localStore,m))}async function nC(l,e){const a=ie(l);if(!a.currentUser.isEqual(e)){Pt(fp,"User change. New user:",e.toKey());const c=await D_(a.localStore,e);a.currentUser=e,function(m,x){m.Ga.forEach(T=>{T.forEach(S=>{S.reject(new kt(wt.CANCELLED,x))})}),m.Ga.clear()}(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),await Dc(a,c.Rs)}}function rC(l,e){const a=ie(l),c=a.Ka.get(e);if(c&&c.Ba)return Ae().add(c.key);{let d=Ae();const m=a.qa.get(e);if(!m)return d;for(const x of m){const T=a.ka.get(x);d=d.unionWith(T.view.ba)}return d}}function K_(l){const e=ie(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=j_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z4.bind(null,e),e.La.p_=U4.bind(null,e.eventManager),e.La.Ja=F4.bind(null,e.eventManager),e}function iC(l){const e=ie(l);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,a){return null}nu(e,a){return null}eu(e){return a4(this.persistence,new n4,e.initialUser,this.serializer)}Xa(e){return new O_(ep.ri,this.serializer)}Za(e){return new h4}async terminate(){var e,a;(e=this.gcScheduler)===null||e===void 0||e.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class aC extends Ih{constructor(e){super(),this.cacheSizeBytes=e}tu(e,a){Pe(this.persistence.referenceDelegate instanceof Sh);const c=this.persistence.referenceDelegate.garbageCollector;return new HS(c,e.asyncQueue,a)}Xa(e){const a=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new O_(c=>Sh.ri(c,a),this.serializer)}}class O1{async initialize(e,a){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=c=>dy(this.syncEngine,c,1),this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),await P4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new B4}()}createDatastore(e){const a=qh(e.databaseInfo.databaseId),c=function(m){return new m4(m)}(e.databaseInfo);return function(m,x,T,S){return new x4(m,x,T,S)}(e.authCredentials,e.appCheckCredentials,c,a)}createRemoteStore(e){return function(c,d,m,x,T){return new w4(c,d,m,x,T)}(this.localStore,this.datastore,e.asyncQueue,a=>dy(this.syncEngine,a,0),function(){return sy.D()?new sy:new d4}())}createSyncEngine(e,a){return function(d,m,x,T,S,C,P){const B=new q4(d,m,x,T,S,C);return P&&(B.ja=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,a)}async terminate(){var e,a;await async function(d){const m=ie(d);Pt(nu,"RemoteStore shutting down."),m.W_.add(5),await Oc(m),m.z_.shutdown(),m.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}O1.provider={build:()=>new O1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ao("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,a){setTimeout(()=>{this.muted||e(a)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class sC{constructor(e,a,c,d,m){this.authCredentials=e,this.appCheckCredentials=a,this.asyncQueue=c,this.databaseInfo=d,this.user=ir.UNAUTHENTICATED,this.clientId=H2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(c,async x=>{Pt(ss,"Received user=",x.uid),await this.authCredentialListener(x),this.user=x}),this.appCheckCredentials.start(c,x=>(Pt(ss,"Received new app check token=",x),this.appCheckCredentialListener(x,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(a){const c=lp(a,"Failed to shutdown persistence");e.reject(c)}}),e.promise}}async function X0(l,e){l.asyncQueue.verifyOperationInProgress(),Pt(ss,"Initializing OfflineComponentProvider");const a=l.configuration;await e.initialize(a);let c=a.initialUser;l.setCredentialChangeListener(async d=>{c.isEqual(d)||(await D_(e.localStore,d),c=d)}),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e}async function gy(l,e){l.asyncQueue.verifyOperationInProgress();const a=await uC(l);Pt(ss,"Initializing OnlineComponentProvider"),await e.initialize(a,l.configuration),l.setCredentialChangeListener(c=>ly(e.remoteStore,c)),l.setAppCheckTokenChangeListener((c,d)=>ly(e.remoteStore,d)),l._onlineComponents=e}async function uC(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Pt(ss,"Using user provided OfflineComponentProvider");try{await X0(l,l._uninitializedComponentsProvider._offline)}catch(e){const a=e;if(!function(d){return d.name==="FirebaseError"?d.code===wt.FAILED_PRECONDITION||d.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||d.code===22||d.code===20||d.code===11}(a))throw a;Wu("Error using user provided cache. Falling back to memory cache: "+a),await X0(l,new Ih)}}else Pt(ss,"Using default OfflineComponentProvider"),await X0(l,new aC(void 0));return l._offlineComponents}async function W_(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Pt(ss,"Using user provided OnlineComponentProvider"),await gy(l,l._uninitializedComponentsProvider._online)):(Pt(ss,"Using default OnlineComponentProvider"),await gy(l,new O1))),l._onlineComponents}function lC(l){return W_(l).then(e=>e.syncEngine)}async function cC(l){const e=await W_(l),a=e.eventManager;return a.onListen=X4.bind(null,e.syncEngine),a.onUnlisten=W4.bind(null,e.syncEngine),a.onFirstRemoteStoreListen=Y4.bind(null,e.syncEngine),a.onLastRemoteStoreUnlisten=Q4.bind(null,e.syncEngine),a}function fC(l,e,a={}){const c=new ts;return l.asyncQueue.enqueueAndForget(async()=>function(m,x,T,S,C){const P=new oC({next:L=>{P.su(),x.enqueueAndForget(()=>V4(m,B)),L.fromCache&&S.source==="server"?C.reject(new kt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(L)},error:L=>C.reject(L)}),B=new H4(T,P,{includeMetadataChanges:!0,Ta:!0});return k4(m,B)}(await cC(l),l.asyncQueue,e,a,c)),c.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(l){const e={};return l.timeoutSeconds!==void 0&&(e.timeoutSeconds=l.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(l,e,a){if(!a)throw new kt(wt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function hC(l,e,a,c){if(e===!0&&c===!0)throw new kt(wt.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}function my(l){if(!Kt.isDocumentKey(l))throw new kt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function yy(l){if(Kt.isDocumentKey(l))throw new kt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Kh(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const e=function(c){return c.constructor?c.constructor.name:null}(l);return e?`a custom ${e} object`:"an object"}}return typeof l=="function"?"a function":Zt()}function el(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new kt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Kh(l);throw new kt(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${a}`)}}return l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="firestore.googleapis.com",_y=!0;class Ey{constructor(e){var a,c;if(e.host===void 0){if(e.ssl!==void 0)throw new kt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z_,this.ssl=_y}else this.host=e.host,this.ssl=(a=e.ssl)!==null&&a!==void 0?a:_y;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<US)throw new kt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q_((c=e.experimentalLongPollingOptions)!==null&&c!==void 0?c:{}),function(m){if(m.timeoutSeconds!==void 0){if(isNaN(m.timeoutSeconds))throw new kt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new kt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new kt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(c,d){return c.timeoutSeconds===d.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,a,c,d){this._authCredentials=e,this._appCheckCredentials=a,this._databaseId=c,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ey({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new kt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ey(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(c){if(!c)return new v3;switch(c.type){case"firstParty":return new E3(c.sessionIndex||"0",c.iamToken||null,c.authTokenFactory||null);case"provider":return c.client;default:throw new kt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const c=vy.get(a);c&&(Pt("ComponentProvider","Removing Datastore"),vy.delete(a),c.terminate())}(this),Promise.resolve()}}function dC(l,e,a,c={}){var d;const m=(l=el(l,Wh))._getSettings(),x=Object.assign(Object.assign({},m),{emulatorOptions:l._getEmulatorOptions()}),T=`${e}:${a}`;m.host!==Z_&&m.host!==T&&Wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const S=Object.assign(Object.assign({},m),{host:T,ssl:!1,emulatorOptions:c});if(!Js(S,x)&&(l._setSettings(S),c.mockUserToken)){let C,P;if(typeof c.mockUserToken=="string")C=c.mockUserToken,P=ir.MOCK_USER;else{C=qw(c.mockUserToken,(d=l._app)===null||d===void 0?void 0:d.options.projectId);const B=c.mockUserToken.sub||c.mockUserToken.user_id;if(!B)throw new kt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ir(B)}l._authCredentials=new m3(new F2(C,P))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,a,c){this.converter=a,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class Xr{constructor(e,a,c){this.converter=a,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class es extends fl{constructor(e,a,c){super(e,a,i_(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new Kt(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function J_(l,e,...a){if(l=pr(l),$_("collection","path",e),l instanceof Wh){const c=Xe.fromString(e,...a);return yy(c),new es(l,null,c)}{if(!(l instanceof Xr||l instanceof es))throw new kt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(Xe.fromString(e,...a));return yy(c),new es(l.firestore,null,c)}}function tE(l,e,...a){if(l=pr(l),arguments.length===1&&(e=H2.newId()),$_("doc","path",e),l instanceof Wh){const c=Xe.fromString(e,...a);return my(c),new Xr(l,null,new Kt(c))}{if(!(l instanceof Xr||l instanceof es))throw new kt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(Xe.fromString(e,...a));return my(c),new Xr(l.firestore,l instanceof es?l.converter:null,new Kt(c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="AsyncQueue";class Ay{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new M_(this,"async_queue_retry"),this.bu=()=>{const c=q0();c&&Pt(xy,"Visibility state changed to "+c.visibilityState),this.a_.t_()},this.Su=e;const a=q0();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const a=q0();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const a=new ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ll(e))throw e;Pt(xy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const a=this.Su.then(()=>(this.pu=!0,e().catch(c=>{this.gu=c,this.pu=!1;const d=function(x){let T=x.message||"";return x.stack&&(T=x.stack.includes(x.message)?x.stack:x.message+`
`+x.stack),T}(c);throw ao("INTERNAL UNHANDLED ERROR: ",d),c}).then(c=>(this.pu=!1,c))));return this.Su=a,a}enqueueAfterDelay(e,a,c){this.Du(),this.wu.indexOf(e)>-1&&(a=0);const d=up.createAndSchedule(this,e,a,c,m=>this.Fu(m));return this.fu.push(d),d}Du(){this.gu&&Zt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const a of this.fu)if(a.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((a,c)=>a.targetTimeMs-c.targetTimeMs);for(const a of this.fu)if(a.skipDelay(),e!=="all"&&a.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const a=this.fu.indexOf(e);this.fu.splice(a,1)}}class Qh extends Wh{constructor(e,a,c,d){super(e,a,c,d),this.type="firestore",this._queue=new Ay,this._persistenceKey=(d==null?void 0:d.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ay(e),this._firestoreClient=void 0,await e}}}function pC(l,e){const a=typeof l=="object"?l:D2(),c=typeof l=="string"?l:yh,d=G1(a,"firestore").getImmediate({identifier:c});if(!d._initialized){const m=Gw("firestore");m&&dC(d,...m)}return d}function eE(l){if(l._terminated)throw new kt(wt.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||gC(l),l._firestoreClient}function gC(l){var e,a,c;const d=l._freezeSettings(),m=function(T,S,C,P){return new P3(T,S,C,P.host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,Q_(P.experimentalLongPollingOptions),P.useFetchStreams)}(l._databaseId,((e=l._app)===null||e===void 0?void 0:e.options.appId)||"",l._persistenceKey,d);l._componentsProvider||!((a=d.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((c=d.localCache)===null||c===void 0)&&c._onlineComponentProvider)&&(l._componentsProvider={_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider}),l._firestoreClient=new sC(l._authCredentials,l._appCheckCredentials,l._queue,m,l._componentsProvider&&function(T){const S=T==null?void 0:T._online.build();return{_offline:T==null?void 0:T._offline.build(S),_online:S}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Qn.fromBase64String(e))}catch(a){throw new kt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(e){return new nl(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let a=0;a<e.length;++a)if(e[a].length===0)throw new kt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,a){if(!isFinite(e)||e<-90||e>90)throw new kt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(a)||a<-180||a>180)throw new kt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=e,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._values=(e||[]).map(a=>a)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(c,d){if(c.length!==d.length)return!1;for(let m=0;m<c.length;++m)if(c[m]!==d[m])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^__.*__$/;class mC{constructor(e,a,c){this.data=e,this.fieldMask=a,this.fieldTransforms=c}toMutation(e,a){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,a,this.fieldTransforms):new bc(e,this.data,a,this.fieldTransforms)}}class nE{constructor(e,a,c){this.data=e,this.fieldMask=a,this.fieldTransforms=c}toMutation(e,a){return new ls(e,this.data,this.fieldMask,a,this.fieldTransforms)}}function rE(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt()}}class vp{constructor(e,a,c,d,m,x){this.settings=e,this.databaseId=a,this.serializer=c,this.ignoreUndefinedProperties=d,m===void 0&&this.Bu(),this.fieldTransforms=m||[],this.fieldMask=x||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var a;const c=(a=this.path)===null||a===void 0?void 0:a.child(e),d=this.ku({path:c,Qu:!1});return d.$u(e),d}Ku(e){var a;const c=(a=this.path)===null||a===void 0?void 0:a.child(e),d=this.ku({path:c,Qu:!1});return d.Bu(),d}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(a=>e.isPrefixOf(a))!==void 0||this.fieldTransforms.find(a=>e.isPrefixOf(a.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(rE(this.Lu)&&vC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class yC{constructor(e,a,c){this.databaseId=e,this.ignoreUndefinedProperties=a,this.serializer=c||qh(e)}ju(e,a,c,d=!1){return new vp({Lu:e,methodName:a,zu:c,path:Wn.emptyPath(),Qu:!1,Gu:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(l){const e=l._freezeSettings(),a=qh(l._databaseId);return new yC(l._databaseId,!!e.ignoreUndefinedProperties,a)}function _C(l,e,a,c,d,m={}){const x=l.ju(m.merge||m.mergeFields?2:0,e,a,d);yp("Data must be an object, but it was:",x,c);const T=iE(c,x);let S,C;if(m.merge)S=new qr(x.fieldMask),C=x.fieldTransforms;else if(m.mergeFields){const P=[];for(const B of m.mergeFields){const L=D1(e,B,a);if(!x.contains(L))throw new kt(wt.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);oE(P,L)||P.push(L)}S=new qr(P),C=x.fieldTransforms.filter(B=>S.covers(B.field))}else S=null,C=x.fieldTransforms;return new mC(new br(T),S,C)}class Zh extends dp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function EC(l,e,a,c){const d=l.ju(1,e,a);yp("Data must be an object, but it was:",d,c);const m=[],x=br.empty();us(c,(S,C)=>{const P=_p(e,S,a);C=pr(C);const B=d.Ku(P);if(C instanceof Zh)m.push(P);else{const L=Nc(C,B);L!=null&&(m.push(P),x.set(P,L))}});const T=new qr(m);return new nE(x,T,d.fieldTransforms)}function xC(l,e,a,c,d,m){const x=l.ju(1,e,a),T=[D1(e,c,a)],S=[d];if(m.length%2!=0)throw new kt(wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<m.length;L+=2)T.push(D1(e,m[L])),S.push(m[L+1]);const C=[],P=br.empty();for(let L=T.length-1;L>=0;--L)if(!oE(C,T[L])){const W=T[L];let Y=S[L];Y=pr(Y);const at=x.Ku(W);if(Y instanceof Zh)C.push(W);else{const ct=Nc(Y,at);ct!=null&&(C.push(W),P.set(W,ct))}}const B=new qr(C);return new nE(P,B,x.fieldTransforms)}function AC(l,e,a,c=!1){return Nc(a,l.ju(c?4:3,e))}function Nc(l,e){if(aE(l=pr(l)))return yp("Unsupported field value:",e,l),iE(l,e);if(l instanceof dp)return function(c,d){if(!rE(d.Lu))throw d.Wu(`${c._methodName}() can only be used with update() and set()`);if(!d.path)throw d.Wu(`${c._methodName}() is not currently supported inside arrays`);const m=c._toFieldTransform(d);m&&d.fieldTransforms.push(m)}(l,e),null;if(l===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),l instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(c,d){const m=[];let x=0;for(const T of c){let S=Nc(T,d.Uu(x));S==null&&(S={nullValue:"NULL_VALUE"}),m.push(S),x++}return{arrayValue:{values:m}}}(l,e)}return function(c,d){if((c=pr(c))===null)return{nullValue:"NULL_VALUE"};if(typeof c=="number")return rS(d.serializer,c);if(typeof c=="boolean")return{booleanValue:c};if(typeof c=="string")return{stringValue:c};if(c instanceof Date){const m=On.fromDate(c);return{timestampValue:Th(d.serializer,m)}}if(c instanceof On){const m=new On(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:Th(d.serializer,m)}}if(c instanceof pp)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof nl)return{bytesValue:A_(d.serializer,c._byteString)};if(c instanceof Xr){const m=d.databaseId,x=c.firestore._databaseId;if(!x.isEqual(m))throw d.Wu(`Document reference is for database ${x.projectId}/${x.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:J1(c.firestore._databaseId||d.databaseId,c._key.path)}}if(c instanceof gp)return function(x,T){return{mapValue:{fields:{[W2]:{stringValue:Q2},[_h]:{arrayValue:{values:x.toArray().map(C=>{if(typeof C!="number")throw T.Wu("VectorValues must only contain numeric values.");return Q1(T.serializer,C)})}}}}}}(c,d);throw d.Wu(`Unsupported field value: ${Kh(c)}`)}(l,e)}function iE(l,e){const a={};return G2(l)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(l,(c,d)=>{const m=Nc(d,e.qu(c));m!=null&&(a[c]=m)}),{mapValue:{fields:a}}}function aE(l){return!(typeof l!="object"||l===null||l instanceof Array||l instanceof Date||l instanceof On||l instanceof pp||l instanceof nl||l instanceof Xr||l instanceof dp||l instanceof gp)}function yp(l,e,a){if(!aE(a)||!function(d){return typeof d=="object"&&d!==null&&(Object.getPrototypeOf(d)===Object.prototype||Object.getPrototypeOf(d)===null)}(a)){const c=Kh(a);throw c==="an object"?e.Wu(l+" a custom object"):e.Wu(l+" "+c)}}function D1(l,e,a){if((e=pr(e))instanceof $h)return e._internalPath;if(typeof e=="string")return _p(l,e);throw bh("Field path arguments must be of type string or ",l,!1,void 0,a)}const wC=new RegExp("[~\\*/\\[\\]]");function _p(l,e,a){if(e.search(wC)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,a);try{return new $h(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,a)}}function bh(l,e,a,c,d){const m=c&&!c.isEmpty(),x=d!==void 0;let T=`Function ${e}() called with invalid data`;a&&(T+=" (via `toFirestore()`)"),T+=". ";let S="";return(m||x)&&(S+=" (found",m&&(S+=` in field ${c}`),x&&(S+=` in document ${d}`),S+=")"),new kt(wt.INVALID_ARGUMENT,T+l+S)}function oE(l,e){return l.some(a=>a.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,a,c,d,m){this._firestore=e,this._userDataWriter=a,this._key=c,this._document=d,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const a=this._document.data.field(Ep("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a)}}}class TC extends sE{data(){return super.data()}}function Ep(l,e){return typeof e=="string"?_p(l,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(l){if(l.limitType==="L"&&l.explicitOrderBy.length===0)throw new kt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class CC extends xp{}function IC(l,e,...a){let c=[];e instanceof xp&&c.push(e),c=c.concat(a),function(m){const x=m.filter(S=>S instanceof Ap).length,T=m.filter(S=>S instanceof Jh).length;if(x>1||x>0&&T>0)throw new kt(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const d of c)l=d._apply(l);return l}class Jh extends CC{constructor(e,a,c){super(),this._field=e,this._op=a,this._value=c,this.type="where"}static _create(e,a,c){return new Jh(e,a,c)}_apply(e){const a=this._parse(e);return uE(e._query,a),new fl(e.firestore,e.converter,E1(e._query,a))}_parse(e){const a=mp(e.firestore);return function(m,x,T,S,C,P,B){let L;if(C.isKeyField()){if(P==="array-contains"||P==="array-contains-any")throw new kt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if(P==="in"||P==="not-in"){Ty(B,P);const Y=[];for(const at of B)Y.push(wy(S,m,at));L={arrayValue:{values:Y}}}else L=wy(S,m,B)}else P!=="in"&&P!=="not-in"&&P!=="array-contains-any"||Ty(B,P),L=AC(T,x,B,P==="in"||P==="not-in");return Tn.create(C,P,L)}(e._query,"where",a,e.firestore._databaseId,this._field,this._op,this._value)}}function bC(l,e,a){const c=e,d=Ep("where",l);return Jh._create(d,c,a)}class Ap extends xp{constructor(e,a){super(),this.type=e,this._queryConstraints=a}static _create(e,a){return new Ap(e,a)}_parse(e){const a=this._queryConstraints.map(c=>c._parse(e)).filter(c=>c.getFilters().length>0);return a.length===1?a[0]:ki.create(a,this._getOperator())}_apply(e){const a=this._parse(e);return a.getFilters().length===0?e:(function(d,m){let x=d;const T=m.getFlattenedFilters();for(const S of T)uE(x,S),x=E1(x,S)}(e._query,a),new fl(e.firestore,e.converter,E1(e._query,a)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wy(l,e,a){if(typeof(a=pr(a))=="string"){if(a==="")throw new kt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a_(e)&&a.indexOf("/")!==-1)throw new kt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const c=e.path.child(Xe.fromString(a));if(!Kt.isDocumentKey(c))throw new kt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Um(l,new Kt(c))}if(a instanceof Xr)return Um(l,a._key);throw new kt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(a)}.`)}function Ty(l,e){if(!Array.isArray(l)||l.length===0)throw new kt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uE(l,e){const a=function(d,m){for(const x of d)for(const T of x.getFlattenedFilters())if(m.indexOf(T.op)>=0)return T.op;return null}(l.filters,function(d){switch(d){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(a!==null)throw a===e.op?new kt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new kt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${a.toString()}' filters.`)}class RC{convertValue(e,a="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,a);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,a);case 11:return this.convertObject(e.mapValue,a);case 10:return this.convertVectorValue(e.mapValue);default:throw Zt()}}convertObject(e,a){return this.convertObjectMap(e.fields,a)}convertObjectMap(e,a="none"){const c={};return us(e,(d,m)=>{c[d]=this.convertValue(m,a)}),c}convertVectorValue(e){var a,c,d;const m=(d=(c=(a=e.fields)===null||a===void 0?void 0:a[_h].arrayValue)===null||c===void 0?void 0:c.values)===null||d===void 0?void 0:d.map(x=>vn(x.doubleValue));return new gp(m)}convertGeoPoint(e){return new pp(vn(e.latitude),vn(e.longitude))}convertArray(e,a){return(e.values||[]).map(c=>this.convertValue(c,a))}convertServerTimestamp(e,a){switch(a){case"previous":const c=Uh(e);return c==null?null:this.convertValue(c,a);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const a=rs(e);return new On(a.seconds,a.nanos)}convertDocumentKey(e,a){const c=Xe.fromString(e);Pe(b_(c));const d=new vc(c.get(1),c.get(3)),m=new Kt(c.popFirst(5));return d.isEqual(a)||ao(`Document ${m} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(l,e,a){let c;return c=l?l.toFirestore(e):e,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,a){this.hasPendingWrites=e,this.fromCache=a}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DC extends sE{constructor(e,a,c,d,m,x){super(e,a,c,d,x),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const a=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,a={}){if(this._document){const c=this._document.data.field(Ep("DocumentSnapshot.get",e));if(c!==null)return this._userDataWriter.convertValue(c,a.serverTimestamps)}}}class lh extends DC{data(e={}){return super.data(e)}}class NC{constructor(e,a,c,d){this._firestore=e,this._userDataWriter=a,this._snapshot=d,this.metadata=new $f(d.hasPendingWrites,d.fromCache),this.query=c}get docs(){const e=[];return this.forEach(a=>e.push(a)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,a){this._snapshot.docs.forEach(c=>{e.call(a,new lh(this._firestore,this._userDataWriter,c.key,c,new $f(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const a=!!e.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new kt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(d,m){if(d._snapshot.oldDocs.isEmpty()){let x=0;return d._snapshot.docChanges.map(T=>{const S=new lh(d._firestore,d._userDataWriter,T.doc.key,T.doc,new $f(d._snapshot.mutatedKeys.has(T.doc.key),d._snapshot.fromCache),d.query.converter);return T.doc,{type:"added",doc:S,oldIndex:-1,newIndex:x++}})}{let x=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(T=>m||T.type!==3).map(T=>{const S=new lh(d._firestore,d._userDataWriter,T.doc.key,T.doc,new $f(d._snapshot.mutatedKeys.has(T.doc.key),d._snapshot.fromCache),d.query.converter);let C=-1,P=-1;return T.type!==0&&(C=x.indexOf(T.doc.key),x=x.delete(T.doc.key)),T.type!==1&&(x=x.add(T.doc),P=x.indexOf(T.doc.key)),{type:MC(T.type),doc:S,oldIndex:C,newIndex:P}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function MC(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt()}}class PC extends RC{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const a=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,a)}}function LC(l){l=el(l,fl);const e=el(l.firestore,Qh),a=eE(e),c=new PC(e);return SC(l._query),fC(a,l._query).then(d=>new NC(e,c,l,d))}function BC(l,e,a,...c){l=el(l,Xr);const d=el(l.firestore,Qh),m=mp(d);let x;return x=typeof(e=pr(e))=="string"||e instanceof $h?xC(m,"updateDoc",l._key,e,a,c):EC(m,"updateDoc",l._key,e),lE(d,[x.toMutation(l._key,ga.exists(!0))])}function kC(l,e){const a=el(l.firestore,Qh),c=tE(l),d=OC(l.converter,e);return lE(a,[_C(mp(l.firestore),"addDoc",c._key,d,l.converter!==null,{}).toMutation(c._key,ga.exists(!1))]).then(()=>c)}function lE(l,e){return function(c,d){const m=new ts;return c.asyncQueue.enqueueAndForget(async()=>$4(await lC(c),d,m)),m.promise}(eE(l),e)}(function(e,a=!0){(function(d){sl=d})(ol),Ku(new tu("firestore",(c,{instanceIdentifier:d,options:m})=>{const x=c.getProvider("app").getImmediate(),T=new Qh(new y3(c.getProvider("auth-internal")),new x3(x,c.getProvider("app-check-internal")),function(C,P){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new kt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(C.options.projectId,P)}(x,d),x);return m=Object.assign({useFetchStreams:a},m),T._setSettings(m),T},"PUBLIC").setMultipleInstances(!0)),Zo(bm,Rm,e),Zo(bm,Rm,"esm2017")})();const Yn=[];for(let l=0;l<256;++l)Yn.push((l+256).toString(16).slice(1));function VC(l,e=0){return(Yn[l[e+0]]+Yn[l[e+1]]+Yn[l[e+2]]+Yn[l[e+3]]+"-"+Yn[l[e+4]]+Yn[l[e+5]]+"-"+Yn[l[e+6]]+Yn[l[e+7]]+"-"+Yn[l[e+8]]+Yn[l[e+9]]+"-"+Yn[l[e+10]]+Yn[l[e+11]]+Yn[l[e+12]]+Yn[l[e+13]]+Yn[l[e+14]]+Yn[l[e+15]]).toLowerCase()}let Y0;const UC=new Uint8Array(16);function FC(){if(!Y0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Y0=crypto.getRandomValues.bind(crypto)}return Y0(UC)}const HC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sy={randomUUID:HC};function zC(l,e,a){var d;if(Sy.randomUUID&&!l)return Sy.randomUUID();l=l||{};const c=l.random??((d=l.rng)==null?void 0:d.call(l))??FC();if(c.length<16)throw new Error("Random bytes length must be >= 16");return c[6]=c[6]&15|64,c[8]=c[8]&63|128,VC(c)}var GC="firebase",jC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(GC,jC,"app");function wp(l,e){var a={};for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&e.indexOf(c)<0&&(a[c]=l[c]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(l);d<c.length;d++)e.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(l,c[d])&&(a[c[d]]=l[c[d]]);return a}function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qC=cE,fE=new Sc("auth","Firebase",cE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new H1("@firebase/auth");function XC(l,...e){Rh.logLevel<=xe.WARN&&Rh.warn(`Auth (${ol}): ${l}`,...e)}function ch(l,...e){Rh.logLevel<=xe.ERROR&&Rh.error(`Auth (${ol}): ${l}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(l,...e){throw Tp(l,...e)}function ma(l,...e){return Tp(l,...e)}function hE(l,e,a){const c=Object.assign(Object.assign({},qC()),{[e]:a});return new Sc("auth","Firebase",c).create(e,{appName:l.name})}function Zs(l){return hE(l,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(l,...e){if(typeof l!="string"){const a=e[0],c=[...e.slice(1)];return c[0]&&(c[0].appName=l.name),l._errorFactory.create(a,...c)}return fE.create(l,...e)}function te(l,e,...a){if(!l)throw Tp(e,...a)}function Ja(l){const e="INTERNAL ASSERTION FAILED: "+l;throw ch(e),new Error(e)}function uo(l,e){l||Ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){var l;return typeof self<"u"&&((l=self.location)===null||l===void 0?void 0:l.href)||""}function YC(){return Cy()==="http:"||Cy()==="https:"}function Cy(){var l;return typeof self<"u"&&((l=self.location)===null||l===void 0?void 0:l.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YC()||Ww()||"connection"in navigator)?navigator.onLine:!0}function WC(){if(typeof navigator>"u")return null;const l=navigator;return l.languages&&l.languages[0]||l.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,a){this.shortDelay=e,this.longDelay=a,uo(a>e,"Short delay should be less than long delay!"),this.isMobile=Xw()||Qw()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(l,e){uo(l.emulator,"Emulator should always be set here");const{url:a}=l.emulator;return e?`${a}${e.startsWith("/")?e.slice(1):e}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,a,c){this.fetchImpl=e,a&&(this.headersImpl=a),c&&(this.responseImpl=c)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Mc(3e4,6e4);function Cp(l,e){return l.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:l.tenantId}):e}async function hl(l,e,a,c,d={}){return pE(l,d,async()=>{let m={},x={};c&&(e==="GET"?x=c:m={body:JSON.stringify(c)});const T=Cc(Object.assign({key:l.config.apiKey},x)).slice(1),S=await l._getAdditionalHeaders();S["Content-Type"]="application/json",l.languageCode&&(S["X-Firebase-Locale"]=l.languageCode);const C=Object.assign({method:e,headers:S},m);return Kw()||(C.referrerPolicy="no-referrer"),dE.fetch()(gE(l,l.config.apiHost,a,T),C)})}async function pE(l,e,a){l._canInitEmulator=!1;const c=Object.assign(Object.assign({},QC),e);try{const d=new JC(l),m=await Promise.race([a(),d.promise]);d.clearNetworkTimeout();const x=await m.json();if("needConfirmation"in x)throw Zf(l,"account-exists-with-different-credential",x);if(m.ok&&!("errorMessage"in x))return x;{const T=m.ok?x.errorMessage:x.error.message,[S,C]=T.split(" : ");if(S==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(l,"credential-already-in-use",x);if(S==="EMAIL_EXISTS")throw Zf(l,"email-already-in-use",x);if(S==="USER_DISABLED")throw Zf(l,"user-disabled",x);const P=c[S]||S.toLowerCase().replace(/[_\s]+/g,"-");if(C)throw hE(l,P,C);so(l,P)}}catch(d){if(d instanceof co)throw d;so(l,"network-request-failed",{message:String(d)})}}async function ZC(l,e,a,c,d={}){const m=await hl(l,e,a,c,d);return"mfaPendingCredential"in m&&so(l,"multi-factor-auth-required",{_serverResponse:m}),m}function gE(l,e,a,c){const d=`${e}${a}?${c}`;return l.config.emulator?Sp(l.config,d):`${l.config.apiScheme}://${d}`}class JC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((a,c)=>{this.timer=setTimeout(()=>c(ma(this.auth,"network-request-failed")),$C.get())})}}function Zf(l,e,a){const c={appName:l.name};a.email&&(c.email=a.email),a.phoneNumber&&(c.phoneNumber=a.phoneNumber);const d=ma(l,e,c);return d.customData._tokenResponse=a,d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(l,e){return hl(l,"POST","/v1/accounts:delete",e)}async function vE(l,e){return hl(l,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(l){if(l)try{const e=new Date(Number(l));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eI(l,e=!1){const a=pr(l),c=await a.getIdToken(e),d=Ip(c);te(d&&d.exp&&d.auth_time&&d.iat,a.auth,"internal-error");const m=typeof d.firebase=="object"?d.firebase:void 0,x=m==null?void 0:m.sign_in_provider;return{claims:d,token:c,authTime:fc(K0(d.auth_time)),issuedAtTime:fc(K0(d.iat)),expirationTime:fc(K0(d.exp)),signInProvider:x||null,signInSecondFactor:(m==null?void 0:m.sign_in_second_factor)||null}}function K0(l){return Number(l)*1e3}function Ip(l){const[e,a,c]=l.split(".");if(e===void 0||a===void 0||c===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const d=T2(a);return d?JSON.parse(d):(ch("Failed to decode base64 JWT payload"),null)}catch(d){return ch("Caught error parsing JWT payload as JSON",d==null?void 0:d.toString()),null}}function Iy(l){const e=Ip(l);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(l,e,a=!1){if(a)return e;try{return await e}catch(c){throw c instanceof co&&nI(c)&&l.auth.currentUser===l&&await l.auth.signOut(),c}}function nI({code:l}){return l==="auth/user-disabled"||l==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var a;if(e){const c=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),c}else{this.errorBackoff=3e4;const d=((a=this.user.stsTokenManager.expirationTime)!==null&&a!==void 0?a:0)-Date.now()-3e5;return Math.max(0,d)}}schedule(e=!1){if(!this.isRunning)return;const a=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,a){this.createdAt=e,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(l){var e;const a=l.auth,c=await l.getIdToken(),d=await Ec(l,vE(a,{idToken:c}));te(d==null?void 0:d.users.length,a,"internal-error");const m=d.users[0];l._notifyReloadListener(m);const x=!((e=m.providerUserInfo)===null||e===void 0)&&e.length?mE(m.providerUserInfo):[],T=aI(l.providerData,x),S=l.isAnonymous,C=!(l.email&&m.passwordHash)&&!(T!=null&&T.length),P=S?C:!1,B={uid:m.localId,displayName:m.displayName||null,photoURL:m.photoUrl||null,email:m.email||null,emailVerified:m.emailVerified||!1,phoneNumber:m.phoneNumber||null,tenantId:m.tenantId||null,providerData:T,metadata:new M1(m.createdAt,m.lastLoginAt),isAnonymous:P};Object.assign(l,B)}async function iI(l){const e=pr(l);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aI(l,e){return[...l.filter(c=>!e.some(d=>d.providerId===c.providerId)),...e]}function mE(l){return l.map(e=>{var{providerId:a}=e,c=wp(e,["providerId"]);return{providerId:a,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(l,e){const a=await pE(l,{},async()=>{const c=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:d,apiKey:m}=l.config,x=gE(l,d,"/v1/token",`key=${m}`),T=await l._getAdditionalHeaders();return T["Content-Type"]="application/x-www-form-urlencoded",dE.fetch()(x,{method:"POST",headers:T,body:c})});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function sI(l,e){return hl(l,"POST","/v2/accounts:revokeToken",Cp(l,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const a="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,a)}updateFromIdToken(e){te(e.length!==0,"internal-error");const a=Iy(e);this.updateTokensAndExpiration(e,null,a)}async getToken(e,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,a){const{accessToken:c,refreshToken:d,expiresIn:m}=await oI(e,a);this.updateTokensAndExpiration(c,d,Number(m))}updateTokensAndExpiration(e,a,c){this.refreshToken=a||null,this.accessToken=e||null,this.expirationTime=Date.now()+c*1e3}static fromJSON(e,a){const{refreshToken:c,accessToken:d,expirationTime:m}=a,x=new qu;return c&&(te(typeof c=="string","internal-error",{appName:e}),x.refreshToken=c),d&&(te(typeof d=="string","internal-error",{appName:e}),x.accessToken=d),m&&(te(typeof m=="number","internal-error",{appName:e}),x.expirationTime=m),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(l,e){te(typeof l=="string"||typeof l>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:a,auth:c,stsTokenManager:d}=e,m=wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=a,this.auth=c,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=m.displayName||null,this.email=m.email||null,this.emailVerified=m.emailVerified||!1,this.phoneNumber=m.phoneNumber||null,this.photoURL=m.photoURL||null,this.isAnonymous=m.isAnonymous||!1,this.tenantId=m.tenantId||null,this.providerData=m.providerData?[...m.providerData]:[],this.metadata=new M1(m.createdAt||void 0,m.lastLoginAt||void 0)}async getIdToken(e){const a=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return te(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(e){return eI(this,e)}reload(){return iI(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(a=>Object.assign({},a)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const a=new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return a.metadata._copy(this.metadata),a}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,a=!1){let c=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),c=!0),a&&await Oh(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Ec(this,tI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,a){var c,d,m,x,T,S,C,P;const B=(c=a.displayName)!==null&&c!==void 0?c:void 0,L=(d=a.email)!==null&&d!==void 0?d:void 0,W=(m=a.phoneNumber)!==null&&m!==void 0?m:void 0,Y=(x=a.photoURL)!==null&&x!==void 0?x:void 0,at=(T=a.tenantId)!==null&&T!==void 0?T:void 0,ct=(S=a._redirectEventId)!==null&&S!==void 0?S:void 0,it=(C=a.createdAt)!==null&&C!==void 0?C:void 0,At=(P=a.lastLoginAt)!==null&&P!==void 0?P:void 0,{uid:Tt,emailVerified:Ut,isAnonymous:Mt,providerData:Wt,stsTokenManager:$}=a;te(Tt&&$,e,"internal-error");const G=qu.fromJSON(this.name,$);te(typeof Tt=="string",e,"internal-error"),jo(B,e.name),jo(L,e.name),te(typeof Ut=="boolean",e,"internal-error"),te(typeof Mt=="boolean",e,"internal-error"),jo(W,e.name),jo(Y,e.name),jo(at,e.name),jo(ct,e.name),jo(it,e.name),jo(At,e.name);const z=new to({uid:Tt,auth:e,email:L,emailVerified:Ut,displayName:B,isAnonymous:Mt,photoURL:Y,phoneNumber:W,tenantId:at,stsTokenManager:G,createdAt:it,lastLoginAt:At});return Wt&&Array.isArray(Wt)&&(z.providerData=Wt.map(X=>Object.assign({},X))),ct&&(z._redirectEventId=ct),z}static async _fromIdTokenResponse(e,a,c=!1){const d=new qu;d.updateFromServerResponse(a);const m=new to({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c});return await Oh(m),m}static async _fromGetAccountInfoResponse(e,a,c){const d=a.users[0];te(d.localId!==void 0,"internal-error");const m=d.providerUserInfo!==void 0?mE(d.providerUserInfo):[],x=!(d.email&&d.passwordHash)&&!(m!=null&&m.length),T=new qu;T.updateFromIdToken(c);const S=new to({uid:d.localId,auth:e,stsTokenManager:T,isAnonymous:x}),C={uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:m,metadata:new M1(d.createdAt,d.lastLoginAt),isAnonymous:!(d.email&&d.passwordHash)&&!(m!=null&&m.length)};return Object.assign(S,C),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;function eo(l){uo(l instanceof Function,"Expected a class definition");let e=by.get(l);return e?(uo(e instanceof l,"Instance stored in cache mismatched with class"),e):(e=new l,by.set(l,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,a){this.storage[e]=a}async _get(e){const a=this.storage[e];return a===void 0?null:a}async _remove(e){delete this.storage[e]}_addListener(e,a){}_removeListener(e,a){}}yE.type="NONE";const Ry=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(l,e,a){return`firebase:${l}:${e}:${a}`}class Xu{constructor(e,a,c){this.persistence=e,this.auth=a,this.userKey=c;const{config:d,name:m}=this.auth;this.fullUserKey=fh(this.userKey,d.apiKey,m),this.fullPersistenceKey=fh("persistence",d.apiKey,m),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,a,c="authUser"){if(!a.length)return new Xu(eo(Ry),e,c);const d=(await Promise.all(a.map(async C=>{if(await C._isAvailable())return C}))).filter(C=>C);let m=d[0]||eo(Ry);const x=fh(c,e.config.apiKey,e.name);let T=null;for(const C of a)try{const P=await C._get(x);if(P){const B=to._fromJSON(e,P);C!==m&&(T=B),m=C;break}}catch{}const S=d.filter(C=>C._shouldAllowMigration);return!m._shouldAllowMigration||!S.length?new Xu(m,e,c):(m=S[0],T&&await m._set(x,T.toJSON()),await Promise.all(a.map(async C=>{if(C!==m)try{await C._remove(x)}catch{}})),new Xu(m,e,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(l){const e=l.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TE(e))return"Blackberry";if(SE(e))return"Webos";if(EE(e))return"Safari";if((e.includes("chrome/")||xE(e))&&!e.includes("edge/"))return"Chrome";if(wE(e))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,c=l.match(a);if((c==null?void 0:c.length)===2)return c[1]}return"Other"}function _E(l=or()){return/firefox\//i.test(l)}function EE(l=or()){const e=l.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xE(l=or()){return/crios\//i.test(l)}function AE(l=or()){return/iemobile/i.test(l)}function wE(l=or()){return/android/i.test(l)}function TE(l=or()){return/blackberry/i.test(l)}function SE(l=or()){return/webos/i.test(l)}function bp(l=or()){return/iphone|ipad|ipod/i.test(l)||/macintosh/i.test(l)&&/mobile/i.test(l)}function uI(l=or()){var e;return bp(l)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lI(){return $w()&&document.documentMode===10}function CE(l=or()){return bp(l)||wE(l)||SE(l)||TE(l)||/windows phone/i.test(l)||AE(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(l,e=[]){let a;switch(l){case"Browser":a=Oy(or());break;case"Worker":a=`${Oy(or())}-${l}`;break;default:a=l}const c=e.length?e.join(","):"FirebaseCore-web";return`${a}/JsCore/${ol}/${c}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,a){const c=m=>new Promise((x,T)=>{try{const S=e(m);x(S)}catch(S){T(S)}});c.onAbort=a,this.queue.push(c);const d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const a=[];try{for(const c of this.queue)await c(e),c.onAbort&&a.push(c.onAbort)}catch(c){a.reverse();for(const d of a)try{d()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:c==null?void 0:c.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(l,e={}){return hl(l,"GET","/v2/passwordPolicy",Cp(l,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=6;class dI{constructor(e){var a,c,d,m;const x=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(a=x.minPasswordLength)!==null&&a!==void 0?a:hI,x.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=x.maxPasswordLength),x.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=x.containsLowercaseCharacter),x.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=x.containsUppercaseCharacter),x.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=x.containsNumericCharacter),x.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=x.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(d=(c=e.allowedNonAlphanumericCharacters)===null||c===void 0?void 0:c.join(""))!==null&&d!==void 0?d:"",this.forceUpgradeOnSignin=(m=e.forceUpgradeOnSignin)!==null&&m!==void 0?m:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var a,c,d,m,x,T;const S={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,S),this.validatePasswordCharacterOptions(e,S),S.isValid&&(S.isValid=(a=S.meetsMinPasswordLength)!==null&&a!==void 0?a:!0),S.isValid&&(S.isValid=(c=S.meetsMaxPasswordLength)!==null&&c!==void 0?c:!0),S.isValid&&(S.isValid=(d=S.containsLowercaseLetter)!==null&&d!==void 0?d:!0),S.isValid&&(S.isValid=(m=S.containsUppercaseLetter)!==null&&m!==void 0?m:!0),S.isValid&&(S.isValid=(x=S.containsNumericCharacter)!==null&&x!==void 0?x:!0),S.isValid&&(S.isValid=(T=S.containsNonAlphanumericCharacter)!==null&&T!==void 0?T:!0),S}validatePasswordLengthOptions(e,a){const c=this.customStrengthOptions.minPasswordLength,d=this.customStrengthOptions.maxPasswordLength;c&&(a.meetsMinPasswordLength=e.length>=c),d&&(a.meetsMaxPasswordLength=e.length<=d)}validatePasswordCharacterOptions(e,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let c;for(let d=0;d<e.length;d++)c=e.charAt(d),this.updatePasswordCharacterOptionsStatuses(a,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(e,a,c,d,m){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=d)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,a,c,d){this.app=e,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=c,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dy(this),this.idTokenSubscription=new Dy(this),this.beforeStateQueue=new cI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(e,a){return a&&(this._popupRedirectResolver=eo(a)),this._initializationPromise=this.queue(async()=>{var c,d;if(!this._deleted&&(this.persistenceManager=await Xu.create(this,e),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=((d=this.currentUser)===null||d===void 0?void 0:d.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const a=await vE(this,{idToken:e}),c=await to._fromGetAccountInfoResponse(this,a,e);await this.directlySetCurrentUser(c)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(da(this.app)){const x=this.app.settings.authIdToken;return x?new Promise(T=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(x).then(T,T))}):this.directlySetCurrentUser(null)}const c=await this.assertedPersistence.getCurrentUser();let d=c,m=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const x=(a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId,T=d==null?void 0:d._redirectEventId,S=await this.tryRedirectSignIn(e);(!x||x===T)&&(S!=null&&S.user)&&(d=S.user,m=!0)}if(!d)return this.directlySetCurrentUser(null);if(!d._redirectEventId){if(m)try{await this.beforeStateQueue.runMiddleware(d)}catch(x){d=c,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(x))}return d?this.reloadAndSetCurrentUserOrClear(d):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===d._redirectEventId?this.directlySetCurrentUser(d):this.reloadAndSetCurrentUserOrClear(d)}async tryRedirectSignIn(e){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(a){if((a==null?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(Zs(this));const a=e?pr(e):null;return a&&te(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(e,a=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fI(this),a=new dI(e);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,a,c){return this.registerStateListener(this.authStateSubscription,e,a,c)}beforeAuthStateChanged(e,a){return this.beforeStateQueue.pushCallback(e,a)}onIdTokenChanged(e,a,c){return this.registerStateListener(this.idTokenSubscription,e,a,c)}authStateReady(){return new Promise((e,a)=>{if(this.currentUser)e();else{const c=this.onAuthStateChanged(()=>{c(),e()},a)}})}async revokeAccessToken(e){if(this.currentUser){const a=await this.currentUser.getIdToken(),c={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:a};this.tenantId!=null&&(c.tenantId=this.tenantId),await sI(this,c)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,a){const c=await this.getOrInitRedirectPersistenceManager(a);return e===null?c.removeCurrentUser():c.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const a=e&&eo(e)||this._popupRedirectResolver;te(a,this,"argument-error"),this.redirectPersistenceManager=await Xu.create(this,[eo(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var a,c;return this._isInitialized&&await this.queue(async()=>{}),((a=this._currentUser)===null||a===void 0?void 0:a._redirectEventId)===e?this._currentUser:((c=this.redirectUser)===null||c===void 0?void 0:c._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=(a=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&a!==void 0?a:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,a,c,d){if(this._deleted)return()=>{};const m=typeof a=="function"?a:a.next.bind(a);let x=!1;const T=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(T,this,"internal-error"),T.then(()=>{x||m(this.currentUser)}),typeof a=="function"){const S=e.addObserver(a,c,d);return()=>{x=!0,S()}}else{const S=e.addObserver(a);return()=>{x=!0,S()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const a={"X-Client-Version":this.clientVersion};this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId);const c=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());c&&(a["X-Firebase-Client"]=c);const d=await this._getAppCheckToken();return d&&(a["X-Firebase-AppCheck"]=d),a}async _getAppCheckToken(){var e;if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const a=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return a!=null&&a.error&&XC(`Error while retrieving App Check token: ${a.error}`),a==null?void 0:a.token}}function Rp(l){return pr(l)}class Dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=aT(a=>this.observer=a)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(l){Op=l}function vI(l){return Op.loadJS(l)}function mI(){return Op.gapiScript}function yI(l){return`__${l}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(l,e){const a=G1(l,"auth");if(a.isInitialized()){const d=a.getImmediate(),m=a.getOptions();if(Js(m,e??{}))return d;so(d,"already-initialized")}return a.initialize({options:e})}function EI(l,e){const a=(e==null?void 0:e.persistence)||[],c=(Array.isArray(a)?a:[a]).map(eo);e!=null&&e.errorMap&&l._updateErrorMap(e.errorMap),l._initializeWithPersistence(c,e==null?void 0:e.popupRedirectResolver)}function xI(l,e,a){const c=Rp(l);te(/^https?:\/\//.test(e),c,"invalid-emulator-scheme");const d=!1,m=bE(e),{host:x,port:T}=AI(e),S=T===null?"":`:${T}`,C={url:`${m}//${x}${S}/`},P=Object.freeze({host:x,port:T,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:d})});if(!c._canInitEmulator){te(c.config.emulator&&c.emulatorConfig,c,"emulator-config-failed"),te(Js(C,c.config.emulator)&&Js(P,c.emulatorConfig),c,"emulator-config-failed");return}c.config.emulator=C,c.emulatorConfig=P,c.settings.appVerificationDisabledForTesting=!0,wI()}function bE(l){const e=l.indexOf(":");return e<0?"":l.substr(0,e+1)}function AI(l){const e=bE(l),a=/(\/\/)?([^?#/]+)/.exec(l.substr(e.length));if(!a)return{host:"",port:null};const c=a[2].split("@").pop()||"",d=/^(\[[^\]]+\])(:|$)/.exec(c);if(d){const m=d[1];return{host:m,port:Ny(c.substr(m.length+1))}}else{const[m,x]=c.split(":");return{host:m,port:Ny(x)}}}function Ny(l){if(!l)return null;const e=Number(l);return isNaN(e)?null:e}function wI(){function l(){const e=document.createElement("p"),a=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",a.position="fixed",a.width="100%",a.backgroundColor="#ffffff",a.border=".1em solid #000000",a.color="#b50000",a.bottom="0px",a.left="0px",a.margin="0px",a.zIndex="10000",a.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",l):l())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,a){this.providerId=e,this.signInMethod=a}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,a){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(l,e){return ZC(l,"POST","/v1/accounts:signInWithIdp",Cp(l,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="http://localhost";class ru extends RE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const a=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(a.idToken=e.idToken),e.accessToken&&(a.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(a.nonce=e.nonce),e.pendingToken&&(a.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(a.accessToken=e.oauthToken,a.secret=e.oauthTokenSecret):so("argument-error"),a}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e,{providerId:c,signInMethod:d}=a,m=wp(a,["providerId","signInMethod"]);if(!c||!d)return null;const x=new ru(c,d);return x.idToken=m.idToken||void 0,x.accessToken=m.accessToken||void 0,x.secret=m.secret,x.nonce=m.nonce,x.pendingToken=m.pendingToken||null,x}_getIdTokenResponse(e){const a=this.buildRequest();return Yu(e,a)}_linkToIdToken(e,a){const c=this.buildRequest();return c.idToken=a,Yu(e,c)}_getReauthenticationResolver(e){const a=this.buildRequest();return a.autoCreate=!1,Yu(e,a)}buildRequest(){const e={requestUri:TI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),e.postBody=Cc(a)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends OE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Pc{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,a){return ru._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:a})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:a,oauthAccessToken:c}=e;if(!a&&!c)return null;try{return Xo.credential(a,c)}catch{return null}}}Xo.GOOGLE_SIGN_IN_METHOD="google.com";Xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Pc{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Pc{constructor(){super("twitter.com")}static credential(e,a){return ru._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:a})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:a,oauthTokenSecret:c}=e;if(!a||!c)return null;try{return Ko.credential(a,c)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,a,c,d=!1){const m=await to._fromIdTokenResponse(e,c,d),x=My(c);return new rl({user:m,providerId:x,_tokenResponse:c,operationType:a})}static async _forOperation(e,a,c){await e._updateTokensIfNecessary(c,!0);const d=My(c);return new rl({user:e,providerId:d,_tokenResponse:c,operationType:a})}}function My(l){return l.providerId?l.providerId:"phoneNumber"in l?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends co{constructor(e,a,c,d){var m;super(a.code,a.message),this.operationType=c,this.user=d,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(m=e.tenantId)!==null&&m!==void 0?m:void 0,_serverResponse:a.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(e,a,c,d){return new Dh(e,a,c,d)}}function DE(l,e,a,c){return(e==="reauthenticate"?a._getReauthenticationResolver(l):a._getIdTokenResponse(l)).catch(m=>{throw m.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(l,m,e,c):m})}async function SI(l,e,a=!1){const c=await Ec(l,e._linkToIdToken(l.auth,await l.getIdToken()),a);return rl._forOperation(l,"link",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(l,e,a=!1){const{auth:c}=l;if(da(c.app))return Promise.reject(Zs(c));const d="reauthenticate";try{const m=await Ec(l,DE(c,d,e,l),a);te(m.idToken,c,"internal-error");const x=Ip(m.idToken);te(x,c,"internal-error");const{sub:T}=x;return te(l.uid===T,c,"user-mismatch"),rl._forOperation(l,d,m)}catch(m){throw(m==null?void 0:m.code)==="auth/user-not-found"&&so(c,"user-mismatch"),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(l,e,a=!1){if(da(l.app))return Promise.reject(Zs(l));const c="signIn",d=await DE(l,c,e),m=await rl._fromIdTokenResponse(l,c,d);return a||await l._updateCurrentUser(m.user),m}function bI(l,e,a,c){return pr(l).onIdTokenChanged(e,a,c)}function RI(l,e,a){return pr(l).beforeAuthStateChanged(e,a)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,a){this.storageRetriever=e,this.type=a}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,a){return this.storage.setItem(e,JSON.stringify(a)),Promise.resolve()}_get(e){const a=this.storage.getItem(e);return Promise.resolve(a?JSON.parse(a):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1e3,DI=10;class ME extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,a)=>this.onStorageEvent(e,a),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const a of Object.keys(this.listeners)){const c=this.storage.getItem(a),d=this.localCache[a];c!==d&&e(a,d,c)}}onStorageEvent(e,a=!1){if(!e.key){this.forAllChangedKeys((x,T,S)=>{this.notifyListeners(x,S)});return}const c=e.key;a?this.detachListener():this.stopPolling();const d=()=>{const x=this.storage.getItem(c);!a&&this.localCache[c]===x||this.notifyListeners(c,x)},m=this.storage.getItem(c);lI()&&m!==e.newValue&&e.newValue!==e.oldValue?setTimeout(d,DI):d()}notifyListeners(e,a){this.localCache[e]=a;const c=this.listeners[e];if(c)for(const d of Array.from(c))d(a&&JSON.parse(a))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,a,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:a,newValue:c}),!0)})},OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,a){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,a){await super._set(e,a),this.localCache[e]=JSON.stringify(a)}async _get(e){const a=await super._get(e);return this.localCache[e]=JSON.stringify(a),a}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const NI=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,a){}_removeListener(e,a){}}PE.type="SESSION";const LE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(l){return Promise.all(l.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(a){return{fulfilled:!1,reason:a}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const a=this.receivers.find(d=>d.isListeningto(e));if(a)return a;const c=new td(e);return this.receivers.push(c),c}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const a=e,{eventId:c,eventType:d,data:m}=a.data,x=this.handlersMap[d];if(!(x!=null&&x.size))return;a.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const T=Array.from(x).map(async C=>C(a.origin,m)),S=await MI(T);a.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:S})}_subscribe(e,a){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(a)}_unsubscribe(e,a){this.handlersMap[e]&&a&&this.handlersMap[e].delete(a),(!a||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(l="",e=10){let a="";for(let c=0;c<e;c++)a+=Math.floor(Math.random()*10);return l+a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,a,c=50){const d=typeof MessageChannel<"u"?new MessageChannel:null;if(!d)throw new Error("connection_unavailable");let m,x;return new Promise((T,S)=>{const C=Dp("",20);d.port1.start();const P=setTimeout(()=>{S(new Error("unsupported_event"))},c);x={messageChannel:d,onMessage(B){const L=B;if(L.data.eventId===C)switch(L.data.status){case"ack":clearTimeout(P),m=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(m),T(L.data.response);break;default:clearTimeout(P),clearTimeout(m),S(new Error("invalid_response"));break}}},this.handlers.add(x),d.port1.addEventListener("message",x.onMessage),this.target.postMessage({eventType:e,eventId:C,data:a},[d.port2])}).finally(()=>{x&&this.removeMessageHandler(x)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function LI(l){ya().location.href=l}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function BI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){var l;return((l=navigator==null?void 0:navigator.serviceWorker)===null||l===void 0?void 0:l.controller)||null}function VI(){return BE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebaseLocalStorageDb",UI=1,Mh="firebaseLocalStorage",VE="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,a)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{a(this.request.error)})})}}function ed(l,e){return l.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function FI(){const l=indexedDB.deleteDatabase(kE);return new Lc(l).toPromise()}function P1(){const l=indexedDB.open(kE,UI);return new Promise((e,a)=>{l.addEventListener("error",()=>{a(l.error)}),l.addEventListener("upgradeneeded",()=>{const c=l.result;try{c.createObjectStore(Mh,{keyPath:VE})}catch(d){a(d)}}),l.addEventListener("success",async()=>{const c=l.result;c.objectStoreNames.contains(Mh)?e(c):(c.close(),await FI(),e(await P1()))})})}async function Py(l,e,a){const c=ed(l,!0).put({[VE]:e,value:a});return new Lc(c).toPromise()}async function HI(l,e){const a=ed(l,!1).get(e),c=await new Lc(a).toPromise();return c===void 0?null:c.value}function Ly(l,e){const a=ed(l,!0).delete(e);return new Lc(a).toPromise()}const zI=800,GI=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P1(),this.db)}async _withRetries(e){let a=0;for(;;)try{const c=await this._openDb();return await e(c)}catch(c){if(a++>GI)throw c;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(VI()),this.receiver._subscribe("keyChanged",async(e,a)=>({keyProcessed:(await this._poll()).includes(a.key)})),this.receiver._subscribe("ping",async(e,a)=>["keyChanged"])}async initializeSender(){var e,a;if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const c=await this.sender._send("ping",{},800);c&&!((e=c[0])===null||e===void 0)&&e.fulfilled&&!((a=c[0])===null||a===void 0)&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P1();return await Py(e,Nh,"1"),await Ly(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,a){return this._withPendingWrite(async()=>(await this._withRetries(c=>Py(c,e,a)),this.localCache[e]=a,this.notifyServiceWorker(e)))}async _get(e){const a=await this._withRetries(c=>HI(c,e));return this.localCache[e]=a,a}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ly(a,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(d=>{const m=ed(d,!1).getAll();return new Lc(m).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const a=[],c=new Set;if(e.length!==0)for(const{fbase_key:d,value:m}of e)c.add(d),JSON.stringify(this.localCache[d])!==JSON.stringify(m)&&(this.notifyListeners(d,m),a.push(d));for(const d of Object.keys(this.localCache))this.localCache[d]&&!c.has(d)&&(this.notifyListeners(d,null),a.push(d));return a}notifyListeners(e,a){this.localCache[e]=a;const c=this.listeners[e];if(c)for(const d of Array.from(c))d(a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,a){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(a)}_removeListener(e,a){this.listeners[e]&&(this.listeners[e].delete(a),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const jI=UE;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(l,e){return e?eo(e):(te(l._popupRedirectResolver,l,"argument-error"),l._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends RE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yu(e,this._buildIdpRequest())}_linkToIdToken(e,a){return Yu(e,this._buildIdpRequest(a))}_getReauthenticationResolver(e){return Yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(a.idToken=e),a}}function XI(l){return II(l.auth,new Np(l),l.bypassAuthState)}function YI(l){const{auth:e,user:a}=l;return te(a,e,"internal-error"),CI(a,new Np(l),l.bypassAuthState)}async function KI(l){const{auth:e,user:a}=l;return te(a,e,"internal-error"),SI(a,new Np(l),l.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,a,c,d,m=!1){this.auth=e,this.resolver=c,this.user=d,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(e,a)=>{this.pendingPromise={resolve:e,reject:a};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(c){this.reject(c)}})}async onAuthEvent(e){const{urlResponse:a,sessionId:c,postBody:d,tenantId:m,error:x,type:T}=e;if(x){this.reject(x);return}const S={auth:this.auth,requestUri:a,sessionId:c,tenantId:m||void 0,postBody:d||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(T)(S))}catch(C){this.reject(C)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return KI;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:so(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Mc(2e3,1e4);class Gu extends FE{constructor(e,a,c,d,m){super(e,a,d,m),this.provider=c,this.authWindow=null,this.pollId=null,Gu.currentPopupAction&&Gu.currentPopupAction.cancel(),Gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var a,c;if(!((c=(a=this.authWindow)===null||a===void 0?void 0:a.window)===null||c===void 0)&&c.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WI.get())};e()}}Gu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="pendingRedirect",hh=new Map;class $I extends FE{constructor(e,a,c=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,c),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const c=await ZI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(c)}catch(a){e=()=>Promise.reject(a)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const a=await this.auth._redirectUserForId(e.eventId);if(a)return this.user=a,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZI(l,e){const a=eb(e),c=tb(l);if(!await c._isAvailable())return!1;const d=await c._get(a)==="true";return await c._remove(a),d}function JI(l,e){hh.set(l._key(),e)}function tb(l){return eo(l._redirectPersistence)}function eb(l){return fh(QI,l.config.apiKey,l.name)}async function nb(l,e,a=!1){if(da(l.app))return Promise.reject(Zs(l));const c=Rp(l),d=qI(c,e),x=await new $I(c,d,a).execute();return x&&!a&&(delete x.user._redirectEventId,await c._persistUserIfCurrent(x.user),await c._setRedirectUser(null,e)),x}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=10*60*1e3;class ib{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let a=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(e,c)&&(a=!0,this.sendToConsumer(e,c),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ab(e)||(this.hasHandledPotentialRedirect=!0,a||(this.queuedRedirectEvent=e,a=!0)),a}sendToConsumer(e,a){var c;if(e.error&&!HE(e)){const d=((c=e.error.code)===null||c===void 0?void 0:c.split("auth/")[1])||"internal-error";a.onError(ma(this.auth,d))}else a.onAuthEvent(e)}isEventForConsumer(e,a){const c=a.eventId===null||!!e.eventId&&e.eventId===a.eventId;return a.filter.includes(e.type)&&c}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rb&&this.cachedEventUids.clear(),this.cachedEventUids.has(By(e))}saveEventToCache(e){this.cachedEventUids.add(By(e)),this.lastProcessedEventTime=Date.now()}}function By(l){return[l.type,l.eventId,l.sessionId,l.tenantId].filter(e=>e).join("-")}function HE({type:l,error:e}){return l==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ab(l){switch(l.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HE(l);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(l,e={}){return hl(l,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ub=/^https?/;async function lb(l){if(l.config.emulator)return;const{authorizedDomains:e}=await ob(l);for(const a of e)try{if(cb(a))return}catch{}so(l,"unauthorized-domain")}function cb(l){const e=N1(),{protocol:a,hostname:c}=new URL(e);if(l.startsWith("chrome-extension://")){const x=new URL(l);return x.hostname===""&&c===""?a==="chrome-extension:"&&l.replace("chrome-extension://","")===e.replace("chrome-extension://",""):a==="chrome-extension:"&&x.hostname===c}if(!ub.test(a))return!1;if(sb.test(l))return c===l;const d=l.replace(/\./g,"\\.");return new RegExp("^(.+\\."+d+"|"+d+")$","i").test(c)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Mc(3e4,6e4);function ky(){const l=ya().___jsl;if(l!=null&&l.H){for(const e of Object.keys(l.H))if(l.H[e].r=l.H[e].r||[],l.H[e].L=l.H[e].L||[],l.H[e].r=[...l.H[e].L],l.CP)for(let a=0;a<l.CP.length;a++)l.CP[a]=null}}function hb(l){return new Promise((e,a)=>{var c,d,m;function x(){ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ky(),a(ma(l,"network-request-failed"))},timeout:fb.get()})}if(!((d=(c=ya().gapi)===null||c===void 0?void 0:c.iframes)===null||d===void 0)&&d.Iframe)e(gapi.iframes.getContext());else if(!((m=ya().gapi)===null||m===void 0)&&m.load)x();else{const T=yI("iframefcb");return ya()[T]=()=>{gapi.load?x():a(ma(l,"network-request-failed"))},vI(`${mI()}?onload=${T}`).catch(S=>a(S))}}).catch(e=>{throw dh=null,e})}let dh=null;function db(l){return dh=dh||hb(l),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Mc(5e3,15e3),gb="__/auth/iframe",vb="emulator/auth/iframe",mb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _b(l){const e=l.config;te(e.authDomain,l,"auth-domain-config-required");const a=e.emulator?Sp(e,vb):`https://${l.config.authDomain}/${gb}`,c={apiKey:e.apiKey,appName:l.name,v:ol},d=yb.get(l.config.apiHost);d&&(c.eid=d);const m=l._getFrameworks();return m.length&&(c.fw=m.join(",")),`${a}?${Cc(c).slice(1)}`}async function Eb(l){const e=await db(l),a=ya().gapi;return te(a,l,"internal-error"),e.open({where:document.body,url:_b(l),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mb,dontclear:!0},c=>new Promise(async(d,m)=>{await c.restyle({setHideOnLeave:!1});const x=ma(l,"network-request-failed"),T=ya().setTimeout(()=>{m(x)},pb.get());function S(){ya().clearTimeout(T),d(c)}c.ping(S).then(S,()=>{m(x)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ab=500,wb=600,Tb="_blank",Sb="http://localhost";class Vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cb(l,e,a,c=Ab,d=wb){const m=Math.max((window.screen.availHeight-d)/2,0).toString(),x=Math.max((window.screen.availWidth-c)/2,0).toString();let T="";const S=Object.assign(Object.assign({},xb),{width:c.toString(),height:d.toString(),top:m,left:x}),C=or().toLowerCase();a&&(T=xE(C)?Tb:a),_E(C)&&(e=e||Sb,S.scrollbars="yes");const P=Object.entries(S).reduce((L,[W,Y])=>`${L}${W}=${Y},`,"");if(uI(C)&&T!=="_self")return Ib(e||"",T),new Vy(null);const B=window.open(e||"",T,P);te(B,l,"popup-blocked");try{B.focus()}catch{}return new Vy(B)}function Ib(l,e){const a=document.createElement("a");a.href=l,a.target=e;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="__/auth/handler",Rb="emulator/auth/handler",Ob=encodeURIComponent("fac");async function Uy(l,e,a,c,d,m){te(l.config.authDomain,l,"auth-domain-config-required"),te(l.config.apiKey,l,"invalid-api-key");const x={apiKey:l.config.apiKey,appName:l.name,authType:a,redirectUrl:c,v:ol,eventId:d};if(e instanceof OE){e.setDefaultLanguage(l.languageCode),x.providerId=e.providerId||"",iT(e.getCustomParameters())||(x.customParameters=JSON.stringify(e.getCustomParameters()));for(const[P,B]of Object.entries({}))x[P]=B}if(e instanceof Pc){const P=e.getScopes().filter(B=>B!=="");P.length>0&&(x.scopes=P.join(","))}l.tenantId&&(x.tid=l.tenantId);const T=x;for(const P of Object.keys(T))T[P]===void 0&&delete T[P];const S=await l._getAppCheckToken(),C=S?`#${Ob}=${encodeURIComponent(S)}`:"";return`${Db(l)}?${Cc(T).slice(1)}${C}`}function Db({config:l}){return l.emulator?Sp(l,Rb):`https://${l.authDomain}/${bb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="webStorageSupport";class Nb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=nb,this._overrideRedirectResult=JI}async _openPopup(e,a,c,d){var m;uo((m=this.eventManagers[e._key()])===null||m===void 0?void 0:m.manager,"_initialize() not called before _openPopup()");const x=await Uy(e,a,c,N1(),d);return Cb(e,x,Dp())}async _openRedirect(e,a,c,d){await this._originValidation(e);const m=await Uy(e,a,c,N1(),d);return LI(m),new Promise(()=>{})}_initialize(e){const a=e._key();if(this.eventManagers[a]){const{manager:d,promise:m}=this.eventManagers[a];return d?Promise.resolve(d):(uo(m,"If manager is not set, promise should be"),m)}const c=this.initAndGetManager(e);return this.eventManagers[a]={promise:c},c.catch(()=>{delete this.eventManagers[a]}),c}async initAndGetManager(e){const a=await Eb(e),c=new ib(e);return a.register("authEvent",d=>(te(d==null?void 0:d.authEvent,e,"invalid-auth-event"),{status:c.onEvent(d.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:c},this.iframes[e._key()]=a,c}_isIframeWebStorageSupported(e,a){this.iframes[e._key()].send(W0,{type:W0},d=>{var m;const x=(m=d==null?void 0:d[0])===null||m===void 0?void 0:m[W0];x!==void 0&&a(!!x),so(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const a=e._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=lb(e)),this.originValidationPromises[a]}get _shouldInitProactively(){return CE()||EE()||bp()}}const Mb=Nb;var Fy="@firebase/auth",Hy="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const a=this.auth.onIdTokenChanged(c=>{e((c==null?void 0:c.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,a),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const a=this.internalListeners.get(e);a&&(this.internalListeners.delete(e),a(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(l){switch(l){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bb(l){Ku(new tu("auth",(e,{options:a})=>{const c=e.getProvider("app").getImmediate(),d=e.getProvider("heartbeat"),m=e.getProvider("app-check-internal"),{apiKey:x,authDomain:T}=c.options;te(x&&!x.includes(":"),"invalid-api-key",{appName:c.name});const S={apiKey:x,authDomain:T,clientPlatform:l,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IE(l)},C=new pI(c,d,m,S);return EI(C,a),C},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,a,c)=>{e.getProvider("auth-internal").initialize()})),Ku(new tu("auth-internal",e=>{const a=Rp(e.getProvider("auth").getImmediate());return(c=>new Pb(c))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(Fy,Hy,Lb(l)),Zo(Fy,Hy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=5*60,Vb=I2("authIdTokenMaxAge")||kb;let zy=null;const Ub=l=>async e=>{const a=e&&await e.getIdTokenResult(),c=a&&(new Date().getTime()-Date.parse(a.issuedAtTime))/1e3;if(c&&c>Vb)return;const d=a==null?void 0:a.token;zy!==d&&(zy=d,await fetch(l,{method:d?"POST":"DELETE",headers:d?{Authorization:`Bearer ${d}`}:{}}))};function Fb(l=D2()){const e=G1(l,"auth");if(e.isInitialized())return e.getImmediate();const a=_I(l,{popupRedirectResolver:Mb,persistence:[jI,NI,LE]}),c=I2("authTokenSyncURL");if(c&&typeof isSecureContext=="boolean"&&isSecureContext){const m=new URL(c,location.origin);if(location.origin===m.origin){const x=Ub(m.toString());RI(a,x,()=>x(a.currentUser)),bI(a,T=>x(T))}}const d=S2("auth");return d&&xI(a,`http://${d}`),a}function Hb(){var l,e;return(e=(l=document.getElementsByTagName("head"))===null||l===void 0?void 0:l[0])!==null&&e!==void 0?e:document}gI({loadJS(l){return new Promise((e,a)=>{const c=document.createElement("script");c.setAttribute("src",l),c.onload=e,c.onerror=d=>{const m=ma("internal-error");m.customData=d,a(m)},c.type="text/javascript",c.charset="UTF-8",Hb().appendChild(c)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bb("Browser");const zb={apiKey:"AIzaSyAIFbyyabmv9ReN8yNV6qjLiMYTQ1xvnTg",authDomain:"monopolyonlinegame-332fd.firebaseapp.com",projectId:"monopolyonlinegame-332fd",storageBucket:"monopolyonlinegame-332fd.appspot.com",messagingSenderId:"829520826883",appId:"1:829520826883:web:de11af85974e30f328f436"},zE=O2(zb),Mp=pC(zE);Fb(zE);const Gb=async l=>{try{const e=zC(),a=await kC(J_(Mp,"players"),{id:e,name:l,balance:15e3});return{id:e,docId:a.id}}catch(e){return console.error("Error al añadir jugador:",e),null}};var Vu={},Q0={exports:{}},$0,Gy;function jb(){if(Gy)return $0;Gy=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $0=l,$0}var Z0,jy;function qb(){if(jy)return Z0;jy=1;var l=jb();function e(){}function a(){}return a.resetWarningCache=e,Z0=function(){function c(x,T,S,C,P,B){if(B!==l){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}c.isRequired=c;function d(){return c}var m={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:a,resetWarningCache:e};return m.PropTypes=m,m},Z0}var qy;function GE(){return qy||(qy=1,Q0.exports=qb()()),Q0.exports}var J0,Xy;function jE(){return Xy||(Xy=1,J0={L:1,M:0,Q:3,H:2}),J0}var t1,Yy;function qE(){return Yy||(Yy=1,t1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),t1}var e1,Ky;function Xb(){if(Ky)return e1;Ky=1;var l=qE();function e(a){this.mode=l.MODE_8BIT_BYTE,this.data=a}return e.prototype={getLength:function(a){return this.data.length},write:function(a){for(var c=0;c<this.data.length;c++)a.put(this.data.charCodeAt(c),8)}},e1=e,e1}var n1,Wy;function Yb(){if(Wy)return n1;Wy=1;var l=jE();function e(a,c){this.totalCount=a,this.dataCount=c}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(a,c){var d=e.getRsBlockTable(a,c);if(d==null)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);for(var m=d.length/3,x=new Array,T=0;T<m;T++)for(var S=d[T*3+0],C=d[T*3+1],P=d[T*3+2],B=0;B<S;B++)x.push(new e(C,P));return x},e.getRsBlockTable=function(a,c){switch(c){case l.L:return e.RS_BLOCK_TABLE[(a-1)*4+0];case l.M:return e.RS_BLOCK_TABLE[(a-1)*4+1];case l.Q:return e.RS_BLOCK_TABLE[(a-1)*4+2];case l.H:return e.RS_BLOCK_TABLE[(a-1)*4+3];default:return}},n1=e,n1}var r1,Qy;function Kb(){if(Qy)return r1;Qy=1;function l(){this.buffer=new Array,this.length=0}return l.prototype={get:function(e){var a=Math.floor(e/8);return(this.buffer[a]>>>7-e%8&1)==1},put:function(e,a){for(var c=0;c<a;c++)this.putBit((e>>>a-c-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),e&&(this.buffer[a]|=128>>>this.length%8),this.length++}},r1=l,r1}var i1,$y;function XE(){if($y)return i1;$y=1;for(var l={glog:function(a){if(a<1)throw new Error("glog("+a+")");return l.LOG_TABLE[a]},gexp:function(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)l.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)l.EXP_TABLE[e]=l.EXP_TABLE[e-4]^l.EXP_TABLE[e-5]^l.EXP_TABLE[e-6]^l.EXP_TABLE[e-8];for(var e=0;e<255;e++)l.LOG_TABLE[l.EXP_TABLE[e]]=e;return i1=l,i1}var a1,Zy;function YE(){if(Zy)return a1;Zy=1;var l=XE();function e(a,c){if(a.length==null)throw new Error(a.length+"/"+c);for(var d=0;d<a.length&&a[d]==0;)d++;this.num=new Array(a.length-d+c);for(var m=0;m<a.length-d;m++)this.num[m]=a[m+d]}return e.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=new Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var m=0;m<a.getLength();m++)c[d+m]^=l.gexp(l.glog(this.get(d))+l.glog(a.get(m)));return new e(c,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var c=l.glog(this.get(0))-l.glog(a.get(0)),d=new Array(this.getLength()),m=0;m<this.getLength();m++)d[m]=this.get(m);for(var m=0;m<a.getLength();m++)d[m]^=l.gexp(l.glog(a.get(m))+c);return new e(d,0).mod(a)}},a1=e,a1}var o1,Jy;function Wb(){if(Jy)return o1;Jy=1;var l=qE(),e=YE(),a=XE(),c={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(m){for(var x=m<<10;d.getBCHDigit(x)-d.getBCHDigit(d.G15)>=0;)x^=d.G15<<d.getBCHDigit(x)-d.getBCHDigit(d.G15);return(m<<10|x)^d.G15_MASK},getBCHTypeNumber:function(m){for(var x=m<<12;d.getBCHDigit(x)-d.getBCHDigit(d.G18)>=0;)x^=d.G18<<d.getBCHDigit(x)-d.getBCHDigit(d.G18);return m<<12|x},getBCHDigit:function(m){for(var x=0;m!=0;)x++,m>>>=1;return x},getPatternPosition:function(m){return d.PATTERN_POSITION_TABLE[m-1]},getMask:function(m,x,T){switch(m){case c.PATTERN000:return(x+T)%2==0;case c.PATTERN001:return x%2==0;case c.PATTERN010:return T%3==0;case c.PATTERN011:return(x+T)%3==0;case c.PATTERN100:return(Math.floor(x/2)+Math.floor(T/3))%2==0;case c.PATTERN101:return x*T%2+x*T%3==0;case c.PATTERN110:return(x*T%2+x*T%3)%2==0;case c.PATTERN111:return(x*T%3+(x+T)%2)%2==0;default:throw new Error("bad maskPattern:"+m)}},getErrorCorrectPolynomial:function(m){for(var x=new e([1],0),T=0;T<m;T++)x=x.multiply(new e([1,a.gexp(T)],0));return x},getLengthInBits:function(m,x){if(1<=x&&x<10)switch(m){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw new Error("mode:"+m)}else if(x<27)switch(m){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+m)}else if(x<41)switch(m){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+m)}else throw new Error("type:"+x)},getLostPoint:function(m){for(var x=m.getModuleCount(),T=0,S=0;S<x;S++)for(var C=0;C<x;C++){for(var P=0,B=m.isDark(S,C),L=-1;L<=1;L++)if(!(S+L<0||x<=S+L))for(var W=-1;W<=1;W++)C+W<0||x<=C+W||L==0&&W==0||B==m.isDark(S+L,C+W)&&P++;P>5&&(T+=3+P-5)}for(var S=0;S<x-1;S++)for(var C=0;C<x-1;C++){var Y=0;m.isDark(S,C)&&Y++,m.isDark(S+1,C)&&Y++,m.isDark(S,C+1)&&Y++,m.isDark(S+1,C+1)&&Y++,(Y==0||Y==4)&&(T+=3)}for(var S=0;S<x;S++)for(var C=0;C<x-6;C++)m.isDark(S,C)&&!m.isDark(S,C+1)&&m.isDark(S,C+2)&&m.isDark(S,C+3)&&m.isDark(S,C+4)&&!m.isDark(S,C+5)&&m.isDark(S,C+6)&&(T+=40);for(var C=0;C<x;C++)for(var S=0;S<x-6;S++)m.isDark(S,C)&&!m.isDark(S+1,C)&&m.isDark(S+2,C)&&m.isDark(S+3,C)&&m.isDark(S+4,C)&&!m.isDark(S+5,C)&&m.isDark(S+6,C)&&(T+=40);for(var at=0,C=0;C<x;C++)for(var S=0;S<x;S++)m.isDark(S,C)&&at++;var ct=Math.abs(100*at/x/x-50)/5;return T+=ct*10,T}};return o1=d,o1}var s1,t2;function Qb(){if(t2)return s1;t2=1;var l=Xb(),e=Yb(),a=Kb(),c=Wb(),d=YE();function m(T,S){this.typeNumber=T,this.errorCorrectLevel=S,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var x=m.prototype;return x.addData=function(T){var S=new l(T);this.dataList.push(S),this.dataCache=null},x.isDark=function(T,S){if(T<0||this.moduleCount<=T||S<0||this.moduleCount<=S)throw new Error(T+","+S);return this.modules[T][S]},x.getModuleCount=function(){return this.moduleCount},x.make=function(){if(this.typeNumber<1){var T=1;for(T=1;T<40;T++){for(var S=e.getRSBlocks(T,this.errorCorrectLevel),C=new a,P=0,B=0;B<S.length;B++)P+=S[B].dataCount;for(var B=0;B<this.dataList.length;B++){var L=this.dataList[B];C.put(L.mode,4),C.put(L.getLength(),c.getLengthInBits(L.mode,T)),L.write(C)}if(C.getLengthInBits()<=P*8)break}this.typeNumber=T}this.makeImpl(!1,this.getBestMaskPattern())},x.makeImpl=function(T,S){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var C=0;C<this.moduleCount;C++){this.modules[C]=new Array(this.moduleCount);for(var P=0;P<this.moduleCount;P++)this.modules[C][P]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(T,S),this.typeNumber>=7&&this.setupTypeNumber(T),this.dataCache==null&&(this.dataCache=m.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,S)},x.setupPositionProbePattern=function(T,S){for(var C=-1;C<=7;C++)if(!(T+C<=-1||this.moduleCount<=T+C))for(var P=-1;P<=7;P++)S+P<=-1||this.moduleCount<=S+P||(0<=C&&C<=6&&(P==0||P==6)||0<=P&&P<=6&&(C==0||C==6)||2<=C&&C<=4&&2<=P&&P<=4?this.modules[T+C][S+P]=!0:this.modules[T+C][S+P]=!1)},x.getBestMaskPattern=function(){for(var T=0,S=0,C=0;C<8;C++){this.makeImpl(!0,C);var P=c.getLostPoint(this);(C==0||T>P)&&(T=P,S=C)}return S},x.createMovieClip=function(T,S,C){var P=T.createEmptyMovieClip(S,C),B=1;this.make();for(var L=0;L<this.modules.length;L++)for(var W=L*B,Y=0;Y<this.modules[L].length;Y++){var at=Y*B,ct=this.modules[L][Y];ct&&(P.beginFill(0,100),P.moveTo(at,W),P.lineTo(at+B,W),P.lineTo(at+B,W+B),P.lineTo(at,W+B),P.endFill())}return P},x.setupTimingPattern=function(){for(var T=8;T<this.moduleCount-8;T++)this.modules[T][6]==null&&(this.modules[T][6]=T%2==0);for(var S=8;S<this.moduleCount-8;S++)this.modules[6][S]==null&&(this.modules[6][S]=S%2==0)},x.setupPositionAdjustPattern=function(){for(var T=c.getPatternPosition(this.typeNumber),S=0;S<T.length;S++)for(var C=0;C<T.length;C++){var P=T[S],B=T[C];if(this.modules[P][B]==null)for(var L=-2;L<=2;L++)for(var W=-2;W<=2;W++)L==-2||L==2||W==-2||W==2||L==0&&W==0?this.modules[P+L][B+W]=!0:this.modules[P+L][B+W]=!1}},x.setupTypeNumber=function(T){for(var S=c.getBCHTypeNumber(this.typeNumber),C=0;C<18;C++){var P=!T&&(S>>C&1)==1;this.modules[Math.floor(C/3)][C%3+this.moduleCount-8-3]=P}for(var C=0;C<18;C++){var P=!T&&(S>>C&1)==1;this.modules[C%3+this.moduleCount-8-3][Math.floor(C/3)]=P}},x.setupTypeInfo=function(T,S){for(var C=this.errorCorrectLevel<<3|S,P=c.getBCHTypeInfo(C),B=0;B<15;B++){var L=!T&&(P>>B&1)==1;B<6?this.modules[B][8]=L:B<8?this.modules[B+1][8]=L:this.modules[this.moduleCount-15+B][8]=L}for(var B=0;B<15;B++){var L=!T&&(P>>B&1)==1;B<8?this.modules[8][this.moduleCount-B-1]=L:B<9?this.modules[8][15-B-1+1]=L:this.modules[8][15-B-1]=L}this.modules[this.moduleCount-8][8]=!T},x.mapData=function(T,S){for(var C=-1,P=this.moduleCount-1,B=7,L=0,W=this.moduleCount-1;W>0;W-=2)for(W==6&&W--;;){for(var Y=0;Y<2;Y++)if(this.modules[P][W-Y]==null){var at=!1;L<T.length&&(at=(T[L]>>>B&1)==1);var ct=c.getMask(S,P,W-Y);ct&&(at=!at),this.modules[P][W-Y]=at,B--,B==-1&&(L++,B=7)}if(P+=C,P<0||this.moduleCount<=P){P-=C,C=-C;break}}},m.PAD0=236,m.PAD1=17,m.createData=function(T,S,C){for(var P=e.getRSBlocks(T,S),B=new a,L=0;L<C.length;L++){var W=C[L];B.put(W.mode,4),B.put(W.getLength(),c.getLengthInBits(W.mode,T)),W.write(B)}for(var Y=0,L=0;L<P.length;L++)Y+=P[L].dataCount;if(B.getLengthInBits()>Y*8)throw new Error("code length overflow. ("+B.getLengthInBits()+">"+Y*8+")");for(B.getLengthInBits()+4<=Y*8&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(!1);for(;!(B.getLengthInBits()>=Y*8||(B.put(m.PAD0,8),B.getLengthInBits()>=Y*8));)B.put(m.PAD1,8);return m.createBytes(B,P)},m.createBytes=function(T,S){for(var C=0,P=0,B=0,L=new Array(S.length),W=new Array(S.length),Y=0;Y<S.length;Y++){var at=S[Y].dataCount,ct=S[Y].totalCount-at;P=Math.max(P,at),B=Math.max(B,ct),L[Y]=new Array(at);for(var it=0;it<L[Y].length;it++)L[Y][it]=255&T.buffer[it+C];C+=at;var At=c.getErrorCorrectPolynomial(ct),Tt=new d(L[Y],At.getLength()-1),Ut=Tt.mod(At);W[Y]=new Array(At.getLength()-1);for(var it=0;it<W[Y].length;it++){var Mt=it+Ut.getLength()-W[Y].length;W[Y][it]=Mt>=0?Ut.get(Mt):0}}for(var Wt=0,it=0;it<S.length;it++)Wt+=S[it].totalCount;for(var $=new Array(Wt),G=0,it=0;it<P;it++)for(var Y=0;Y<S.length;Y++)it<L[Y].length&&($[G++]=L[Y][it]);for(var it=0;it<B;it++)for(var Y=0;Y<S.length;Y++)it<W[Y].length&&($[G++]=W[Y][it]);return $},s1=m,s1}var Jf={},e2;function $b(){if(e2)return Jf;e2=1,Object.defineProperty(Jf,"__esModule",{value:!0});var l=Object.assign||function(C){for(var P=1;P<arguments.length;P++){var B=arguments[P];for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&(C[L]=B[L])}return C},e=GE(),a=m(e),c=xc(),d=m(c);function m(C){return C&&C.__esModule?C:{default:C}}function x(C,P){var B={};for(var L in C)P.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(C,L)&&(B[L]=C[L]);return B}var T={bgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,bgD:a.default.string.isRequired,fgColor:a.default.oneOfType([a.default.object,a.default.string]).isRequired,fgD:a.default.string.isRequired,size:a.default.number.isRequired,title:a.default.string,viewBoxSize:a.default.number.isRequired,xmlns:a.default.string},S=(0,c.forwardRef)(function(C,P){var B=C.bgColor,L=C.bgD,W=C.fgD,Y=C.fgColor,at=C.size,ct=C.title,it=C.viewBoxSize,At=C.xmlns,Tt=At===void 0?"http://www.w3.org/2000/svg":At,Ut=x(C,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return d.default.createElement("svg",l({},Ut,{height:at,ref:P,viewBox:"0 0 "+it+" "+it,width:at,xmlns:Tt}),ct?d.default.createElement("title",null,ct):null,d.default.createElement("path",{d:L,fill:B}),d.default.createElement("path",{d:W,fill:Y}))});return S.displayName="QRCodeSvg",S.propTypes=T,Jf.default=S,Jf}var n2;function Zb(){if(n2)return Vu;n2=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.QRCode=void 0;var l=Object.assign||function(at){for(var ct=1;ct<arguments.length;ct++){var it=arguments[ct];for(var At in it)Object.prototype.hasOwnProperty.call(it,At)&&(at[At]=it[At])}return at},e=GE(),a=B(e),c=jE(),d=B(c),m=Qb(),x=B(m),T=xc(),S=B(T),C=$b(),P=B(C);function B(at){return at&&at.__esModule?at:{default:at}}function L(at,ct){var it={};for(var At in at)ct.indexOf(At)>=0||Object.prototype.hasOwnProperty.call(at,At)&&(it[At]=at[At]);return it}var W={bgColor:a.default.oneOfType([a.default.object,a.default.string]),fgColor:a.default.oneOfType([a.default.object,a.default.string]),level:a.default.string,size:a.default.number,value:a.default.string.isRequired},Y=(0,T.forwardRef)(function(at,ct){var it=at.bgColor,At=it===void 0?"#FFFFFF":it,Tt=at.fgColor,Ut=Tt===void 0?"#000000":Tt,Mt=at.level,Wt=Mt===void 0?"L":Mt,$=at.size,G=$===void 0?256:$,z=at.value,X=L(at,["bgColor","fgColor","level","size","value"]),Q=new x.default(-1,d.default[Wt]);Q.addData(z),Q.make();var ot=Q.modules;return S.default.createElement(P.default,l({},X,{bgColor:At,bgD:ot.map(function(F,je){return F.map(function(Yt,It){return Yt?"":"M "+It+" "+je+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Ut,fgD:ot.map(function(F,je){return F.map(function(Yt,It){return Yt?"M "+It+" "+je+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:ct,size:G,viewBoxSize:ot.length}))});return Vu.QRCode=Y,Y.displayName="QRCode",Y.propTypes=W,Vu.default=Y,Vu}var Jb=Zb();const t8=eA(Jb),e8=()=>{const[l,e]=_t.useState(""),[a,c]=_t.useState(null),d=B1(),m=async()=>{if(!l.trim()){alert("Por favor, ingresa un nombre válido");return}const x=await Gb(l);x&&c({id:x.id,balance:1500})};return fe.jsxs("div",{className:"create-player-container",children:[fe.jsx("h2",{children:"➕ Crear Nuevo Jugador"}),fe.jsx("input",{type:"text",placeholder:"Nombre del jugador",value:l,onChange:x=>e(x.target.value),className:"input-field"}),fe.jsx("button",{onClick:m,className:"btn",children:"Crear Jugador"}),a&&fe.jsxs("div",{className:"qr-container",children:[fe.jsx("h3",{style:{color:"#000"},children:"📌 Datos del Jugador"}),fe.jsx(t8,{value:a.id,size:150}),fe.jsxs("p",{style:{color:"#000"},children:[fe.jsx("strong",{children:"ID:"})," ",a.id]}),fe.jsxs("p",{style:{color:"#000"},children:[fe.jsx("strong",{children:"Balance:"})," $",a.balance]})]}),fe.jsx("button",{onClick:()=>d("/"),className:"btn btn-secondary",children:"🏠 Volver al Inicio"})]})};var oc={exports:{}},n8=oc.exports,r2;function r8(){return r2||(r2=1,function(l,e){(function(a,c){c(e)})(n8,function(a){function c(i,t){var n=Object.setPrototypeOf;n?n(i,t):i.__proto__=t}function d(i,t){t===void 0&&(t=i.constructor);var n=Error.captureStackTrace;n&&n(i,t)}var m=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(i){m(t,i);function t(n){var o=this.constructor,u=i.call(this,n)||this;return Object.defineProperty(u,"name",{value:o.name,enumerable:!1,configurable:!0}),c(u,o.prototype),d(u),u}return t}(Error),T=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),S=function(i){T(t,i);function t(n){n===void 0&&(n=void 0);var o=i.call(this,n)||this;return o.message=n,o}return t.prototype.getKind=function(){var n=this.constructor;return n.kind},t.kind="Exception",t}(x),C=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(i){C(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="ArgumentException",t}(S),B=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),L=function(i){B(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(S),W=function(){function i(t){if(this.binarizer=t,t===null)throw new L("Binarizer must be non-null.")}return i.prototype.getWidth=function(){return this.binarizer.getWidth()},i.prototype.getHeight=function(){return this.binarizer.getHeight()},i.prototype.getBlackRow=function(t,n){return this.binarizer.getBlackRow(t,n)},i.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},i.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},i.prototype.crop=function(t,n,o,u){var f=this.binarizer.getLuminanceSource().crop(t,n,o,u);return new i(this.binarizer.createBinarizer(f))},i.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},i.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new i(this.binarizer.createBinarizer(t))},i.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new i(this.binarizer.createBinarizer(t))},i.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},i}(),Y=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),at=function(i){Y(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(S),ct=function(){function i(t){this.source=t}return i.prototype.getLuminanceSource=function(){return this.source},i.prototype.getWidth=function(){return this.source.getWidth()},i.prototype.getHeight=function(){return this.source.getHeight()},i}(),it=function(){function i(){}return i.arraycopy=function(t,n,o,u,f){for(;f--;)o[u++]=t[n++]},i.currentTimeMillis=function(){return Date.now()},i}(),At=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tt=function(i){At(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(S),Ut=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mt=function(i){Ut(t,i);function t(n,o){n===void 0&&(n=void 0),o===void 0&&(o=void 0);var u=i.call(this,o)||this;return u.index=n,u.message=o,u}return t.kind="ArrayIndexOutOfBoundsException",t}(Tt),Wt=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$=function(){function i(){}return i.fill=function(t,n){for(var o=0,u=t.length;o<u;o++)t[o]=n},i.fillWithin=function(t,n,o,u){i.rangeCheck(t.length,n,o);for(var f=n;f<o;f++)t[f]=u},i.rangeCheck=function(t,n,o){if(n>o)throw new L("fromIndex("+n+") > toIndex("+o+")");if(n<0)throw new Mt(n);if(o>t)throw new Mt(o)},i.asList=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},i.create=function(t,n,o){var u=Array.from({length:t});return u.map(function(f){return Array.from({length:n}).fill(o)})},i.createInt32Array=function(t,n,o){var u=Array.from({length:t});return u.map(function(f){return Int32Array.from({length:n}).fill(o)})},i.equals=function(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(var o=0,u=t.length;o<u;o++)if(t[o]!==n[o])return!1;return!0},i.hashCode=function(t){var n,o;if(t===null)return 0;var u=1;try{for(var f=Wt(t),p=f.next();!p.done;p=f.next()){var v=p.value;u=31*u+v}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return u},i.fillUint8Array=function(t,n){for(var o=0;o!==t.length;o++)t[o]=n},i.copyOf=function(t,n){return t.slice(0,n)},i.copyOfUint8Array=function(t,n){if(t.length<=n){var o=new Uint8Array(n);return o.set(t),o}return t.slice(0,n)},i.copyOfRange=function(t,n,o){var u=o-n,f=new Int32Array(u);return it.arraycopy(t,n,f,0,u),f},i.binarySearch=function(t,n,o){o===void 0&&(o=i.numberComparator);for(var u=0,f=t.length-1;u<=f;){var p=f+u>>1,v=o(n,t[p]);if(v>0)u=p+1;else if(v<0)f=p-1;else return p}return-u-1},i.numberComparator=function(t,n){return t-n},i}(),G=function(){function i(){}return i.numberOfTrailingZeros=function(t){var n;if(t===0)return 32;var o=31;return n=t<<16,n!==0&&(o-=16,t=n),n=t<<8,n!==0&&(o-=8,t=n),n=t<<4,n!==0&&(o-=4,t=n),n=t<<2,n!==0&&(o-=2,t=n),o-(t<<1>>>31)},i.numberOfLeadingZeros=function(t){if(t===0)return 32;var n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n},i.toHexString=function(t){return t.toString(16)},i.toBinaryString=function(t){return String(parseInt(String(t),2))},i.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},i.truncDivision=function(t,n){return Math.trunc(t/n)},i.parseInt=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},i.MIN_VALUE_32_BITS=-2147483648,i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),z=function(){function i(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=i.makeArray(t):this.bits=n)}return i.prototype.getSize=function(){return this.size},i.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},i.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var n=i.makeArray(t);it.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},i.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},i.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},i.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},i.prototype.getNextSet=function(t){var n=this.size;if(t>=n)return n;var o=this.bits,u=Math.floor(t/32),f=o[u];f&=~((1<<(t&31))-1);for(var p=o.length;f===0;){if(++u===p)return n;f=o[u]}var v=u*32+G.numberOfTrailingZeros(f);return v>n?n:v},i.prototype.getNextUnset=function(t){var n=this.size;if(t>=n)return n;var o=this.bits,u=Math.floor(t/32),f=~o[u];f&=~((1<<(t&31))-1);for(var p=o.length;f===0;){if(++u===p)return n;f=~o[u]}var v=u*32+G.numberOfTrailingZeros(f);return v>n?n:v},i.prototype.setBulk=function(t,n){this.bits[Math.floor(t/32)]=n},i.prototype.setRange=function(t,n){if(n<t||t<0||n>this.size)throw new L;if(n!==t){n--;for(var o=Math.floor(t/32),u=Math.floor(n/32),f=this.bits,p=o;p<=u;p++){var v=p>o?0:t&31,_=p<u?31:n&31,A=(2<<_)-(1<<v);f[p]|=A}}},i.prototype.clear=function(){for(var t=this.bits.length,n=this.bits,o=0;o<t;o++)n[o]=0},i.prototype.isRange=function(t,n,o){if(n<t||t<0||n>this.size)throw new L;if(n===t)return!0;n--;for(var u=Math.floor(t/32),f=Math.floor(n/32),p=this.bits,v=u;v<=f;v++){var _=v>u?0:t&31,A=v<f?31:n&31,I=(2<<A)-(1<<_)&4294967295;if((p[v]&I)!==(o?I:0))return!1}return!0},i.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},i.prototype.appendBits=function(t,n){if(n<0||n>32)throw new L("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var o=n;o>0;o--)this.appendBit((t>>o-1&1)===1)},i.prototype.appendBitArray=function(t){var n=t.size;this.ensureCapacity(this.size+n);for(var o=0;o<n;o++)this.appendBit(t.get(o))},i.prototype.xor=function(t){if(this.size!==t.size)throw new L("Sizes don't match");for(var n=this.bits,o=0,u=n.length;o<u;o++)n[o]^=t.bits[o]},i.prototype.toBytes=function(t,n,o,u){for(var f=0;f<u;f++){for(var p=0,v=0;v<8;v++)this.get(t)&&(p|=1<<7-v),t++;n[o+f]=p}},i.prototype.getBitArray=function(){return this.bits},i.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),o=n+1,u=this.bits,f=0;f<o;f++){var p=u[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,t[n-f]=p}if(this.size!==o*32){for(var v=o*32-this.size,_=t[0]>>>v,f=1;f<o;f++){var A=t[f];_|=A<<32-v,t[f-1]=_,_=A>>>v}t[o-1]=_}this.bits=t},i.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.size===n.size&&$.equals(this.bits,n.bits)},i.prototype.hashCode=function(){return 31*this.size+$.hashCode(this.bits)},i.prototype.toString=function(){for(var t="",n=0,o=this.size;n<o;n++)(n&7)===0&&(t+=" "),t+=this.get(n)?"X":".";return t},i.prototype.clone=function(){return new i(this.size,this.bits.slice())},i}(),X;(function(i){i[i.OTHER=0]="OTHER",i[i.PURE_BARCODE=1]="PURE_BARCODE",i[i.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",i[i.TRY_HARDER=3]="TRY_HARDER",i[i.CHARACTER_SET=4]="CHARACTER_SET",i[i.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",i[i.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",i[i.ASSUME_GS1=7]="ASSUME_GS1",i[i.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",i[i.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",i[i.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var Q=X,ot=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(i){ot(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(S),je=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yt;(function(i){i[i.Cp437=0]="Cp437",i[i.ISO8859_1=1]="ISO8859_1",i[i.ISO8859_2=2]="ISO8859_2",i[i.ISO8859_3=3]="ISO8859_3",i[i.ISO8859_4=4]="ISO8859_4",i[i.ISO8859_5=5]="ISO8859_5",i[i.ISO8859_6=6]="ISO8859_6",i[i.ISO8859_7=7]="ISO8859_7",i[i.ISO8859_8=8]="ISO8859_8",i[i.ISO8859_9=9]="ISO8859_9",i[i.ISO8859_10=10]="ISO8859_10",i[i.ISO8859_11=11]="ISO8859_11",i[i.ISO8859_13=12]="ISO8859_13",i[i.ISO8859_14=13]="ISO8859_14",i[i.ISO8859_15=14]="ISO8859_15",i[i.ISO8859_16=15]="ISO8859_16",i[i.SJIS=16]="SJIS",i[i.Cp1250=17]="Cp1250",i[i.Cp1251=18]="Cp1251",i[i.Cp1252=19]="Cp1252",i[i.Cp1256=20]="Cp1256",i[i.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",i[i.UTF8=22]="UTF8",i[i.ASCII=23]="ASCII",i[i.Big5=24]="Big5",i[i.GB18030=25]="GB18030",i[i.EUC_KR=26]="EUC_KR"})(Yt||(Yt={}));var It=function(){function i(t,n,o){for(var u,f,p=[],v=3;v<arguments.length;v++)p[v-3]=arguments[v];this.valueIdentifier=t,this.name=o,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=p,i.VALUE_IDENTIFIER_TO_ECI.set(t,this),i.NAME_TO_ECI.set(o,this);for(var _=this.values,A=0,I=_.length;A!==I;A++){var b=_[A];i.VALUES_TO_ECI.set(b,this)}try{for(var O=je(p),D=O.next();!D.done;D=O.next()){var V=D.value;i.NAME_TO_ECI.set(V,this)}}catch(j){u={error:j}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}}return i.prototype.getValueIdentifier=function(){return this.valueIdentifier},i.prototype.getName=function(){return this.name},i.prototype.getValue=function(){return this.values[0]},i.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new F("incorect value");var n=i.VALUES_TO_ECI.get(t);if(n===void 0)throw new F("incorect value");return n},i.getCharacterSetECIByName=function(t){var n=i.NAME_TO_ECI.get(t);if(n===void 0)throw new F("incorect value");return n},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.getName()===n.getName()},i.VALUE_IDENTIFIER_TO_ECI=new Map,i.VALUES_TO_ECI=new Map,i.NAME_TO_ECI=new Map,i.Cp437=new i(Yt.Cp437,Int32Array.from([0,2]),"Cp437"),i.ISO8859_1=new i(Yt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),i.ISO8859_2=new i(Yt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),i.ISO8859_3=new i(Yt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),i.ISO8859_4=new i(Yt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),i.ISO8859_5=new i(Yt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),i.ISO8859_6=new i(Yt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),i.ISO8859_7=new i(Yt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),i.ISO8859_8=new i(Yt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),i.ISO8859_9=new i(Yt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),i.ISO8859_10=new i(Yt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),i.ISO8859_11=new i(Yt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),i.ISO8859_13=new i(Yt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),i.ISO8859_14=new i(Yt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),i.ISO8859_15=new i(Yt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),i.ISO8859_16=new i(Yt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),i.SJIS=new i(Yt.SJIS,20,"SJIS","Shift_JIS"),i.Cp1250=new i(Yt.Cp1250,21,"Cp1250","windows-1250"),i.Cp1251=new i(Yt.Cp1251,22,"Cp1251","windows-1251"),i.Cp1252=new i(Yt.Cp1252,23,"Cp1252","windows-1252"),i.Cp1256=new i(Yt.Cp1256,24,"Cp1256","windows-1256"),i.UnicodeBigUnmarked=new i(Yt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),i.UTF8=new i(Yt.UTF8,26,"UTF8","UTF-8"),i.ASCII=new i(Yt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),i.Big5=new i(Yt.Big5,28,"Big5"),i.GB18030=new i(Yt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),i.EUC_KR=new i(Yt.EUC_KR,30,"EUC_KR","EUC-KR"),i}(),Qt=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),zt=function(i){Qt(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(S),le=function(){function i(){}return i.decode=function(t,n){var o=this.encodingName(n);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)},i.shouldDecodeOnFallback=function(t){return!i.isBrowser()&&t==="ISO-8859-1"},i.encode=function(t,n){var o=this.encodingName(n);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},i.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},i.encodingName=function(t){return typeof t=="string"?t:t.getName()},i.encodingCharacterSet=function(t){return t instanceof It?t:It.getCharacterSetECIByName(t)},i.decodeFallback=function(t,n){var o=this.encodingCharacterSet(n);if(i.isDecodeFallbackSupported(o)){for(var u="",f=0,p=t.length;f<p;f++){var v=t[f].toString(16);v.length<2&&(v="0"+v),u+="%"+v}return decodeURIComponent(u)}if(o.equals(It.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new zt("Encoding "+this.encodingName(n)+" not supported by fallback.")},i.isDecodeFallbackSupported=function(t){return t.equals(It.UTF8)||t.equals(It.ISO8859_1)||t.equals(It.ASCII)},i.encodeFallback=function(t){for(var n=btoa(unescape(encodeURIComponent(t))),o=n.split(""),u=[],f=0;f<o.length;f++)u.push(o[f].charCodeAt(0));return new Uint8Array(u)},i}(),K=function(){function i(){}return i.castAsNonUtf8Char=function(t,n){n===void 0&&(n=null);var o=n?n.getName():this.ISO88591;return le.decode(new Uint8Array([t]),o)},i.guessEncoding=function(t,n){if(n!=null&&n.get(Q.CHARACTER_SET)!==void 0)return n.get(Q.CHARACTER_SET).toString();for(var o=t.length,u=!0,f=!0,p=!0,v=0,_=0,A=0,I=0,b=0,O=0,D=0,V=0,j=0,nt=0,Z=0,J=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,ht=0;ht<o&&(u||f||p);ht++){var gt=t[ht]&255;p&&(v>0?(gt&128)===0?p=!1:v--:(gt&128)!==0&&((gt&64)===0?p=!1:(v++,(gt&32)===0?_++:(v++,(gt&16)===0?A++:(v++,(gt&8)===0?I++:p=!1))))),u&&(gt>127&&gt<160?u=!1:gt>159&&(gt<192||gt===215||gt===247)&&Z++),f&&(b>0?gt<64||gt===127||gt>252?f=!1:b--:gt===128||gt===160||gt>239?f=!1:gt>160&&gt<224?(O++,V=0,D++,D>j&&(j=D)):gt>127?(b++,D=0,V++,V>nt&&(nt=V)):(D=0,V=0))}return p&&v>0&&(p=!1),f&&b>0&&(f=!1),p&&(J||_+A+I>0)?i.UTF8:f&&(i.ASSUME_SHIFT_JIS||j>=3||nt>=3)?i.SHIFT_JIS:u&&f?j===2&&O===2||Z*10>=o?i.SHIFT_JIS:i.ISO88591:u?i.ISO88591:f?i.SHIFT_JIS:p?i.UTF8:i.PLATFORM_DEFAULT_ENCODING},i.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var u=-1;function f(v,_,A,I,b,O){if(v==="%%")return"%";if(n[++u]!==void 0){v=I?parseInt(I.substr(1)):void 0;var D=b?parseInt(b.substr(1)):void 0,V;switch(O){case"s":V=n[u];break;case"c":V=n[u][0];break;case"f":V=parseFloat(n[u]).toFixed(v);break;case"p":V=parseFloat(n[u]).toPrecision(v);break;case"e":V=parseFloat(n[u]).toExponential(v);break;case"x":V=parseInt(n[u]).toString(D||16);break;case"d":V=parseFloat(parseInt(n[u],D||10).toPrecision(v)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(D);for(var j=parseInt(A),nt=A&&A[0]+""=="0"?"0":" ";V.length<j;)V=_!==void 0?V+nt:nt+V;return V}}var p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(p,f)},i.getBytes=function(t,n){return le.encode(t,n)},i.getCharCode=function(t,n){return n===void 0&&(n=0),t.charCodeAt(n)},i.getCharAt=function(t){return String.fromCharCode(t)},i.SHIFT_JIS=It.SJIS.getName(),i.GB2312="GB2312",i.ISO88591=It.ISO8859_1.getName(),i.EUC_JP="EUC_JP",i.UTF8=It.UTF8.getName(),i.PLATFORM_DEFAULT_ENCODING=i.UTF8,i.ASSUME_SHIFT_JIS=!1,i}(),mt=function(){function i(t){t===void 0&&(t=""),this.value=t}return i.prototype.enableDecoding=function(t){return this.encoding=t,this},i.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=K.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},i.prototype.appendChars=function(t,n,o){for(var u=n;n<n+o;u++)this.append(t[u]);return this},i.prototype.length=function(){return this.value.length},i.prototype.charAt=function(t){return this.value.charAt(t)},i.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},i.prototype.setCharAt=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)},i.prototype.substring=function(t,n){return this.value.substring(t,n)},i.prototype.setLengthToZero=function(){this.value=""},i.prototype.toString=function(){return this.value},i.prototype.insert=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+n.length)},i}(),Nt=function(){function i(t,n,o,u){if(this.width=t,this.height=n,this.rowSize=o,this.bits=u,n==null&&(n=t),this.height=n,t<1||n<1)throw new L("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return i.parseFromBooleanArray=function(t){for(var n=t.length,o=t[0].length,u=new i(o,n),f=0;f<n;f++)for(var p=t[f],v=0;v<o;v++)p[v]&&u.set(v,f);return u},i.parseFromString=function(t,n,o){if(t===null)throw new L("stringRepresentation cannot be null");for(var u=new Array(t.length),f=0,p=0,v=-1,_=0,A=0;A<t.length;)if(t.charAt(A)===`
`||t.charAt(A)==="\r"){if(f>p){if(v===-1)v=f-p;else if(f-p!==v)throw new L("row lengths do not match");p=f,_++}A++}else if(t.substring(A,A+n.length)===n)A+=n.length,u[f]=!0,f++;else if(t.substring(A,A+o.length)===o)A+=o.length,u[f]=!1,f++;else throw new L("illegal character encountered: "+t.substring(A));if(f>p){if(v===-1)v=f-p;else if(f-p!==v)throw new L("row lengths do not match");_++}for(var I=new i(v,_),b=0;b<f;b++)u[b]&&I.set(Math.floor(b%v),Math.floor(b/v));return I},i.prototype.get=function(t,n){var o=n*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0},i.prototype.set=function(t,n){var o=n*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295},i.prototype.unset=function(t,n){var o=n*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)},i.prototype.flip=function(t,n){var o=n*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295},i.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new L("input matrix dimensions do not match");for(var n=new z(Math.floor(this.width/32)+1),o=this.rowSize,u=this.bits,f=0,p=this.height;f<p;f++)for(var v=f*o,_=t.getRow(f,n).getBitArray(),A=0;A<o;A++)u[v+A]^=_[A]},i.prototype.clear=function(){for(var t=this.bits,n=t.length,o=0;o<n;o++)t[o]=0},i.prototype.setRegion=function(t,n,o,u){if(n<0||t<0)throw new L("Left and top must be nonnegative");if(u<1||o<1)throw new L("Height and width must be at least 1");var f=t+o,p=n+u;if(p>this.height||f>this.width)throw new L("The region must fit inside the matrix");for(var v=this.rowSize,_=this.bits,A=n;A<p;A++)for(var I=A*v,b=t;b<f;b++)_[I+Math.floor(b/32)]|=1<<(b&31)&4294967295},i.prototype.getRow=function(t,n){n==null||n.getSize()<this.width?n=new z(this.width):n.clear();for(var o=this.rowSize,u=this.bits,f=t*o,p=0;p<o;p++)n.setBulk(p*32,u[f+p]);return n},i.prototype.setRow=function(t,n){it.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},i.prototype.rotate180=function(){for(var t=this.getWidth(),n=this.getHeight(),o=new z(t),u=new z(t),f=0,p=Math.floor((n+1)/2);f<p;f++)o=this.getRow(f,o),u=this.getRow(n-1-f,u),o.reverse(),u.reverse(),this.setRow(f,u),this.setRow(n-1-f,o)},i.prototype.getEnclosingRectangle=function(){for(var t=this.width,n=this.height,o=this.rowSize,u=this.bits,f=t,p=n,v=-1,_=-1,A=0;A<n;A++)for(var I=0;I<o;I++){var b=u[A*o+I];if(b!==0){if(A<p&&(p=A),A>_&&(_=A),I*32<f){for(var O=0;(b<<31-O&4294967295)===0;)O++;I*32+O<f&&(f=I*32+O)}if(I*32+31>v){for(var O=31;!(b>>>O);)O--;I*32+O>v&&(v=I*32+O)}}}return v<f||_<p?null:Int32Array.from([f,p,v-f+1,_-p+1])},i.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,n=this.bits,o=0;o<n.length&&n[o]===0;)o++;if(o===n.length)return null;for(var u=o/t,f=o%t*32,p=n[o],v=0;(p<<31-v&4294967295)===0;)v++;return f+=v,Int32Array.from([f,u])},i.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,n=this.bits,o=n.length-1;o>=0&&n[o]===0;)o--;if(o<0)return null;for(var u=Math.floor(o/t),f=Math.floor(o%t)*32,p=n[o],v=31;!(p>>>v);)v--;return f+=v,Int32Array.from([f,u])},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.getRowSize=function(){return this.rowSize},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&$.equals(this.bits,n.bits)},i.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+$.hashCode(this.bits),t},i.prototype.toString=function(t,n,o){return t===void 0&&(t="X "),n===void 0&&(n="  "),o===void 0&&(o=`
`),this.buildToString(t,n,o)},i.prototype.buildToString=function(t,n,o){for(var u=new mt,f=0,p=this.height;f<p;f++){for(var v=0,_=this.width;v<_;v++)u.append(this.get(v,f)?t:n);u.append(o)}return u.toString()},i.prototype.clone=function(){return new i(this.width,this.height,this.rowSize,this.bits.slice())},i}(),Dt=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),et=function(i){Dt(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(S),se=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ae=function(i){se(t,i);function t(n){var o=i.call(this,n)||this;return o.luminances=t.EMPTY,o.buckets=new Int32Array(t.LUMINANCE_BUCKETS),o}return t.prototype.getBlackRow=function(n,o){var u=this.getLuminanceSource(),f=u.getWidth();o==null||o.getSize()<f?o=new z(f):o.clear(),this.initArrays(f);for(var p=u.getRow(n,this.luminances),v=this.buckets,_=0;_<f;_++)v[(p[_]&255)>>t.LUMINANCE_SHIFT]++;var A=t.estimateBlackPoint(v);if(f<3)for(var _=0;_<f;_++)(p[_]&255)<A&&o.set(_);else for(var I=p[0]&255,b=p[1]&255,_=1;_<f-1;_++){var O=p[_+1]&255;(b*4-I-O)/2<A&&o.set(_),I=b,b=O}return o},t.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),o=n.getWidth(),u=n.getHeight(),f=new Nt(o,u);this.initArrays(o);for(var p=this.buckets,v=1;v<5;v++)for(var _=Math.floor(u*v/5),A=n.getRow(_,this.luminances),I=Math.floor(o*4/5),b=Math.floor(o/5);b<I;b++){var O=A[b]&255;p[O>>t.LUMINANCE_SHIFT]++}for(var D=t.estimateBlackPoint(p),V=n.getMatrix(),v=0;v<u;v++)for(var j=v*o,b=0;b<o;b++){var O=V[j+b]&255;O<D&&f.set(b,v)}return f},t.prototype.createBinarizer=function(n){return new t(n)},t.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var o=this.buckets,u=0;u<t.LUMINANCE_BUCKETS;u++)o[u]=0},t.estimateBlackPoint=function(n){for(var o=n.length,u=0,f=0,p=0,v=0;v<o;v++)n[v]>p&&(f=v,p=n[v]),n[v]>u&&(u=n[v]);for(var _=0,A=0,v=0;v<o;v++){var I=v-f,b=n[v]*I*I;b>A&&(_=v,A=b)}if(f>_){var O=f;f=_,_=O}if(_-f<=o/16)throw new et;for(var D=_-1,V=-1,v=_-1;v>f;v--){var j=v-f,b=j*j*(_-v)*(u-n[v]);b>V&&(D=v,V=b)}return D<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(ct),nn=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),we=function(i){nn(t,i);function t(n){var o=i.call(this,n)||this;return o.matrix=null,o}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),o=n.getWidth(),u=n.getHeight();if(o>=t.MINIMUM_DIMENSION&&u>=t.MINIMUM_DIMENSION){var f=n.getMatrix(),p=o>>t.BLOCK_SIZE_POWER;(o&t.BLOCK_SIZE_MASK)!==0&&p++;var v=u>>t.BLOCK_SIZE_POWER;(u&t.BLOCK_SIZE_MASK)!==0&&v++;var _=t.calculateBlackPoints(f,p,v,o,u),A=new Nt(o,u);t.calculateThresholdForBlock(f,p,v,o,u,_,A),this.matrix=A}else this.matrix=i.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(n){return new t(n)},t.calculateThresholdForBlock=function(n,o,u,f,p,v,_){for(var A=p-t.BLOCK_SIZE,I=f-t.BLOCK_SIZE,b=0;b<u;b++){var O=b<<t.BLOCK_SIZE_POWER;O>A&&(O=A);for(var D=t.cap(b,2,u-3),V=0;V<o;V++){var j=V<<t.BLOCK_SIZE_POWER;j>I&&(j=I);for(var nt=t.cap(V,2,o-3),Z=0,J=-2;J<=2;J++){var ht=v[D+J];Z+=ht[nt-2]+ht[nt-1]+ht[nt]+ht[nt+1]+ht[nt+2]}var gt=Z/25;t.thresholdBlock(n,j,O,gt,f,_)}}},t.cap=function(n,o,u){return n<o?o:n>u?u:n},t.thresholdBlock=function(n,o,u,f,p,v){for(var _=0,A=u*p+o;_<t.BLOCK_SIZE;_++,A+=p)for(var I=0;I<t.BLOCK_SIZE;I++)(n[A+I]&255)<=f&&v.set(o+I,u+_)},t.calculateBlackPoints=function(n,o,u,f,p){for(var v=p-t.BLOCK_SIZE,_=f-t.BLOCK_SIZE,A=new Array(u),I=0;I<u;I++){A[I]=new Int32Array(o);var b=I<<t.BLOCK_SIZE_POWER;b>v&&(b=v);for(var O=0;O<o;O++){var D=O<<t.BLOCK_SIZE_POWER;D>_&&(D=_);for(var V=0,j=255,nt=0,Z=0,J=b*f+D;Z<t.BLOCK_SIZE;Z++,J+=f){for(var ht=0;ht<t.BLOCK_SIZE;ht++){var gt=n[J+ht]&255;V+=gt,gt<j&&(j=gt),gt>nt&&(nt=gt)}if(nt-j>t.MIN_DYNAMIC_RANGE)for(Z++,J+=f;Z<t.BLOCK_SIZE;Z++,J+=f)for(var ht=0;ht<t.BLOCK_SIZE;ht++)V+=n[J+ht]&255}var St=V>>t.BLOCK_SIZE_POWER*2;if(nt-j<=t.MIN_DYNAMIC_RANGE&&(St=j/2,I>0&&O>0)){var Rt=(A[I-1][O]+2*A[I][O-1]+A[I-1][O-1])/4;j<Rt&&(St=Rt)}A[I][O]=St}}return A},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(ae),Be=function(){function i(t,n){this.width=t,this.height=n}return i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.isCropSupported=function(){return!1},i.prototype.crop=function(t,n,o,u){throw new zt("This luminance source does not support cropping.")},i.prototype.isRotateSupported=function(){return!1},i.prototype.rotateCounterClockwise=function(){throw new zt("This luminance source does not support rotation by 90 degrees.")},i.prototype.rotateCounterClockwise45=function(){throw new zt("This luminance source does not support rotation by 45 degrees.")},i.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),n=new mt,o=0;o<this.height;o++){for(var u=this.getRow(o,t),f=0;f<this.width;f++){var p=u[f]&255,v=void 0;p<64?v="#":p<128?v="+":p<192?v=".":v=" ",n.append(v)}n.append(`
`)}return n.toString()},i}(),Me=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),mn=function(i){Me(t,i);function t(n){var o=i.call(this,n.getWidth(),n.getHeight())||this;return o.delegate=n,o}return t.prototype.getRow=function(n,o){for(var u=this.delegate.getRow(n,o),f=this.getWidth(),p=0;p<f;p++)u[p]=255-(u[p]&255);return u},t.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o),f=0;f<o;f++)u[f]=255-(n[f]&255);return u},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(n,o,u,f){return new t(this.delegate.crop(n,o,u,f))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(Be),di=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gr=function(i){di(t,i);function t(n){var o=i.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=t.makeBufferFromCanvasImageData(n),o}return t.makeBufferFromCanvasImageData=function(n){var o=n.getContext("2d").getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(o.data,n.width,n.height)},t.toGrayscaleBuffer=function(n,o,u){for(var f=new Uint8ClampedArray(o*u),p=0,v=0,_=n.length;p<_;p+=4,v++){var A=void 0,I=n[p+3];if(I===0)A=255;else{var b=n[p],O=n[p+1],D=n[p+2];A=306*b+601*O+117*D+512>>10}f[v]=A}return f},t.prototype.getRow=function(n,o){if(n<0||n>=this.getHeight())throw new L("Requested row is outside the image: "+n);var u=this.getWidth(),f=n*u;return o===null?o=this.buffer.slice(f,f+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(f,f+u))),o},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,o,u,f){return i.prototype.crop.call(this,n,o,u,f),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var o=this.getTempCanvasElement(),u=o.getContext("2d"),f=n*t.DEGREE_TO_RADIANS,p=this.canvas.width,v=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(f))*p+Math.abs(Math.sin(f))*v),A=Math.ceil(Math.abs(Math.sin(f))*p+Math.abs(Math.cos(f))*v);return o.width=_,o.height=A,u.translate(_/2,A/2),u.rotate(f),u.drawImage(this.canvas,p/-2,v/-2),this.buffer=t.makeBufferFromCanvasImageData(o),this},t.prototype.invert=function(){return new mn(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}(Be),Vi=function(){function i(t,n,o){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=o||void 0}return i.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},i}(),Ye=function(i,t,n,o){function u(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(I){try{A(o.next(I))}catch(b){p(b)}}function _(I){try{A(o.throw(I))}catch(b){p(b)}}function A(I){I.done?f(I.value):u(I.value).then(v,_)}A((o=o.apply(i,t||[])).next())})},qe=function(i,t){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(A){return function(I){return _([A,I])}}function _(A){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,u&&(f=A[0]&2?u.return:A[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,A[1])).done)return f;switch(u=0,f&&(A=[A[0]&2,f.value]),A[0]){case 0:case 1:f=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,u=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!f||A[1]>f[0]&&A[1]<f[3])){n.label=A[1];break}if(A[0]===6&&n.label<f[1]){n.label=f[1],f=A;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(A);break}f[2]&&n.ops.pop(),n.trys.pop();continue}A=t.call(i,n)}catch(I){A=[6,I],u=0}finally{o=f=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},cs=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rr=function(){function i(t,n,o){n===void 0&&(n=500),this.reader=t,this.timeBetweenScansMillis=n,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(i.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),i.prototype.listVideoInputDevices=function(){return Ye(this,void 0,void 0,function(){var t,n,o,u,f,p,v,_,A,I,b,O;return qe(this,function(D){switch(D.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=D.sent(),n=[];try{for(o=cs(t),u=o.next();!u.done;u=o.next())f=u.value,p=f.kind==="video"?"videoinput":f.kind,p==="videoinput"&&(v=f.deviceId||f.id,_=f.label||"Video device "+(n.length+1),A=f.groupId,I={deviceId:v,label:_,kind:p,groupId:A},n.push(I))}catch(V){b={error:V}}finally{try{u&&!u.done&&(O=o.return)&&O.call(o)}finally{if(b)throw b.error}}return[2,n]}})})},i.prototype.getVideoInputDevices=function(){return Ye(this,void 0,void 0,function(){var t;return qe(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),[2,t.map(function(o){return new Vi(o.deviceId,o.label)})]}})})},i.prototype.findDeviceById=function(t){return Ye(this,void 0,void 0,function(){var n;return qe(this,function(o){switch(o.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=o.sent(),n?[2,n.find(function(u){return u.deviceId===t})]:[2,null]}})})},i.prototype.decodeFromInputVideoDevice=function(t,n){return Ye(this,void 0,void 0,function(){return qe(this,function(o){switch(o.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,n)];case 1:return[2,o.sent()]}})})},i.prototype.decodeOnceFromVideoDevice=function(t,n){return Ye(this,void 0,void 0,function(){var o,u;return qe(this,function(f){switch(f.label){case 0:return this.reset(),t?o={deviceId:{exact:t}}:o={facingMode:"environment"},u={video:o},[4,this.decodeOnceFromConstraints(u,n)];case 1:return[2,f.sent()]}})})},i.prototype.decodeOnceFromConstraints=function(t,n){return Ye(this,void 0,void 0,function(){var o;return qe(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return o=u.sent(),[4,this.decodeOnceFromStream(o,n)];case 2:return[2,u.sent()]}})})},i.prototype.decodeOnceFromStream=function(t,n){return Ye(this,void 0,void 0,function(){var o,u;return qe(this,function(f){switch(f.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return o=f.sent(),[4,this.decodeOnce(o)];case 2:return u=f.sent(),[2,u]}})})},i.prototype.decodeFromInputVideoDeviceContinuously=function(t,n,o){return Ye(this,void 0,void 0,function(){return qe(this,function(u){switch(u.label){case 0:return[4,this.decodeFromVideoDevice(t,n,o)];case 1:return[2,u.sent()]}})})},i.prototype.decodeFromVideoDevice=function(t,n,o){return Ye(this,void 0,void 0,function(){var u,f;return qe(this,function(p){switch(p.label){case 0:return t?u={deviceId:{exact:t}}:u={facingMode:"environment"},f={video:u},[4,this.decodeFromConstraints(f,n,o)];case 1:return[2,p.sent()]}})})},i.prototype.decodeFromConstraints=function(t,n,o){return Ye(this,void 0,void 0,function(){var u;return qe(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return u=f.sent(),[4,this.decodeFromStream(u,n,o)];case 2:return[2,f.sent()]}})})},i.prototype.decodeFromStream=function(t,n,o){return Ye(this,void 0,void 0,function(){var u;return qe(this,function(f){switch(f.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return u=f.sent(),[4,this.decodeContinuously(u,o)];case 2:return[2,f.sent()]}})})},i.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},i.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},i.prototype.attachStreamToVideo=function(t,n){return Ye(this,void 0,void 0,function(){var o;return qe(this,function(u){switch(u.label){case 0:return o=this.prepareVideoElement(n),this.addVideoSource(o,t),this.videoElement=o,this.stream=t,[4,this.playVideoOnLoadAsync(o)];case 1:return u.sent(),[2,o]}})})},i.prototype.playVideoOnLoadAsync=function(t){var n=this;return new Promise(function(o,u){return n.playVideoOnLoad(t,function(){return o()})})},i.prototype.playVideoOnLoad=function(t,n){var o=this;this.videoEndedListener=function(){return o.stopStreams()},this.videoCanPlayListener=function(){return o.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)},i.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},i.prototype.tryPlayVideo=function(t){return Ye(this,void 0,void 0,function(){return qe(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},i.prototype.getMediaElement=function(t,n){var o=document.getElementById(t);if(!o)throw new P("element with id '"+t+"' not found");if(o.nodeName.toLowerCase()!==n.toLowerCase())throw new P("element with id '"+t+"' must be an "+n+" element");return o},i.prototype.decodeFromImage=function(t,n){if(!t&&!n)throw new P("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)},i.prototype.decodeFromVideo=function(t,n){if(!t&&!n)throw new P("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)},i.prototype.decodeFromVideoContinuously=function(t,n,o){if(t===void 0&&n===void 0)throw new P("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,o):this.decodeFromVideoElementContinuously(t,o)},i.prototype.decodeFromImageElement=function(t){if(!t)throw new P("An image element must be provided.");this.reset();var n=this.prepareImageElement(t);this.imageElement=n;var o;return this.isImageLoaded(n)?o=this.decodeOnce(n,!1,!0):o=this._decodeOnLoadImage(n),o},i.prototype.decodeFromVideoElement=function(t){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)},i.prototype.decodeFromVideoElementContinuously=function(t,n){var o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,n)},i.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new P("A video element must be provided.");this.reset();var n=this.prepareVideoElement(t);return this.videoElement=n,n},i.prototype.decodeFromImageUrl=function(t){if(!t)throw new P("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var o=this._decodeOnLoadImage(n);return n.src=t,o},i.prototype.decodeFromVideoUrl=function(t){if(!t)throw new P("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),o=this.decodeFromVideoElement(n);return n.src=t,o},i.prototype.decodeFromVideoUrlContinuously=function(t,n){if(!t)throw new P("An URL must be provided.");this.reset();var o=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(o,n);return o.src=t,u},i.prototype._decodeOnLoadImage=function(t){var n=this;return new Promise(function(o,u){n.imageLoadedListener=function(){return n.decodeOnce(t,!1,!0).then(o,u)},t.addEventListener("load",n.imageLoadedListener)})},i.prototype._decodeOnLoadVideo=function(t){return Ye(this,void 0,void 0,function(){return qe(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),[4,this.decodeOnce(t)];case 2:return[2,n.sent()]}})})},i.prototype._decodeOnLoadVideoContinuously=function(t,n){return Ye(this,void 0,void 0,function(){return qe(this,function(o){switch(o.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return o.sent(),this.decodeContinuously(t,n),[2]}})})},i.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},i.prototype.prepareImageElement=function(t){var n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n},i.prototype.prepareVideoElement=function(t){var n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},i.prototype.decodeOnce=function(t,n,o){var u=this;n===void 0&&(n=!0),o===void 0&&(o=!0),this._stopAsyncDecode=!1;var f=function(p,v){if(u._stopAsyncDecode){v(new et("Video stream has ended before any code could be detected.")),u._stopAsyncDecode=void 0;return}try{var _=u.decode(t);p(_)}catch(O){var A=n&&O instanceof et,I=O instanceof at||O instanceof F,b=I&&o;if(A||b)return setTimeout(f,u._timeBetweenDecodingAttempts,p,v);v(O)}};return new Promise(function(p,v){return f(p,v)})},i.prototype.decodeContinuously=function(t,n){var o=this;this._stopContinuousDecode=!1;var u=function(){if(o._stopContinuousDecode){o._stopContinuousDecode=void 0;return}try{var f=o.decode(t);n(f,null),setTimeout(u,o.timeBetweenScansMillis)}catch(_){n(null,_);var p=_ instanceof at||_ instanceof F,v=_ instanceof et;(p||v)&&setTimeout(u,o._timeBetweenDecodingAttempts)}};u()},i.prototype.decode=function(t){var n=this.createBinaryBitmap(t);return this.decodeBitmap(n)},i.prototype.createBinaryBitmap=function(t){var n=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(n,t);var o=this.getCaptureCanvas(t),u=new gr(o),f=new we(u);return new W(f)},i.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(t),o=n.getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext},i.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas},i.prototype.drawImageOnCanvas=function(t,n){t.drawImage(n,0,0)},i.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},i.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),o,u;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,u=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,u=t.naturalHeight||t.height)),n.style.width=o+"px",n.style.height=u+"px",n.width=o,n.height=u,n},i.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},i.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},i.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},i.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},i.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},i.prototype.addVideoSource=function(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}},i.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},i}(),hn=function(){function i(t,n,o,u,f,p){o===void 0&&(o=n==null?0:8*n.length),p===void 0&&(p=it.currentTimeMillis()),this.text=t,this.rawBytes=n,this.numBits=o,this.resultPoints=u,this.format=f,this.timestamp=p,this.text=t,this.rawBytes=n,o==null?this.numBits=n==null?0:8*n.length:this.numBits=o,this.resultPoints=u,this.format=f,this.resultMetadata=null,p==null?this.timestamp=it.currentTimeMillis():this.timestamp=p}return i.prototype.getText=function(){return this.text},i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.getBarcodeFormat=function(){return this.format},i.prototype.getResultMetadata=function(){return this.resultMetadata},i.prototype.putMetadata=function(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)},i.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},i.prototype.addResultPoints=function(t){var n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){var o=new Array(n.length+t.length);it.arraycopy(n,0,o,0,n.length),it.arraycopy(t,0,o,n.length,t.length),this.resultPoints=o}},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.toString=function(){return this.text},i}(),pi;(function(i){i[i.AZTEC=0]="AZTEC",i[i.CODABAR=1]="CODABAR",i[i.CODE_39=2]="CODE_39",i[i.CODE_93=3]="CODE_93",i[i.CODE_128=4]="CODE_128",i[i.DATA_MATRIX=5]="DATA_MATRIX",i[i.EAN_8=6]="EAN_8",i[i.EAN_13=7]="EAN_13",i[i.ITF=8]="ITF",i[i.MAXICODE=9]="MAXICODE",i[i.PDF_417=10]="PDF_417",i[i.QR_CODE=11]="QR_CODE",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pi||(pi={}));var qt=pi,fs;(function(i){i[i.OTHER=0]="OTHER",i[i.ORIENTATION=1]="ORIENTATION",i[i.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",i[i.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",i[i.ISSUE_NUMBER=4]="ISSUE_NUMBER",i[i.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",i[i.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",i[i.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",i[i.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",i[i.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",i[i.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fs||(fs={}));var $e=fs,Sn=function(){function i(t,n,o,u,f,p){f===void 0&&(f=-1),p===void 0&&(p=-1),this.rawBytes=t,this.text=n,this.byteSegments=o,this.ecLevel=u,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=t==null?0:8*t.length}return i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.setNumBits=function(t){this.numBits=t},i.prototype.getText=function(){return this.text},i.prototype.getByteSegments=function(){return this.byteSegments},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getErrorsCorrected=function(){return this.errorsCorrected},i.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},i.prototype.getErasures=function(){return this.erasures},i.prototype.setErasures=function(t){this.erasures=t},i.prototype.getOther=function(){return this.other},i.prototype.setOther=function(t){this.other=t},i.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},i.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},i.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},i}(),Ui=function(){function i(){}return i.prototype.exp=function(t){return this.expTable[t]},i.prototype.log=function(t){if(t===0)throw new L;return this.logTable[t]},i.addOrSubtract=function(t,n){return t^n},i}(),ke=function(){function i(t,n){if(n.length===0)throw new L;this.field=t;var o=n.length;if(o>1&&n[0]===0){for(var u=1;u<o&&n[u]===0;)u++;u===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-u),it.arraycopy(n,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},i.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var n=this.coefficients,o;if(t===1){o=0;for(var u=0,f=n.length;u!==f;u++){var p=n[u];o=Ui.addOrSubtract(o,p)}return o}o=n[0];for(var v=n.length,_=this.field,u=1;u<v;u++)o=Ui.addOrSubtract(_.multiply(t,o),n[u]);return o},i.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,o=t.coefficients;if(n.length>o.length){var u=n;n=o,o=u}var f=new Int32Array(o.length),p=o.length-n.length;it.arraycopy(o,0,f,0,p);for(var v=p;v<o.length;v++)f[v]=Ui.addOrSubtract(n[v-p],o[v]);return new i(this.field,f)},i.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,o=n.length,u=t.coefficients,f=u.length,p=new Int32Array(o+f-1),v=this.field,_=0;_<o;_++)for(var A=n[_],I=0;I<f;I++)p[_+I]=Ui.addOrSubtract(p[_+I],v.multiply(A,u[I]));return new i(v,p)},i.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var n=this.coefficients.length,o=this.field,u=new Int32Array(n),f=this.coefficients,p=0;p<n;p++)u[p]=o.multiply(f[p],t);return new i(o,u)},i.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new L;if(n===0)return this.field.getZero();for(var o=this.coefficients,u=o.length,f=new Int32Array(u+t),p=this.field,v=0;v<u;v++)f[v]=p.multiply(o[v],n);return new i(p,f)},i.prototype.divide=function(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new L("Divide by 0");for(var n=this.field,o=n.getZero(),u=this,f=t.getCoefficient(t.getDegree()),p=n.inverse(f);u.getDegree()>=t.getDegree()&&!u.isZero();){var v=u.getDegree()-t.getDegree(),_=n.multiply(u.getCoefficient(u.getDegree()),p),A=t.multiplyByMonomial(v,_),I=n.buildMonomial(v,_);o=o.addOrSubtract(I),u=u.addOrSubtract(A)}return[o,u]},i.prototype.toString=function(){for(var t="",n=this.getDegree();n>=0;n--){var o=this.getCoefficient(n);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),n===0||o!==1){var u=this.field.log(o);u===0?t+="1":u===1?t+="a":(t+="a^",t+=u)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t},i}(),yn=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yr=function(i){yn(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(S),su=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),_n=function(i){su(t,i);function t(n,o,u){var f=i.call(this)||this;f.primitive=n,f.size=o,f.generatorBase=u;for(var p=new Int32Array(o),v=1,_=0;_<o;_++)p[_]=v,v*=2,v>=o&&(v^=n,v&=o-1);f.expTable=p;for(var A=new Int32Array(o),_=0;_<o-1;_++)A[p[_]]=_;return f.logTable=A,f.zero=new ke(f,Int32Array.from([0])),f.one=new ke(f,Int32Array.from([1])),f}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,o){if(n<0)throw new L;if(o===0)return this.zero;var u=new Int32Array(n+1);return u[0]=o,new ke(this,u)},t.prototype.inverse=function(n){if(n===0)throw new Yr;return this.expTable[this.size-this.logTable[n]-1]},t.prototype.multiply=function(n,o){return n===0||o===0?0:this.expTable[(this.logTable[n]+this.logTable[o])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(n){return n===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Ui),dl=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kr=function(i){dl(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(S),Fi=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ke=function(i){Fi(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(S),Hi=function(){function i(t){this.field=t}return i.prototype.decode=function(t,n){for(var o=this.field,u=new ke(o,t),f=new Int32Array(n),p=!0,v=0;v<n;v++){var _=u.evaluateAt(o.exp(v+o.getGeneratorBase()));f[f.length-1-v]=_,_!==0&&(p=!1)}if(!p)for(var A=new ke(o,f),I=this.runEuclideanAlgorithm(o.buildMonomial(n,1),A,n),b=I[0],O=I[1],D=this.findErrorLocations(b),V=this.findErrorMagnitudes(O,D),v=0;v<D.length;v++){var j=t.length-1-o.log(D[v]);if(j<0)throw new Kr("Bad error location");t[j]=_n.addOrSubtract(t[j],V[v])}},i.prototype.runEuclideanAlgorithm=function(t,n,o){if(t.getDegree()<n.getDegree()){var u=t;t=n,n=u}for(var f=this.field,p=t,v=n,_=f.getZero(),A=f.getOne();v.getDegree()>=(o/2|0);){var I=p,b=_;if(p=v,_=A,p.isZero())throw new Kr("r_{i-1} was zero");v=I;for(var O=f.getZero(),D=p.getCoefficient(p.getDegree()),V=f.inverse(D);v.getDegree()>=p.getDegree()&&!v.isZero();){var j=v.getDegree()-p.getDegree(),nt=f.multiply(v.getCoefficient(v.getDegree()),V);O=O.addOrSubtract(f.buildMonomial(j,nt)),v=v.addOrSubtract(p.multiplyByMonomial(j,nt))}if(A=O.multiply(_).addOrSubtract(b),v.getDegree()>=p.getDegree())throw new Ke("Division algorithm failed to reduce polynomial?")}var Z=A.getCoefficient(0);if(Z===0)throw new Kr("sigmaTilde(0) was zero");var J=f.inverse(Z),ht=A.multiplyScalar(J),gt=v.multiplyScalar(J);return[ht,gt]},i.prototype.findErrorLocations=function(t){var n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);for(var o=new Int32Array(n),u=0,f=this.field,p=1;p<f.getSize()&&u<n;p++)t.evaluateAt(p)===0&&(o[u]=f.inverse(p),u++);if(u!==n)throw new Kr("Error locator degree does not match number of roots");return o},i.prototype.findErrorMagnitudes=function(t,n){for(var o=n.length,u=new Int32Array(o),f=this.field,p=0;p<o;p++){for(var v=f.inverse(n[p]),_=1,A=0;A<o;A++)if(p!==A){var I=f.multiply(n[A],v),b=(I&1)===0?I|1:I&-2;_=f.multiply(_,b)}u[p]=f.multiply(t.evaluateAt(v),f.inverse(_)),f.getGeneratorBase()!==0&&(u[p]=f.multiply(u[p],v))}return u},i}(),Ve;(function(i){i[i.UPPER=0]="UPPER",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.DIGIT=3]="DIGIT",i[i.PUNCT=4]="PUNCT",i[i.BINARY=5]="BINARY"})(Ve||(Ve={}));var Nn=function(){function i(){}return i.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),o=this.extractBits(n),u=this.correctBits(o),f=i.convertBoolArrayToByteArray(u),p=i.getEncodedData(u),v=new Sn(f,p,null,null);return v.setNumBits(u.length),v},i.highLevelDecode=function(t){return this.getEncodedData(t)},i.getEncodedData=function(t){for(var n=t.length,o=Ve.UPPER,u=Ve.UPPER,f="",p=0;p<n;)if(u===Ve.BINARY){if(n-p<5)break;var v=i.readCode(t,p,5);if(p+=5,v===0){if(n-p<11)break;v=i.readCode(t,p,11)+31,p+=11}for(var _=0;_<v;_++){if(n-p<8){p=n;break}var A=i.readCode(t,p,8);f+=K.castAsNonUtf8Char(A),p+=8}u=o}else{var I=u===Ve.DIGIT?4:5;if(n-p<I)break;var A=i.readCode(t,p,I);p+=I;var b=i.getCharacter(u,A);b.startsWith("CTRL_")?(o=u,u=i.getTable(b.charAt(5)),b.charAt(6)==="L"&&(o=u)):(f+=b,u=o)}return f},i.getTable=function(t){switch(t){case"L":return Ve.LOWER;case"P":return Ve.PUNCT;case"M":return Ve.MIXED;case"D":return Ve.DIGIT;case"B":return Ve.BINARY;case"U":default:return Ve.UPPER}},i.getCharacter=function(t,n){switch(t){case Ve.UPPER:return i.UPPER_TABLE[n];case Ve.LOWER:return i.LOWER_TABLE[n];case Ve.MIXED:return i.MIXED_TABLE[n];case Ve.PUNCT:return i.PUNCT_TABLE[n];case Ve.DIGIT:return i.DIGIT_TABLE[n];default:throw new Ke("Bad table")}},i.prototype.correctBits=function(t){var n,o;this.ddata.getNbLayers()<=2?(o=6,n=_n.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,n=_n.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,n=_n.AZTEC_DATA_10):(o=12,n=_n.AZTEC_DATA_12);var u=this.ddata.getNbDatablocks(),f=t.length/o;if(f<u)throw new F;for(var p=t.length%o,v=new Int32Array(f),_=0;_<f;_++,p+=o)v[_]=i.readCode(t,p,o);try{var A=new Hi(n);A.decode(v,f-u)}catch(nt){throw new F(nt)}for(var I=(1<<o)-1,b=0,_=0;_<u;_++){var O=v[_];if(O===0||O===I)throw new F;(O===1||O===I-1)&&b++}for(var D=new Array(u*o-b),V=0,_=0;_<u;_++){var O=v[_];if(O===1||O===I-1)D.fill(O>1,V,V+o-1),V+=o-1;else for(var j=o-1;j>=0;--j)D[V++]=(O&1<<j)!==0}return D},i.prototype.extractBits=function(t){var n=this.ddata.isCompact(),o=this.ddata.getNbLayers(),u=(n?11:14)+o*4,f=new Int32Array(u),p=new Array(this.totalBitsInLayer(o,n));if(n)for(var v=0;v<f.length;v++)f[v]=v;else for(var _=u+1+2*G.truncDivision(G.truncDivision(u,2)-1,15),A=u/2,I=G.truncDivision(_,2),v=0;v<A;v++){var b=v+G.truncDivision(v,15);f[A-v-1]=I-b-1,f[A+v]=I+b+1}for(var v=0,O=0;v<o;v++){for(var D=(o-v)*4+(n?9:12),V=v*2,j=u-1-V,nt=0;nt<D;nt++)for(var Z=nt*2,J=0;J<2;J++)p[O+Z+J]=t.get(f[V+J],f[V+nt]),p[O+2*D+Z+J]=t.get(f[V+nt],f[j-J]),p[O+4*D+Z+J]=t.get(f[j-J],f[j-nt]),p[O+6*D+Z+J]=t.get(f[j-nt],f[V+J]);O+=D*8}return p},i.readCode=function(t,n,o){for(var u=0,f=n;f<n+o;f++)u<<=1,t[f]&&(u|=1);return u},i.readByte=function(t,n){var o=t.length-n;return o>=8?i.readCode(t,n,8):i.readCode(t,n,o)<<8-o},i.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),o=0;o<n.length;o++)n[o]=i.readByte(t,8*o);return n},i.prototype.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},i.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],i.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],i.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],i.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],i.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],i}(),he=function(){function i(){}return i.round=function(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},i.distance=function(t,n,o,u){var f=t-o,p=n-u;return Math.sqrt(f*f+p*p)},i.sum=function(t){for(var n=0,o=0,u=t.length;o!==u;o++){var f=t[o];n+=f}return n},i}(),fo=function(){function i(){}return i.floatToIntBits=function(t){return t},i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),Vt=function(){function i(t,n){this.x=t,this.y=n}return i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.equals=function(t){if(t instanceof i){var n=t;return this.x===n.x&&this.y===n.y}return!1},i.prototype.hashCode=function(){return 31*fo.floatToIntBits(this.x)+fo.floatToIntBits(this.y)},i.prototype.toString=function(){return"("+this.x+","+this.y+")"},i.orderBestPatterns=function(t){var n=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),u=this.distance(t[0],t[2]),f,p,v;if(o>=n&&o>=u?(p=t[0],f=t[1],v=t[2]):u>=o&&u>=n?(p=t[1],f=t[0],v=t[2]):(p=t[2],f=t[0],v=t[1]),this.crossProductZ(f,p,v)<0){var _=f;f=v,v=_}t[0]=f,t[1]=p,t[2]=v},i.distance=function(t,n){return he.distance(t.x,t.y,n.x,n.y)},i.crossProductZ=function(t,n,o){var u=n.x,f=n.y;return(o.x-u)*(t.y-f)-(o.y-f)*(t.x-u)},i}(),vr=function(){function i(t,n){this.bits=t,this.points=n}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}(),zi=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Or=function(i){zi(t,i);function t(n,o,u,f,p){var v=i.call(this,n,o)||this;return v.compact=u,v.nbDatablocks=f,v.nbLayers=p,v}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(vr),$n=function(){function i(t,n,o,u){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=i.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),u==null&&(u=t.getHeight()/2|0);var f=n/2|0;if(this.leftInit=o-f,this.rightInit=o+f,this.upInit=u-f,this.downInit=u+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new et}return i.prototype.detect=function(){for(var t=this.leftInit,n=this.rightInit,o=this.upInit,u=this.downInit,f=!1,p=!0,v=!1,_=!1,A=!1,I=!1,b=!1,O=this.width,D=this.height;p;){p=!1;for(var V=!0;(V||!_)&&n<O;)V=this.containsBlackPoint(o,u,n,!1),V?(n++,p=!0,_=!0):_||n++;if(n>=O){f=!0;break}for(var j=!0;(j||!A)&&u<D;)j=this.containsBlackPoint(t,n,u,!0),j?(u++,p=!0,A=!0):A||u++;if(u>=D){f=!0;break}for(var nt=!0;(nt||!I)&&t>=0;)nt=this.containsBlackPoint(o,u,t,!1),nt?(t--,p=!0,I=!0):I||t--;if(t<0){f=!0;break}for(var Z=!0;(Z||!b)&&o>=0;)Z=this.containsBlackPoint(t,n,o,!0),Z?(o--,p=!0,b=!0):b||o--;if(o<0){f=!0;break}p&&(v=!0)}if(!f&&v){for(var J=n-t,ht=null,gt=1;ht===null&&gt<J;gt++)ht=this.getBlackPointOnSegment(t,u-gt,t+gt,u);if(ht==null)throw new et;for(var St=null,gt=1;St===null&&gt<J;gt++)St=this.getBlackPointOnSegment(t,o+gt,t+gt,o);if(St==null)throw new et;for(var Rt=null,gt=1;Rt===null&&gt<J;gt++)Rt=this.getBlackPointOnSegment(n,o+gt,n-gt,o);if(Rt==null)throw new et;for(var Ot=null,gt=1;Ot===null&&gt<J;gt++)Ot=this.getBlackPointOnSegment(n,u-gt,n-gt,u);if(Ot==null)throw new et;return this.centerEdges(Ot,ht,Rt,St)}else throw new et},i.prototype.getBlackPointOnSegment=function(t,n,o,u){for(var f=he.round(he.distance(t,n,o,u)),p=(o-t)/f,v=(u-n)/f,_=this.image,A=0;A<f;A++){var I=he.round(t+A*p),b=he.round(n+A*v);if(_.get(I,b))return new Vt(I,b)}return null},i.prototype.centerEdges=function(t,n,o,u){var f=t.getX(),p=t.getY(),v=n.getX(),_=n.getY(),A=o.getX(),I=o.getY(),b=u.getX(),O=u.getY(),D=i.CORR;return f<this.width/2?[new Vt(b-D,O+D),new Vt(v+D,_+D),new Vt(A-D,I-D),new Vt(f+D,p-D)]:[new Vt(b+D,O+D),new Vt(v+D,_-D),new Vt(A-D,I+D),new Vt(f-D,p-D)]},i.prototype.containsBlackPoint=function(t,n,o,u){var f=this.image;if(u){for(var p=t;p<=n;p++)if(f.get(p,o))return!0}else for(var v=t;v<=n;v++)if(f.get(o,v))return!0;return!1},i.INIT_SIZE=10,i.CORR=1,i}(),gi=function(){function i(){}return i.checkAndNudgePoints=function(t,n){for(var o=t.getWidth(),u=t.getHeight(),f=!0,p=0;p<n.length&&f;p+=2){var v=Math.floor(n[p]),_=Math.floor(n[p+1]);if(v<-1||v>o||_<-1||_>u)throw new et;f=!1,v===-1?(n[p]=0,f=!0):v===o&&(n[p]=o-1,f=!0),_===-1?(n[p+1]=0,f=!0):_===u&&(n[p+1]=u-1,f=!0)}f=!0;for(var p=n.length-2;p>=0&&f;p-=2){var v=Math.floor(n[p]),_=Math.floor(n[p+1]);if(v<-1||v>o||_<-1||_>u)throw new et;f=!1,v===-1?(n[p]=0,f=!0):v===o&&(n[p]=o-1,f=!0),_===-1?(n[p+1]=0,f=!0):_===u&&(n[p+1]=u-1,f=!0)}},i}(),Aa=function(){function i(t,n,o,u,f,p,v,_,A){this.a11=t,this.a21=n,this.a31=o,this.a12=u,this.a22=f,this.a32=p,this.a13=v,this.a23=_,this.a33=A}return i.quadrilateralToQuadrilateral=function(t,n,o,u,f,p,v,_,A,I,b,O,D,V,j,nt){var Z=i.quadrilateralToSquare(t,n,o,u,f,p,v,_),J=i.squareToQuadrilateral(A,I,b,O,D,V,j,nt);return J.times(Z)},i.prototype.transformPoints=function(t){for(var n=t.length,o=this.a11,u=this.a12,f=this.a13,p=this.a21,v=this.a22,_=this.a23,A=this.a31,I=this.a32,b=this.a33,O=0;O<n;O+=2){var D=t[O],V=t[O+1],j=f*D+_*V+b;t[O]=(o*D+p*V+A)/j,t[O+1]=(u*D+v*V+I)/j}},i.prototype.transformPointsWithValues=function(t,n){for(var o=this.a11,u=this.a12,f=this.a13,p=this.a21,v=this.a22,_=this.a23,A=this.a31,I=this.a32,b=this.a33,O=t.length,D=0;D<O;D++){var V=t[D],j=n[D],nt=f*V+_*j+b;t[D]=(o*V+p*j+A)/nt,n[D]=(u*V+v*j+I)/nt}},i.squareToQuadrilateral=function(t,n,o,u,f,p,v,_){var A=t-o+f-v,I=n-u+p-_;if(A===0&&I===0)return new i(o-t,f-o,t,u-n,p-u,n,0,0,1);var b=o-f,O=v-f,D=u-p,V=_-p,j=b*V-O*D,nt=(A*V-O*I)/j,Z=(b*I-A*D)/j;return new i(o-t+nt*o,v-t+Z*v,t,u-n+nt*u,_-n+Z*_,n,nt,Z,1)},i.quadrilateralToSquare=function(t,n,o,u,f,p,v,_){return i.squareToQuadrilateral(t,n,o,u,f,p,v,_).buildAdjoint()},i.prototype.buildAdjoint=function(){return new i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},i.prototype.times=function(t){return new i(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},i}(),hs=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gi=function(i){hs(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.sampleGrid=function(n,o,u,f,p,v,_,A,I,b,O,D,V,j,nt,Z,J,ht,gt){var St=Aa.quadrilateralToQuadrilateral(f,p,v,_,A,I,b,O,D,V,j,nt,Z,J,ht,gt);return this.sampleGridWithTransform(n,o,u,St)},t.prototype.sampleGridWithTransform=function(n,o,u,f){if(o<=0||u<=0)throw new et;for(var p=new Nt(o,u),v=new Float32Array(2*o),_=0;_<u;_++){for(var A=v.length,I=_+.5,b=0;b<A;b+=2)v[b]=b/2+.5,v[b+1]=I;f.transformPoints(v),gi.checkAndNudgePoints(n,v);try{for(var b=0;b<A;b+=2)n.get(Math.floor(v[b]),Math.floor(v[b+1]))&&p.set(b/2,_)}catch{throw new et}}return p},t}(gi),ji=function(){function i(){}return i.setGridSampler=function(t){i.gridSampler=t},i.getInstance=function(){return i.gridSampler},i.gridSampler=new Gi,i}(),ye=function(){function i(t,n){this.x=t,this.y=n}return i.prototype.toResultPoint=function(){return new Vt(this.getX(),this.getY())},i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i}(),uu=function(){function i(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return i.prototype.detect=function(){return this.detectMirror(!1)},i.prototype.detectMirror=function(t){var n=this.getMatrixCenter(),o=this.getBullsEyeCorners(n);if(t){var u=o[0];o[0]=o[2],o[2]=u}this.extractParameters(o);var f=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),p=this.getMatrixCornerPoints(o);return new Or(f,p,this.compact,this.nbDataBlocks,this.nbLayers)},i.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new et;var n=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(o,n);for(var u=0,f=0;f<4;f++){var p=o[(this.shift+f)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&992)+(p>>1&31))}var v=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)},i.prototype.getRotation=function(t,n){var o=0;t.forEach(function(f,p,v){var _=(f>>n-2<<1)+(f&1);o=(o<<3)+_}),o=((o&1)<<11)+(o>>1);for(var u=0;u<4;u++)if(G.bitCount(o^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new et},i.prototype.getCorrectedParameterData=function(t,n){var o,u;n?(o=7,u=2):(o=10,u=4);for(var f=o-u,p=new Int32Array(o),v=o-1;v>=0;--v)p[v]=t&15,t>>=4;try{var _=new Hi(_n.AZTEC_PARAM);_.decode(p,f)}catch{throw new et}for(var A=0,v=0;v<u;v++)A=(A<<4)+p[v];return A},i.prototype.getBullsEyeCorners=function(t){var n=t,o=t,u=t,f=t,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var v=this.getFirstDifferent(n,p,1,-1),_=this.getFirstDifferent(o,p,1,1),A=this.getFirstDifferent(u,p,-1,1),I=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){var b=this.distancePoint(I,v)*this.nbCenterLayers/(this.distancePoint(f,n)*(this.nbCenterLayers+2));if(b<.75||b>1.25||!this.isWhiteOrBlackRectangle(v,_,A,I))break}n=v,o=_,u=A,f=I,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new et;this.compact=this.nbCenterLayers===5;var O=new Vt(n.getX()+.5,n.getY()-.5),D=new Vt(o.getX()+.5,o.getY()+.5),V=new Vt(u.getX()-.5,u.getY()+.5),j=new Vt(f.getX()-.5,f.getY()-.5);return this.expandSquare([O,D,V,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},i.prototype.getMatrixCenter=function(){var t,n,o,u;try{var f=new $n(this.image).detect();t=f[0],n=f[1],o=f[2],u=f[3]}catch{var p=this.image.getWidth()/2,v=this.image.getHeight()/2;t=this.getFirstDifferent(new ye(p+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ye(p+7,v+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new ye(p-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new ye(p-7,v-7),!1,-1,-1).toResultPoint()}var _=he.round((t.getX()+u.getX()+n.getX()+o.getX())/4),A=he.round((t.getY()+u.getY()+n.getY()+o.getY())/4);try{var f=new $n(this.image,15,_,A).detect();t=f[0],n=f[1],o=f[2],u=f[3]}catch{t=this.getFirstDifferent(new ye(_+7,A-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ye(_+7,A+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new ye(_-7,A+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new ye(_-7,A-7),!1,-1,-1).toResultPoint()}return _=he.round((t.getX()+u.getX()+n.getX()+o.getX())/4),A=he.round((t.getY()+u.getY()+n.getY()+o.getY())/4),new ye(_,A)},i.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},i.prototype.sampleGrid=function(t,n,o,u,f){var p=ji.getInstance(),v=this.getDimension(),_=v/2-this.nbCenterLayers,A=v/2+this.nbCenterLayers;return p.sampleGrid(t,v,v,_,_,A,_,A,A,_,A,n.getX(),n.getY(),o.getX(),o.getY(),u.getX(),u.getY(),f.getX(),f.getY())},i.prototype.sampleLine=function(t,n,o){for(var u=0,f=this.distanceResultPoint(t,n),p=f/o,v=t.getX(),_=t.getY(),A=p*(n.getX()-t.getX())/f,I=p*(n.getY()-t.getY())/f,b=0;b<o;b++)this.image.get(he.round(v+b*A),he.round(_+b*I))&&(u|=1<<o-b-1);return u},i.prototype.isWhiteOrBlackRectangle=function(t,n,o,u){var f=3;t=new ye(t.getX()-f,t.getY()+f),n=new ye(n.getX()-f,n.getY()-f),o=new ye(o.getX()+f,o.getY()-f),u=new ye(u.getX()+f,u.getY()+f);var p=this.getColor(u,t);if(p===0)return!1;var v=this.getColor(t,n);return v!==p||(v=this.getColor(n,o),v!==p)?!1:(v=this.getColor(o,u),v===p)},i.prototype.getColor=function(t,n){for(var o=this.distancePoint(t,n),u=(n.getX()-t.getX())/o,f=(n.getY()-t.getY())/o,p=0,v=t.getX(),_=t.getY(),A=this.image.get(t.getX(),t.getY()),I=Math.ceil(o),b=0;b<I;b++)v+=u,_+=f,this.image.get(he.round(v),he.round(_))!==A&&p++;var O=p/o;return O>.1&&O<.9?0:O<=.1===A?1:-1},i.prototype.getFirstDifferent=function(t,n,o,u){for(var f=t.getX()+o,p=t.getY()+u;this.isValid(f,p)&&this.image.get(f,p)===n;)f+=o,p+=u;for(f-=o,p-=u;this.isValid(f,p)&&this.image.get(f,p)===n;)f+=o;for(f-=o;this.isValid(f,p)&&this.image.get(f,p)===n;)p+=u;return p-=u,new ye(f,p)},i.prototype.expandSquare=function(t,n,o){var u=o/(2*n),f=t[0].getX()-t[2].getX(),p=t[0].getY()-t[2].getY(),v=(t[0].getX()+t[2].getX())/2,_=(t[0].getY()+t[2].getY())/2,A=new Vt(v+u*f,_+u*p),I=new Vt(v-u*f,_-u*p);f=t[1].getX()-t[3].getX(),p=t[1].getY()-t[3].getY(),v=(t[1].getX()+t[3].getX())/2,_=(t[1].getY()+t[3].getY())/2;var b=new Vt(v+u*f,_+u*p),O=new Vt(v-u*f,_-u*p),D=[A,b,I,O];return D},i.prototype.isValid=function(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()},i.prototype.isValidPoint=function(t){var n=he.round(t.getX()),o=he.round(t.getY());return this.isValid(n,o)},i.prototype.distancePoint=function(t,n){return he.distance(t.getX(),t.getY(),n.getX(),n.getY())},i.prototype.distanceResultPoint=function(t,n){return he.distance(t.getX(),t.getY(),n.getX(),n.getY())},i.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15},i}(),Dr=function(){function i(){}return i.prototype.decode=function(t,n){n===void 0&&(n=null);var o=null,u=new uu(t.getBlackMatrix()),f=null,p=null;try{var v=u.detectMirror(!1);f=v.getPoints(),this.reportFoundResultPoints(n,f),p=new Nn().decode(v)}catch(b){o=b}if(p==null)try{var v=u.detectMirror(!0);f=v.getPoints(),this.reportFoundResultPoints(n,f),p=new Nn().decode(v)}catch(b){throw o??b}var _=new hn(p.getText(),p.getRawBytes(),p.getNumBits(),f,qt.AZTEC,it.currentTimeMillis()),A=p.getByteSegments();A!=null&&_.putMetadata($e.BYTE_SEGMENTS,A);var I=p.getECLevel();return I!=null&&_.putMetadata($e.ERROR_CORRECTION_LEVEL,I),_},i.prototype.reportFoundResultPoints=function(t,n){if(t!=null){var o=t.get(Q.NEED_RESULT_POINT_CALLBACK);o!=null&&n.forEach(function(u,f,p){o.foundPossibleResultPoint(u)})}},i.prototype.reset=function(){},i}(),qi=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){qi(t,i);function t(n){return n===void 0&&(n=500),i.call(this,new Dr,n)||this}return t})(Rr);var rn=function(){function i(){}return i.prototype.decode=function(t,n){try{return this.doDecode(t,n)}catch{var o=n&&n.get(Q.TRY_HARDER)===!0;if(o&&t.isRotateSupported()){var u=t.rotateCounterClockwise(),f=this.doDecode(u,n),p=f.getResultMetadata(),v=270;p!==null&&p.get($e.ORIENTATION)===!0&&(v=v+p.get($e.ORIENTATION)%360),f.putMetadata($e.ORIENTATION,v);var _=f.getResultPoints();if(_!==null)for(var A=u.getHeight(),I=0;I<_.length;I++)_[I]=new Vt(A-_[I].getY()-1,_[I].getX());return f}else throw new et}},i.prototype.reset=function(){},i.prototype.doDecode=function(t,n){var o=t.getWidth(),u=t.getHeight(),f=new z(o),p=n&&n.get(Q.TRY_HARDER)===!0,v=Math.max(1,u>>(p?8:5)),_;p?_=u:_=15;for(var A=Math.trunc(u/2),I=0;I<_;I++){var b=Math.trunc((I+1)/2),O=(I&1)===0,D=A+v*(O?b:-b);if(D<0||D>=u)break;try{f=t.getBlackRow(D,f)}catch{continue}for(var V=function(J){if(J===1&&(f.reverse(),n&&n.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){var ht=new Map;n.forEach(function(Rt,Ot){return ht.set(Ot,Rt)}),ht.delete(Q.NEED_RESULT_POINT_CALLBACK),n=ht}try{var gt=j.decodeRow(D,f,n);if(J===1){gt.putMetadata($e.ORIENTATION,180);var St=gt.getResultPoints();St!==null&&(St[0]=new Vt(o-St[0].getX()-1,St[0].getY()),St[1]=new Vt(o-St[1].getX()-1,St[1].getY()))}return{value:gt}}catch{}},j=this,nt=0;nt<2;nt++){var Z=V(nt);if(typeof Z=="object")return Z.value}}throw new et},i.recordPattern=function(t,n,o){for(var u=o.length,f=0;f<u;f++)o[f]=0;var p=t.getSize();if(n>=p)throw new et;for(var v=!t.get(n),_=0,A=n;A<p;){if(t.get(A)!==v)o[_]++;else{if(++_===u)break;o[_]=1,v=!v}A++}if(!(_===u||_===u-1&&A===p))throw new et},i.recordPatternInReverse=function(t,n,o){for(var u=o.length,f=t.get(n);n>0&&u>=0;)t.get(--n)!==f&&(u--,f=!f);if(u>=0)throw new et;i.recordPattern(t,n+1,o)},i.patternMatchVariance=function(t,n,o){for(var u=t.length,f=0,p=0,v=0;v<u;v++)f+=t[v],p+=n[v];if(f<p)return Number.POSITIVE_INFINITY;var _=f/p;o*=_;for(var A=0,I=0;I<u;I++){var b=t[I],O=n[I]*_,D=b>O?b-O:O-b;if(D>o)return Number.POSITIVE_INFINITY;A+=D}return A/f},i}(),lu=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),vi=function(i){lu(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.findStartPattern=function(n){for(var o=n.getSize(),u=n.getNextSet(0),f=0,p=Int32Array.from([0,0,0,0,0,0]),v=u,_=!1,A=6,I=u;I<o;I++)if(n.get(I)!==_)p[f]++;else{if(f===A-1){for(var b=t.MAX_AVG_VARIANCE,O=-1,D=t.CODE_START_A;D<=t.CODE_START_C;D++){var V=rn.patternMatchVariance(p,t.CODE_PATTERNS[D],t.MAX_INDIVIDUAL_VARIANCE);V<b&&(b=V,O=D)}if(O>=0&&n.isRange(Math.max(0,v-(I-v)/2),v,!1))return Int32Array.from([v,I,O]);v+=p[0]+p[1],p=p.slice(2,p.length-1),p[f-1]=0,p[f]=0,f--}else f++;p[f]=1,_=!_}throw new et},t.decodeCode=function(n,o,u){rn.recordPattern(n,u,o);for(var f=t.MAX_AVG_VARIANCE,p=-1,v=0;v<t.CODE_PATTERNS.length;v++){var _=t.CODE_PATTERNS[v],A=this.patternMatchVariance(o,_,t.MAX_INDIVIDUAL_VARIANCE);A<f&&(f=A,p=v)}if(p>=0)return p;throw new et},t.prototype.decodeRow=function(n,o,u){var f=u&&u.get(Q.ASSUME_GS1)===!0,p=t.findStartPattern(o),v=p[2],_=0,A=new Uint8Array(20);A[_++]=v;var I;switch(v){case t.CODE_START_A:I=t.CODE_CODE_A;break;case t.CODE_START_B:I=t.CODE_CODE_B;break;case t.CODE_START_C:I=t.CODE_CODE_C;break;default:throw new F}for(var b=!1,O=!1,D="",V=p[0],j=p[1],nt=Int32Array.from([0,0,0,0,0,0]),Z=0,J=0,ht=v,gt=0,St=!0,Rt=!1,Ot=!1;!b;){var Ht=O;switch(O=!1,Z=J,J=t.decodeCode(o,nt,j),A[_++]=J,J!==t.CODE_STOP&&(St=!0),J!==t.CODE_STOP&&(gt++,ht+=gt*J),V=j,j+=nt.reduce(function(Io,Us){return Io+Us},0),J){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new F}switch(I){case t.CODE_CODE_A:if(J<64)Ot===Rt?D+=String.fromCharCode(32+J):D+=String.fromCharCode(32+J+128),Ot=!1;else if(J<96)Ot===Rt?D+=String.fromCharCode(J-64):D+=String.fromCharCode(J+64),Ot=!1;else switch(J!==t.CODE_STOP&&(St=!1),J){case t.CODE_FNC_1:f&&(D.length===0?D+="]C1":D+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!Rt&&Ot?(Rt=!0,Ot=!1):Rt&&Ot?(Rt=!1,Ot=!1):Ot=!0;break;case t.CODE_SHIFT:O=!0,I=t.CODE_CODE_B;break;case t.CODE_CODE_B:I=t.CODE_CODE_B;break;case t.CODE_CODE_C:I=t.CODE_CODE_C;break;case t.CODE_STOP:b=!0;break}break;case t.CODE_CODE_B:if(J<96)Ot===Rt?D+=String.fromCharCode(32+J):D+=String.fromCharCode(32+J+128),Ot=!1;else switch(J!==t.CODE_STOP&&(St=!1),J){case t.CODE_FNC_1:f&&(D.length===0?D+="]C1":D+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!Rt&&Ot?(Rt=!0,Ot=!1):Rt&&Ot?(Rt=!1,Ot=!1):Ot=!0;break;case t.CODE_SHIFT:O=!0,I=t.CODE_CODE_A;break;case t.CODE_CODE_A:I=t.CODE_CODE_A;break;case t.CODE_CODE_C:I=t.CODE_CODE_C;break;case t.CODE_STOP:b=!0;break}break;case t.CODE_CODE_C:if(J<100)J<10&&(D+="0"),D+=J;else switch(J!==t.CODE_STOP&&(St=!1),J){case t.CODE_FNC_1:f&&(D.length===0?D+="]C1":D+="");break;case t.CODE_CODE_A:I=t.CODE_CODE_A;break;case t.CODE_CODE_B:I=t.CODE_CODE_B;break;case t.CODE_STOP:b=!0;break}break}Ht&&(I=I===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var de=j-V;if(j=o.getNextUnset(j),!o.isRange(j,Math.min(o.getSize(),j+(j-V)/2),!1))throw new et;if(ht-=gt*Z,ht%103!==Z)throw new at;var Lt=D.length;if(Lt===0)throw new et;Lt>0&&St&&(I===t.CODE_CODE_C?D=D.substring(0,Lt-2):D=D.substring(0,Lt-1));for(var ue=(p[1]+p[0])/2,pe=V+de/2,Le=A.length,jn=new Uint8Array(Le),si=0;si<Le;si++)jn[si]=A[si];var Fr=[new Vt(ue,n),new Vt(pe,n)];return new hn(D,jn,0,Fr,qt.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(rn),Wr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),an=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},on=function(i){Wr(t,i);function t(n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var u=i.call(this)||this;return u.usingCheckDigit=n,u.extendedMode=o,u.decodeRowResult="",u.counters=new Int32Array(9),u}return t.prototype.decodeRow=function(n,o,u){var f,p,v,_,A=this.counters;A.fill(0),this.decodeRowResult="";var I=t.findAsteriskPattern(o,A),b=o.getNextSet(I[1]),O=o.getSize(),D,V;do{t.recordPattern(o,b,A);var j=t.toNarrowWidePattern(A);if(j<0)throw new et;D=t.patternToChar(j),this.decodeRowResult+=D,V=b;try{for(var nt=(f=void 0,an(A)),Z=nt.next();!Z.done;Z=nt.next()){var J=Z.value;b+=J}}catch(Le){f={error:Le}}finally{try{Z&&!Z.done&&(p=nt.return)&&p.call(nt)}finally{if(f)throw f.error}}b=o.getNextSet(b)}while(D!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var ht=0;try{for(var gt=an(A),St=gt.next();!St.done;St=gt.next()){var J=St.value;ht+=J}}catch(Le){v={error:Le}}finally{try{St&&!St.done&&(_=gt.return)&&_.call(gt)}finally{if(v)throw v.error}}var Rt=b-V-ht;if(b!==O&&Rt*2<ht)throw new et;if(this.usingCheckDigit){for(var Ot=this.decodeRowResult.length-1,Ht=0,de=0;de<Ot;de++)Ht+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(de));if(this.decodeRowResult.charAt(Ot)!==t.ALPHABET_STRING.charAt(Ht%43))throw new at;this.decodeRowResult=this.decodeRowResult.substring(0,Ot)}if(this.decodeRowResult.length===0)throw new et;var Lt;this.extendedMode?Lt=t.decodeExtended(this.decodeRowResult):Lt=this.decodeRowResult;var ue=(I[1]+I[0])/2,pe=V+ht/2;return new hn(Lt,null,0,[new Vt(ue,n),new Vt(pe,n)],qt.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(n,o){for(var u=n.getSize(),f=n.getNextSet(0),p=0,v=f,_=!1,A=o.length,I=f;I<u;I++)if(n.get(I)!==_)o[p]++;else{if(p===A-1){if(this.toNarrowWidePattern(o)===t.ASTERISK_ENCODING&&n.isRange(Math.max(0,v-Math.floor((I-v)/2)),v,!1))return[v,I];v+=o[0]+o[1],o.copyWithin(0,2,2+p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,_=!_}throw new et},t.toNarrowWidePattern=function(n){var o,u,f=n.length,p=0,v;do{var _=2147483647;try{for(var A=(o=void 0,an(n)),I=A.next();!I.done;I=A.next()){var b=I.value;b<_&&b>p&&(_=b)}}catch(j){o={error:j}}finally{try{I&&!I.done&&(u=A.return)&&u.call(A)}finally{if(o)throw o.error}}p=_,v=0;for(var O=0,D=0,V=0;V<f;V++){var b=n[V];b>p&&(D|=1<<f-1-V,v++,O+=b)}if(v===3){for(var V=0;V<f&&v>0;V++){var b=n[V];if(b>p&&(v--,b*2>=O))return-1}return D}}while(v>3);return-1},t.patternToChar=function(n){for(var o=0;o<t.CHARACTER_ENCODINGS.length;o++)if(t.CHARACTER_ENCODINGS[o]===n)return t.ALPHABET_STRING.charAt(o);if(n===t.ASTERISK_ENCODING)return"*";throw new et},t.decodeExtended=function(n){for(var o=n.length,u="",f=0;f<o;f++){var p=n.charAt(f);if(p==="+"||p==="$"||p==="%"||p==="/"){var v=n.charAt(f+1),_="\0";switch(p){case"+":if(v>="A"&&v<="Z")_=String.fromCharCode(v.charCodeAt(0)+32);else throw new F;break;case"$":if(v>="A"&&v<="Z")_=String.fromCharCode(v.charCodeAt(0)-64);else throw new F;break;case"%":if(v>="A"&&v<="E")_=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")_=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")_=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")_=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")_="\0";else if(v==="V")_="@";else if(v==="W")_="`";else if(v==="X"||v==="Y"||v==="Z")_="";else throw new F;break;case"/":if(v>="A"&&v<="O")_=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")_=":";else throw new F;break}u+=_,f++}else u+=p}return u},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(rn),mi=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),wa=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ta=function(i){mi(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return t.prototype.decodeRow=function(n,o,u){var f,p,v=this.decodeStart(o),_=this.decodeEnd(o),A=new mt;t.decodeMiddle(o,v[1],_[0],A);var I=A.toString(),b=null;u!=null&&(b=u.get(Q.ALLOWED_LENGTHS)),b==null&&(b=t.DEFAULT_ALLOWED_LENGTHS);var O=I.length,D=!1,V=0;try{for(var j=wa(b),nt=j.next();!nt.done;nt=j.next()){var Z=nt.value;if(O===Z){D=!0;break}Z>V&&(V=Z)}}catch(gt){f={error:gt}}finally{try{nt&&!nt.done&&(p=j.return)&&p.call(j)}finally{if(f)throw f.error}}if(!D&&O>V&&(D=!0),!D)throw new F;var J=[new Vt(v[1],n),new Vt(_[0],n)],ht=new hn(I,null,0,J,qt.ITF,new Date().getTime());return ht},t.decodeMiddle=function(n,o,u,f){var p=new Int32Array(10),v=new Int32Array(5),_=new Int32Array(5);for(p.fill(0),v.fill(0),_.fill(0);o<u;){rn.recordPattern(n,o,p);for(var A=0;A<5;A++){var I=2*A;v[A]=p[I],_[A]=p[I+1]}var b=t.decodeDigit(v);f.append(b.toString()),b=this.decodeDigit(_),f.append(b.toString()),p.forEach(function(O){o+=O})}},t.prototype.decodeStart=function(n){var o=t.skipWhiteSpace(n),u=t.findGuardPattern(n,o,t.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(n,u[0]),u},t.prototype.validateQuietZone=function(n,o){var u=this.narrowLineWidth*10;u=u<o?u:o;for(var f=o-1;u>0&&f>=0&&!n.get(f);f--)u--;if(u!==0)throw new et},t.skipWhiteSpace=function(n){var o=n.getSize(),u=n.getNextSet(0);if(u===o)throw new et;return u},t.prototype.decodeEnd=function(n){n.reverse();try{var o=t.skipWhiteSpace(n),u=void 0;try{u=t.findGuardPattern(n,o,t.END_PATTERN_REVERSED[0])}catch(p){p instanceof et&&(u=t.findGuardPattern(n,o,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,u[0]);var f=u[0];return u[0]=n.getSize()-u[1],u[1]=n.getSize()-f,u}finally{n.reverse()}},t.findGuardPattern=function(n,o,u){var f=u.length,p=new Int32Array(f),v=n.getSize(),_=!1,A=0,I=o;p.fill(0);for(var b=o;b<v;b++)if(n.get(b)!==_)p[A]++;else{if(A===f-1){if(rn.patternMatchVariance(p,u,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[I,b];I+=p[0]+p[1],it.arraycopy(p,2,p,0,A-1),p[A-1]=0,p[A]=0,A--}else A++;p[A]=1,_=!_}throw new et},t.decodeDigit=function(n){for(var o=t.MAX_AVG_VARIANCE,u=-1,f=t.PATTERNS.length,p=0;p<f;p++){var v=t.PATTERNS[p],_=rn.patternMatchVariance(n,v,t.MAX_INDIVIDUAL_VARIANCE);_<o?(o=_,u=p):_===o&&(u=-1)}if(u>=0)return u%10;throw new et},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(rn),Qr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),$r=function(i){Qr(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return t.findStartGuardPattern=function(n){for(var o=!1,u,f=0,p=Int32Array.from([0,0,0]);!o;){p=Int32Array.from([0,0,0]),u=t.findGuardPattern(n,f,!1,this.START_END_PATTERN,p);var v=u[0];f=u[1];var _=v-(f-v);_>=0&&(o=n.isRange(_,v,!1))}return u},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var o=n.length;if(o===0)return!1;var u=parseInt(n.charAt(o-1),10);return t.getStandardUPCEANChecksum(n.substring(0,o-1))===u},t.getStandardUPCEANChecksum=function(n){for(var o=n.length,u=0,f=o-1;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;u+=p}u*=3;for(var f=o-2;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;u+=p}return(1e3-u)%10},t.decodeEnd=function(n,o){return t.findGuardPattern(n,o,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(n,o,u,f){return this.findGuardPattern(n,o,u,f,new Int32Array(f.length))},t.findGuardPattern=function(n,o,u,f,p){var v=n.getSize();o=u?n.getNextUnset(o):n.getNextSet(o);for(var _=0,A=o,I=f.length,b=u,O=o;O<v;O++)if(n.get(O)!==b)p[_]++;else{if(_===I-1){if(rn.patternMatchVariance(p,f,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([A,O]);A+=p[0]+p[1];for(var D=p.slice(2,p.length-1),V=0;V<_-1;V++)p[V]=D[V];p[_-1]=0,p[_]=0,_--}else _++;p[_]=1,b=!b}throw new et},t.decodeDigit=function(n,o,u,f){this.recordPattern(n,u,o);for(var p=this.MAX_AVG_VARIANCE,v=-1,_=f.length,A=0;A<_;A++){var I=f[A],b=rn.patternMatchVariance(o,I,t.MAX_INDIVIDUAL_VARIANCE);b<p&&(p=b,v=A)}if(v>=0)return v;throw new et},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(rn),Xi=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sa=function(){function i(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(t,n,o){var u=this.decodeRowStringBuffer,f=this.decodeMiddle(n,o,u),p=u.toString(),v=i.parseExtensionString(p),_=[new Vt((o[0]+o[1])/2,t),new Vt(f,t)],A=new hn(p,null,0,_,qt.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&A.putAllMetadata(v),A},i.prototype.decodeMiddle=function(t,n,o){var u,f,p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var v=t.getSize(),_=n[1],A=0,I=0;I<5&&_<v;I++){var b=$r.decodeDigit(t,p,_,$r.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);try{for(var O=(u=void 0,Xi(p)),D=O.next();!D.done;D=O.next()){var V=D.value;_+=V}}catch(nt){u={error:nt}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}b>=10&&(A|=1<<4-I),I!==4&&(_=t.getNextSet(_),_=t.getNextUnset(_))}if(o.length!==5)throw new et;var j=this.determineCheckDigit(A);if(i.extensionChecksum(o.toString())!==j)throw new et;return _},i.extensionChecksum=function(t){for(var n=t.length,o=0,u=n-2;u>=0;u-=2)o+=t.charAt(u).charCodeAt(0)-48;o*=3;for(var u=n-1;u>=0;u-=2)o+=t.charAt(u).charCodeAt(0)-48;return o*=3,o%10},i.prototype.determineCheckDigit=function(t){for(var n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new et},i.parseExtensionString=function(t){if(t.length!==5)return null;var n=i.parseExtension5String(t);return n==null?null:new Map([[$e.SUGGESTED_PRICE,n]])},i.parseExtension5String=function(t){var n;switch(t.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var o=parseInt(t.substring(1)),u=(o/100).toString(),f=o%100,p=f<10?"0"+f:f.toString();return n+u+"."+p},i}(),Nr=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function i(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(t,n,o){var u=this.decodeRowStringBuffer,f=this.decodeMiddle(n,o,u),p=u.toString(),v=i.parseExtensionString(p),_=[new Vt((o[0]+o[1])/2,t),new Vt(f,t)],A=new hn(p,null,0,_,qt.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&A.putAllMetadata(v),A},i.prototype.decodeMiddle=function(t,n,o){var u,f,p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var v=t.getSize(),_=n[1],A=0,I=0;I<2&&_<v;I++){var b=$r.decodeDigit(t,p,_,$r.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);try{for(var O=(u=void 0,Nr(p)),D=O.next();!D.done;D=O.next()){var V=D.value;_+=V}}catch(j){u={error:j}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}b>=10&&(A|=1<<1-I),I!==1&&(_=t.getNextSet(_),_=t.getNextUnset(_))}if(o.length!==2)throw new et;if(parseInt(o.toString())%4!==A)throw new et;return _},i.parseExtensionString=function(t){return t.length!==2?null:new Map([[$e.ISSUE_NUMBER,parseInt(t)]])},i}(),Yi=function(){function i(){}return i.decodeRow=function(t,n,o){var u=$r.findGuardPattern(n,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var f=new Sa;return f.decodeRow(t,n,u)}catch{var p=new yi;return p.decodeRow(t,n,u)}},i.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),i}(),Ki=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe=function(i){Ki(t,i);function t(){var n=i.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(v){return Int32Array.from(v)});for(var o=10;o<20;o++){for(var u=t.L_PATTERNS[o-10],f=new Int32Array(u.length),p=0;p<u.length;p++)f[p]=u[u.length-p-1];t.L_AND_G_PATTERNS[o]=f}return n}return t.prototype.decodeRow=function(n,o,u){var f=t.findStartGuardPattern(o),p=u==null?null:u.get(Q.NEED_RESULT_POINT_CALLBACK);if(p!=null){var v=new Vt((f[0]+f[1])/2,n);p.foundPossibleResultPoint(v)}var _=this.decodeMiddle(o,f,this.decodeRowStringBuffer),A=_.rowOffset,I=_.resultString;if(p!=null){var b=new Vt(A,n);p.foundPossibleResultPoint(b)}var O=t.decodeEnd(o,A);if(p!=null){var D=new Vt((O[0]+O[1])/2,n);p.foundPossibleResultPoint(D)}var V=O[1],j=V+(V-O[0]);if(j>=o.getSize()||!o.isRange(V,j,!1))throw new et;var nt=I.toString();if(nt.length<8)throw new F;if(!t.checkChecksum(nt))throw new at;var Z=(f[1]+f[0])/2,J=(O[1]+O[0])/2,ht=this.getBarcodeFormat(),gt=[new Vt(Z,n),new Vt(J,n)],St=new hn(nt,null,0,gt,ht,new Date().getTime()),Rt=0;try{var Ot=Yi.decodeRow(n,o,O[1]);St.putMetadata($e.UPC_EAN_EXTENSION,Ot.getText()),St.putAllMetadata(Ot.getResultMetadata()),St.addResultPoints(Ot.getResultPoints()),Rt=Ot.getText().length}catch{}var Ht=u==null?null:u.get(Q.ALLOWED_EAN_EXTENSIONS);if(Ht!=null){var de=!1;for(var Lt in Ht)if(Rt.toString()===Lt){de=!0;break}if(!de)throw new et}return ht===qt.EAN_13||qt.UPC_A,St},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var o=n.length;if(o===0)return!1;var u=parseInt(n.charAt(o-1),10);return t.getStandardUPCEANChecksum(n.substring(0,o-1))===u},t.getStandardUPCEANChecksum=function(n){for(var o=n.length,u=0,f=o-1;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;u+=p}u*=3;for(var f=o-2;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;u+=p}return(1e3-u)%10},t.decodeEnd=function(n,o){return t.findGuardPattern(n,o,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}($r),ds=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ca=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fn=function(i){ds(t,i);function t(){var n=i.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,o,u){var f,p,v,_,A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;for(var I=n.getSize(),b=o[1],O=0,D=0;D<6&&b<I;D++){var V=oe.decodeDigit(n,A,b,oe.L_AND_G_PATTERNS);u+=String.fromCharCode(48+V%10);try{for(var j=(f=void 0,Ca(A)),nt=j.next();!nt.done;nt=j.next()){var Z=nt.value;b+=Z}}catch(St){f={error:St}}finally{try{nt&&!nt.done&&(p=j.return)&&p.call(j)}finally{if(f)throw f.error}}V>=10&&(O|=1<<5-D)}u=t.determineFirstDigit(u,O);var J=oe.findGuardPattern(n,b,!0,oe.MIDDLE_PATTERN,new Int32Array(oe.MIDDLE_PATTERN.length).fill(0));b=J[1];for(var D=0;D<6&&b<I;D++){var V=oe.decodeDigit(n,A,b,oe.L_PATTERNS);u+=String.fromCharCode(48+V);try{for(var ht=(v=void 0,Ca(A)),gt=ht.next();!gt.done;gt=ht.next()){var Z=gt.value;b+=Z}}catch(Ot){v={error:Ot}}finally{try{gt&&!gt.done&&(_=ht.return)&&_.call(ht)}finally{if(v)throw v.error}}}return{rowOffset:b,resultString:u}},t.prototype.getBarcodeFormat=function(){return qt.EAN_13},t.determineFirstDigit=function(n,o){for(var u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return n=String.fromCharCode(48+u)+n,n;throw new et},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(oe),Zn=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jn=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cu=function(i){Zn(t,i);function t(){var n=i.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,o,u){var f,p,v,_,A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;for(var I=n.getSize(),b=o[1],O=0;O<4&&b<I;O++){var D=oe.decodeDigit(n,A,b,oe.L_PATTERNS);u+=String.fromCharCode(48+D);try{for(var V=(f=void 0,Jn(A)),j=V.next();!j.done;j=V.next()){var nt=j.value;b+=nt}}catch(gt){f={error:gt}}finally{try{j&&!j.done&&(p=V.return)&&p.call(V)}finally{if(f)throw f.error}}}var Z=oe.findGuardPattern(n,b,!0,oe.MIDDLE_PATTERN,new Int32Array(oe.MIDDLE_PATTERN.length).fill(0));b=Z[1];for(var O=0;O<4&&b<I;O++){var D=oe.decodeDigit(n,A,b,oe.L_PATTERNS);u+=String.fromCharCode(48+D);try{for(var J=(v=void 0,Jn(A)),ht=J.next();!ht.done;ht=J.next()){var nt=ht.value;b+=nt}}catch(Rt){v={error:Rt}}finally{try{ht&&!ht.done&&(_=J.return)&&_.call(J)}finally{if(v)throw v.error}}}return{rowOffset:b,resultString:u}},t.prototype.getBarcodeFormat=function(){return qt.EAN_8},t}(oe),ps=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gs=function(i){ps(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.ean13Reader=new Fn,n}return t.prototype.getBarcodeFormat=function(){return qt.UPC_A},t.prototype.decode=function(n,o){return this.maybeReturnResult(this.ean13Reader.decode(n))},t.prototype.decodeRow=function(n,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,o,u))},t.prototype.decodeMiddle=function(n,o,u){return this.ean13Reader.decodeMiddle(n,o,u)},t.prototype.maybeReturnResult=function(n){var o=n.getText();if(o.charAt(0)==="0"){var u=new hn(o.substring(1),null,null,n.getResultPoints(),qt.UPC_A);return n.getResultMetadata()!=null&&u.putAllMetadata(n.getResultMetadata()),u}else throw new et},t.prototype.reset=function(){this.ean13Reader.reset()},t}(oe),fu=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wi=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_i=function(i){fu(t,i);function t(){var n=i.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return t.prototype.decodeMiddle=function(n,o,u){var f,p,v=this.decodeMiddleCounters.map(function(nt){return nt});v[0]=0,v[1]=0,v[2]=0,v[3]=0;for(var _=n.getSize(),A=o[1],I=0,b=0;b<6&&A<_;b++){var O=t.decodeDigit(n,v,A,t.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);try{for(var D=(f=void 0,Wi(v)),V=D.next();!V.done;V=D.next()){var j=V.value;A+=j}}catch(nt){f={error:nt}}finally{try{V&&!V.done&&(p=D.return)&&p.call(D)}finally{if(f)throw f.error}}O>=10&&(I|=1<<5-b)}return t.determineNumSysAndCheckDigit(new mt(u),I),A},t.prototype.decodeEnd=function(n,o){return t.findGuardPatternWithoutCounters(n,o,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(n){return oe.checkChecksum(t.convertUPCEtoUPCA(n))},t.determineNumSysAndCheckDigit=function(n,o){for(var u=0;u<=1;u++)for(var f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][f]){n.insert(0,"0"+u),n.append("0"+f);return}throw et.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return qt.UPC_E},t.convertUPCEtoUPCA=function(n){var o=n.slice(1,7).split("").map(function(p){return p.charCodeAt(0)}),u=new mt;u.append(n.charAt(0));var f=o[5];switch(f){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(f),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(f);break}return n.length>=8&&u.append(n.charAt(7)),u.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(oe),mr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mn=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ho=function(i){mr(t,i);function t(n){var o=i.call(this)||this,u=n==null?null:n.get(Q.POSSIBLE_FORMATS),f=[];return u!=null&&(u.indexOf(qt.EAN_13)>-1?f.push(new Fn):u.indexOf(qt.UPC_A)>-1&&f.push(new gs),u.indexOf(qt.EAN_8)>-1&&f.push(new cu),u.indexOf(qt.UPC_E)>-1&&f.push(new _i)),f.length===0&&(f.push(new Fn),f.push(new cu),f.push(new _i)),o.readers=f,o}return t.prototype.decodeRow=function(n,o,u){var f,p;try{for(var v=Mn(this.readers),_=v.next();!_.done;_=v.next()){var A=_.value;try{var I=A.decodeRow(n,o,u),b=I.getBarcodeFormat()===qt.EAN_13&&I.getText().charAt(0)==="0",O=u==null?null:u.get(Q.POSSIBLE_FORMATS),D=O==null||O.includes(qt.UPC_A);if(b&&D){var V=I.getRawBytes(),j=new hn(I.getText().substring(1),V,V.length,I.getResultPoints(),qt.UPC_A);return j.putAllMetadata(I.getResultMetadata()),j}return I}catch{}}}catch(nt){f={error:nt}}finally{try{_&&!_.done&&(p=v.return)&&p.call(v)}finally{if(f)throw f.error}}throw new et},t.prototype.reset=function(){var n,o;try{for(var u=Mn(this.readers),f=u.next();!f.done;f=u.next()){var p=f.value;p.reset()}}catch(v){n={error:v}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},t}(rn),pl=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ia=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mr=function(i){pl(t,i);function t(){var n=i.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(n,o){for(var u=0;u<o.length;u++)if(rn.patternMatchVariance(n,o[u],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return u;throw new et},t.count=function(n){return he.sum(new Int32Array(n))},t.increment=function(n,o){for(var u=0,f=o[0],p=1;p<n.length;p++)o[p]>f&&(f=o[p],u=p);n[u]++},t.decrement=function(n,o){for(var u=0,f=o[0],p=1;p<n.length;p++)o[p]<f&&(f=o[p],u=p);n[u]--},t.isFinderPattern=function(n){var o,u,f=n[0]+n[1],p=f+n[2]+n[3],v=f/p;if(v>=t.MIN_FINDER_PATTERN_RATIO&&v<=t.MAX_FINDER_PATTERN_RATIO){var _=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;try{for(var I=Ia(n),b=I.next();!b.done;b=I.next()){var O=b.value;O>A&&(A=O),O<_&&(_=O)}}catch(D){o={error:D}}finally{try{b&&!b.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}return A<10*_}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(rn),Ei=function(){function i(t,n){this.value=t,this.checksumPortion=n}return i.prototype.getValue=function(){return this.value},i.prototype.getChecksumPortion=function(){return this.checksumPortion},i.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},i.prototype.hashCode=function(){return this.value^this.checksumPortion},i}(),Zr=function(){function i(t,n,o,u,f){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Vt(o,f)),this.resultPoints.push(new Vt(u,f))}return i.prototype.getValue=function(){return this.value},i.prototype.getStartEnd=function(){return this.startEnd},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.value===n.value},i.prototype.hashCode=function(){return this.value},i}(),We=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sr=function(){function i(){}return i.getRSSvalue=function(t,n,o){var u,f,p=0;try{for(var v=We(t),_=v.next();!_.done;_=v.next()){var A=_.value;p+=A}}catch(J){u={error:J}}finally{try{_&&!_.done&&(f=v.return)&&f.call(v)}finally{if(u)throw u.error}}for(var I=0,b=0,O=t.length,D=0;D<O-1;D++){var V=void 0;for(V=1,b|=1<<D;V<t[D];V++,b&=~(1<<D)){var j=i.combins(p-V-1,O-D-2);if(o&&b===0&&p-V-(O-D-1)>=O-D-1&&(j-=i.combins(p-V-(O-D),O-D-2)),O-D-1>1){for(var nt=0,Z=p-V-(O-D-2);Z>n;Z--)nt+=i.combins(p-V-Z-1,O-D-3);j-=nt*(O-1-D)}else p-V>n&&j--;I+=j}p-=V}return I},i.combins=function(t,n){var o,u;t-n>n?(u=n,o=t-n):(u=t-n,o=n);for(var f=1,p=1,v=t;v>o;v--)f*=v,p<=u&&(f/=p,p++);for(;p<=u;)f/=p,p++;return f},i}(),ba=function(){function i(){}return i.buildBitArray=function(t){var n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);for(var o=12*n,u=new z(o),f=0,p=t[0],v=p.getRightChar().getValue(),_=11;_>=0;--_)(v&1<<_)!=0&&u.set(f),f++;for(var _=1;_<t.length;++_){for(var A=t[_],I=A.getLeftChar().getValue(),b=11;b>=0;--b)(I&1<<b)!=0&&u.set(f),f++;if(A.getRightChar()!=null)for(var O=A.getRightChar().getValue(),b=11;b>=0;--b)(O&1<<b)!=0&&u.set(f),f++}return u},i}(),yr=function(){function i(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}return i.prototype.getDecodedInformation=function(){return this.decodedInformation},i.prototype.isFinished=function(){return this.finished},i}(),_e=function(){function i(t){this.newPosition=t}return i.prototype.getNewPosition=function(){return this.newPosition},i}(),Ra=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),En=function(i){Ra(t,i);function t(n,o){var u=i.call(this,n)||this;return u.value=o,u}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(_e),_r=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xi=function(i){_r(t,i);function t(n,o,u){var f=i.call(this,n)||this;return u?(f.remaining=!0,f.remainingValue=f.remainingValue):(f.remaining=!1,f.remainingValue=0),f.newString=o,f}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(_e),vs=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ai=function(i){vs(t,i);function t(n,o,u){var f=i.call(this,n)||this;if(o<0||o>10||u<0||u>10)throw new F;return f.firstDigit=o,f.secondDigit=u,f}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(_e),Qi=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gl=function(){function i(){}return i.parseFieldsInGeneralPurpose=function(t){var n,o,u,f,p,v,_,A;if(!t)return null;if(t.length<2)throw new et;var I=t.substring(0,2);try{for(var b=Qi(i.TWO_DIGIT_DATA_LENGTH),O=b.next();!O.done;O=b.next()){var D=O.value;if(D[0]===I)return D[1]===i.VARIABLE_LENGTH?i.processVariableAI(2,D[2],t):i.processFixedAI(2,D[1],t)}}catch(Rt){n={error:Rt}}finally{try{O&&!O.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}if(t.length<3)throw new et;var V=t.substring(0,3);try{for(var j=Qi(i.THREE_DIGIT_DATA_LENGTH),nt=j.next();!nt.done;nt=j.next()){var D=nt.value;if(D[0]===V)return D[1]===i.VARIABLE_LENGTH?i.processVariableAI(3,D[2],t):i.processFixedAI(3,D[1],t)}}catch(Rt){u={error:Rt}}finally{try{nt&&!nt.done&&(f=j.return)&&f.call(j)}finally{if(u)throw u.error}}try{for(var Z=Qi(i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),J=Z.next();!J.done;J=Z.next()){var D=J.value;if(D[0]===V)return D[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,D[2],t):i.processFixedAI(4,D[1],t)}}catch(Rt){p={error:Rt}}finally{try{J&&!J.done&&(v=Z.return)&&v.call(Z)}finally{if(p)throw p.error}}if(t.length<4)throw new et;var ht=t.substring(0,4);try{for(var gt=Qi(i.FOUR_DIGIT_DATA_LENGTH),St=gt.next();!St.done;St=gt.next()){var D=St.value;if(D[0]===ht)return D[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,D[2],t):i.processFixedAI(4,D[1],t)}}catch(Rt){_={error:Rt}}finally{try{St&&!St.done&&(A=gt.return)&&A.call(gt)}finally{if(_)throw _.error}}throw new et},i.processFixedAI=function(t,n,o){if(o.length<t)throw new et;var u=o.substring(0,t);if(o.length<t+n)throw new et;var f=o.substring(t,t+n),p=o.substring(t+n),v="("+u+")"+f,_=i.parseFieldsInGeneralPurpose(p);return _==null?v:v+_},i.processVariableAI=function(t,n,o){var u=o.substring(0,t),f;o.length<t+n?f=o.length:f=t+n;var p=o.substring(t,f),v=o.substring(f),_="("+u+")"+p,A=i.parseFieldsInGeneralPurpose(v);return A==null?_:_+A},i.VARIABLE_LENGTH=[],i.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",i.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",i.VARIABLE_LENGTH,20],["22",i.VARIABLE_LENGTH,29],["30",i.VARIABLE_LENGTH,8],["37",i.VARIABLE_LENGTH,8],["90",i.VARIABLE_LENGTH,30],["91",i.VARIABLE_LENGTH,30],["92",i.VARIABLE_LENGTH,30],["93",i.VARIABLE_LENGTH,30],["94",i.VARIABLE_LENGTH,30],["95",i.VARIABLE_LENGTH,30],["96",i.VARIABLE_LENGTH,30],["97",i.VARIABLE_LENGTH,3],["98",i.VARIABLE_LENGTH,30],["99",i.VARIABLE_LENGTH,30]],i.THREE_DIGIT_DATA_LENGTH=[["240",i.VARIABLE_LENGTH,30],["241",i.VARIABLE_LENGTH,30],["242",i.VARIABLE_LENGTH,6],["250",i.VARIABLE_LENGTH,30],["251",i.VARIABLE_LENGTH,30],["253",i.VARIABLE_LENGTH,17],["254",i.VARIABLE_LENGTH,20],["400",i.VARIABLE_LENGTH,30],["401",i.VARIABLE_LENGTH,30],["402",17],["403",i.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",i.VARIABLE_LENGTH,20],["421",i.VARIABLE_LENGTH,15],["422",3],["423",i.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",i.VARIABLE_LENGTH,15],["391",i.VARIABLE_LENGTH,18],["392",i.VARIABLE_LENGTH,15],["393",i.VARIABLE_LENGTH,18],["703",i.VARIABLE_LENGTH,30]],i.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",i.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",i.VARIABLE_LENGTH,20],["8003",i.VARIABLE_LENGTH,30],["8004",i.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",i.VARIABLE_LENGTH,30],["8008",i.VARIABLE_LENGTH,12],["8018",18],["8020",i.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",i.VARIABLE_LENGTH,70],["8200",i.VARIABLE_LENGTH,70]],i}(),po=function(){function i(t){this.buffer=new mt,this.information=t}return i.prototype.decodeAllCodes=function(t,n){var o=n,u=null;do{var f=this.decodeGeneralPurposeField(o,u),p=gl.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&t.append(p),f.isRemaining()?u=""+f.getRemainingValue():u=null,o===f.getNewPosition())break;o=f.getNewPosition()}while(!0);return t.toString()},i.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)},i.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(t,4);return n===0?new Ai(this.information.getSize(),Ai.FNC1,Ai.FNC1):new Ai(this.information.getSize(),n-1,Ai.FNC1)}var o=this.extractNumericValueFromBitArray(t,7),u=(o-8)/11,f=(o-8)%11;return new Ai(t+7,u,f)},i.prototype.extractNumericValueFromBitArray=function(t,n){return i.extractNumericValueFromBitArray(this.information,t,n)},i.extractNumericValueFromBitArray=function(t,n,o){for(var u=0,f=0;f<o;++f)t.get(n+f)&&(u|=1<<o-f-1);return u},i.prototype.decodeGeneralPurposeField=function(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);var o=this.parseBlocks();return o!=null&&o.isRemaining()?new xi(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new xi(this.current.getPosition(),this.buffer.toString())},i.prototype.parseBlocks=function(){var t,n;do{var o=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished());var u=o!==this.current.getPosition();if(!u&&!t)break}while(!t);return n.getDecodedInformation()},i.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var n=void 0;return t.isSecondDigitFNC1()?n=new xi(this.current.getPosition(),this.buffer.toString()):n=new xi(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new yr(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var n=new xi(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yr(!1)},i.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new xi(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yr(!1)},i.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new xi(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yr(!1)},i.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;var u=this.extractNumericValueFromBitArray(t,8);return u>=232&&u<253},i.prototype.decodeIsoIec646=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new En(t+5,En.FNC1);if(n>=5&&n<15)return new En(t+5,"0"+(n-5));var o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new En(t+7,""+(o+1));if(o>=90&&o<116)return new En(t+7,""+(o+7));var u=this.extractNumericValueFromBitArray(t,8),f;switch(u){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new F}return new En(t+8,f)},i.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63},i.prototype.decodeAlphanumeric=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new En(t+5,En.FNC1);if(n>=5&&n<15)return new En(t+5,"0"+(n-5));var o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new En(t+6,""+(o+33));var u;switch(o){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Ke("Decoding invalid alphanumeric value: "+o)}return new En(t+6,u)},i.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0},i.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0},i.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0},i}(),Pr=function(){function i(t){this.information=t,this.generalDecoder=new po(t)}return i.prototype.getInformation=function(){return this.information},i.prototype.getGeneralDecoder=function(){return this.generalDecoder},i}(),Er=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pn=function(i){Er(t,i);function t(n){return i.call(this,n)||this}return t.prototype.encodeCompressedGtin=function(n,o){n.append("(01)");var u=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,o,u)},t.prototype.encodeCompressedGtinWithoutAI=function(n,o,u){for(var f=0;f<4;++f){var p=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);p/100===0&&n.append("0"),p/10===0&&n.append("0"),n.append(p)}t.appendCheckDigit(n,u)},t.appendCheckDigit=function(n,o){for(var u=0,f=0;f<13;f++){var p=n.charAt(f+o).charCodeAt(0)-48;u+=(f&1)===0?3*p:p}u=10-u%10,u===10&&(u=0),n.append(u)},t.GTIN_SIZE=40,t}(Pr),wi=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ti=function(i){wi(t,i);function t(n){return i.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new mt;n.append("(01)");var o=n.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return n.append(u),this.encodeCompressedGtinWithoutAI(n,t.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Pn),Si=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ms=function(i){Si(t,i);function t(n){return i.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new mt;return this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(Pr),hu=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jr=function(i){hu(t,i);function t(n){return i.call(this,n)||this}return t.prototype.encodeCompressedWeight=function(n,o,u){var f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(n,f);for(var p=this.checkWeight(f),v=1e5,_=0;_<5;++_)p/v===0&&n.append("0"),v/=10;n.append(p)},t}(Pn),xr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),$i=function(i){xr(t,i);function t(n){return i.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+Jr.GTIN_SIZE+t.WEIGHT_SIZE)throw new et;var n=new mt;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+Jr.GTIN_SIZE,t.WEIGHT_SIZE),n.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(Jr),ti=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zi=function(i){ti(t,i);function t(n){return i.call(this,n)||this}return t.prototype.addWeightCode=function(n,o){n.append("(3103)")},t.prototype.checkWeight=function(n){return n},t}($i),Ci=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ys=function(i){Ci(t,i);function t(n){return i.call(this,n)||this}return t.prototype.addWeightCode=function(n,o){o<1e4?n.append("(3202)"):n.append("(3203)")},t.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},t}($i),ei=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ni=function(i){ei(t,i);function t(n){return i.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Pn.GTIN_SIZE)throw new et;var n=new mt;this.encodeCompressedGtin(n,t.HEADER_SIZE);var o=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Pn.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(392"),n.append(o),n.append(")");var u=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Pn.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return n.append(u.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Pn),_s=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xn=function(i){_s(t,i);function t(n){return i.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Pn.GTIN_SIZE)throw new et;var n=new mt;this.encodeCompressedGtin(n,t.HEADER_SIZE);var o=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Pn.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(393"),n.append(o),n.append(")");var u=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Pn.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);u/100==0&&n.append("0"),u/10==0&&n.append("0"),n.append(u);var f=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Pn.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return n.append(f.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Pn),Oe=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ur=function(i){Oe(t,i);function t(n,o,u){var f=i.call(this,n)||this;return f.dateCode=u,f.firstAIdigits=o,f}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new et;var n=new mt;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(n,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),n.toString()},t.prototype.encodeCompressedDate=function(n,o){var u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,t.DATE_SIZE);if(u!=38400){n.append("("),n.append(this.dateCode),n.append(")");var f=u%32;u/=32;var p=u%12+1;u/=12;var v=u;v/10==0&&n.append("0"),n.append(v),p/10==0&&n.append("0"),n.append(p),f/10==0&&n.append("0"),n.append(f)}},t.prototype.addWeightCode=function(n,o){n.append("("),n.append(this.firstAIdigits),n.append(o/1e5),n.append(")")},t.prototype.checkWeight=function(n){return n%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(Jr);function Oa(i){try{if(i.get(1))return new Ti(i);if(!i.get(2))return new ms(i);var t=po.extractNumericValueFromBitArray(i,1,4);switch(t){case 4:return new Zi(i);case 5:return new ys(i)}var n=po.extractNumericValueFromBitArray(i,1,5);switch(n){case 12:return new ni(i);case 13:return new xn(i)}var o=po.extractNumericValueFromBitArray(i,1,7);switch(o){case 56:return new ur(i,"310","11");case 57:return new ur(i,"320","11");case 58:return new ur(i,"310","13");case 59:return new ur(i,"320","13");case 60:return new ur(i,"310","15");case 61:return new ur(i,"320","15");case 62:return new ur(i,"310","17");case 63:return new ur(i,"320","17")}}catch(u){throw console.log(u),new Ke("unknown decoder: "+i)}}var Es=function(){function i(t,n,o,u){this.leftchar=t,this.rightchar=n,this.finderpattern=o,this.maybeLast=u}return i.prototype.mayBeLast=function(){return this.maybeLast},i.prototype.getLeftChar=function(){return this.leftchar},i.prototype.getRightChar=function(){return this.rightchar},i.prototype.getFinderPattern=function(){return this.finderpattern},i.prototype.mustBeLast=function(){return this.rightchar==null},i.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},i.equals=function(t,n){return t instanceof i?i.equalsOrNull(t.leftchar,n.leftchar)&&i.equalsOrNull(t.rightchar,n.rightchar)&&i.equalsOrNull(t.finderpattern,n.finderpattern):!1},i.equalsOrNull=function(t,n){return t===null?n===null:i.equals(t,n)},i.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},i}(),go=function(){function i(t,n,o){this.pairs=t,this.rowNumber=n,this.wasReversed=o}return i.prototype.getPairs=function(){return this.pairs},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.isReversed=function(){return this.wasReversed},i.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},i.prototype.toString=function(){return"{ "+this.pairs+" }"},i.prototype.equals=function(t,n){return t instanceof i?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1},i.prototype.checkEqualitity=function(t,n){if(!(!t||!n)){var o;return t.forEach(function(u,f){n.forEach(function(p){u.getLeftChar().getValue()===p.getLeftChar().getValue()&&u.getRightChar().getValue()===p.getRightChar().getValue()&&u.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(o=!0)})}),o}},i}(),vo=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cn=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ji=function(i){vo(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return t.prototype.decodeRow=function(n,o,u){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(n,o))}catch(f){console.log(f)}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(n,o))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(n,o){for(var u=!1;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,n))}catch(v){if(v instanceof et){if(!this.pairs.length)throw new et;u=!0}}if(this.checkChecksum())return this.pairs;var f;if(this.rows.length?f=!0:f=!1,this.storeRow(n,!1),f){var p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new et},t.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var o=null;try{o=this.checkRows(new Array,0)}catch(u){console.log(u)}return n&&(this.rows=this.rows.reverse()),o},t.prototype.checkRows=function(n,o){for(var u,f,p=o;p<this.rows.length;p++){var v=this.rows[p];this.pairs.length=0;try{for(var _=(u=void 0,Cn(n)),A=_.next();!A.done;A=_.next()){var I=A.value;this.pairs.push(I.getPairs())}}catch(O){u={error:O}}finally{try{A&&!A.done&&(f=_.return)&&f.call(_)}finally{if(u)throw u.error}}if(this.pairs.push(v.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var b=new Array(n);b.push(v);try{return this.checkRows(b,p+1)}catch(O){console.log(O)}}}throw new et},t.isValidSequence=function(n){var o,u;try{for(var f=Cn(t.FINDER_PATTERN_SEQUENCES),p=f.next();!p.done;p=f.next()){var v=p.value;if(!(n.length>v.length)){for(var _=!0,A=0;A<n.length;A++)if(n[A].getFinderPattern().getValue()!=v[A]){_=!1;break}if(_)return!0}}}catch(I){o={error:I}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(o)throw o.error}}return!1},t.prototype.storeRow=function(n,o){for(var u=0,f=!1,p=!1;u<this.rows.length;){var v=this.rows[u];if(v.getRowNumber()>n){p=v.isEquivalent(this.pairs);break}f=v.isEquivalent(this.pairs),u++}p||f||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new go(this.pairs,n,o)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(n,o){var u,f,p,v,_,A;try{for(var I=Cn(o),b=I.next();!b.done;b=I.next()){var O=b.value;if(O.getPairs().length!==n.length){var D=!0;try{for(var V=(p=void 0,Cn(O.getPairs())),j=V.next();!j.done;j=V.next()){var nt=j.value,Z=!1;try{for(var J=(_=void 0,Cn(n)),ht=J.next();!ht.done;ht=J.next()){var gt=ht.value;if(Es.equals(nt,gt)){Z=!0;break}}}catch(St){_={error:St}}finally{try{ht&&!ht.done&&(A=J.return)&&A.call(J)}finally{if(_)throw _.error}}Z||(D=!1)}}catch(St){p={error:St}}finally{try{j&&!j.done&&(v=V.return)&&v.call(V)}finally{if(p)throw p.error}}}}}catch(St){u={error:St}}finally{try{b&&!b.done&&(f=I.return)&&f.call(I)}finally{if(u)throw u.error}}},t.isPartialRow=function(n,o){var u,f,p,v,_,A;try{for(var I=Cn(o),b=I.next();!b.done;b=I.next()){var O=b.value,D=!0;try{for(var V=(p=void 0,Cn(n)),j=V.next();!j.done;j=V.next()){var nt=j.value,Z=!1;try{for(var J=(_=void 0,Cn(O.getPairs())),ht=J.next();!ht.done;ht=J.next()){var gt=ht.value;if(nt.equals(gt)){Z=!0;break}}}catch(St){_={error:St}}finally{try{ht&&!ht.done&&(A=J.return)&&A.call(J)}finally{if(_)throw _.error}}if(!Z){D=!1;break}}}catch(St){p={error:St}}finally{try{j&&!j.done&&(v=V.return)&&v.call(V)}finally{if(p)throw p.error}}if(D)return!0}}catch(St){u={error:St}}finally{try{b&&!b.done&&(f=I.return)&&f.call(I)}finally{if(u)throw u.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(n){var o=ba.buildBitArray(n),u=Oa(o),f=u.parseInformation(),p=n[0].getFinderPattern().getResultPoints(),v=n[n.length-1].getFinderPattern().getResultPoints(),_=[p[0],p[1],v[0],v[1]];return new hn(f,null,null,_,qt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var n=this.pairs.get(0),o=n.getLeftChar(),u=n.getRightChar();if(u==null)return!1;for(var f=u.getChecksumPortion(),p=2,v=1;v<this.pairs.size();++v){var _=this.pairs.get(v);f+=_.getLeftChar().getChecksumPortion(),p++;var A=_.getRightChar();A!=null&&(f+=A.getChecksumPortion(),p++)}f%=211;var I=211*(p-4)+f;return I==o.getValue()},t.getNextSecondBar=function(n,o){var u;return n.get(o)?(u=n.getNextUnset(o),u=n.getNextSet(u)):(u=n.getNextSet(o),u=n.getNextUnset(u)),u},t.prototype.retrieveNextPair=function(n,o,u){var f=o.length%2==0;this.startFromEven&&(f=!f);var p,v=!0,_=-1;do this.findNextPair(n,o,_),p=this.parseFoundFinderPattern(n,u,f),p==null?_=t.getNextSecondBar(n,this.startEnd[0]):v=!1;while(v);var A=this.decodeDataCharacter(n,p,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new et;var I;try{I=this.decodeDataCharacter(n,p,f,!1)}catch(b){I=null,console.log(b)}return new Es(A,I,p,!0)},t.prototype.isEmptyPair=function(n){return n.length===0},t.prototype.findNextPair=function(n,o,u){var f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;var p=n.getSize(),v;if(u>=0)v=u;else if(this.isEmptyPair(o))v=0;else{var _=o[o.length-1];v=_.getFinderPattern().getStartEnd()[1]}var A=o.length%2!=0;this.startFromEven&&(A=!A);for(var I=!1;v<p&&(I=!n.get(v),!!I);)v++;for(var b=0,O=v,D=v;D<p;D++)if(n.get(D)!=I)f[b]++;else{if(b==3){if(A&&t.reverseCounters(f),t.isFinderPattern(f)){this.startEnd[0]=O,this.startEnd[1]=D;return}A&&t.reverseCounters(f),O+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,b--}else b++;f[b]=1,I=!I}throw new et},t.reverseCounters=function(n){for(var o=n.length,u=0;u<o/2;++u){var f=n[u];n[u]=n[o-u-1],n[o-u-1]=f}},t.prototype.parseFoundFinderPattern=function(n,o,u){var f,p,v;if(u){for(var _=this.startEnd[0]-1;_>=0&&!n.get(_);)_--;_++,f=this.startEnd[0]-_,p=_,v=this.startEnd[1]}else p=this.startEnd[0],v=n.getNextUnset(this.startEnd[1]+1),f=v-this.startEnd[1];var A=this.getDecodeFinderCounters();it.arraycopy(A,0,A,1,A.length-1),A[0]=f;var I;try{I=this.parseFinderValue(A,t.FINDER_PATTERNS)}catch{return null}return new Zr(I,[p,v],p,v,o)},t.prototype.decodeDataCharacter=function(n,o,u,f){for(var p=this.getDataCharacterCounters(),v=0;v<p.length;v++)p[v]=0;if(f)t.recordPatternInReverse(n,o.getStartEnd()[0],p);else{t.recordPattern(n,o.getStartEnd()[1],p);for(var _=0,A=p.length-1;_<A;_++,A--){var I=p[_];p[_]=p[A],p[A]=I}}var b=17,O=he.sum(new Int32Array(p))/b,D=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(O-D)/D>.3)throw new et;for(var V=this.getOddCounts(),j=this.getEvenCounts(),nt=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors(),_=0;_<p.length;_++){var J=1*p[_]/O,ht=J+.5;if(ht<1){if(J<.3)throw new et;ht=1}else if(ht>8){if(J>8.7)throw new et;ht=8}var gt=_/2;(_&1)==0?(V[gt]=ht,nt[gt]=J-ht):(j[gt]=ht,Z[gt]=J-ht)}this.adjustOddEvenCounts(b);for(var St=4*o.getValue()+(u?0:2)+(f?0:1)-1,Rt=0,Ot=0,_=V.length-1;_>=0;_--){if(t.isNotA1left(o,u,f)){var Ht=t.WEIGHTS[St][2*_];Ot+=V[_]*Ht}Rt+=V[_]}for(var de=0,_=j.length-1;_>=0;_--)if(t.isNotA1left(o,u,f)){var Ht=t.WEIGHTS[St][2*_+1];de+=j[_]*Ht}var Lt=Ot+de;if((Rt&1)!=0||Rt>13||Rt<4)throw new et;var ue=(13-Rt)/2,pe=t.SYMBOL_WIDEST[ue],Le=9-pe,jn=sr.getRSSvalue(V,pe,!0),si=sr.getRSSvalue(j,Le,!1),Fr=t.EVEN_TOTAL_SUBSET[ue],Io=t.GSUM[ue],Us=jn*Fr+si+Io;return new Ei(Us,Lt)},t.isNotA1left=function(n,o,u){return!(n.getValue()==0&&o&&u)},t.prototype.adjustOddEvenCounts=function(n){var o=he.sum(new Int32Array(this.getOddCounts())),u=he.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1;o>13?p=!0:o<4&&(f=!0);var v=!1,_=!1;u>13?_=!0:u<4&&(v=!0);var A=o+u-n,I=(o&1)==1,b=(u&1)==0;if(A==1)if(I){if(b)throw new et;p=!0}else{if(!b)throw new et;_=!0}else if(A==-1)if(I){if(b)throw new et;f=!0}else{if(!b)throw new et;v=!0}else if(A==0){if(I){if(!b)throw new et;o<u?(f=!0,_=!0):(p=!0,v=!0)}else if(b)throw new et}else throw new et;if(f){if(p)throw new et;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(_)throw new et;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Mr),Ar=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),du=function(i){Ar(t,i);function t(n,o,u){var f=i.call(this,n,o)||this;return f.count=0,f.finderPattern=u,f}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(Ei),vl=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ii=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Da=function(i){vl(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return t.prototype.decodeRow=function(n,o,u){var f,p,v,_,A=this.decodePair(o,!1,n,u);t.addOrTally(this.possibleLeftPairs,A),o.reverse();var I=this.decodePair(o,!0,n,u);t.addOrTally(this.possibleRightPairs,I),o.reverse();try{for(var b=Ii(this.possibleLeftPairs),O=b.next();!O.done;O=b.next()){var D=O.value;if(D.getCount()>1)try{for(var V=(v=void 0,Ii(this.possibleRightPairs)),j=V.next();!j.done;j=V.next()){var nt=j.value;if(nt.getCount()>1&&t.checkChecksum(D,nt))return t.constructResult(D,nt)}}catch(Z){v={error:Z}}finally{try{j&&!j.done&&(_=V.return)&&_.call(V)}finally{if(v)throw v.error}}}}catch(Z){f={error:Z}}finally{try{O&&!O.done&&(p=b.return)&&p.call(b)}finally{if(f)throw f.error}}throw new et},t.addOrTally=function(n,o){var u,f;if(o!=null){var p=!1;try{for(var v=Ii(n),_=v.next();!_.done;_=v.next()){var A=_.value;if(A.getValue()===o.getValue()){A.incrementCount(),p=!0;break}}}catch(I){u={error:I}}finally{try{_&&!_.done&&(f=v.return)&&f.call(v)}finally{if(u)throw u.error}}p||n.push(o)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(n,o){for(var u=4537077*n.getValue()+o.getValue(),f=new String(u).toString(),p=new mt,v=13-f.length;v>0;v--)p.append("0");p.append(f);for(var _=0,v=0;v<13;v++){var A=p.charAt(v).charCodeAt(0)-48;_+=(v&1)===0?3*A:A}_=10-_%10,_===10&&(_=0),p.append(_.toString());var I=n.getFinderPattern().getResultPoints(),b=o.getFinderPattern().getResultPoints();return new hn(p.toString(),null,0,[I[0],I[1],b[0],b[1]],qt.RSS_14,new Date().getTime())},t.checkChecksum=function(n,o){var u=(n.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*n.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,u===f},t.prototype.decodePair=function(n,o,u,f){try{var p=this.findFinderPattern(n,o),v=this.parseFoundFinderPattern(n,u,o,p),_=f==null?null:f.get(Q.NEED_RESULT_POINT_CALLBACK);if(_!=null){var A=(p[0]+p[1])/2;o&&(A=n.getSize()-1-A),_.foundPossibleResultPoint(new Vt(A,u))}var I=this.decodeDataCharacter(n,v,!0),b=this.decodeDataCharacter(n,v,!1);return new du(1597*I.getValue()+b.getValue(),I.getChecksumPortion()+4*b.getChecksumPortion(),v)}catch{return null}},t.prototype.decodeDataCharacter=function(n,o,u){for(var f=this.getDataCharacterCounters(),p=0;p<f.length;p++)f[p]=0;if(u)rn.recordPatternInReverse(n,o.getStartEnd()[0],f);else{rn.recordPattern(n,o.getStartEnd()[1]+1,f);for(var v=0,_=f.length-1;v<_;v++,_--){var A=f[v];f[v]=f[_],f[_]=A}}for(var I=u?16:15,b=he.sum(new Int32Array(f))/I,O=this.getOddCounts(),D=this.getEvenCounts(),V=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors(),v=0;v<f.length;v++){var nt=f[v]/b,Z=Math.floor(nt+.5);Z<1?Z=1:Z>8&&(Z=8);var J=Math.floor(v/2);(v&1)===0?(O[J]=Z,V[J]=nt-Z):(D[J]=Z,j[J]=nt-Z)}this.adjustOddEvenCounts(u,I);for(var ht=0,gt=0,v=O.length-1;v>=0;v--)gt*=9,gt+=O[v],ht+=O[v];for(var St=0,Rt=0,v=D.length-1;v>=0;v--)St*=9,St+=D[v],Rt+=D[v];var Ot=gt+3*St;if(u){if((ht&1)!==0||ht>12||ht<4)throw new et;var Ht=(12-ht)/2,de=t.OUTSIDE_ODD_WIDEST[Ht],Lt=9-de,ue=sr.getRSSvalue(O,de,!1),pe=sr.getRSSvalue(D,Lt,!0),Le=t.OUTSIDE_EVEN_TOTAL_SUBSET[Ht],jn=t.OUTSIDE_GSUM[Ht];return new Ei(ue*Le+pe+jn,Ot)}else{if((Rt&1)!==0||Rt>10||Rt<4)throw new et;var Ht=(10-Rt)/2,de=t.INSIDE_ODD_WIDEST[Ht],Lt=9-de,ue=sr.getRSSvalue(O,de,!0),pe=sr.getRSSvalue(D,Lt,!1),si=t.INSIDE_ODD_TOTAL_SUBSET[Ht],jn=t.INSIDE_GSUM[Ht];return new Ei(pe*si+ue+jn,Ot)}},t.prototype.findFinderPattern=function(n,o){var u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=n.getSize(),p=!1,v=0;v<f&&(p=!n.get(v),o!==p);)v++;for(var _=0,A=v,I=v;I<f;I++)if(n.get(I)!==p)u[_]++;else{if(_===3){if(Mr.isFinderPattern(u))return[A,I];A+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,_--}else _++;u[_]=1,p=!p}throw new et},t.prototype.parseFoundFinderPattern=function(n,o,u,f){for(var p=n.get(f[0]),v=f[0]-1;v>=0&&p!==n.get(v);)v--;v++;var _=f[0]-v,A=this.getDecodeFinderCounters(),I=new Int32Array(A.length);it.arraycopy(A,0,I,1,A.length-1),I[0]=_;var b=this.parseFinderValue(I,t.FINDER_PATTERNS),O=v,D=f[1];return u&&(O=n.getSize()-1-O,D=n.getSize()-1-D),new Zr(b,[v,f[1]],O,D,o)},t.prototype.adjustOddEvenCounts=function(n,o){var u=he.sum(new Int32Array(this.getOddCounts())),f=he.sum(new Int32Array(this.getEvenCounts())),p=!1,v=!1,_=!1,A=!1;n?(u>12?v=!0:u<4&&(p=!0),f>12?A=!0:f<4&&(_=!0)):(u>11?v=!0:u<5&&(p=!0),f>10?A=!0:f<4&&(_=!0));var I=u+f-o,b=(u&1)===(n?1:0),O=(f&1)===1;if(I===1)if(b){if(O)throw new et;v=!0}else{if(!O)throw new et;A=!0}else if(I===-1)if(b){if(O)throw new et;p=!0}else{if(!O)throw new et;_=!0}else if(I===0){if(b){if(!O)throw new et;u<f?(p=!0,A=!0):(v=!0,_=!0)}else if(O)throw new et}else throw new et;if(p){if(v)throw new et;Mr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Mr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(A)throw new et;Mr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Mr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Mr),xs=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lr=function(i){xs(t,i);function t(n){var o=i.call(this)||this;o.readers=[];var u=n?n.get(Q.POSSIBLE_FORMATS):null,f=n&&n.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return u&&((u.includes(qt.EAN_13)||u.includes(qt.UPC_A)||u.includes(qt.EAN_8)||u.includes(qt.UPC_E))&&o.readers.push(new ho(n)),u.includes(qt.CODE_39)&&o.readers.push(new on(f)),u.includes(qt.CODE_128)&&o.readers.push(new vi),u.includes(qt.ITF)&&o.readers.push(new Ta),u.includes(qt.RSS_14)&&o.readers.push(new Da),u.includes(qt.RSS_EXPANDED)&&o.readers.push(new Ji)),o.readers.length===0&&(o.readers.push(new ho(n)),o.readers.push(new on),o.readers.push(new ho(n)),o.readers.push(new vi),o.readers.push(new Ta),o.readers.push(new Da),o.readers.push(new Ji)),o}return t.prototype.decodeRow=function(n,o,u){for(var f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(n,o,u)}catch{}throw new et},t.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},t}(rn),pu=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){pu(t,i);function t(n,o){return n===void 0&&(n=500),i.call(this,new Lr(o),n,o)||this}return t})(Rr);var Na=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ie=function(){function i(t,n,o){this.ecCodewords=t,this.ecBlocks=[n],o&&this.ecBlocks.push(o)}return i.prototype.getECCodewords=function(){return this.ecCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),ve=function(){function i(t,n){this.count=t,this.dataCodewords=n}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}(),Ma=function(){function i(t,n,o,u,f,p){var v,_;this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=o,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=f,this.ecBlocks=p;var A=0,I=p.getECCodewords(),b=p.getECBlocks();try{for(var O=Na(b),D=O.next();!D.done;D=O.next()){var V=D.value;A+=V.getCount()*(V.getDataCodewords()+I)}}catch(j){v={error:j}}finally{try{D&&!D.done&&(_=O.return)&&_.call(O)}finally{if(v)throw v.error}}this.totalCodewords=A}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},i.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},i.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},i.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i.getVersionForDimensions=function(t,n){var o,u;if((t&1)!==0||(n&1)!==0)throw new F;try{for(var f=Na(i.VERSIONS),p=f.next();!p.done;p=f.next()){var v=p.value;if(v.symbolSizeRows===t&&v.symbolSizeColumns===n)return v}}catch(_){o={error:_}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(o)throw o.error}}throw new F},i.prototype.toString=function(){return""+this.versionNumber},i.buildVersions=function(){return[new i(1,10,10,8,8,new Ie(5,new ve(1,3))),new i(2,12,12,10,10,new Ie(7,new ve(1,5))),new i(3,14,14,12,12,new Ie(10,new ve(1,8))),new i(4,16,16,14,14,new Ie(12,new ve(1,12))),new i(5,18,18,16,16,new Ie(14,new ve(1,18))),new i(6,20,20,18,18,new Ie(18,new ve(1,22))),new i(7,22,22,20,20,new Ie(20,new ve(1,30))),new i(8,24,24,22,22,new Ie(24,new ve(1,36))),new i(9,26,26,24,24,new Ie(28,new ve(1,44))),new i(10,32,32,14,14,new Ie(36,new ve(1,62))),new i(11,36,36,16,16,new Ie(42,new ve(1,86))),new i(12,40,40,18,18,new Ie(48,new ve(1,114))),new i(13,44,44,20,20,new Ie(56,new ve(1,144))),new i(14,48,48,22,22,new Ie(68,new ve(1,174))),new i(15,52,52,24,24,new Ie(42,new ve(2,102))),new i(16,64,64,14,14,new Ie(56,new ve(2,140))),new i(17,72,72,16,16,new Ie(36,new ve(4,92))),new i(18,80,80,18,18,new Ie(48,new ve(4,114))),new i(19,88,88,20,20,new Ie(56,new ve(4,144))),new i(20,96,96,22,22,new Ie(68,new ve(4,174))),new i(21,104,104,24,24,new Ie(56,new ve(6,136))),new i(22,120,120,18,18,new Ie(68,new ve(6,175))),new i(23,132,132,20,20,new Ie(62,new ve(8,163))),new i(24,144,144,22,22,new Ie(62,new ve(8,156),new ve(2,155))),new i(25,8,18,6,16,new Ie(7,new ve(1,5))),new i(26,8,32,6,14,new Ie(11,new ve(1,10))),new i(27,12,26,10,24,new Ie(14,new ve(1,16))),new i(28,12,36,10,16,new Ie(18,new ve(1,22))),new i(29,16,36,14,16,new Ie(24,new ve(1,32))),new i(30,16,48,14,22,new Ie(28,new ve(1,49)))]},i.VERSIONS=i.buildVersions(),i}(),gu=function(){function i(t){var n=t.getHeight();if(n<8||n>144||(n&1)!==0)throw new F;this.version=i.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Nt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return i.prototype.getVersion=function(){return this.version},i.readVersion=function(t){var n=t.getHeight(),o=t.getWidth();return Ma.getVersionForDimensions(n,o)},i.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),n=0,o=4,u=0,f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth(),v=!1,_=!1,A=!1,I=!1;do if(o===f&&u===0&&!v)t[n++]=this.readCorner1(f,p)&255,o-=2,u+=2,v=!0;else if(o===f-2&&u===0&&(p&3)!==0&&!_)t[n++]=this.readCorner2(f,p)&255,o-=2,u+=2,_=!0;else if(o===f+4&&u===2&&(p&7)===0&&!A)t[n++]=this.readCorner3(f,p)&255,o-=2,u+=2,A=!0;else if(o===f-2&&u===0&&(p&7)===4&&!I)t[n++]=this.readCorner4(f,p)&255,o-=2,u+=2,I=!0;else{do o<f&&u>=0&&!this.readMappingMatrix.get(u,o)&&(t[n++]=this.readUtah(o,u,f,p)&255),o-=2,u+=2;while(o>=0&&u<p);o+=1,u+=3;do o>=0&&u<p&&!this.readMappingMatrix.get(u,o)&&(t[n++]=this.readUtah(o,u,f,p)&255),o+=2,u-=2;while(o<f&&u>=0);o+=3,u+=1}while(o<f||u<p);if(n!==this.version.getTotalCodewords())throw new F;return t},i.prototype.readModule=function(t,n,o,u){return t<0&&(t+=o,n+=4-(o+4&7)),n<0&&(n+=u,t+=4-(u+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)},i.prototype.readUtah=function(t,n,o,u){var f=0;return this.readModule(t-2,n-2,o,u)&&(f|=1),f<<=1,this.readModule(t-2,n-1,o,u)&&(f|=1),f<<=1,this.readModule(t-1,n-2,o,u)&&(f|=1),f<<=1,this.readModule(t-1,n-1,o,u)&&(f|=1),f<<=1,this.readModule(t-1,n,o,u)&&(f|=1),f<<=1,this.readModule(t,n-2,o,u)&&(f|=1),f<<=1,this.readModule(t,n-1,o,u)&&(f|=1),f<<=1,this.readModule(t,n,o,u)&&(f|=1),f},i.prototype.readCorner1=function(t,n){var o=0;return this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,1,t,n)&&(o|=1),o<<=1,this.readModule(t-1,2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o<<=1,this.readModule(2,n-1,t,n)&&(o|=1),o<<=1,this.readModule(3,n-1,t,n)&&(o|=1),o},i.prototype.readCorner2=function(t,n){var o=0;return this.readModule(t-3,0,t,n)&&(o|=1),o<<=1,this.readModule(t-2,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(0,n-4,t,n)&&(o|=1),o<<=1,this.readModule(0,n-3,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o},i.prototype.readCorner3=function(t,n){var o=0;return this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,n-1,t,n)&&(o|=1),o<<=1,this.readModule(0,n-3,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-3,t,n)&&(o|=1),o<<=1,this.readModule(1,n-2,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o},i.prototype.readCorner4=function(t,n){var o=0;return this.readModule(t-3,0,t,n)&&(o|=1),o<<=1,this.readModule(t-2,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o<<=1,this.readModule(2,n-1,t,n)&&(o|=1),o<<=1,this.readModule(3,n-1,t,n)&&(o|=1),o},i.prototype.extractDataRegion=function(t){var n=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new L("Dimension of bitMatrix must match the version size");for(var u=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=n/u|0,v=o/f|0,_=p*u,A=v*f,I=new Nt(A,_),b=0;b<p;++b)for(var O=b*u,D=0;D<v;++D)for(var V=D*f,j=0;j<u;++j)for(var nt=b*(u+2)+1+j,Z=O+j,J=0;J<f;++J){var ht=D*(f+2)+1+J;if(t.get(ht,nt)){var gt=V+J;I.set(gt,Z)}}return I},i}(),As=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ws=function(){function i(t,n){this.numDataCodewords=t,this.codewords=n}return i.getDataBlocks=function(t,n){var o,u,f,p,v=n.getECBlocks(),_=0,A=v.getECBlocks();try{for(var I=As(A),b=I.next();!b.done;b=I.next()){var O=b.value;_+=O.getCount()}}catch(jn){o={error:jn}}finally{try{b&&!b.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}var D=new Array(_),V=0;try{for(var j=As(A),nt=j.next();!nt.done;nt=j.next())for(var O=nt.value,Z=0;Z<O.getCount();Z++){var J=O.getDataCodewords(),ht=v.getECCodewords()+J;D[V++]=new i(J,new Uint8Array(ht))}}catch(jn){f={error:jn}}finally{try{nt&&!nt.done&&(p=j.return)&&p.call(j)}finally{if(f)throw f.error}}for(var gt=D[0].codewords.length,St=gt-v.getECCodewords(),Rt=St-1,Ot=0,Z=0;Z<Rt;Z++)for(var Ht=0;Ht<V;Ht++)D[Ht].codewords[Z]=t[Ot++];for(var de=n.getVersionNumber()===24,Lt=de?8:V,Ht=0;Ht<Lt;Ht++)D[Ht].codewords[St-1]=t[Ot++];for(var ue=D[0].codewords.length,Z=St;Z<ue;Z++)for(var Ht=0;Ht<V;Ht++){var pe=de?(Ht+8)%V:Ht,Le=de&&pe>7?Z-1:Z;D[pe].codewords[Le]=t[Ot++]}if(Ot!==t.length)throw new L;return D},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),ta=function(){function i(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return i.prototype.getBitOffset=function(){return this.bitOffset},i.prototype.getByteOffset=function(){return this.byteOffset},i.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new L(""+t);var n=0,o=this.bitOffset,u=this.byteOffset,f=this.bytes;if(o>0){var p=8-o,v=t<p?t:p,_=p-v,A=255>>8-v<<_;n=(f[u]&A)>>_,t-=v,o+=v,o===8&&(o=0,u++)}if(t>0){for(;t>=8;)n=n<<8|f[u]&255,u++,t-=8;if(t>0){var _=8-t,A=255>>_<<_;n=n<<t|(f[u]&A)>>_,o+=t}}return this.bitOffset=o,this.byteOffset=u,n},i.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},i}(),Qe;(function(i){i[i.PAD_ENCODE=0]="PAD_ENCODE",i[i.ASCII_ENCODE=1]="ASCII_ENCODE",i[i.C40_ENCODE=2]="C40_ENCODE",i[i.TEXT_ENCODE=3]="TEXT_ENCODE",i[i.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",i[i.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",i[i.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qe||(Qe={}));var mo=function(){function i(){}return i.decode=function(t){var n=new ta(t),o=new mt,u=new mt,f=new Array,p=Qe.ASCII_ENCODE;do if(p===Qe.ASCII_ENCODE)p=this.decodeAsciiSegment(n,o,u);else{switch(p){case Qe.C40_ENCODE:this.decodeC40Segment(n,o);break;case Qe.TEXT_ENCODE:this.decodeTextSegment(n,o);break;case Qe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,o);break;case Qe.EDIFACT_ENCODE:this.decodeEdifactSegment(n,o);break;case Qe.BASE256_ENCODE:this.decodeBase256Segment(n,o,f);break;default:throw new F}p=Qe.ASCII_ENCODE}while(p!==Qe.PAD_ENCODE&&n.available()>0);return u.length()>0&&o.append(u.toString()),new Sn(t,o.toString(),f.length===0?null:f,null)},i.decodeAsciiSegment=function(t,n,o){var u=!1;do{var f=t.readBits(8);if(f===0)throw new F;if(f<=128)return u&&(f+=128),n.append(String.fromCharCode(f-1)),Qe.ASCII_ENCODE;if(f===129)return Qe.PAD_ENCODE;if(f<=229){var p=f-130;p<10&&n.append("0"),n.append(""+p)}else switch(f){case 230:return Qe.C40_ENCODE;case 231:return Qe.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:n.append("[)>05"),o.insert(0,"");break;case 237:n.append("[)>06"),o.insert(0,"");break;case 238:return Qe.ANSIX12_ENCODE;case 239:return Qe.TEXT_ENCODE;case 240:return Qe.EDIFACT_ENCODE;case 241:break;default:if(f!==254||t.available()!==0)throw new F;break}}while(t.available()>0);return Qe.ASCII_ENCODE},i.decodeC40Segment=function(t,n){var o=!1,u=[],f=0;do{if(t.available()===8)return;var p=t.readBits(8);if(p===254)return;this.parseTwoBytes(p,t.readBits(8),u);for(var v=0;v<3;v++){var _=u[v];switch(f){case 0:if(_<3)f=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){var A=this.C40_BASIC_SET_CHARS[_];o?(n.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):n.append(A)}else throw new F;break;case 1:o?(n.append(String.fromCharCode(_+128)),o=!1):n.append(String.fromCharCode(_)),f=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){var A=this.C40_SHIFT2_SET_CHARS[_];o?(n.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):n.append(A)}else switch(_){case 27:n.append("");break;case 30:o=!0;break;default:throw new F}f=0;break;case 3:o?(n.append(String.fromCharCode(_+224)),o=!1):n.append(String.fromCharCode(_+96)),f=0;break;default:throw new F}}}while(t.available()>0)},i.decodeTextSegment=function(t,n){var o=!1,u=[],f=0;do{if(t.available()===8)return;var p=t.readBits(8);if(p===254)return;this.parseTwoBytes(p,t.readBits(8),u);for(var v=0;v<3;v++){var _=u[v];switch(f){case 0:if(_<3)f=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){var A=this.TEXT_BASIC_SET_CHARS[_];o?(n.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):n.append(A)}else throw new F;break;case 1:o?(n.append(String.fromCharCode(_+128)),o=!1):n.append(String.fromCharCode(_)),f=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){var A=this.TEXT_SHIFT2_SET_CHARS[_];o?(n.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):n.append(A)}else switch(_){case 27:n.append("");break;case 30:o=!0;break;default:throw new F}f=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){var A=this.TEXT_SHIFT3_SET_CHARS[_];o?(n.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):n.append(A),f=0}else throw new F;break;default:throw new F}}}while(t.available()>0)},i.decodeAnsiX12Segment=function(t,n){var o=[];do{if(t.available()===8)return;var u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(var f=0;f<3;f++){var p=o[f];switch(p){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(p<14)n.append(String.fromCharCode(p+44));else if(p<40)n.append(String.fromCharCode(p+51));else throw new F;break}}}while(t.available()>0)},i.parseTwoBytes=function(t,n,o){var u=(t<<8)+n-1,f=Math.floor(u/1600);o[0]=f,u-=f*1600,f=Math.floor(u/40),o[1]=f,o[2]=u-f*40},i.decodeEdifactSegment=function(t,n){do{if(t.available()<=16)return;for(var o=0;o<4;o++){var u=t.readBits(6);if(u===31){var f=8-t.getBitOffset();f!==8&&t.readBits(f);return}(u&32)===0&&(u|=64),n.append(String.fromCharCode(u))}}while(t.available()>0)},i.decodeBase256Segment=function(t,n,o){var u=1+t.getByteOffset(),f=this.unrandomize255State(t.readBits(8),u++),p;if(f===0?p=t.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(t.readBits(8),u++),p<0)throw new F;for(var v=new Uint8Array(p),_=0;_<p;_++){if(t.available()<8)throw new F;v[_]=this.unrandomize255State(t.readBits(8),u++)}o.push(v);try{n.append(le.decode(v,K.ISO88591))}catch(A){throw new Ke("Platform does not support required encoding: "+A.message)}},i.unrandomize255State=function(t,n){var o=149*n%255+1,u=t-o;return u>=0?u:u+256},i.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],i.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.TEXT_SHIFT2_SET_CHARS=i.C40_SHIFT2_SET_CHARS,i.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],i}(),vu=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ts=function(){function i(){this.rsDecoder=new Hi(_n.DATA_MATRIX_FIELD_256)}return i.prototype.decode=function(t){var n,o,u=new gu(t),f=u.getVersion(),p=u.readCodewords(),v=ws.getDataBlocks(p,f),_=0;try{for(var A=vu(v),I=A.next();!I.done;I=A.next()){var b=I.value;_+=b.getNumDataCodewords()}}catch(ht){n={error:ht}}finally{try{I&&!I.done&&(o=A.return)&&o.call(A)}finally{if(n)throw n.error}}for(var O=new Uint8Array(_),D=v.length,V=0;V<D;V++){var j=v[V],nt=j.getCodewords(),Z=j.getNumDataCodewords();this.correctErrors(nt,Z);for(var J=0;J<Z;J++)O[J*D+V]=nt[J]}return mo.decode(O)},i.prototype.correctErrors=function(t,n){var o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-n)}catch{throw new at}for(var u=0;u<n;u++)t[u]=o[u]},i}(),bi=function(){function i(t){this.image=t,this.rectangleDetector=new $n(this.image)}return i.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new et;n=this.shiftToModuleCenter(n);var o=n[0],u=n[1],f=n[2],p=n[3],v=this.transitionsBetween(o,p)+1,_=this.transitionsBetween(f,p)+1;(v&1)===1&&(v+=1),(_&1)===1&&(_+=1),4*v<7*_&&4*_<7*v&&(v=_=Math.max(v,_));var A=i.sampleGrid(this.image,o,u,f,p,v,_);return new vr(A,[o,u,f,p])},i.shiftPoint=function(t,n,o){var u=(n.getX()-t.getX())/(o+1),f=(n.getY()-t.getY())/(o+1);return new Vt(t.getX()+u,t.getY()+f)},i.moveAway=function(t,n,o){var u=t.getX(),f=t.getY();return u<n?u-=1:u+=1,f<o?f-=1:f+=1,new Vt(u,f)},i.prototype.detectSolid1=function(t){var n=t[0],o=t[1],u=t[3],f=t[2],p=this.transitionsBetween(n,o),v=this.transitionsBetween(o,u),_=this.transitionsBetween(u,f),A=this.transitionsBetween(f,n),I=p,b=[f,n,o,u];return I>v&&(I=v,b[0]=n,b[1]=o,b[2]=u,b[3]=f),I>_&&(I=_,b[0]=o,b[1]=u,b[2]=f,b[3]=n),I>A&&(b[0]=u,b[1]=f,b[2]=n,b[3]=o),b},i.prototype.detectSolid2=function(t){var n=t[0],o=t[1],u=t[2],f=t[3],p=this.transitionsBetween(n,f),v=i.shiftPoint(o,u,(p+1)*4),_=i.shiftPoint(u,o,(p+1)*4),A=this.transitionsBetween(v,n),I=this.transitionsBetween(_,f);return A<I?(t[0]=n,t[1]=o,t[2]=u,t[3]=f):(t[0]=o,t[1]=u,t[2]=f,t[3]=n),t},i.prototype.correctTopRight=function(t){var n=t[0],o=t[1],u=t[2],f=t[3],p=this.transitionsBetween(n,f),v=this.transitionsBetween(o,f),_=i.shiftPoint(n,o,(v+1)*4),A=i.shiftPoint(u,o,(p+1)*4);p=this.transitionsBetween(_,f),v=this.transitionsBetween(A,f);var I=new Vt(f.getX()+(u.getX()-o.getX())/(p+1),f.getY()+(u.getY()-o.getY())/(p+1)),b=new Vt(f.getX()+(n.getX()-o.getX())/(v+1),f.getY()+(n.getY()-o.getY())/(v+1));if(!this.isValid(I))return this.isValid(b)?b:null;if(!this.isValid(b))return I;var O=this.transitionsBetween(_,I)+this.transitionsBetween(A,I),D=this.transitionsBetween(_,b)+this.transitionsBetween(A,b);return O>D?I:b},i.prototype.shiftToModuleCenter=function(t){var n=t[0],o=t[1],u=t[2],f=t[3],p=this.transitionsBetween(n,f)+1,v=this.transitionsBetween(u,f)+1,_=i.shiftPoint(n,o,v*4),A=i.shiftPoint(u,o,p*4);p=this.transitionsBetween(_,f)+1,v=this.transitionsBetween(A,f)+1,(p&1)===1&&(p+=1),(v&1)===1&&(v+=1);var I=(n.getX()+o.getX()+u.getX()+f.getX())/4,b=(n.getY()+o.getY()+u.getY()+f.getY())/4;n=i.moveAway(n,I,b),o=i.moveAway(o,I,b),u=i.moveAway(u,I,b),f=i.moveAway(f,I,b);var O,D;return _=i.shiftPoint(n,o,v*4),_=i.shiftPoint(_,f,p*4),O=i.shiftPoint(o,n,v*4),O=i.shiftPoint(O,u,p*4),A=i.shiftPoint(u,f,v*4),A=i.shiftPoint(A,o,p*4),D=i.shiftPoint(f,u,v*4),D=i.shiftPoint(D,n,p*4),[_,O,A,D]},i.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},i.sampleGrid=function(t,n,o,u,f,p,v){var _=ji.getInstance();return _.sampleGrid(t,p,v,.5,.5,p-.5,.5,p-.5,v-.5,.5,v-.5,n.getX(),n.getY(),f.getX(),f.getY(),u.getX(),u.getY(),o.getX(),o.getY())},i.prototype.transitionsBetween=function(t,n){var o=Math.trunc(t.getX()),u=Math.trunc(t.getY()),f=Math.trunc(n.getX()),p=Math.trunc(n.getY()),v=Math.abs(p-u)>Math.abs(f-o);if(v){var _=o;o=u,u=_,_=f,f=p,p=_}for(var A=Math.abs(f-o),I=Math.abs(p-u),b=-A/2,O=u<p?1:-1,D=o<f?1:-1,V=0,j=this.image.get(v?u:o,v?o:u),nt=o,Z=u;nt!==f;nt+=D){var J=this.image.get(v?Z:nt,v?nt:Z);if(J!==j&&(V++,j=J),b+=I,b>0){if(Z===p)break;Z+=O,b-=A}}return V},i}(),Pa=function(){function i(){this.decoder=new Ts}return i.prototype.decode=function(t,n){n===void 0&&(n=null);var o,u;if(n!=null&&n.has(Q.PURE_BARCODE)){var f=i.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(f),u=i.NO_POINTS}else{var p=new bi(t.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),u=p.getPoints()}var v=o.getRawBytes(),_=new hn(o.getText(),v,8*v.length,u,qt.DATA_MATRIX,it.currentTimeMillis()),A=o.getByteSegments();A!=null&&_.putMetadata($e.BYTE_SEGMENTS,A);var I=o.getECLevel();return I!=null&&_.putMetadata($e.ERROR_CORRECTION_LEVEL,I),_},i.prototype.reset=function(){},i.extractPureBits=function(t){var n=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(n==null||o==null)throw new et;var u=this.moduleSize(n,t),f=n[1],p=o[1],v=n[0],_=o[0],A=(_-v+1)/u,I=(p-f+1)/u;if(A<=0||I<=0)throw new et;var b=u/2;f+=b,v+=b;for(var O=new Nt(A,I),D=0;D<I;D++)for(var V=f+D*u,j=0;j<A;j++)t.get(v+j*u,V)&&O.set(j,D);return O},i.moduleSize=function(t,n){for(var o=n.getWidth(),u=t[0],f=t[1];u<o&&n.get(u,f);)u++;if(u===o)throw new et;var p=u-t[0];if(p===0)throw new et;return p},i.NO_POINTS=[],i}(),mu=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){mu(t,i);function t(n){return n===void 0&&(n=500),i.call(this,new Pa,n)||this}return t})(Rr);var Ri;(function(i){i[i.L=0]="L",i[i.M=1]="M",i[i.Q=2]="Q",i[i.H=3]="H"})(Ri||(Ri={}));var ea=function(){function i(t,n,o){this.value=t,this.stringValue=n,this.bits=o,i.FOR_BITS.set(o,this),i.FOR_VALUE.set(t,this)}return i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.fromString=function(t){switch(t){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw new P(t+"not available")}},i.prototype.toString=function(){return this.stringValue},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.value===n.value},i.forBits=function(t){if(t<0||t>=i.FOR_BITS.size)throw new L;return i.FOR_BITS.get(t)},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.L=new i(Ri.L,"L",1),i.M=new i(Ri.M,"M",0),i.Q=new i(Ri.Q,"Q",3),i.H=new i(Ri.H,"H",2),i}(),yo=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ln=function(){function i(t){this.errorCorrectionLevel=ea.forBits(t>>3&3),this.dataMask=t&7}return i.numBitsDiffering=function(t,n){return G.bitCount(t^n)},i.decodeFormatInformation=function(t,n){var o=i.doDecodeFormatInformation(t,n);return o!==null?o:i.doDecodeFormatInformation(t^i.FORMAT_INFO_MASK_QR,n^i.FORMAT_INFO_MASK_QR)},i.doDecodeFormatInformation=function(t,n){var o,u,f=Number.MAX_SAFE_INTEGER,p=0;try{for(var v=yo(i.FORMAT_INFO_DECODE_LOOKUP),_=v.next();!_.done;_=v.next()){var A=_.value,I=A[0];if(I===t||I===n)return new i(A[1]);var b=i.numBitsDiffering(t,I);b<f&&(p=A[1],f=b),t!==n&&(b=i.numBitsDiffering(n,I),b<f&&(p=A[1],f=b))}}catch(O){o={error:O}}finally{try{_&&!_.done&&(u=v.return)&&u.call(v)}finally{if(o)throw o.error}}return f<=3?new i(p):null},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getDataMask=function(){return this.dataMask},i.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},i.FORMAT_INFO_MASK_QR=21522,i.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],i}(),yu=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=function(){function i(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.ecCodewordsPerBlock=t,this.ecBlocks=n}return i.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},i.prototype.getNumBlocks=function(){var t,n,o=0,u=this.ecBlocks;try{for(var f=yu(u),p=f.next();!p.done;p=f.next()){var v=p.value;o+=v.getCount()}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return o},i.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),H=function(){function i(t,n){this.count=t,this.dataCodewords=n}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}(),y=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R=function(){function i(t,n){for(var o,u,f=[],p=2;p<arguments.length;p++)f[p-2]=arguments[p];this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=f;var v=0,_=f[0].getECCodewordsPerBlock(),A=f[0].getECBlocks();try{for(var I=y(A),b=I.next();!b.done;b=I.next()){var O=b.value;v+=O.getCount()*(O.getDataCodewords()+_)}}catch(D){o={error:D}}finally{try{b&&!b.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}this.totalCodewords=v}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},i.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},i.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new F;try{return this.getVersionForNumber((t-17)/4)}catch{throw new F}},i.getVersionForNumber=function(t){if(t<1||t>40)throw new L;return i.VERSIONS[t-1]},i.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,o=0,u=0;u<i.VERSION_DECODE_INFO.length;u++){var f=i.VERSION_DECODE_INFO[u];if(f===t)return i.getVersionForNumber(u+7);var p=Ln.numBitsDiffering(t,f);p<n&&(o=u+7,n=p)}return n<=3?i.getVersionForNumber(o):null},i.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),n=new Nt(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);for(var o=this.alignmentPatternCenters.length,u=0;u<o;u++)for(var f=this.alignmentPatternCenters[u]-2,p=0;p<o;p++)u===0&&(p===0||p===o-1)||u===o-1&&p===0||n.setRegion(this.alignmentPatternCenters[p]-2,f,5,5);return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n},i.prototype.toString=function(){return""+this.versionNumber},i.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),i.VERSIONS=[new i(1,new Int32Array(0),new lt(7,new H(1,19)),new lt(10,new H(1,16)),new lt(13,new H(1,13)),new lt(17,new H(1,9))),new i(2,Int32Array.from([6,18]),new lt(10,new H(1,34)),new lt(16,new H(1,28)),new lt(22,new H(1,22)),new lt(28,new H(1,16))),new i(3,Int32Array.from([6,22]),new lt(15,new H(1,55)),new lt(26,new H(1,44)),new lt(18,new H(2,17)),new lt(22,new H(2,13))),new i(4,Int32Array.from([6,26]),new lt(20,new H(1,80)),new lt(18,new H(2,32)),new lt(26,new H(2,24)),new lt(16,new H(4,9))),new i(5,Int32Array.from([6,30]),new lt(26,new H(1,108)),new lt(24,new H(2,43)),new lt(18,new H(2,15),new H(2,16)),new lt(22,new H(2,11),new H(2,12))),new i(6,Int32Array.from([6,34]),new lt(18,new H(2,68)),new lt(16,new H(4,27)),new lt(24,new H(4,19)),new lt(28,new H(4,15))),new i(7,Int32Array.from([6,22,38]),new lt(20,new H(2,78)),new lt(18,new H(4,31)),new lt(18,new H(2,14),new H(4,15)),new lt(26,new H(4,13),new H(1,14))),new i(8,Int32Array.from([6,24,42]),new lt(24,new H(2,97)),new lt(22,new H(2,38),new H(2,39)),new lt(22,new H(4,18),new H(2,19)),new lt(26,new H(4,14),new H(2,15))),new i(9,Int32Array.from([6,26,46]),new lt(30,new H(2,116)),new lt(22,new H(3,36),new H(2,37)),new lt(20,new H(4,16),new H(4,17)),new lt(24,new H(4,12),new H(4,13))),new i(10,Int32Array.from([6,28,50]),new lt(18,new H(2,68),new H(2,69)),new lt(26,new H(4,43),new H(1,44)),new lt(24,new H(6,19),new H(2,20)),new lt(28,new H(6,15),new H(2,16))),new i(11,Int32Array.from([6,30,54]),new lt(20,new H(4,81)),new lt(30,new H(1,50),new H(4,51)),new lt(28,new H(4,22),new H(4,23)),new lt(24,new H(3,12),new H(8,13))),new i(12,Int32Array.from([6,32,58]),new lt(24,new H(2,92),new H(2,93)),new lt(22,new H(6,36),new H(2,37)),new lt(26,new H(4,20),new H(6,21)),new lt(28,new H(7,14),new H(4,15))),new i(13,Int32Array.from([6,34,62]),new lt(26,new H(4,107)),new lt(22,new H(8,37),new H(1,38)),new lt(24,new H(8,20),new H(4,21)),new lt(22,new H(12,11),new H(4,12))),new i(14,Int32Array.from([6,26,46,66]),new lt(30,new H(3,115),new H(1,116)),new lt(24,new H(4,40),new H(5,41)),new lt(20,new H(11,16),new H(5,17)),new lt(24,new H(11,12),new H(5,13))),new i(15,Int32Array.from([6,26,48,70]),new lt(22,new H(5,87),new H(1,88)),new lt(24,new H(5,41),new H(5,42)),new lt(30,new H(5,24),new H(7,25)),new lt(24,new H(11,12),new H(7,13))),new i(16,Int32Array.from([6,26,50,74]),new lt(24,new H(5,98),new H(1,99)),new lt(28,new H(7,45),new H(3,46)),new lt(24,new H(15,19),new H(2,20)),new lt(30,new H(3,15),new H(13,16))),new i(17,Int32Array.from([6,30,54,78]),new lt(28,new H(1,107),new H(5,108)),new lt(28,new H(10,46),new H(1,47)),new lt(28,new H(1,22),new H(15,23)),new lt(28,new H(2,14),new H(17,15))),new i(18,Int32Array.from([6,30,56,82]),new lt(30,new H(5,120),new H(1,121)),new lt(26,new H(9,43),new H(4,44)),new lt(28,new H(17,22),new H(1,23)),new lt(28,new H(2,14),new H(19,15))),new i(19,Int32Array.from([6,30,58,86]),new lt(28,new H(3,113),new H(4,114)),new lt(26,new H(3,44),new H(11,45)),new lt(26,new H(17,21),new H(4,22)),new lt(26,new H(9,13),new H(16,14))),new i(20,Int32Array.from([6,34,62,90]),new lt(28,new H(3,107),new H(5,108)),new lt(26,new H(3,41),new H(13,42)),new lt(30,new H(15,24),new H(5,25)),new lt(28,new H(15,15),new H(10,16))),new i(21,Int32Array.from([6,28,50,72,94]),new lt(28,new H(4,116),new H(4,117)),new lt(26,new H(17,42)),new lt(28,new H(17,22),new H(6,23)),new lt(30,new H(19,16),new H(6,17))),new i(22,Int32Array.from([6,26,50,74,98]),new lt(28,new H(2,111),new H(7,112)),new lt(28,new H(17,46)),new lt(30,new H(7,24),new H(16,25)),new lt(24,new H(34,13))),new i(23,Int32Array.from([6,30,54,78,102]),new lt(30,new H(4,121),new H(5,122)),new lt(28,new H(4,47),new H(14,48)),new lt(30,new H(11,24),new H(14,25)),new lt(30,new H(16,15),new H(14,16))),new i(24,Int32Array.from([6,28,54,80,106]),new lt(30,new H(6,117),new H(4,118)),new lt(28,new H(6,45),new H(14,46)),new lt(30,new H(11,24),new H(16,25)),new lt(30,new H(30,16),new H(2,17))),new i(25,Int32Array.from([6,32,58,84,110]),new lt(26,new H(8,106),new H(4,107)),new lt(28,new H(8,47),new H(13,48)),new lt(30,new H(7,24),new H(22,25)),new lt(30,new H(22,15),new H(13,16))),new i(26,Int32Array.from([6,30,58,86,114]),new lt(28,new H(10,114),new H(2,115)),new lt(28,new H(19,46),new H(4,47)),new lt(28,new H(28,22),new H(6,23)),new lt(30,new H(33,16),new H(4,17))),new i(27,Int32Array.from([6,34,62,90,118]),new lt(30,new H(8,122),new H(4,123)),new lt(28,new H(22,45),new H(3,46)),new lt(30,new H(8,23),new H(26,24)),new lt(30,new H(12,15),new H(28,16))),new i(28,Int32Array.from([6,26,50,74,98,122]),new lt(30,new H(3,117),new H(10,118)),new lt(28,new H(3,45),new H(23,46)),new lt(30,new H(4,24),new H(31,25)),new lt(30,new H(11,15),new H(31,16))),new i(29,Int32Array.from([6,30,54,78,102,126]),new lt(30,new H(7,116),new H(7,117)),new lt(28,new H(21,45),new H(7,46)),new lt(30,new H(1,23),new H(37,24)),new lt(30,new H(19,15),new H(26,16))),new i(30,Int32Array.from([6,26,52,78,104,130]),new lt(30,new H(5,115),new H(10,116)),new lt(28,new H(19,47),new H(10,48)),new lt(30,new H(15,24),new H(25,25)),new lt(30,new H(23,15),new H(25,16))),new i(31,Int32Array.from([6,30,56,82,108,134]),new lt(30,new H(13,115),new H(3,116)),new lt(28,new H(2,46),new H(29,47)),new lt(30,new H(42,24),new H(1,25)),new lt(30,new H(23,15),new H(28,16))),new i(32,Int32Array.from([6,34,60,86,112,138]),new lt(30,new H(17,115)),new lt(28,new H(10,46),new H(23,47)),new lt(30,new H(10,24),new H(35,25)),new lt(30,new H(19,15),new H(35,16))),new i(33,Int32Array.from([6,30,58,86,114,142]),new lt(30,new H(17,115),new H(1,116)),new lt(28,new H(14,46),new H(21,47)),new lt(30,new H(29,24),new H(19,25)),new lt(30,new H(11,15),new H(46,16))),new i(34,Int32Array.from([6,34,62,90,118,146]),new lt(30,new H(13,115),new H(6,116)),new lt(28,new H(14,46),new H(23,47)),new lt(30,new H(44,24),new H(7,25)),new lt(30,new H(59,16),new H(1,17))),new i(35,Int32Array.from([6,30,54,78,102,126,150]),new lt(30,new H(12,121),new H(7,122)),new lt(28,new H(12,47),new H(26,48)),new lt(30,new H(39,24),new H(14,25)),new lt(30,new H(22,15),new H(41,16))),new i(36,Int32Array.from([6,24,50,76,102,128,154]),new lt(30,new H(6,121),new H(14,122)),new lt(28,new H(6,47),new H(34,48)),new lt(30,new H(46,24),new H(10,25)),new lt(30,new H(2,15),new H(64,16))),new i(37,Int32Array.from([6,28,54,80,106,132,158]),new lt(30,new H(17,122),new H(4,123)),new lt(28,new H(29,46),new H(14,47)),new lt(30,new H(49,24),new H(10,25)),new lt(30,new H(24,15),new H(46,16))),new i(38,Int32Array.from([6,32,58,84,110,136,162]),new lt(30,new H(4,122),new H(18,123)),new lt(28,new H(13,46),new H(32,47)),new lt(30,new H(48,24),new H(14,25)),new lt(30,new H(42,15),new H(32,16))),new i(39,Int32Array.from([6,26,54,82,110,138,166]),new lt(30,new H(20,117),new H(4,118)),new lt(28,new H(40,47),new H(7,48)),new lt(30,new H(43,24),new H(22,25)),new lt(30,new H(10,15),new H(67,16))),new i(40,Int32Array.from([6,30,58,86,114,142,170]),new lt(30,new H(19,118),new H(6,119)),new lt(28,new H(18,47),new H(31,48)),new lt(30,new H(34,24),new H(34,25)),new lt(30,new H(20,15),new H(61,16)))],i}(),N;(function(i){i[i.DATA_MASK_000=0]="DATA_MASK_000",i[i.DATA_MASK_001=1]="DATA_MASK_001",i[i.DATA_MASK_010=2]="DATA_MASK_010",i[i.DATA_MASK_011=3]="DATA_MASK_011",i[i.DATA_MASK_100=4]="DATA_MASK_100",i[i.DATA_MASK_101=5]="DATA_MASK_101",i[i.DATA_MASK_110=6]="DATA_MASK_110",i[i.DATA_MASK_111=7]="DATA_MASK_111"})(N||(N={}));var U=function(){function i(t,n){this.value=t,this.isMasked=n}return i.prototype.unmaskBitMatrix=function(t,n){for(var o=0;o<n;o++)for(var u=0;u<n;u++)this.isMasked(o,u)&&t.flip(u,o)},i.values=new Map([[N.DATA_MASK_000,new i(N.DATA_MASK_000,function(t,n){return(t+n&1)===0})],[N.DATA_MASK_001,new i(N.DATA_MASK_001,function(t,n){return(t&1)===0})],[N.DATA_MASK_010,new i(N.DATA_MASK_010,function(t,n){return n%3===0})],[N.DATA_MASK_011,new i(N.DATA_MASK_011,function(t,n){return(t+n)%3===0})],[N.DATA_MASK_100,new i(N.DATA_MASK_100,function(t,n){return(Math.floor(t/2)+Math.floor(n/3)&1)===0})],[N.DATA_MASK_101,new i(N.DATA_MASK_101,function(t,n){return t*n%6===0})],[N.DATA_MASK_110,new i(N.DATA_MASK_110,function(t,n){return t*n%6<3})],[N.DATA_MASK_111,new i(N.DATA_MASK_111,function(t,n){return(t+n+t*n%3&1)===0})]]),i}(),ut=function(){function i(t){var n=t.getHeight();if(n<21||(n&3)!==1)throw new F;this.bitMatrix=t}return i.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,n=0;n<6;n++)t=this.copyBit(n,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var o=5;o>=0;o--)t=this.copyBit(8,o,t);for(var u=this.bitMatrix.getHeight(),f=0,p=u-7,o=u-1;o>=p;o--)f=this.copyBit(8,o,f);for(var n=u-8;n<u;n++)f=this.copyBit(n,8,f);if(this.parsedFormatInfo=Ln.decodeFormatInformation(t,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F},i.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return R.getVersionForNumber(n);for(var o=0,u=t-11,f=5;f>=0;f--)for(var p=t-9;p>=u;p--)o=this.copyBit(p,f,o);var v=R.decodeVersionInformation(o);if(v!==null&&v.getDimensionForVersion()===t)return this.parsedVersion=v,v;o=0;for(var p=5;p>=0;p--)for(var f=t-9;f>=u;f--)o=this.copyBit(p,f,o);if(v=R.decodeVersionInformation(o),v!==null&&v.getDimensionForVersion()===t)return this.parsedVersion=v,v;throw new F},i.prototype.copyBit=function(t,n,o){var u=this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n);return u?o<<1|1:o<<1},i.prototype.readCodewords=function(){var t=this.readFormatInformation(),n=this.readVersion(),o=U.values.get(t.getDataMask()),u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u);for(var f=n.buildFunctionPattern(),p=!0,v=new Uint8Array(n.getTotalCodewords()),_=0,A=0,I=0,b=u-1;b>0;b-=2){b===6&&b--;for(var O=0;O<u;O++)for(var D=p?u-1-O:O,V=0;V<2;V++)f.get(b-V,D)||(I++,A<<=1,this.bitMatrix.get(b-V,D)&&(A|=1),I===8&&(v[_++]=A,I=0,A=0));p=!p}if(_!==n.getTotalCodewords())throw new F;return v},i.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=U.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}},i.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},i.prototype.mirror=function(){for(var t=this.bitMatrix,n=0,o=t.getWidth();n<o;n++)for(var u=n+1,f=t.getHeight();u<f;u++)t.get(n,u)!==t.get(u,n)&&(t.flip(u,n),t.flip(n,u))},i}(),pt=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=function(){function i(t,n){this.numDataCodewords=t,this.codewords=n}return i.getDataBlocks=function(t,n,o){var u,f,p,v;if(t.length!==n.getTotalCodewords())throw new L;var _=n.getECBlocksForLevel(o),A=0,I=_.getECBlocks();try{for(var b=pt(I),O=b.next();!O.done;O=b.next()){var D=O.value;A+=D.getCount()}}catch(Le){u={error:Le}}finally{try{O&&!O.done&&(f=b.return)&&f.call(b)}finally{if(u)throw u.error}}var V=new Array(A),j=0;try{for(var nt=pt(I),Z=nt.next();!Z.done;Z=nt.next())for(var D=Z.value,J=0;J<D.getCount();J++){var ht=D.getDataCodewords(),gt=_.getECCodewordsPerBlock()+ht;V[j++]=new i(ht,new Uint8Array(gt))}}catch(Le){p={error:Le}}finally{try{Z&&!Z.done&&(v=nt.return)&&v.call(nt)}finally{if(p)throw p.error}}for(var St=V[0].codewords.length,Rt=V.length-1;Rt>=0;){var Ot=V[Rt].codewords.length;if(Ot===St)break;Rt--}Rt++;for(var Ht=St-_.getECCodewordsPerBlock(),de=0,J=0;J<Ht;J++)for(var Lt=0;Lt<j;Lt++)V[Lt].codewords[J]=t[de++];for(var Lt=Rt;Lt<j;Lt++)V[Lt].codewords[Ht]=t[de++];for(var ue=V[0].codewords.length,J=Ht;J<ue;J++)for(var Lt=0;Lt<j;Lt++){var pe=Lt<Rt?J:J+1;V[Lt].codewords[pe]=t[de++]}return V},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),Jt;(function(i){i[i.TERMINATOR=0]="TERMINATOR",i[i.NUMERIC=1]="NUMERIC",i[i.ALPHANUMERIC=2]="ALPHANUMERIC",i[i.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",i[i.BYTE=4]="BYTE",i[i.ECI=5]="ECI",i[i.KANJI=6]="KANJI",i[i.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",i[i.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",i[i.HANZI=9]="HANZI"})(Jt||(Jt={}));var ee=function(){function i(t,n,o,u){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=o,this.bits=u,i.FOR_BITS.set(u,this),i.FOR_VALUE.set(t,this)}return i.forBits=function(t){var n=i.FOR_BITS.get(t);if(n===void 0)throw new L;return n},i.prototype.getCharacterCountBits=function(t){var n=t.getVersionNumber(),o;return n<=9?o=0:n<=26?o=1:o=2,this.characterCountBitsForVersions[o]},i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;return this.value===n.value},i.prototype.toString=function(){return this.stringValue},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.TERMINATOR=new i(Jt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),i.NUMERIC=new i(Jt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),i.ALPHANUMERIC=new i(Jt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),i.STRUCTURED_APPEND=new i(Jt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),i.BYTE=new i(Jt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),i.ECI=new i(Jt.ECI,"ECI",Int32Array.from([0,0,0]),7),i.KANJI=new i(Jt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),i.FNC1_FIRST_POSITION=new i(Jt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),i.FNC1_SECOND_POSITION=new i(Jt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),i.HANZI=new i(Jt.HANZI,"HANZI",Int32Array.from([8,10,12]),13),i}(),Ee=function(){function i(){}return i.decode=function(t,n,o,u){var f=new ta(t),p=new mt,v=new Array,_=-1,A=-1;try{var I=null,b=!1,O=void 0;do{if(f.available()<4)O=ee.TERMINATOR;else{var D=f.readBits(4);O=ee.forBits(D)}switch(O){case ee.TERMINATOR:break;case ee.FNC1_FIRST_POSITION:case ee.FNC1_SECOND_POSITION:b=!0;break;case ee.STRUCTURED_APPEND:if(f.available()<16)throw new F;_=f.readBits(8),A=f.readBits(8);break;case ee.ECI:var V=i.parseECIValue(f);if(I=It.getCharacterSetECIByValue(V),I===null)throw new F;break;case ee.HANZI:var j=f.readBits(4),nt=f.readBits(O.getCharacterCountBits(n));j===i.GB2312_SUBSET&&i.decodeHanziSegment(f,p,nt);break;default:var Z=f.readBits(O.getCharacterCountBits(n));switch(O){case ee.NUMERIC:i.decodeNumericSegment(f,p,Z);break;case ee.ALPHANUMERIC:i.decodeAlphanumericSegment(f,p,Z,b);break;case ee.BYTE:i.decodeByteSegment(f,p,Z,I,v,u);break;case ee.KANJI:i.decodeKanjiSegment(f,p,Z);break;default:throw new F}break}}while(O!==ee.TERMINATOR)}catch{throw new F}return new Sn(t,p.toString(),v.length===0?null:v,o===null?null:o.toString(),_,A)},i.decodeHanziSegment=function(t,n,o){if(o*13>t.available())throw new F;for(var u=new Uint8Array(2*o),f=0;o>0;){var p=t.readBits(13),v=p/96<<8&4294967295|p%96;v<959?v+=41377:v+=42657,u[f]=v>>8&255,u[f+1]=v&255,f+=2,o--}try{n.append(le.decode(u,K.GB2312))}catch(_){throw new F(_)}},i.decodeKanjiSegment=function(t,n,o){if(o*13>t.available())throw new F;for(var u=new Uint8Array(2*o),f=0;o>0;){var p=t.readBits(13),v=p/192<<8&4294967295|p%192;v<7936?v+=33088:v+=49472,u[f]=v>>8,u[f+1]=v,f+=2,o--}try{n.append(le.decode(u,K.SHIFT_JIS))}catch(_){throw new F(_)}},i.decodeByteSegment=function(t,n,o,u,f,p){if(8*o>t.available())throw new F;for(var v=new Uint8Array(o),_=0;_<o;_++)v[_]=t.readBits(8);var A;u===null?A=K.guessEncoding(v,p):A=u.getName();try{n.append(le.decode(v,A))}catch(I){throw new F(I)}f.push(v)},i.toAlphaNumericChar=function(t){if(t>=i.ALPHANUMERIC_CHARS.length)throw new F;return i.ALPHANUMERIC_CHARS[t]},i.decodeAlphanumericSegment=function(t,n,o,u){for(var f=n.length();o>1;){if(t.available()<11)throw new F;var p=t.readBits(11);n.append(i.toAlphaNumericChar(Math.floor(p/45))),n.append(i.toAlphaNumericChar(p%45)),o-=2}if(o===1){if(t.available()<6)throw new F;n.append(i.toAlphaNumericChar(t.readBits(6)))}if(u)for(var v=f;v<n.length();v++)n.charAt(v)==="%"&&(v<n.length()-1&&n.charAt(v+1)==="%"?n.deleteCharAt(v+1):n.setCharAt(v,""))},i.decodeNumericSegment=function(t,n,o){for(;o>=3;){if(t.available()<10)throw new F;var u=t.readBits(10);if(u>=1e3)throw new F;n.append(i.toAlphaNumericChar(Math.floor(u/100))),n.append(i.toAlphaNumericChar(Math.floor(u/10)%10)),n.append(i.toAlphaNumericChar(u%10)),o-=3}if(o===2){if(t.available()<7)throw new F;var f=t.readBits(7);if(f>=100)throw new F;n.append(i.toAlphaNumericChar(Math.floor(f/10))),n.append(i.toAlphaNumericChar(f%10))}else if(o===1){if(t.available()<4)throw new F;var p=t.readBits(4);if(p>=10)throw new F;n.append(i.toAlphaNumericChar(p))}},i.parseECIValue=function(t){var n=t.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var o=t.readBits(8);return(n&63)<<8&4294967295|o}if((n&224)===192){var u=t.readBits(16);return(n&31)<<16&4294967295|u}throw new F},i.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",i.GB2312_SUBSET=1,i}(),dn=function(){function i(t){this.mirrored=t}return i.prototype.isMirrored=function(){return this.mirrored},i.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var n=t[0];t[0]=t[2],t[2]=n}},i}(),sn=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oi=function(){function i(){this.rsDecoder=new Hi(_n.QR_CODE_FIELD_256)}return i.prototype.decodeBooleanArray=function(t,n){return this.decodeBitMatrix(Nt.parseFromBooleanArray(t),n)},i.prototype.decodeBitMatrix=function(t,n){var o=new ut(t),u=null;try{return this.decodeBitMatrixParser(o,n)}catch(p){u=p}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();var f=this.decodeBitMatrixParser(o,n);return f.setOther(new dn(!0)),f}catch(p){throw u!==null?u:p}},i.prototype.decodeBitMatrixParser=function(t,n){var o,u,f,p,v=t.readVersion(),_=t.readFormatInformation().getErrorCorrectionLevel(),A=t.readCodewords(),I=bt.getDataBlocks(A,v,_),b=0;try{for(var O=sn(I),D=O.next();!D.done;D=O.next()){var V=D.value;b+=V.getNumDataCodewords()}}catch(Rt){o={error:Rt}}finally{try{D&&!D.done&&(u=O.return)&&u.call(O)}finally{if(o)throw o.error}}var j=new Uint8Array(b),nt=0;try{for(var Z=sn(I),J=Z.next();!J.done;J=Z.next()){var V=J.value,ht=V.getCodewords(),gt=V.getNumDataCodewords();this.correctErrors(ht,gt);for(var St=0;St<gt;St++)j[nt++]=ht[St]}}catch(Rt){f={error:Rt}}finally{try{J&&!J.done&&(p=Z.return)&&p.call(Z)}finally{if(f)throw f.error}}return Ee.decode(j,v,_,n)},i.prototype.correctErrors=function(t,n){var o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-n)}catch{throw new at}for(var u=0;u<n;u++)t[u]=o[u]},i}(),In=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ri=function(i){In(t,i);function t(n,o,u){var f=i.call(this,n,o)||this;return f.estimatedModuleSize=u,f}return t.prototype.aboutEquals=function(n,o,u){if(Math.abs(o-this.getY())<=n&&Math.abs(u-this.getX())<=n){var f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,o,u){var f=(this.getX()+o)/2,p=(this.getY()+n)/2,v=(this.estimatedModuleSize+u)/2;return new t(f,p,v)},t}(Vt),Ss=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_u=function(){function i(t,n,o,u,f,p,v){this.image=t,this.startX=n,this.startY=o,this.width=u,this.height=f,this.moduleSize=p,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return i.prototype.find=function(){for(var t=this.startX,n=this.height,o=this.width,u=t+o,f=this.startY+n/2,p=new Int32Array(3),v=this.image,_=0;_<n;_++){var A=f+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));p[0]=0,p[1]=0,p[2]=0;for(var I=t;I<u&&!v.get(I,A);)I++;for(var b=0;I<u;){if(v.get(I,A))if(b===1)p[1]++;else if(b===2){if(this.foundPatternCross(p)){var O=this.handlePossibleCenter(p,A,I);if(O!==null)return O}p[0]=p[2],p[1]=1,p[2]=0,b=1}else p[++b]++;else b===1&&b++,p[b]++;I++}if(this.foundPatternCross(p)){var O=this.handlePossibleCenter(p,A,u);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new et},i.centerFromEnd=function(t,n){return n-t[2]-t[1]/2},i.prototype.foundPatternCross=function(t){for(var n=this.moduleSize,o=n/2,u=0;u<3;u++)if(Math.abs(n-t[u])>=o)return!1;return!0},i.prototype.crossCheckVertical=function(t,n,o,u){var f=this.image,p=f.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;for(var _=t;_>=0&&f.get(n,_)&&v[1]<=o;)v[1]++,_--;if(_<0||v[1]>o)return NaN;for(;_>=0&&!f.get(n,_)&&v[0]<=o;)v[0]++,_--;if(v[0]>o)return NaN;for(_=t+1;_<p&&f.get(n,_)&&v[1]<=o;)v[1]++,_++;if(_===p||v[1]>o)return NaN;for(;_<p&&!f.get(n,_)&&v[2]<=o;)v[2]++,_++;if(v[2]>o)return NaN;var A=v[0]+v[1]+v[2];return 5*Math.abs(A-u)>=2*u?NaN:this.foundPatternCross(v)?i.centerFromEnd(v,_):NaN},i.prototype.handlePossibleCenter=function(t,n,o){var u,f,p=t[0]+t[1]+t[2],v=i.centerFromEnd(t,o),_=this.crossCheckVertical(n,v,2*t[1],p);if(!isNaN(_)){var A=(t[0]+t[1]+t[2])/3;try{for(var I=Ss(this.possibleCenters),b=I.next();!b.done;b=I.next()){var O=b.value;if(O.aboutEquals(A,_,v))return O.combineEstimate(_,v,A)}}catch(V){u={error:V}}finally{try{b&&!b.done&&(f=I.return)&&f.call(I)}finally{if(u)throw u.error}}var D=new ri(v,_,A);this.possibleCenters.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return null},i}(),Bc=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),kc=function(i){Bc(t,i);function t(n,o,u,f){var p=i.call(this,n,o)||this;return p.estimatedModuleSize=u,p.count=f,f===void 0&&(p.count=1),p}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(n,o,u){if(Math.abs(o-this.getY())<=n&&Math.abs(u-this.getX())<=n){var f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,o,u){var f=this.count+1,p=(this.count*this.getX()+o)/f,v=(this.count*this.getY()+n)/f,_=(this.count*this.estimatedModuleSize+u)/f;return new t(p,v,_,f)},t}(Vt),ml=function(){function i(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i}(),La=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vc=function(){function i(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return i.prototype.getImage=function(){return this.image},i.prototype.getPossibleCenters=function(){return this.possibleCenters},i.prototype.find=function(t){var n=t!=null&&t.get(Q.TRY_HARDER)!==void 0,o=t!=null&&t.get(Q.PURE_BARCODE)!==void 0,u=this.image,f=u.getHeight(),p=u.getWidth(),v=Math.floor(3*f/(4*i.MAX_MODULES));(v<i.MIN_SKIP||n)&&(v=i.MIN_SKIP);for(var _=!1,A=new Int32Array(5),I=v-1;I<f&&!_;I+=v){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;for(var b=0,O=0;O<p;O++)if(u.get(O,I))(b&1)===1&&b++,A[b]++;else if((b&1)===0)if(b===4)if(i.foundPatternCross(A)){var D=this.handlePossibleCenter(A,I,O,o);if(D===!0)if(v=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{var V=this.findRowSkip();V>A[2]&&(I+=V-A[2]-v,O=p-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,b=3;continue}b=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,b=3;else A[++b]++;else A[b]++;if(i.foundPatternCross(A)){var D=this.handlePossibleCenter(A,I,p,o);D===!0&&(v=A[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}}var j=this.selectBestPatterns();return Vt.orderBestPatterns(j),new ml(j)},i.centerFromEnd=function(t,n){return n-t[4]-t[3]-t[2]/2},i.foundPatternCross=function(t){for(var n=0,o=0;o<5;o++){var u=t[o];if(u===0)return!1;n+=u}if(n<7)return!1;var f=n/7,p=f/2;return Math.abs(f-t[0])<p&&Math.abs(f-t[1])<p&&Math.abs(3*f-t[2])<3*p&&Math.abs(f-t[3])<p&&Math.abs(f-t[4])<p},i.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},i.prototype.crossCheckDiagonal=function(t,n,o,u){for(var f=this.getCrossCheckStateCount(),p=0,v=this.image;t>=p&&n>=p&&v.get(n-p,t-p);)f[2]++,p++;if(t<p||n<p)return!1;for(;t>=p&&n>=p&&!v.get(n-p,t-p)&&f[1]<=o;)f[1]++,p++;if(t<p||n<p||f[1]>o)return!1;for(;t>=p&&n>=p&&v.get(n-p,t-p)&&f[0]<=o;)f[0]++,p++;if(f[0]>o)return!1;var _=v.getHeight(),A=v.getWidth();for(p=1;t+p<_&&n+p<A&&v.get(n+p,t+p);)f[2]++,p++;if(t+p>=_||n+p>=A)return!1;for(;t+p<_&&n+p<A&&!v.get(n+p,t+p)&&f[3]<o;)f[3]++,p++;if(t+p>=_||n+p>=A||f[3]>=o)return!1;for(;t+p<_&&n+p<A&&v.get(n+p,t+p)&&f[4]<o;)f[4]++,p++;if(f[4]>=o)return!1;var I=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(I-u)<2*u&&i.foundPatternCross(f)},i.prototype.crossCheckVertical=function(t,n,o,u){for(var f=this.image,p=f.getHeight(),v=this.getCrossCheckStateCount(),_=t;_>=0&&f.get(n,_);)v[2]++,_--;if(_<0)return NaN;for(;_>=0&&!f.get(n,_)&&v[1]<=o;)v[1]++,_--;if(_<0||v[1]>o)return NaN;for(;_>=0&&f.get(n,_)&&v[0]<=o;)v[0]++,_--;if(v[0]>o)return NaN;for(_=t+1;_<p&&f.get(n,_);)v[2]++,_++;if(_===p)return NaN;for(;_<p&&!f.get(n,_)&&v[3]<o;)v[3]++,_++;if(_===p||v[3]>=o)return NaN;for(;_<p&&f.get(n,_)&&v[4]<o;)v[4]++,_++;if(v[4]>=o)return NaN;var A=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(A-u)>=2*u?NaN:i.foundPatternCross(v)?i.centerFromEnd(v,_):NaN},i.prototype.crossCheckHorizontal=function(t,n,o,u){for(var f=this.image,p=f.getWidth(),v=this.getCrossCheckStateCount(),_=t;_>=0&&f.get(_,n);)v[2]++,_--;if(_<0)return NaN;for(;_>=0&&!f.get(_,n)&&v[1]<=o;)v[1]++,_--;if(_<0||v[1]>o)return NaN;for(;_>=0&&f.get(_,n)&&v[0]<=o;)v[0]++,_--;if(v[0]>o)return NaN;for(_=t+1;_<p&&f.get(_,n);)v[2]++,_++;if(_===p)return NaN;for(;_<p&&!f.get(_,n)&&v[3]<o;)v[3]++,_++;if(_===p||v[3]>=o)return NaN;for(;_<p&&f.get(_,n)&&v[4]<o;)v[4]++,_++;if(v[4]>=o)return NaN;var A=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(A-u)>=u?NaN:i.foundPatternCross(v)?i.centerFromEnd(v,_):NaN},i.prototype.handlePossibleCenter=function(t,n,o,u){var f=t[0]+t[1]+t[2]+t[3]+t[4],p=i.centerFromEnd(t,o),v=this.crossCheckVertical(n,Math.floor(p),t[2],f);if(!isNaN(v)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(v),t[2],f),!isNaN(p)&&(!u||this.crossCheckDiagonal(Math.floor(v),Math.floor(p),t[2],f)))){for(var _=f/7,A=!1,I=this.possibleCenters,b=0,O=I.length;b<O;b++){var D=I[b];if(D.aboutEquals(_,v,p)){I[b]=D.combineEstimate(v,p,_),A=!0;break}}if(!A){var V=new kc(p,v,_);I.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1},i.prototype.findRowSkip=function(){var t,n,o=this.possibleCenters.length;if(o<=1)return 0;var u=null;try{for(var f=La(this.possibleCenters),p=f.next();!p.done;p=f.next()){var v=p.value;if(v.getCount()>=i.CENTER_QUORUM)if(u==null)u=v;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-v.getX())-Math.abs(u.getY()-v.getY()))/2)}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return 0},i.prototype.haveMultiplyConfirmedCenters=function(){var t,n,o,u,f=0,p=0,v=this.possibleCenters.length;try{for(var _=La(this.possibleCenters),A=_.next();!A.done;A=_.next()){var I=A.value;I.getCount()>=i.CENTER_QUORUM&&(f++,p+=I.getEstimatedModuleSize())}}catch(j){t={error:j}}finally{try{A&&!A.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}if(f<3)return!1;var b=p/v,O=0;try{for(var D=La(this.possibleCenters),V=D.next();!V.done;V=D.next()){var I=V.value;O+=Math.abs(I.getEstimatedModuleSize()-b)}}catch(j){o={error:j}}finally{try{V&&!V.done&&(u=D.return)&&u.call(D)}finally{if(o)throw o.error}}return O<=.05*p},i.prototype.selectBestPatterns=function(){var t,n,o,u,f=this.possibleCenters.length;if(f<3)throw new et;var p=this.possibleCenters,v;if(f>3){var _=0,A=0;try{for(var I=La(this.possibleCenters),b=I.next();!b.done;b=I.next()){var O=b.value,D=O.getEstimatedModuleSize();_+=D,A+=D*D}}catch(St){t={error:St}}finally{try{b&&!b.done&&(n=I.return)&&n.call(I)}finally{if(t)throw t.error}}v=_/f;var V=Math.sqrt(A/f-v*v);p.sort(function(St,Rt){var Ot=Math.abs(Rt.getEstimatedModuleSize()-v),Ht=Math.abs(St.getEstimatedModuleSize()-v);return Ot<Ht?-1:Ot>Ht?1:0});for(var j=Math.max(.2*v,V),nt=0;nt<p.length&&p.length>3;nt++){var Z=p[nt];Math.abs(Z.getEstimatedModuleSize()-v)>j&&(p.splice(nt,1),nt--)}}if(p.length>3){var _=0;try{for(var J=La(p),ht=J.next();!ht.done;ht=J.next()){var gt=ht.value;_+=gt.getEstimatedModuleSize()}}catch(Rt){o={error:Rt}}finally{try{ht&&!ht.done&&(u=J.return)&&u.call(J)}finally{if(o)throw o.error}}v=_/p.length,p.sort(function(Rt,Ot){if(Ot.getCount()===Rt.getCount()){var Ht=Math.abs(Ot.getEstimatedModuleSize()-v),de=Math.abs(Rt.getEstimatedModuleSize()-v);return Ht<de?1:Ht>de?-1:0}else return Ot.getCount()-Rt.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]},i.CENTER_QUORUM=2,i.MIN_SKIP=3,i.MAX_MODULES=57,i}(),Uc=function(){function i(t){this.image=t}return i.prototype.getImage=function(){return this.image},i.prototype.getResultPointCallback=function(){return this.resultPointCallback},i.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(Q.NEED_RESULT_POINT_CALLBACK);var n=new Vc(this.image,this.resultPointCallback),o=n.find(t);return this.processFinderPatternInfo(o)},i.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),o=t.getTopRight(),u=t.getBottomLeft(),f=this.calculateModuleSize(n,o,u);if(f<1)throw new et("No pattern found in proccess finder.");var p=i.computeDimension(n,o,u,f),v=R.getProvisionalVersionForDimension(p),_=v.getDimensionForVersion()-7,A=null;if(v.getAlignmentPatternCenters().length>0)for(var I=o.getX()-n.getX()+u.getX(),b=o.getY()-n.getY()+u.getY(),O=1-3/_,D=Math.floor(n.getX()+O*(I-n.getX())),V=Math.floor(n.getY()+O*(b-n.getY())),j=4;j<=16;j<<=1)try{A=this.findAlignmentInRegion(f,D,V,j);break}catch(ht){if(!(ht instanceof et))throw ht}var nt=i.createTransform(n,o,u,A,p),Z=i.sampleGrid(this.image,nt,p),J;return A===null?J=[u,n,o]:J=[u,n,o,A],new vr(Z,J)},i.createTransform=function(t,n,o,u,f){var p=f-3.5,v,_,A,I;return u!==null?(v=u.getX(),_=u.getY(),A=p-3,I=A):(v=n.getX()-t.getX()+o.getX(),_=n.getY()-t.getY()+o.getY(),A=p,I=p),Aa.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,A,I,3.5,p,t.getX(),t.getY(),n.getX(),n.getY(),v,_,o.getX(),o.getY())},i.sampleGrid=function(t,n,o){var u=ji.getInstance();return u.sampleGridWithTransform(t,o,o,n)},i.computeDimension=function(t,n,o,u){var f=he.round(Vt.distance(t,n)/u),p=he.round(Vt.distance(t,o)/u),v=Math.floor((f+p)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new et("Dimensions could be not found.")}return v},i.prototype.calculateModuleSize=function(t,n,o){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,o))/2},i.prototype.calculateModuleSizeOneWay=function(t,n){var o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?u/7:isNaN(u)?o/7:(o+u)/14},i.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,n,o,u){var f=this.sizeOfBlackWhiteBlackRun(t,n,o,u),p=1,v=t-(o-t);v<0?(p=t/(t-v),v=0):v>=this.image.getWidth()&&(p=(this.image.getWidth()-1-t)/(v-t),v=this.image.getWidth()-1);var _=Math.floor(n-(u-n)*p);return p=1,_<0?(p=n/(n-_),_=0):_>=this.image.getHeight()&&(p=(this.image.getHeight()-1-n)/(_-n),_=this.image.getHeight()-1),v=Math.floor(t+(v-t)*p),f+=this.sizeOfBlackWhiteBlackRun(t,n,v,_),f-1},i.prototype.sizeOfBlackWhiteBlackRun=function(t,n,o,u){var f=Math.abs(u-n)>Math.abs(o-t);if(f){var p=t;t=n,n=p,p=o,o=u,u=p}for(var v=Math.abs(o-t),_=Math.abs(u-n),A=-v/2,I=t<o?1:-1,b=n<u?1:-1,O=0,D=o+I,V=t,j=n;V!==D;V+=I){var nt=f?j:V,Z=f?V:j;if(O===1===this.image.get(nt,Z)){if(O===2)return he.distance(V,j,t,n);O++}if(A+=_,A>0){if(j===u)break;j+=b,A-=v}}return O===2?he.distance(o+I,u,t,n):NaN},i.prototype.findAlignmentInRegion=function(t,n,o,u){var f=Math.floor(u*t),p=Math.max(0,n-f),v=Math.min(this.image.getWidth()-1,n+f);if(v-p<t*3)throw new et("Alignment top exceeds estimated module size.");var _=Math.max(0,o-f),A=Math.min(this.image.getHeight()-1,o+f);if(A-_<t*3)throw new et("Alignment bottom exceeds estimated module size.");var I=new _u(this.image,p,_,v-p,A-_,t,this.resultPointCallback);return I.find()},i}(),Cs=function(){function i(){this.decoder=new Oi}return i.prototype.getDecoder=function(){return this.decoder},i.prototype.decode=function(t,n){var o,u;if(n!=null&&n.get(Q.PURE_BARCODE)!==void 0){var f=i.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(f,n),u=i.NO_POINTS}else{var p=new Uc(t.getBlackMatrix()).detect(n);o=this.decoder.decodeBitMatrix(p.getBits(),n),u=p.getPoints()}o.getOther()instanceof dn&&o.getOther().applyMirroredCorrection(u);var v=new hn(o.getText(),o.getRawBytes(),void 0,u,qt.QR_CODE,void 0),_=o.getByteSegments();_!==null&&v.putMetadata($e.BYTE_SEGMENTS,_);var A=o.getECLevel();return A!==null&&v.putMetadata($e.ERROR_CORRECTION_LEVEL,A),o.hasStructuredAppend()&&(v.putMetadata($e.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),v.putMetadata($e.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),v},i.prototype.reset=function(){},i.extractPureBits=function(t){var n=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(n===null||o===null)throw new et;var u=this.moduleSize(n,t),f=n[1],p=o[1],v=n[0],_=o[0];if(v>=_||f>=p)throw new et;if(p-f!==_-v&&(_=v+(p-f),_>=t.getWidth()))throw new et;var A=Math.round((_-v+1)/u),I=Math.round((p-f+1)/u);if(A<=0||I<=0)throw new et;if(I!==A)throw new et;var b=Math.floor(u/2);f+=b,v+=b;var O=v+Math.floor((A-1)*u)-_;if(O>0){if(O>b)throw new et;v-=O}var D=f+Math.floor((I-1)*u)-p;if(D>0){if(D>b)throw new et;f-=D}for(var V=new Nt(A,I),j=0;j<I;j++)for(var nt=f+Math.floor(j*u),Z=0;Z<A;Z++)t.get(v+Math.floor(Z*u),nt)&&V.set(Z,j);return V},i.moduleSize=function(t,n){for(var o=n.getHeight(),u=n.getWidth(),f=t[0],p=t[1],v=!0,_=0;f<u&&p<o;){if(v!==n.get(f,p)){if(++_===5)break;v=!v}f++,p++}if(f===u||p===o)throw new et;return(f-t[0])/7},i.NO_POINTS=new Array,i}(),nd=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Te=function(){function i(){}return i.prototype.PDF417Common=function(){},i.getBitCountSum=function(t){return he.sum(t)},i.toIntArray=function(t){var n,o;if(t==null||!t.length)return i.EMPTY_INT_ARRAY;var u=new Int32Array(t.length),f=0;try{for(var p=nd(t),v=p.next();!v.done;v=p.next()){var _=v.value;u[f++]=_}}catch(A){n={error:A}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return u},i.getCodeword=function(t){var n=$.binarySearch(i.SYMBOL_TABLE,t&262143);return n<0?-1:(i.CODEWORD_TABLE[n]-1)%i.NUMBER_OF_CODEWORDS},i.NUMBER_OF_CODEWORDS=929,i.MAX_CODEWORDS_IN_BARCODE=i.NUMBER_OF_CODEWORDS-1,i.MIN_ROWS_IN_BARCODE=3,i.MAX_ROWS_IN_BARCODE=90,i.MODULES_IN_CODEWORD=17,i.MODULES_IN_STOP_PATTERN=18,i.BARS_IN_MODULE=8,i.EMPTY_INT_ARRAY=new Int32Array([]),i.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),i.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),i}(),rd=function(){function i(t,n){this.bits=t,this.points=n}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}(),id=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ad=function(){function i(){}return i.detectMultiple=function(t,n,o){var u=t.getBlackMatrix(),f=i.detect(o,u);return f.length||(u=u.clone(),u.rotate180(),f=i.detect(o,u)),new rd(u,f)},i.detect=function(t,n){for(var o,u,f=new Array,p=0,v=0,_=!1;p<n.getHeight();){var A=i.findVertices(n,p,v);if(A[0]==null&&A[3]==null){if(!_)break;_=!1,v=0;try{for(var I=(o=void 0,id(f)),b=I.next();!b.done;b=I.next()){var O=b.value;O[1]!=null&&(p=Math.trunc(Math.max(p,O[1].getY()))),O[3]!=null&&(p=Math.max(p,Math.trunc(O[3].getY())))}}catch(D){o={error:D}}finally{try{b&&!b.done&&(u=I.return)&&u.call(I)}finally{if(o)throw o.error}}p+=i.ROW_STEP;continue}if(_=!0,f.push(A),!t)break;A[2]!=null?(v=Math.trunc(A[2].getX()),p=Math.trunc(A[2].getY())):(v=Math.trunc(A[4].getX()),p=Math.trunc(A[4].getY()))}return f},i.findVertices=function(t,n,o){var u=t.getHeight(),f=t.getWidth(),p=new Array(8);return i.copyToResult(p,i.findRowsWithPattern(t,u,f,n,o,i.START_PATTERN),i.INDEXES_START_PATTERN),p[4]!=null&&(o=Math.trunc(p[4].getX()),n=Math.trunc(p[4].getY())),i.copyToResult(p,i.findRowsWithPattern(t,u,f,n,o,i.STOP_PATTERN),i.INDEXES_STOP_PATTERN),p},i.copyToResult=function(t,n,o){for(var u=0;u<o.length;u++)t[o[u]]=n[u]},i.findRowsWithPattern=function(t,n,o,u,f,p){for(var v=new Array(4),_=!1,A=new Int32Array(p.length);u<n;u+=i.ROW_STEP){var I=i.findGuardPattern(t,f,u,o,!1,p,A);if(I!=null){for(;u>0;){var b=i.findGuardPattern(t,f,--u,o,!1,p,A);if(b!=null)I=b;else{u++;break}}v[0]=new Vt(I[0],u),v[1]=new Vt(I[1],u),_=!0;break}}var O=u+1;if(_){for(var D=0,b=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);O<n;O++){var I=i.findGuardPattern(t,b[0],O,o,!1,p,A);if(I!=null&&Math.abs(b[0]-I[0])<i.MAX_PATTERN_DRIFT&&Math.abs(b[1]-I[1])<i.MAX_PATTERN_DRIFT)b=I,D=0;else{if(D>i.SKIPPED_ROW_COUNT_MAX)break;D++}}O-=D+1,v[2]=new Vt(b[0],O),v[3]=new Vt(b[1],O)}return O-u<i.BARCODE_MIN_HEIGHT&&$.fill(v,null),v},i.findGuardPattern=function(t,n,o,u,f,p,v){$.fillWithin(v,0,v.length,0);for(var _=n,A=0;t.get(_,o)&&_>0&&A++<i.MAX_PIXEL_DRIFT;)_--;for(var I=_,b=0,O=p.length,D=f;I<u;I++){var V=t.get(I,o);if(V!==D)v[b]++;else{if(b===O-1){if(i.patternMatchVariance(v,p,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE)return new Int32Array([_,I]);_+=v[0]+v[1],it.arraycopy(v,2,v,0,b-1),v[b-1]=0,v[b]=0,b--}else b++;v[b]=1,D=!D}}return b===O-1&&i.patternMatchVariance(v,p,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE?new Int32Array([_,I-1]):null},i.patternMatchVariance=function(t,n,o){for(var u=t.length,f=0,p=0,v=0;v<u;v++)f+=t[v],p+=n[v];if(f<p)return 1/0;var _=f/p;o*=_;for(var A=0,I=0;I<u;I++){var b=t[I],O=n[I]*_,D=b>O?b-O:O-b;if(D>o)return 1/0;A+=D}return A/f},i.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),i.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),i.MAX_AVG_VARIANCE=.42,i.MAX_INDIVIDUAL_VARIANCE=.8,i.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),i.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),i.MAX_PIXEL_DRIFT=3,i.MAX_PATTERN_DRIFT=5,i.SKIPPED_ROW_COUNT_MAX=25,i.ROW_STEP=5,i.BARCODE_MIN_HEIGHT=10,i}(),lr=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Br=function(){function i(t,n){if(n.length===0)throw new L;this.field=t;var o=n.length;if(o>1&&n[0]===0){for(var u=1;u<o&&n[u]===0;)u++;u===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-u),it.arraycopy(n,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},i.prototype.evaluateAt=function(t){var n,o;if(t===0)return this.getCoefficient(0);if(t===1){var u=0;try{for(var f=lr(this.coefficients),p=f.next();!p.done;p=f.next()){var v=p.value;u=this.field.add(u,v)}}catch(b){n={error:b}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return u}for(var _=this.coefficients[0],A=this.coefficients.length,I=1;I<A;I++)_=this.field.add(this.field.multiply(t,_),this.coefficients[I]);return _},i.prototype.add=function(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,o=t.coefficients;if(n.length>o.length){var u=n;n=o,o=u}var f=new Int32Array(o.length),p=o.length-n.length;it.arraycopy(o,0,f,0,p);for(var v=p;v<o.length;v++)f[v]=this.field.add(n[v-p],o[v]);return new i(this.field,f)},i.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},i.prototype.multiply=function(t){return t instanceof i?this.multiplyOther(t):this.multiplyScalar(t)},i.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new i(this.field,new Int32Array([0]));for(var n=this.coefficients,o=n.length,u=t.coefficients,f=u.length,p=new Int32Array(o+f-1),v=0;v<o;v++)for(var _=n[v],A=0;A<f;A++)p[v+A]=this.field.add(p[v+A],this.field.multiply(_,u[A]));return new i(this.field,p)},i.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),o=0;o<t;o++)n[o]=this.field.subtract(0,this.coefficients[o]);return new i(this.field,n)},i.prototype.multiplyScalar=function(t){if(t===0)return new i(this.field,new Int32Array([0]));if(t===1)return this;for(var n=this.coefficients.length,o=new Int32Array(n),u=0;u<n;u++)o[u]=this.field.multiply(this.coefficients[u],t);return new i(this.field,o)},i.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new L;if(n===0)return new i(this.field,new Int32Array([0]));for(var o=this.coefficients.length,u=new Int32Array(o+t),f=0;f<o;f++)u[f]=this.field.multiply(this.coefficients[f],n);return new i(this.field,u)},i.prototype.toString=function(){for(var t=new mt,n=this.getDegree();n>=0;n--){var o=this.getCoefficient(n);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(n===0||o!==1)&&t.append(o),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()},i}(),Fc=function(){function i(){}return i.prototype.add=function(t,n){return(t+n)%this.modulus},i.prototype.subtract=function(t,n){return(this.modulus+t-n)%this.modulus},i.prototype.exp=function(t){return this.expTable[t]},i.prototype.log=function(t){if(t===0)throw new L;return this.logTable[t]},i.prototype.inverse=function(t){if(t===0)throw new Yr;return this.expTable[this.modulus-this.logTable[t]-1]},i.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]},i.prototype.getSize=function(){return this.modulus},i.prototype.equals=function(t){return t===this},i}(),Hc=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),zc=function(i){Hc(t,i);function t(n,o){var u=i.call(this)||this;u.modulus=n,u.expTable=new Int32Array(n),u.logTable=new Int32Array(n);for(var f=1,p=0;p<n;p++)u.expTable[p]=f,f=f*o%n;for(var p=0;p<n-1;p++)u.logTable[u.expTable[p]]=p;return u.zero=new Br(u,new Int32Array([0])),u.one=new Br(u,new Int32Array([1])),u}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,o){if(n<0)throw new L;if(o===0)return this.zero;var u=new Int32Array(n+1);return u[0]=o,new Br(this,u)},t.PDF417_GF=new t(Te.NUMBER_OF_CODEWORDS,3),t}(Fc),Gc=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yl=function(){function i(){this.field=zc.PDF417_GF}return i.prototype.decode=function(t,n,o){for(var u,f,p=new Br(this.field,t),v=new Int32Array(n),_=!1,A=n;A>0;A--){var I=p.evaluateAt(this.field.exp(A));v[n-A]=I,I!==0&&(_=!0)}if(!_)return 0;var b=this.field.getOne();if(o!=null)try{for(var O=Gc(o),D=O.next();!D.done;D=O.next()){var V=D.value,j=this.field.exp(t.length-1-V),nt=new Br(this.field,new Int32Array([this.field.subtract(0,j),1]));b=b.multiply(nt)}}catch(Ht){u={error:Ht}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}for(var Z=new Br(this.field,v),J=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),Z,n),ht=J[0],gt=J[1],St=this.findErrorLocations(ht),Rt=this.findErrorMagnitudes(gt,ht,St),A=0;A<St.length;A++){var Ot=t.length-1-this.field.log(St[A]);if(Ot<0)throw at.getChecksumInstance();t[Ot]=this.field.subtract(t[Ot],Rt[A])}return St.length},i.prototype.runEuclideanAlgorithm=function(t,n,o){if(t.getDegree()<n.getDegree()){var u=t;t=n,n=u}for(var f=t,p=n,v=this.field.getZero(),_=this.field.getOne();p.getDegree()>=Math.round(o/2);){var A=f,I=v;if(f=p,v=_,f.isZero())throw at.getChecksumInstance();p=A;for(var b=this.field.getZero(),O=f.getCoefficient(f.getDegree()),D=this.field.inverse(O);p.getDegree()>=f.getDegree()&&!p.isZero();){var V=p.getDegree()-f.getDegree(),j=this.field.multiply(p.getCoefficient(p.getDegree()),D);b=b.add(this.field.buildMonomial(V,j)),p=p.subtract(f.multiplyByMonomial(V,j))}_=b.multiply(v).subtract(I).negative()}var nt=_.getCoefficient(0);if(nt===0)throw at.getChecksumInstance();var Z=this.field.inverse(nt),J=_.multiply(Z),ht=p.multiply(Z);return[J,ht]},i.prototype.findErrorLocations=function(t){for(var n=t.getDegree(),o=new Int32Array(n),u=0,f=1;f<this.field.getSize()&&u<n;f++)t.evaluateAt(f)===0&&(o[u]=this.field.inverse(f),u++);if(u!==n)throw at.getChecksumInstance();return o},i.prototype.findErrorMagnitudes=function(t,n,o){for(var u=n.getDegree(),f=new Int32Array(u),p=1;p<=u;p++)f[u-p]=this.field.multiply(p,n.getCoefficient(p));for(var v=new Br(this.field,f),_=o.length,A=new Int32Array(_),p=0;p<_;p++){var I=this.field.inverse(o[p]),b=this.field.subtract(0,t.evaluateAt(I)),O=this.field.inverse(v.evaluateAt(I));A[p]=this.field.multiply(b,O)}return A},i}(),_l=function(){function i(t,n,o,u,f){t instanceof i?this.constructor_2(t):this.constructor_1(t,n,o,u,f)}return i.prototype.constructor_1=function(t,n,o,u,f){var p=n==null||o==null,v=u==null||f==null;if(p&&v)throw new et;p?(n=new Vt(0,u.getY()),o=new Vt(0,f.getY())):v&&(u=new Vt(t.getWidth()-1,n.getY()),f=new Vt(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=n,this.bottomLeft=o,this.topRight=u,this.bottomRight=f,this.minX=Math.trunc(Math.min(n.getX(),o.getX())),this.maxX=Math.trunc(Math.max(u.getX(),f.getX())),this.minY=Math.trunc(Math.min(n.getY(),u.getY())),this.maxY=Math.trunc(Math.max(o.getY(),f.getY()))},i.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},i.merge=function(t,n){return t==null?n:n==null?t:new i(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},i.prototype.addMissingRows=function(t,n,o){var u=this.topLeft,f=this.bottomLeft,p=this.topRight,v=this.bottomRight;if(t>0){var _=o?this.topLeft:this.topRight,A=Math.trunc(_.getY()-t);A<0&&(A=0);var I=new Vt(_.getX(),A);o?u=I:p=I}if(n>0){var b=o?this.bottomLeft:this.bottomRight,O=Math.trunc(b.getY()+n);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);var D=new Vt(b.getX(),O);o?f=D:v=D}return new i(this.image,u,f,p,v)},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getBottomRight=function(){return this.bottomRight},i}(),od=function(){function i(t,n,o,u){this.columnCount=t,this.errorCorrectionLevel=u,this.rowCountUpperPart=n,this.rowCountLowerPart=o,this.rowCount=n+o}return i.prototype.getColumnCount=function(){return this.columnCount},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},i.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},i}(),na=function(){function i(){this.buffer=""}return i.form=function(t,n){var o=-1;function u(p,v,_,A,I,b){if(p==="%%")return"%";if(n[++o]!==void 0){p=A?parseInt(A.substr(1)):void 0;var O=I?parseInt(I.substr(1)):void 0,D;switch(b){case"s":D=n[o];break;case"c":D=n[o][0];break;case"f":D=parseFloat(n[o]).toFixed(p);break;case"p":D=parseFloat(n[o]).toPrecision(p);break;case"e":D=parseFloat(n[o]).toExponential(p);break;case"x":D=parseInt(n[o]).toString(O||16);break;case"d":D=parseFloat(parseInt(n[o],O||10).toPrecision(p)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(O);for(var V=parseInt(_),j=_&&_[0]+""=="0"?"0":" ";D.length<V;)D=v!==void 0?D+j:j+D;return D}}var f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(f,u)},i.prototype.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.buffer+=i.form(t,n)},i.prototype.toString=function(){return this.buffer},i}(),El=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_o=function(){function i(t){this.boundingBox=new _l(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return i.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(n!=null)return n;for(var o=1;o<i.MAX_NEARBY_DISTANCE;o++){var u=this.imageRowToCodewordIndex(t)-o;if(u>=0&&(n=this.codewords[u],n!=null)||(u=this.imageRowToCodewordIndex(t)+o,u<this.codewords.length&&(n=this.codewords[u],n!=null)))return n}return null},i.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},i.prototype.setCodeword=function(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n},i.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.getCodewords=function(){return this.codewords},i.prototype.toString=function(){var t,n,o=new na,u=0;try{for(var f=El(this.codewords),p=f.next();!p.done;p=f.next()){var v=p.value;if(v==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,v.getRowNumber(),v.getValue())}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return o.toString()},i.MAX_NEARBY_DISTANCE=5,i}(),xl=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jc=function(i,t){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),u,f=[],p;try{for(;(t===void 0||t-- >0)&&!(u=o.next()).done;)f.push(u.value)}catch(v){p={error:v}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(p)throw p.error}}return f},kr=function(){function i(){this.values=new Map}return i.prototype.setValue=function(t){t=Math.trunc(t);var n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)},i.prototype.getValue=function(){var t,n,o=-1,u=new Array,f=function(b,O){var D={getKey:function(){return b},getValue:function(){return O}};D.getValue()>o?(o=D.getValue(),u=[],u.push(D.getKey())):D.getValue()===o&&u.push(D.getKey())};try{for(var p=xl(this.values.entries()),v=p.next();!v.done;v=p.next()){var _=jc(v.value,2),A=_[0],I=_[1];f(A,I)}}catch(b){t={error:b}}finally{try{v&&!v.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return Te.toIntArray(u)},i.prototype.getConfidence=function(t){return this.values.get(t)},i}(),Eo=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Is=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Al=function(i){Eo(t,i);function t(n,o){var u=i.call(this,n)||this;return u._isLeft=o,u}return t.prototype.setRowNumbers=function(){var n,o;try{for(var u=Is(this.getCodewords()),f=u.next();!f.done;f=u.next()){var p=f.value;p!=null&&p.setRowNumberAsRowIndicatorColumn()}}catch(v){n={error:v}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,n);for(var u=this.getBoundingBox(),f=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(f.getY())),_=this.imageRowToCodewordIndex(Math.trunc(p.getY())),A=-1,I=1,b=0,O=v;O<_;O++)if(o[O]!=null){var D=o[O],V=D.getRowNumber()-A;if(V===0)b++;else if(V===1)I=Math.max(I,b),b=1,A=D.getRowNumber();else if(V<0||D.getRowNumber()>=n.getRowCount()||V>O)o[O]=null;else{var j=void 0;I>2?j=(I-2)*V:j=V;for(var nt=j>=O,Z=1;Z<=j&&!nt;Z++)nt=o[O-Z]!=null;nt?o[O]=null:(A=D.getRowNumber(),b=1)}}},t.prototype.getRowHeights=function(){var n,o,u=this.getBarcodeMetadata();if(u==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(u);var f=new Int32Array(u.getRowCount());try{for(var p=Is(this.getCodewords()),v=p.next();!v.done;v=p.next()){var _=v.value;if(_!=null){var A=_.getRowNumber();if(A>=f.length)continue;f[A]++}}}catch(I){n={error:I}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return f},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=this.imageRowToCodewordIndex(Math.trunc(f.getY())),_=this.getCodewords(),A=-1,I=p;I<v;I++)if(_[I]!=null){var b=_[I];b.setRowNumberAsRowIndicatorColumn();var O=b.getRowNumber()-A;O===0||(O===1?A=b.getRowNumber():b.getRowNumber()>=n.getRowCount()?_[I]=null:A=b.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var n,o,u=this.getCodewords(),f=new kr,p=new kr,v=new kr,_=new kr;try{for(var A=Is(u),I=A.next();!I.done;I=A.next()){var b=I.value;if(b!=null){b.setRowNumberAsRowIndicatorColumn();var O=b.getValue()%30,D=b.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:p.setValue(O*3+1);break;case 1:_.setValue(O/3),v.setValue(O%3);break;case 2:f.setValue(O+1);break}}}}catch(j){n={error:j}}finally{try{I&&!I.done&&(o=A.return)&&o.call(A)}finally{if(n)throw n.error}}if(f.getValue().length===0||p.getValue().length===0||v.getValue().length===0||_.getValue().length===0||f.getValue()[0]<1||p.getValue()[0]+v.getValue()[0]<Te.MIN_ROWS_IN_BARCODE||p.getValue()[0]+v.getValue()[0]>Te.MAX_ROWS_IN_BARCODE)return null;var V=new od(f.getValue()[0],p.getValue()[0],v.getValue()[0],_.getValue()[0]);return this.removeIncorrectCodewords(u,V),V},t.prototype.removeIncorrectCodewords=function(n,o){for(var u=0;u<n.length;u++){var f=n[u];if(n[u]!=null){var p=f.getValue()%30,v=f.getRowNumber();if(v>o.getRowCount()){n[u]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:p*3+1!==o.getRowCountUpperPart()&&(n[u]=null);break;case 1:(Math.trunc(p/3)!==o.getErrorCorrectionLevel()||p%3!==o.getRowCountLowerPart())&&(n[u]=null);break;case 2:p+1!==o.getColumnCount()&&(n[u]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+i.prototype.toString.call(this)},t}(_o),Ba=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qc=function(){function i(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return i.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=Te.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns},i.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},i.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var o=this.detectionResultColumns[n].getCodewords(),u=0;u<o.length;u++)o[u]!=null&&(o[u].hasValidRowNumber()||this.adjustRowNumbers(n,u,o));return t},i.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},i.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),o=0;o<t.length;o++)if(t[o]!=null&&n[o]!=null&&t[o].getRowNumber()===n[o].getRowNumber())for(var u=1;u<=this.barcodeColumnCount;u++){var f=this.detectionResultColumns[u].getCodewords()[o];f!=null&&(f.setRowNumber(t[o].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[o]=null))}}},i.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),o=0;o<n.length;o++)if(n[o]!=null)for(var u=n[o].getRowNumber(),f=0,p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){var v=this.detectionResultColumns[p].getCodewords()[o];v!=null&&(f=i.adjustRowNumberIfValid(u,f,v),v.hasValidRowNumber()||t++)}return t},i.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),o=0;o<n.length;o++)if(n[o]!=null)for(var u=n[o].getRowNumber(),f=0,p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){var v=this.detectionResultColumns[p].getCodewords()[o];v!=null&&(f=i.adjustRowNumberIfValid(u,f,v),v.hasValidRowNumber()||t++)}return t},i.adjustRowNumberIfValid=function(t,n,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),n=0):++n),n},i.prototype.adjustRowNumbers=function(t,n,o){var u,f,p=o[n],v=this.detectionResultColumns[t-1].getCodewords(),_=v;this.detectionResultColumns[t+1]!=null&&(_=this.detectionResultColumns[t+1].getCodewords());var A=new Array(14);A[2]=v[n],A[3]=_[n],n>0&&(A[0]=o[n-1],A[4]=v[n-1],A[5]=_[n-1]),n>1&&(A[8]=o[n-2],A[10]=v[n-2],A[11]=_[n-2]),n<o.length-1&&(A[1]=o[n+1],A[6]=v[n+1],A[7]=_[n+1]),n<o.length-2&&(A[9]=o[n+2],A[12]=v[n+2],A[13]=_[n+2]);try{for(var I=Ba(A),b=I.next();!b.done;b=I.next()){var O=b.value;if(i.adjustRowNumber(p,O))return}}catch(D){u={error:D}}finally{try{b&&!b.done&&(f=I.return)&&f.call(I)}finally{if(u)throw u.error}}},i.adjustRowNumber=function(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1},i.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},i.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},i.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},i.prototype.setBoundingBox=function(t){this.boundingBox=t},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.setDetectionResultColumn=function(t,n){this.detectionResultColumns[t]=n},i.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},i.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new na,o=0;o<t.getCodewords().length;o++){n.format("CW %3d:",o);for(var u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){n.format("    |   ");continue}var f=this.detectionResultColumns[u].getCodewords()[o];if(f==null){n.format("    |   ");continue}n.format(" %3d|%3d",f.getRowNumber(),f.getValue())}n.format("%n")}return n.toString()},i}(),Xc=function(){function i(t,n,o,u){this.rowNumber=i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(o),this.value=Math.trunc(u)}return i.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},i.prototype.isValidRowNumber=function(t){return t!==i.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},i.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},i.prototype.getWidth=function(){return this.endX-this.startX},i.prototype.getStartX=function(){return this.startX},i.prototype.getEndX=function(){return this.endX},i.prototype.getBucket=function(){return this.bucket},i.prototype.getValue=function(){return this.value},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.setRowNumber=function(t){this.rowNumber=t},i.prototype.toString=function(){return this.rowNumber+"|"+this.value},i.BARCODE_ROW_UNKNOWN=-1,i}(),Yc=function(){function i(){}return i.initialize=function(){for(var t=0;t<Te.SYMBOL_TABLE.length;t++)for(var n=Te.SYMBOL_TABLE[t],o=n&1,u=0;u<Te.BARS_IN_MODULE;u++){for(var f=0;(n&1)===o;)f+=1,n>>=1;o=n&1,i.RATIOS_TABLE[t]||(i.RATIOS_TABLE[t]=new Array(Te.BARS_IN_MODULE)),i.RATIOS_TABLE[t][Te.BARS_IN_MODULE-u-1]=Math.fround(f/Te.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},i.getDecodedValue=function(t){var n=i.getDecodedCodewordValue(i.sampleBitCounts(t));return n!==-1?n:i.getClosestDecodedValue(t)},i.sampleBitCounts=function(t){for(var n=he.sum(t),o=new Int32Array(Te.BARS_IN_MODULE),u=0,f=0,p=0;p<Te.MODULES_IN_CODEWORD;p++){var v=n/(2*Te.MODULES_IN_CODEWORD)+p*n/Te.MODULES_IN_CODEWORD;f+t[u]<=v&&(f+=t[u],u++),o[u]++}return o},i.getDecodedCodewordValue=function(t){var n=i.getBitValue(t);return Te.getCodeword(n)===-1?-1:n},i.getBitValue=function(t){for(var n=0,o=0;o<t.length;o++)for(var u=0;u<t[o];u++)n=n<<1|(o%2===0?1:0);return Math.trunc(n)},i.getClosestDecodedValue=function(t){var n=he.sum(t),o=new Array(Te.BARS_IN_MODULE);if(n>1)for(var u=0;u<o.length;u++)o[u]=Math.fround(t[u]/n);var f=fo.MAX_VALUE,p=-1;this.bSymbolTableReady||i.initialize();for(var v=0;v<i.RATIOS_TABLE.length;v++){for(var _=0,A=i.RATIOS_TABLE[v],I=0;I<Te.BARS_IN_MODULE;I++){var b=Math.fround(A[I]-o[I]);if(_+=Math.fround(b*b),_>=f)break}_<f&&(f=_,p=Te.SYMBOL_TABLE[v])}return p},i.bSymbolTableReady=!1,i.RATIOS_TABLE=new Array(Te.SYMBOL_TABLE.length).map(function(t){return new Array(Te.BARS_IN_MODULE)}),i}(),sd=function(){function i(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return i.prototype.getSegmentIndex=function(){return this.segmentIndex},i.prototype.setSegmentIndex=function(t){this.segmentIndex=t},i.prototype.getFileId=function(){return this.fileId},i.prototype.setFileId=function(t){this.fileId=t},i.prototype.getOptionalData=function(){return this.optionalData},i.prototype.setOptionalData=function(t){this.optionalData=t},i.prototype.isLastSegment=function(){return this.lastSegment},i.prototype.setLastSegment=function(t){this.lastSegment=t},i.prototype.getSegmentCount=function(){return this.segmentCount},i.prototype.setSegmentCount=function(t){this.segmentCount=t},i.prototype.getSender=function(){return this.sender||null},i.prototype.setSender=function(t){this.sender=t},i.prototype.getAddressee=function(){return this.addressee||null},i.prototype.setAddressee=function(t){this.addressee=t},i.prototype.getFileName=function(){return this.fileName},i.prototype.setFileName=function(t){this.fileName=t},i.prototype.getFileSize=function(){return this.fileSize},i.prototype.setFileSize=function(t){this.fileSize=t},i.prototype.getChecksum=function(){return this.checksum},i.prototype.setChecksum=function(t){this.checksum=t},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.setTimestamp=function(t){this.timestamp=t},i}(),Kc=function(){function i(){}return i.parseLong=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},i}(),ud=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wc=function(i){ud(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="NullPointerException",t}(S),Qc=function(){function i(){}return i.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},i.prototype.writeBytesOffset=function(t,n,o){if(t==null)throw new Wc;if(n<0||n>t.length||o<0||n+o>t.length||n+o<0)throw new Tt;if(o===0)return;for(var u=0;u<o;u++)this.write(t[n+u])},i.prototype.flush=function(){},i.prototype.close=function(){},i}(),$c=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vr=function(i){$c(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t}(S),wr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xo=function(i){wr(t,i);function t(n){n===void 0&&(n=32);var o=i.call(this)||this;if(o.count=0,n<0)throw new L("Negative initial size: "+n);return o.buf=new Uint8Array(n),o}return t.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},t.prototype.grow=function(n){var o=this.buf.length,u=o<<1;if(u-n<0&&(u=n),u<0){if(n<0)throw new Vr;u=G.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,u)},t.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},t.prototype.writeBytesOffset=function(n,o,u){if(o<0||o>n.length||u<0||o+u-n.length>0)throw new Tt;this.ensureCapacity(this.count+u),it.arraycopy(n,o,this.buf,this.count,u),this.count+=u},t.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return $.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(n){return new String(this.buf).toString()},t.prototype.toString_number=function(n){return new String(this.buf).toString()},t.prototype.close=function(){},t}(Qc),De;(function(i){i[i.ALPHA=0]="ALPHA",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.PUNCT=3]="PUNCT",i[i.ALPHA_SHIFT=4]="ALPHA_SHIFT",i[i.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(De||(De={}));function bs(){if(typeof window<"u")return window.BigInt||null;if(typeof tm<"u")return tm.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ka;function ii(i){if(typeof ka>"u"&&(ka=bs()),ka===null)throw new Error("BigInt is not supported!");return ka(i)}function ra(){var i=[];i[0]=ii(1);var t=ii(900);i[1]=t;for(var n=2;n<16;n++)i[n]=i[n-1]*t;return i}var Zc=function(){function i(){}return i.decode=function(t,n){var o=new mt(""),u=It.ISO8859_1;o.enableDecoding(u);for(var f=1,p=t[f++],v=new sd;f<t[0];){switch(p){case i.TEXT_COMPACTION_MODE_LATCH:f=i.textCompaction(t,f,o);break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:f=i.byteCompaction(p,t,u,f,o);break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[f++]);break;case i.NUMERIC_COMPACTION_MODE_LATCH:f=i.numericCompaction(t,f,o);break;case i.ECI_CHARSET:It.getCharacterSetECIByValue(t[f++]);break;case i.ECI_GENERAL_PURPOSE:f+=2;break;case i.ECI_USER_DEFINED:f++;break;case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=i.decodeMacroBlock(t,f,v);break;case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:throw new F;default:f--,f=i.textCompaction(t,f,o);break}if(f<t.length)p=t[f++];else throw F.getFormatInstance()}if(o.length()===0)throw F.getFormatInstance();var _=new Sn(null,o.toString(),null,n);return _.setOther(v),_},i.decodeMacroBlock=function(t,n,o){if(n+i.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw F.getFormatInstance();for(var u=new Int32Array(i.NUMBER_OF_SEQUENCE_CODEWORDS),f=0;f<i.NUMBER_OF_SEQUENCE_CODEWORDS;f++,n++)u[f]=t[n];o.setSegmentIndex(G.parseInt(i.decodeBase900toBase10(u,i.NUMBER_OF_SEQUENCE_CODEWORDS)));var p=new mt;n=i.textCompaction(t,n,p),o.setFileId(p.toString());var v=-1;for(t[n]===i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=n+1);n<t[0];)switch(t[n]){case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var _=new mt;n=i.textCompaction(t,n+1,_),o.setFileName(_.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var A=new mt;n=i.textCompaction(t,n+1,A),o.setSender(A.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var I=new mt;n=i.textCompaction(t,n+1,I),o.setAddressee(I.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var b=new mt;n=i.numericCompaction(t,n+1,b),o.setSegmentCount(G.parseInt(b.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var O=new mt;n=i.numericCompaction(t,n+1,O),o.setTimestamp(Kc.parseLong(O.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var D=new mt;n=i.numericCompaction(t,n+1,D),o.setChecksum(G.parseInt(D.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var V=new mt;n=i.numericCompaction(t,n+1,V),o.setFileSize(Kc.parseLong(V.toString()));break;default:throw F.getFormatInstance()}break;case i.MACRO_PDF417_TERMINATOR:n++,o.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(v!==-1){var j=n-v;o.isLastSegment()&&j--,o.setOptionalData($.copyOfRange(t,v,v+j))}return n},i.textCompaction=function(t,n,o){for(var u=new Int32Array((t[0]-n)*2),f=new Int32Array((t[0]-n)*2),p=0,v=!1;n<t[0]&&!v;){var _=t[n++];if(_<i.TEXT_COMPACTION_MODE_LATCH)u[p]=_/30,u[p+1]=_%30,p+=2;else switch(_){case i.TEXT_COMPACTION_MODE_LATCH:u[p++]=i.TEXT_COMPACTION_MODE_LATCH;break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:n--,v=!0;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[p]=i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=t[n++],f[p]=_,p++;break}}return i.decodeTextCompaction(u,f,p,o),n},i.decodeTextCompaction=function(t,n,o,u){for(var f=De.ALPHA,p=De.ALPHA,v=0;v<o;){var _=t[v],A="";switch(f){case De.ALPHA:if(_<26)A=String.fromCharCode(65+_);else switch(_){case 26:A=" ";break;case i.LL:f=De.LOWER;break;case i.ML:f=De.MIXED;break;case i.PS:p=f,f=De.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[v]);break;case i.TEXT_COMPACTION_MODE_LATCH:f=De.ALPHA;break}break;case De.LOWER:if(_<26)A=String.fromCharCode(97+_);else switch(_){case 26:A=" ";break;case i.AS:p=f,f=De.ALPHA_SHIFT;break;case i.ML:f=De.MIXED;break;case i.PS:p=f,f=De.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[v]);break;case i.TEXT_COMPACTION_MODE_LATCH:f=De.ALPHA;break}break;case De.MIXED:if(_<i.PL)A=i.MIXED_CHARS[_];else switch(_){case i.PL:f=De.PUNCT;break;case 26:A=" ";break;case i.LL:f=De.LOWER;break;case i.AL:f=De.ALPHA;break;case i.PS:p=f,f=De.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[v]);break;case i.TEXT_COMPACTION_MODE_LATCH:f=De.ALPHA;break}break;case De.PUNCT:if(_<i.PAL)A=i.PUNCT_CHARS[_];else switch(_){case i.PAL:f=De.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[v]);break;case i.TEXT_COMPACTION_MODE_LATCH:f=De.ALPHA;break}break;case De.ALPHA_SHIFT:if(f=p,_<26)A=String.fromCharCode(65+_);else switch(_){case 26:A=" ";break;case i.TEXT_COMPACTION_MODE_LATCH:f=De.ALPHA;break}break;case De.PUNCT_SHIFT:if(f=p,_<i.PAL)A=i.PUNCT_CHARS[_];else switch(_){case i.PAL:f=De.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(n[v]);break;case i.TEXT_COMPACTION_MODE_LATCH:f=De.ALPHA;break}break}A!==""&&u.append(A),v++}},i.byteCompaction=function(t,n,o,u,f){var p=new xo,v=0,_=0,A=!1;switch(t){case i.BYTE_COMPACTION_MODE_LATCH:for(var I=new Int32Array(6),b=n[u++];u<n[0]&&!A;)switch(I[v++]=b,_=900*_+b,b=n[u++],b){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:u--,A=!0;break;default:if(v%5===0&&v>0){for(var O=0;O<6;++O)p.write(Number(ii(_)>>ii(8*(5-O))));_=0,v=0}break}u===n[0]&&b<i.TEXT_COMPACTION_MODE_LATCH&&(I[v++]=b);for(var D=0;D<v;D++)p.write(I[D]);break;case i.BYTE_COMPACTION_MODE_LATCH_6:for(;u<n[0]&&!A;){var V=n[u++];if(V<i.TEXT_COMPACTION_MODE_LATCH)v++,_=900*_+V;else switch(V){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:u--,A=!0;break}if(v%5===0&&v>0){for(var O=0;O<6;++O)p.write(Number(ii(_)>>ii(8*(5-O))));_=0,v=0}}break}return f.append(le.decode(p.toByteArray(),o)),u},i.numericCompaction=function(t,n,o){for(var u=0,f=!1,p=new Int32Array(i.MAX_NUMERIC_CODEWORDS);n<t[0]&&!f;){var v=t[n++];if(n===t[0]&&(f=!0),v<i.TEXT_COMPACTION_MODE_LATCH)p[u]=v,u++;else switch(v){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:n--,f=!0;break}(u%i.MAX_NUMERIC_CODEWORDS===0||v===i.NUMERIC_COMPACTION_MODE_LATCH||f)&&u>0&&(o.append(i.decodeBase900toBase10(p,u)),u=0)}return n},i.decodeBase900toBase10=function(t,n){for(var o=ii(0),u=0;u<n;u++)o+=i.EXP900[n-u-1]*ii(t[u]);var f=o.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)},i.TEXT_COMPACTION_MODE_LATCH=900,i.BYTE_COMPACTION_MODE_LATCH=901,i.NUMERIC_COMPACTION_MODE_LATCH=902,i.BYTE_COMPACTION_MODE_LATCH_6=924,i.ECI_USER_DEFINED=925,i.ECI_GENERAL_PURPOSE=926,i.ECI_CHARSET=927,i.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,i.MACRO_PDF417_TERMINATOR=922,i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,i.MAX_NUMERIC_CODEWORDS=15,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,i.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,i.PL=25,i.LL=27,i.AS=27,i.ML=28,i.AL=28,i.PS=29,i.PAL=29,i.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,i.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",i.EXP900=bs()?ra():[],i.NUMBER_OF_SEQUENCE_CODEWORDS=2,i}(),ia=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ao=function(){function i(){}return i.decode=function(t,n,o,u,f,p,v){for(var _=new _l(t,n,o,u,f),A=null,I=null,b,O=!0;;O=!1){if(n!=null&&(A=i.getRowIndicatorColumn(t,_,n,!0,p,v)),u!=null&&(I=i.getRowIndicatorColumn(t,_,u,!1,p,v)),b=i.merge(A,I),b==null)throw et.getNotFoundInstance();var D=b.getBoundingBox();if(O&&D!=null&&(D.getMinY()<_.getMinY()||D.getMaxY()>_.getMaxY()))_=D;else break}b.setBoundingBox(_);var V=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,A),b.setDetectionResultColumn(V,I);for(var j=A!=null,nt=1;nt<=V;nt++){var Z=j?nt:V-nt;if(b.getDetectionResultColumn(Z)===void 0){var J=void 0;Z===0||Z===V?J=new Al(_,Z===0):J=new _o(_),b.setDetectionResultColumn(Z,J);for(var ht=-1,gt=ht,St=_.getMinY();St<=_.getMaxY();St++){if(ht=i.getStartColumn(b,Z,St,j),ht<0||ht>_.getMaxX()){if(gt===-1)continue;ht=gt}var Rt=i.detectCodeword(t,_.getMinX(),_.getMaxX(),j,ht,St,p,v);Rt!=null&&(J.setCodeword(St,Rt),gt=ht,p=Math.min(p,Rt.getWidth()),v=Math.max(v,Rt.getWidth()))}}}return i.createDecoderResult(b)},i.merge=function(t,n){if(t==null&&n==null)return null;var o=i.getBarcodeMetadata(t,n);if(o==null)return null;var u=_l.merge(i.adjustBoundingBox(t),i.adjustBoundingBox(n));return new qc(o,u)},i.adjustBoundingBox=function(t){var n,o;if(t==null)return null;var u=t.getRowHeights();if(u==null)return null;var f=i.getMax(u),p=0;try{for(var v=ia(u),_=v.next();!_.done;_=v.next()){var A=_.value;if(p+=f-A,A>0)break}}catch(D){n={error:D}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}for(var I=t.getCodewords(),b=0;p>0&&I[b]==null;b++)p--;for(var O=0,b=u.length-1;b>=0&&(O+=f-u[b],!(u[b]>0));b--);for(var b=I.length-1;O>0&&I[b]==null;b--)O--;return t.getBoundingBox().addMissingRows(p,O,t.isLeft())},i.getMax=function(t){var n,o,u=-1;try{for(var f=ia(t),p=f.next();!p.done;p=f.next()){var v=p.value;u=Math.max(u,v)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return u},i.getBarcodeMetadata=function(t,n){var o;if(t==null||(o=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var u;return n==null||(u=n.getBarcodeMetadata())==null?o:o.getColumnCount()!==u.getColumnCount()&&o.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&o.getRowCount()!==u.getRowCount()?null:o},i.getRowIndicatorColumn=function(t,n,o,u,f,p){for(var v=new Al(n,u),_=0;_<2;_++)for(var A=_===0?1:-1,I=Math.trunc(Math.trunc(o.getX())),b=Math.trunc(Math.trunc(o.getY()));b<=n.getMaxY()&&b>=n.getMinY();b+=A){var O=i.detectCodeword(t,0,t.getWidth(),u,I,b,f,p);O!=null&&(v.setCodeword(b,O),u?I=O.getStartX():I=O.getEndX())}return v},i.adjustCodewordCount=function(t,n){var o=n[0][1],u=o.getValue(),f=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-i.getNumberOfECCodeWords(t.getBarcodeECLevel());if(u.length===0){if(f<1||f>Te.MAX_CODEWORDS_IN_BARCODE)throw et.getNotFoundInstance();o.setValue(f)}else u[0]!==f&&o.setValue(f)},i.createDecoderResult=function(t){var n=i.createBarcodeMatrix(t);i.adjustCodewordCount(t,n);for(var o=new Array,u=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),f=[],p=new Array,v=0;v<t.getBarcodeRowCount();v++)for(var _=0;_<t.getBarcodeColumnCount();_++){var A=n[v][_+1].getValue(),I=v*t.getBarcodeColumnCount()+_;A.length===0?o.push(I):A.length===1?u[I]=A[0]:(p.push(I),f.push(A))}for(var b=new Array(f.length),O=0;O<b.length;O++)b[O]=f[O];return i.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),u,Te.toIntArray(o),Te.toIntArray(p),b)},i.createDecoderResultFromAmbiguousValues=function(t,n,o,u,f){for(var p=new Int32Array(u.length),v=100;v-- >0;){for(var _=0;_<p.length;_++)n[u[_]]=f[_][p[_]];try{return i.decodeCodewords(n,t,o)}catch(I){var A=I instanceof at;if(!A)throw I}if(p.length===0)throw at.getChecksumInstance();for(var _=0;_<p.length;_++)if(p[_]<f[_].length-1){p[_]++;break}else if(p[_]=0,_===p.length-1)throw at.getChecksumInstance()}throw at.getChecksumInstance()},i.createBarcodeMatrix=function(t){for(var n,o,u,f,p=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),v=0;v<p.length;v++)for(var _=0;_<p[v].length;_++)p[v][_]=new kr;var A=0;try{for(var I=ia(t.getDetectionResultColumns()),b=I.next();!b.done;b=I.next()){var O=b.value;if(O!=null)try{for(var D=(u=void 0,ia(O.getCodewords())),V=D.next();!V.done;V=D.next()){var j=V.value;if(j!=null){var nt=j.getRowNumber();if(nt>=0){if(nt>=p.length)continue;p[nt][A].setValue(j.getValue())}}}}catch(Z){u={error:Z}}finally{try{V&&!V.done&&(f=D.return)&&f.call(D)}finally{if(u)throw u.error}}A++}}catch(Z){n={error:Z}}finally{try{b&&!b.done&&(o=I.return)&&o.call(I)}finally{if(n)throw n.error}}return p},i.isValidBarcodeColumn=function(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1},i.getStartColumn=function(t,n,o,u){var f,p,v=u?1:-1,_=null;if(i.isValidBarcodeColumn(t,n-v)&&(_=t.getDetectionResultColumn(n-v).getCodeword(o)),_!=null)return u?_.getEndX():_.getStartX();if(_=t.getDetectionResultColumn(n).getCodewordNearby(o),_!=null)return u?_.getStartX():_.getEndX();if(i.isValidBarcodeColumn(t,n-v)&&(_=t.getDetectionResultColumn(n-v).getCodewordNearby(o)),_!=null)return u?_.getEndX():_.getStartX();for(var A=0;i.isValidBarcodeColumn(t,n-v);){n-=v;try{for(var I=(f=void 0,ia(t.getDetectionResultColumn(n).getCodewords())),b=I.next();!b.done;b=I.next()){var O=b.value;if(O!=null)return(u?O.getEndX():O.getStartX())+v*A*(O.getEndX()-O.getStartX())}}catch(D){f={error:D}}finally{try{b&&!b.done&&(p=I.return)&&p.call(I)}finally{if(f)throw f.error}}A++}return u?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},i.detectCodeword=function(t,n,o,u,f,p,v,_){f=i.adjustCodewordStartColumn(t,n,o,u,f,p);var A=i.getModuleBitCount(t,n,o,u,f,p);if(A==null)return null;var I,b=he.sum(A);if(u)I=f+b;else{for(var O=0;O<A.length/2;O++){var D=A[O];A[O]=A[A.length-1-O],A[A.length-1-O]=D}I=f,f=I-b}if(!i.checkCodewordSkew(b,v,_))return null;var V=Yc.getDecodedValue(A),j=Te.getCodeword(V);return j===-1?null:new Xc(f,I,i.getCodewordBucketNumber(V),j)},i.getModuleBitCount=function(t,n,o,u,f,p){for(var v=f,_=new Int32Array(8),A=0,I=u?1:-1,b=u;(u?v<o:v>=n)&&A<_.length;)t.get(v,p)===b?(_[A]++,v+=I):(A++,b=!b);return A===_.length||v===(u?o:n)&&A===_.length-1?_:null},i.getNumberOfECCodeWords=function(t){return 2<<t},i.adjustCodewordStartColumn=function(t,n,o,u,f,p){for(var v=f,_=u?-1:1,A=0;A<2;A++){for(;(u?v>=n:v<o)&&u===t.get(v,p);){if(Math.abs(f-v)>i.CODEWORD_SKEW_SIZE)return f;v+=_}_=-_,u=!u}return v},i.checkCodewordSkew=function(t,n,o){return n-i.CODEWORD_SKEW_SIZE<=t&&t<=o+i.CODEWORD_SKEW_SIZE},i.decodeCodewords=function(t,n,o){if(t.length===0)throw F.getFormatInstance();var u=1<<n+1,f=i.correctErrors(t,o,u);i.verifyCodewordCount(t,u);var p=Zc.decode(t,""+n);return p.setErrorsCorrected(f),p.setErasures(o.length),p},i.correctErrors=function(t,n,o){if(n!=null&&n.length>o/2+i.MAX_ERRORS||o<0||o>i.MAX_EC_CODEWORDS)throw at.getChecksumInstance();return i.errorCorrection.decode(t,o,n)},i.verifyCodewordCount=function(t,n){if(t.length<4)throw F.getFormatInstance();var o=t[0];if(o>t.length)throw F.getFormatInstance();if(o===0)if(n<t.length)t[0]=t.length-n;else throw F.getFormatInstance()},i.getBitCountForCodeword=function(t){for(var n=new Int32Array(8),o=0,u=n.length-1;!((t&1)!==o&&(o=t&1,u--,u<0));)n[u]++,t>>=1;return n},i.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},i.getCodewordBucketNumber_number=function(t){return i.getCodewordBucketNumber(i.getBitCountForCodeword(t))},i.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},i.toString=function(t){for(var n=new na,o=0;o<t.length;o++){n.format("Row %2d: ",o);for(var u=0;u<t[o].length;u++){var f=t[o][u];f.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}n.format("%n")}return n.toString()},i.CODEWORD_SKEW_SIZE=2,i.MAX_ERRORS=3,i.MAX_EC_CODEWORDS=512,i.errorCorrection=new yl,i}(),Jc=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Hn=function(){function i(){}return i.prototype.decode=function(t,n){n===void 0&&(n=null);var o=i.decode(t,n,!1);if(o==null||o.length===0||o[0]==null)throw et.getNotFoundInstance();return o[0]},i.prototype.decodeMultiple=function(t,n){n===void 0&&(n=null);try{return i.decode(t,n,!0)}catch(o){throw o instanceof F||o instanceof at?et.getNotFoundInstance():o}},i.decode=function(t,n,o){var u,f,p=new Array,v=ad.detectMultiple(t,n,o);try{for(var _=Jc(v.getPoints()),A=_.next();!A.done;A=_.next()){var I=A.value,b=Ao.decode(v.getBits(),I[4],I[5],I[6],I[7],i.getMinCodewordWidth(I),i.getMaxCodewordWidth(I)),O=new hn(b.getText(),b.getRawBytes(),void 0,I,qt.PDF_417);O.putMetadata($e.ERROR_CORRECTION_LEVEL,b.getECLevel());var D=b.getOther();D!=null&&O.putMetadata($e.PDF417_EXTRA_METADATA,D),p.push(O)}}catch(V){u={error:V}}finally{try{A&&!A.done&&(f=_.return)&&f.call(_)}finally{if(u)throw u.error}}return p.map(function(V){return V})},i.getMaxWidth=function(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))},i.getMinWidth=function(t,n){return t==null||n==null?G.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))},i.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(i.getMaxWidth(t[0],t[4]),i.getMaxWidth(t[6],t[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.max(i.getMaxWidth(t[1],t[5]),i.getMaxWidth(t[7],t[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))},i.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(i.getMinWidth(t[0],t[4]),i.getMinWidth(t[6],t[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.min(i.getMinWidth(t[1],t[5]),i.getMinWidth(t[7],t[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))},i.prototype.reset=function(){},i}(),wo=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Va=function(i){wo(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="ReaderException",t}(S),Rs=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Os=function(){function i(){}return i.prototype.decode=function(t,n){return this.setHints(n),this.decodeInternal(t)},i.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},i.prototype.setHints=function(t){this.hints=t;var n=t!=null&&t.get(Q.TRY_HARDER)!==void 0,o=t==null?null:t.get(Q.POSSIBLE_FORMATS),u=new Array;if(o!=null){var f=o.some(function(p){return p===qt.UPC_A||p===qt.UPC_E||p===qt.EAN_13||p===qt.EAN_8||p===qt.CODABAR||p===qt.CODE_39||p===qt.CODE_93||p===qt.CODE_128||p===qt.ITF||p===qt.RSS_14||p===qt.RSS_EXPANDED});f&&!n&&u.push(new Lr(t)),o.includes(qt.QR_CODE)&&u.push(new Cs),o.includes(qt.DATA_MATRIX)&&u.push(new Pa),o.includes(qt.AZTEC)&&u.push(new Dr),o.includes(qt.PDF_417)&&u.push(new Hn),f&&n&&u.push(new Lr(t))}u.length===0&&(n||u.push(new Lr(t)),u.push(new Cs),u.push(new Pa),u.push(new Dr),u.push(new Hn),n&&u.push(new Lr(t))),this.readers=u},i.prototype.reset=function(){var t,n;if(this.readers!==null)try{for(var o=Rs(this.readers),u=o.next();!u.done;u=o.next()){var f=u.value;f.reset()}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},i.prototype.decodeInternal=function(t){var n,o;if(this.readers===null)throw new Va("No readers where selected, nothing can be read.");try{for(var u=Rs(this.readers),f=u.next();!f.done;f=u.next()){var p=f.value;try{return p.decode(t,this.hints)}catch(v){if(v instanceof Va)continue}}}catch(v){n={error:v}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}throw new et("No MultiFormat Readers were able to detect the code.")},i}(),Tr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){Tr(t,i);function t(n,o){n===void 0&&(n=null),o===void 0&&(o=500);var u=this,f=new Os;return f.setHints(n),u=i.call(this,f,o)||this,u}return t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t})(Rr);var Sr=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){Sr(t,i);function t(n){return n===void 0&&(n=500),i.call(this,new Hn,n)||this}return t})(Rr);var Ua=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){Ua(t,i);function t(n){return n===void 0&&(n=500),i.call(this,new Cs,n)||this}return t})(Rr);var Ur;(function(i){i[i.ERROR_CORRECTION=0]="ERROR_CORRECTION",i[i.CHARACTER_SET=1]="CHARACTER_SET",i[i.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",i[i.MIN_SIZE=3]="MIN_SIZE",i[i.MAX_SIZE=4]="MAX_SIZE",i[i.MARGIN=5]="MARGIN",i[i.PDF417_COMPACT=6]="PDF417_COMPACT",i[i.PDF417_COMPACTION=7]="PDF417_COMPACTION",i[i.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",i[i.AZTEC_LAYERS=9]="AZTEC_LAYERS",i[i.QR_VERSION=10]="QR_VERSION"})(Ur||(Ur={}));var un=Ur,aa=function(){function i(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ke(t,Int32Array.from([1])))}return i.prototype.buildGenerator=function(t){var n=this.cachedGenerators;if(t>=n.length)for(var o=n[n.length-1],u=this.field,f=n.length;f<=t;f++){var p=o.multiply(new ke(u,Int32Array.from([1,u.exp(f-1+u.getGeneratorBase())])));n.push(p),o=p}return n[t]},i.prototype.encode=function(t,n){if(n===0)throw new L("No error correction bytes");var o=t.length-n;if(o<=0)throw new L("No data bytes provided");var u=this.buildGenerator(n),f=new Int32Array(o);it.arraycopy(t,0,f,0,o);var p=new ke(this.field,f);p=p.multiplyByMonomial(n,1);for(var v=p.divide(u)[1],_=v.getCoefficients(),A=n-_.length,I=0;I<A;I++)t[o+I]=0;it.arraycopy(_,0,t,o+A,_.length)},i}(),To=function(){function i(){}return i.applyMaskPenaltyRule1=function(t){return i.applyMaskPenaltyRule1Internal(t,!0)+i.applyMaskPenaltyRule1Internal(t,!1)},i.applyMaskPenaltyRule2=function(t){for(var n=0,o=t.getArray(),u=t.getWidth(),f=t.getHeight(),p=0;p<f-1;p++)for(var v=o[p],_=0;_<u-1;_++){var A=v[_];A===v[_+1]&&A===o[p+1][_]&&A===o[p+1][_+1]&&n++}return i.N2*n},i.applyMaskPenaltyRule3=function(t){for(var n=0,o=t.getArray(),u=t.getWidth(),f=t.getHeight(),p=0;p<f;p++)for(var v=0;v<u;v++){var _=o[p];v+6<u&&_[v]===1&&_[v+1]===0&&_[v+2]===1&&_[v+3]===1&&_[v+4]===1&&_[v+5]===0&&_[v+6]===1&&(i.isWhiteHorizontal(_,v-4,v)||i.isWhiteHorizontal(_,v+7,v+11))&&n++,p+6<f&&o[p][v]===1&&o[p+1][v]===0&&o[p+2][v]===1&&o[p+3][v]===1&&o[p+4][v]===1&&o[p+5][v]===0&&o[p+6][v]===1&&(i.isWhiteVertical(o,v,p-4,p)||i.isWhiteVertical(o,v,p+7,p+11))&&n++}return n*i.N3},i.isWhiteHorizontal=function(t,n,o){n=Math.max(n,0),o=Math.min(o,t.length);for(var u=n;u<o;u++)if(t[u]===1)return!1;return!0},i.isWhiteVertical=function(t,n,o,u){o=Math.max(o,0),u=Math.min(u,t.length);for(var f=o;f<u;f++)if(t[f][n]===1)return!1;return!0},i.applyMaskPenaltyRule4=function(t){for(var n=0,o=t.getArray(),u=t.getWidth(),f=t.getHeight(),p=0;p<f;p++)for(var v=o[p],_=0;_<u;_++)v[_]===1&&n++;var A=t.getHeight()*t.getWidth(),I=Math.floor(Math.abs(n*2-A)*10/A);return I*i.N4},i.getDataMaskBit=function(t,n,o){var u,f;switch(t){case 0:u=o+n&1;break;case 1:u=o&1;break;case 2:u=n%3;break;case 3:u=(o+n)%3;break;case 4:u=Math.floor(o/2)+Math.floor(n/3)&1;break;case 5:f=o*n,u=(f&1)+f%3;break;case 6:f=o*n,u=(f&1)+f%3&1;break;case 7:f=o*n,u=f%3+(o+n&1)&1;break;default:throw new L("Invalid mask pattern: "+t)}return u===0},i.applyMaskPenaltyRule1Internal=function(t,n){for(var o=0,u=n?t.getHeight():t.getWidth(),f=n?t.getWidth():t.getHeight(),p=t.getArray(),v=0;v<u;v++){for(var _=0,A=-1,I=0;I<f;I++){var b=n?p[v][I]:p[I][v];b===A?_++:(_>=5&&(o+=i.N1+(_-5)),_=1,A=b)}_>=5&&(o+=i.N1+(_-5))}return o},i.N1=3,i.N2=3,i.N3=40,i.N4=10,i}(),wl=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tl=function(){function i(t,n){this.width=t,this.height=n;for(var o=new Array(n),u=0;u!==n;u++)o[u]=new Uint8Array(t);this.bytes=o}return i.prototype.getHeight=function(){return this.height},i.prototype.getWidth=function(){return this.width},i.prototype.get=function(t,n){return this.bytes[n][t]},i.prototype.getArray=function(){return this.bytes},i.prototype.setNumber=function(t,n,o){this.bytes[n][t]=o},i.prototype.setBoolean=function(t,n,o){this.bytes[n][t]=o?1:0},i.prototype.clear=function(t){var n,o;try{for(var u=wl(this.bytes),f=u.next();!f.done;f=u.next()){var p=f.value;$.fill(p,t)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},i.prototype.equals=function(t){if(!(t instanceof i))return!1;var n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(var o=0,u=this.height;o<u;++o)for(var f=this.bytes[o],p=n.bytes[o],v=0,_=this.width;v<_;++v)if(f[v]!==p[v])return!1;return!0},i.prototype.toString=function(){for(var t=new mt,n=0,o=this.height;n<o;++n){for(var u=this.bytes[n],f=0,p=this.width;f<p;++f)switch(u[f]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},i}(),bn=function(){function i(){this.maskPattern=-1}return i.prototype.getMode=function(){return this.mode},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getVersion=function(){return this.version},i.prototype.getMaskPattern=function(){return this.maskPattern},i.prototype.getMatrix=function(){return this.matrix},i.prototype.toString=function(){var t=new mt;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},i.prototype.setMode=function(t){this.mode=t},i.prototype.setECLevel=function(t){this.ecLevel=t},i.prototype.setVersion=function(t){this.version=t},i.prototype.setMaskPattern=function(t){this.maskPattern=t},i.prototype.setMatrix=function(t){this.matrix=t},i.isValidMaskPattern=function(t){return t>=0&&t<i.NUM_MASK_PATTERNS},i.NUM_MASK_PATTERNS=8,i}(),Rn=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),jt=function(i){Rn(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.kind="WriterException",t}(S),Cr=function(){function i(){}return i.clearMatrix=function(t){t.clear(255)},i.buildMatrix=function(t,n,o,u,f){i.clearMatrix(f),i.embedBasicPatterns(o,f),i.embedTypeInfo(n,u,f),i.maybeEmbedVersionInfo(o,f),i.embedDataBits(t,u,f)},i.embedBasicPatterns=function(t,n){i.embedPositionDetectionPatternsAndSeparators(n),i.embedDarkDotAtLeftBottomCorner(n),i.maybeEmbedPositionAdjustmentPatterns(t,n),i.embedTimingPatterns(n)},i.embedTypeInfo=function(t,n,o){var u=new z;i.makeTypeInfoBits(t,n,u);for(var f=0,p=u.getSize();f<p;++f){var v=u.get(u.getSize()-1-f),_=i.TYPE_INFO_COORDINATES[f],A=_[0],I=_[1];if(o.setBoolean(A,I,v),f<8){var b=o.getWidth()-f-1,O=8;o.setBoolean(b,O,v)}else{var b=8,O=o.getHeight()-7+(f-8);o.setBoolean(b,O,v)}}},i.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var o=new z;i.makeVersionInfoBits(t,o);for(var u=6*3-1,f=0;f<6;++f)for(var p=0;p<3;++p){var v=o.get(u);u--,n.setBoolean(f,n.getHeight()-11+p,v),n.setBoolean(n.getHeight()-11+p,f,v)}}},i.embedDataBits=function(t,n,o){for(var u=0,f=-1,p=o.getWidth()-1,v=o.getHeight()-1;p>0;){for(p===6&&(p-=1);v>=0&&v<o.getHeight();){for(var _=0;_<2;++_){var A=p-_;if(i.isEmpty(o.get(A,v))){var I=void 0;u<t.getSize()?(I=t.get(u),++u):I=!1,n!==255&&To.getDataMaskBit(n,A,v)&&(I=!I),o.setBoolean(A,v,I)}}v+=f}f=-f,v+=f,p-=2}if(u!==t.getSize())throw new jt("Not all bits consumed: "+u+"/"+t.getSize())},i.findMSBSet=function(t){return 32-G.numberOfLeadingZeros(t)},i.calculateBCHCode=function(t,n){if(n===0)throw new L("0 polynomial");var o=i.findMSBSet(n);for(t<<=o-1;i.findMSBSet(t)>=o;)t^=n<<i.findMSBSet(t)-o;return t},i.makeTypeInfoBits=function(t,n,o){if(!bn.isValidMaskPattern(n))throw new jt("Invalid mask pattern");var u=t.getBits()<<3|n;o.appendBits(u,5);var f=i.calculateBCHCode(u,i.TYPE_INFO_POLY);o.appendBits(f,10);var p=new z;if(p.appendBits(i.TYPE_INFO_MASK_PATTERN,15),o.xor(p),o.getSize()!==15)throw new jt("should not happen but we got: "+o.getSize())},i.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var o=i.calculateBCHCode(t.getVersionNumber(),i.VERSION_INFO_POLY);if(n.appendBits(o,12),n.getSize()!==18)throw new jt("should not happen but we got: "+n.getSize())},i.isEmpty=function(t){return t===255},i.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var o=(n+1)%2;i.isEmpty(t.get(n,6))&&t.setNumber(n,6,o),i.isEmpty(t.get(6,n))&&t.setNumber(6,n,o)}},i.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new jt;t.setNumber(8,t.getHeight()-8,1)},i.embedHorizontalSeparationPattern=function(t,n,o){for(var u=0;u<8;++u){if(!i.isEmpty(o.get(t+u,n)))throw new jt;o.setNumber(t+u,n,0)}},i.embedVerticalSeparationPattern=function(t,n,o){for(var u=0;u<7;++u){if(!i.isEmpty(o.get(t,n+u)))throw new jt;o.setNumber(t,n+u,0)}},i.embedPositionAdjustmentPattern=function(t,n,o){for(var u=0;u<5;++u)for(var f=i.POSITION_ADJUSTMENT_PATTERN[u],p=0;p<5;++p)o.setNumber(t+p,n+u,f[p])},i.embedPositionDetectionPattern=function(t,n,o){for(var u=0;u<7;++u)for(var f=i.POSITION_DETECTION_PATTERN[u],p=0;p<7;++p)o.setNumber(t+p,n+u,f[p])},i.embedPositionDetectionPatternsAndSeparators=function(t){var n=i.POSITION_DETECTION_PATTERN[0].length;i.embedPositionDetectionPattern(0,0,t),i.embedPositionDetectionPattern(t.getWidth()-n,0,t),i.embedPositionDetectionPattern(0,t.getWidth()-n,t);var o=8;i.embedHorizontalSeparationPattern(0,o-1,t),i.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),i.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);var u=7;i.embedVerticalSeparationPattern(u,0,t),i.embedVerticalSeparationPattern(t.getHeight()-u-1,0,t),i.embedVerticalSeparationPattern(u,t.getHeight()-u,t)},i.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var o=t.getVersionNumber()-1,u=i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o],f=0,p=u.length;f!==p;f++){var v=u[f];if(v>=0)for(var _=0;_!==p;_++){var A=u[_];A>=0&&i.isEmpty(n.get(A,v))&&i.embedPositionAdjustmentPattern(A-2,v-2,n)}}},i.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),i.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),i.VERSION_INFO_POLY=7973,i.TYPE_INFO_POLY=1335,i.TYPE_INFO_MASK_PATTERN=21522,i}(),ai=function(){function i(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}return i.prototype.getDataBytes=function(){return this.dataBytes},i.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},i}(),Eu=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oa=function(){function i(){}return i.calculateMaskPenalty=function(t){return To.applyMaskPenaltyRule1(t)+To.applyMaskPenaltyRule2(t)+To.applyMaskPenaltyRule3(t)+To.applyMaskPenaltyRule4(t)},i.encode=function(t,n,o){o===void 0&&(o=null);var u=i.DEFAULT_BYTE_MODE_ENCODING,f=o!==null&&o.get(un.CHARACTER_SET)!==void 0;f&&(u=o.get(un.CHARACTER_SET).toString());var p=this.chooseMode(t,u),v=new z;if(p===ee.BYTE&&(f||i.DEFAULT_BYTE_MODE_ENCODING!==u)){var _=It.getCharacterSetECIByName(u);_!==void 0&&this.appendECI(_,v)}this.appendModeInfo(p,v);var A=new z;this.appendBytes(t,p,A,u);var I;if(o!==null&&o.get(un.QR_VERSION)!==void 0){var b=Number.parseInt(o.get(un.QR_VERSION).toString(),10);I=R.getVersionForNumber(b);var O=this.calculateBitsNeeded(p,v,A,I);if(!this.willFit(O,I,n))throw new jt("Data too big for requested version")}else I=this.recommendVersion(n,p,v,A);var D=new z;D.appendBitArray(v);var V=p===ee.BYTE?A.getSizeInBytes():t.length;this.appendLengthInfo(V,I,p,D),D.appendBitArray(A);var j=I.getECBlocksForLevel(n),nt=I.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(nt,D);var Z=this.interleaveWithECBytes(D,I.getTotalCodewords(),nt,j.getNumBlocks()),J=new bn;J.setECLevel(n),J.setMode(p),J.setVersion(I);var ht=I.getDimensionForVersion(),gt=new Tl(ht,ht),St=this.chooseMaskPattern(Z,n,I,gt);return J.setMaskPattern(St),Cr.buildMatrix(Z,n,I,St,gt),J.setMatrix(gt),J},i.recommendVersion=function(t,n,o,u){var f=this.calculateBitsNeeded(n,o,u,R.getVersionForNumber(1)),p=this.chooseVersion(f,t),v=this.calculateBitsNeeded(n,o,u,p);return this.chooseVersion(v,t)},i.calculateBitsNeeded=function(t,n,o,u){return n.getSize()+t.getCharacterCountBits(u)+o.getSize()},i.getAlphanumericCode=function(t){return t<i.ALPHANUMERIC_TABLE.length?i.ALPHANUMERIC_TABLE[t]:-1},i.chooseMode=function(t,n){if(n===void 0&&(n=null),It.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return ee.KANJI;for(var o=!1,u=!1,f=0,p=t.length;f<p;++f){var v=t.charAt(f);if(i.isDigit(v))o=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)u=!0;else return ee.BYTE}return u?ee.ALPHANUMERIC:o?ee.NUMERIC:ee.BYTE},i.isOnlyDoubleByteKanji=function(t){var n;try{n=le.encode(t,It.SJIS)}catch{return!1}var o=n.length;if(o%2!==0)return!1;for(var u=0;u<o;u+=2){var f=n[u]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0},i.chooseMaskPattern=function(t,n,o,u){for(var f=Number.MAX_SAFE_INTEGER,p=-1,v=0;v<bn.NUM_MASK_PATTERNS;v++){Cr.buildMatrix(t,n,o,v,u);var _=this.calculateMaskPenalty(u);_<f&&(f=_,p=v)}return p},i.chooseVersion=function(t,n){for(var o=1;o<=40;o++){var u=R.getVersionForNumber(o);if(i.willFit(t,u,n))return u}throw new jt("Data too big")},i.willFit=function(t,n,o){var u=n.getTotalCodewords(),f=n.getECBlocksForLevel(o),p=f.getTotalECCodewords(),v=u-p,_=(t+7)/8;return v>=_},i.terminateBits=function(t,n){var o=t*8;if(n.getSize()>o)throw new jt("data bits cannot fit in the QR Code"+n.getSize()+" > "+o);for(var u=0;u<4&&n.getSize()<o;++u)n.appendBit(!1);var f=n.getSize()&7;if(f>0)for(var u=f;u<8;u++)n.appendBit(!1);for(var p=t-n.getSizeInBytes(),u=0;u<p;++u)n.appendBits((u&1)===0?236:17,8);if(n.getSize()!==o)throw new jt("Bits size does not equal capacity")},i.getNumDataBytesAndNumECBytesForBlockID=function(t,n,o,u,f,p){if(u>=o)throw new jt("Block ID too large");var v=t%o,_=o-v,A=Math.floor(t/o),I=A+1,b=Math.floor(n/o),O=b+1,D=A-b,V=I-O;if(D!==V)throw new jt("EC bytes mismatch");if(o!==_+v)throw new jt("RS blocks mismatch");if(t!==(b+D)*_+(O+V)*v)throw new jt("Total bytes mismatch");u<_?(f[0]=b,p[0]=D):(f[0]=O,p[0]=V)},i.interleaveWithECBytes=function(t,n,o,u){var f,p,v,_;if(t.getSizeInBytes()!==o)throw new jt("Number of bits and data bytes does not match");for(var A=0,I=0,b=0,O=new Array,D=0;D<u;++D){var V=new Int32Array(1),j=new Int32Array(1);i.getNumDataBytesAndNumECBytesForBlockID(n,o,u,D,V,j);var nt=V[0],Z=new Uint8Array(nt);t.toBytes(8*A,Z,0,nt);var J=i.generateECBytes(Z,j[0]);O.push(new ai(Z,J)),I=Math.max(I,nt),b=Math.max(b,J.length),A+=V[0]}if(o!==A)throw new jt("Data bytes does not match offset");for(var ht=new z,D=0;D<I;++D)try{for(var gt=(f=void 0,Eu(O)),St=gt.next();!St.done;St=gt.next()){var Rt=St.value,Z=Rt.getDataBytes();D<Z.length&&ht.appendBits(Z[D],8)}}catch(Lt){f={error:Lt}}finally{try{St&&!St.done&&(p=gt.return)&&p.call(gt)}finally{if(f)throw f.error}}for(var D=0;D<b;++D)try{for(var Ot=(v=void 0,Eu(O)),Ht=Ot.next();!Ht.done;Ht=Ot.next()){var Rt=Ht.value,J=Rt.getErrorCorrectionBytes();D<J.length&&ht.appendBits(J[D],8)}}catch(Lt){v={error:Lt}}finally{try{Ht&&!Ht.done&&(_=Ot.return)&&_.call(Ot)}finally{if(v)throw v.error}}if(n!==ht.getSizeInBytes())throw new jt("Interleaving error: "+n+" and "+ht.getSizeInBytes()+" differ.");return ht},i.generateECBytes=function(t,n){for(var o=t.length,u=new Int32Array(o+n),f=0;f<o;f++)u[f]=t[f]&255;new aa(_n.QR_CODE_FIELD_256).encode(u,n);for(var p=new Uint8Array(n),f=0;f<n;f++)p[f]=u[o+f];return p},i.appendModeInfo=function(t,n){n.appendBits(t.getBits(),4)},i.appendLengthInfo=function(t,n,o,u){var f=o.getCharacterCountBits(n);if(t>=1<<f)throw new jt(t+" is bigger than "+((1<<f)-1));u.appendBits(t,f)},i.appendBytes=function(t,n,o,u){switch(n){case ee.NUMERIC:i.appendNumericBytes(t,o);break;case ee.ALPHANUMERIC:i.appendAlphanumericBytes(t,o);break;case ee.BYTE:i.append8BitBytes(t,o,u);break;case ee.KANJI:i.appendKanjiBytes(t,o);break;default:throw new jt("Invalid mode: "+n)}},i.getDigit=function(t){return t.charCodeAt(0)-48},i.isDigit=function(t){var n=i.getDigit(t);return n>=0&&n<=9},i.appendNumericBytes=function(t,n){for(var o=t.length,u=0;u<o;){var f=i.getDigit(t.charAt(u));if(u+2<o){var p=i.getDigit(t.charAt(u+1)),v=i.getDigit(t.charAt(u+2));n.appendBits(f*100+p*10+v,10),u+=3}else if(u+1<o){var p=i.getDigit(t.charAt(u+1));n.appendBits(f*10+p,7),u+=2}else n.appendBits(f,4),u++}},i.appendAlphanumericBytes=function(t,n){for(var o=t.length,u=0;u<o;){var f=i.getAlphanumericCode(t.charCodeAt(u));if(f===-1)throw new jt;if(u+1<o){var p=i.getAlphanumericCode(t.charCodeAt(u+1));if(p===-1)throw new jt;n.appendBits(f*45+p,11),u+=2}else n.appendBits(f,6),u++}},i.append8BitBytes=function(t,n,o){var u;try{u=le.encode(t,o)}catch(_){throw new jt(_)}for(var f=0,p=u.length;f!==p;f++){var v=u[f];n.appendBits(v,8)}},i.appendKanjiBytes=function(t,n){var o;try{o=le.encode(t,It.SJIS)}catch(b){throw new jt(b)}for(var u=o.length,f=0;f<u;f+=2){var p=o[f]&255,v=o[f+1]&255,_=p<<8&4294967295|v,A=-1;if(_>=33088&&_<=40956?A=_-33088:_>=57408&&_<=60351&&(A=_-49472),A===-1)throw new jt("Invalid byte sequence");var I=(A>>8)*192+(A&255);n.appendBits(I,13)}},i.appendECI=function(t,n){n.appendBits(ee.ECI.getBits(),4),n.appendBits(t.getValue(),8)},i.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),i.DEFAULT_BYTE_MODE_ENCODING=It.UTF8.getName(),i}(),tf=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){tf(t,i);function t(n,o,u,f,p,v,_,A){var I=i.call(this,v,_)||this;if(I.yuvData=n,I.dataWidth=o,I.dataHeight=u,I.left=f,I.top=p,f+v>o||p+_>u)throw new L("Crop rectangle does not fit within image data.");return A&&I.reverseHorizontal(v,_),I}return t.prototype.getRow=function(n,o){if(n<0||n>=this.getHeight())throw new L("Requested row is outside the image: "+n);var u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));var f=(n+this.top)*this.dataWidth+this.left;return it.arraycopy(this.yuvData,f,o,0,u),o},t.prototype.getMatrix=function(){var n=this.getWidth(),o=this.getHeight();if(n===this.dataWidth&&o===this.dataHeight)return this.yuvData;var u=n*o,f=new Uint8ClampedArray(u),p=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return it.arraycopy(this.yuvData,p,f,0,u),f;for(var v=0;v<o;v++){var _=v*n;it.arraycopy(this.yuvData,p,f,_,n),p+=this.dataWidth}return f},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,o,u,f){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+o,u,f,!1)},t.prototype.renderThumbnail=function(){for(var n=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(n*o),f=this.yuvData,p=this.top*this.dataWidth+this.left,v=0;v<o;v++){for(var _=v*n,A=0;A<n;A++){var I=f[p+A*t.THUMBNAIL_SCALE_FACTOR]&255;u[_+A]=4278190080|I*65793}p+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return u},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(n,o){for(var u=this.yuvData,f=0,p=this.top*this.dataWidth+this.left;f<o;f++,p+=this.dataWidth)for(var v=p+n/2,_=p,A=p+n-1;_<v;_++,A--){var I=u[_];u[_]=u[A],u[A]=I}},t.prototype.invert=function(){return new mn(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(Be);var ef=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){ef(t,i);function t(n,o,u,f,p,v,_){var A=i.call(this,o,u)||this;if(A.dataWidth=f,A.dataHeight=p,A.left=v,A.top=_,n.BYTES_PER_ELEMENT===4){for(var I=o*u,b=new Uint8ClampedArray(I),O=0;O<I;O++){var D=n[O],V=D>>16&255,j=D>>7&510,nt=D&255;b[O]=(V+j+nt)/4&255}A.luminances=b}else A.luminances=n;if(f===void 0&&(A.dataWidth=o),p===void 0&&(A.dataHeight=u),v===void 0&&(A.left=0),_===void 0&&(A.top=0),A.left+o>A.dataWidth||A.top+u>A.dataHeight)throw new L("Crop rectangle does not fit within image data.");return A}return t.prototype.getRow=function(n,o){if(n<0||n>=this.getHeight())throw new L("Requested row is outside the image: "+n);var u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));var f=(n+this.top)*this.dataWidth+this.left;return it.arraycopy(this.luminances,f,o,0,u),o},t.prototype.getMatrix=function(){var n=this.getWidth(),o=this.getHeight();if(n===this.dataWidth&&o===this.dataHeight)return this.luminances;var u=n*o,f=new Uint8ClampedArray(u),p=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return it.arraycopy(this.luminances,p,f,0,u),f;for(var v=0;v<o;v++){var _=v*n;it.arraycopy(this.luminances,p,f,_,n),p+=this.dataWidth}return f},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,o,u,f){return new t(this.luminances,u,f,this.dataWidth,this.dataHeight,this.left+n,this.top+o)},t.prototype.invert=function(){return new mn(this)},t})(Be);var Ds=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(i){Ds(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.forName=function(n){return this.getCharacterSetECIByName(n)},t})(It),function(){function i(){}return i.ISO_8859_1=It.ISO8859_1,i}();var Ns=function(){function i(){}return i.prototype.isCompact=function(){return this.compact},i.prototype.setCompact=function(t){this.compact=t},i.prototype.getSize=function(){return this.size},i.prototype.setSize=function(t){this.size=t},i.prototype.getLayers=function(){return this.layers},i.prototype.setLayers=function(t){this.layers=t},i.prototype.getCodeWords=function(){return this.codeWords},i.prototype.setCodeWords=function(t){this.codeWords=t},i.prototype.getMatrix=function(){return this.matrix},i.prototype.setMatrix=function(t){this.matrix=t},i}(),So=function(){function i(){}return i.singletonList=function(t){return[t]},i.min=function(t,n){return t.sort(n)[0]},i}(),Ms=function(){function i(t){this.previous=t}return i.prototype.getPrevious=function(){return this.previous},i}(),nf=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ps=function(i){nf(t,i);function t(n,o,u){var f=i.call(this,n)||this;return f.value=o,f.bitCount=u,f}return t.prototype.appendTo=function(n,o){n.appendBits(this.value,this.bitCount)},t.prototype.add=function(n,o){return new t(this,n,o)},t.prototype.addBinaryShift=function(n,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,n,o)},t.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+G.toBinaryString(n|1<<this.bitCount).substring(1)+">"},t}(Ms),rf=function(){var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var f in u)u.hasOwnProperty(f)&&(o[f]=u[f])},i(t,n)};return function(t,n){i(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xu=function(i){rf(t,i);function t(n,o,u){var f=i.call(this,n,0,0)||this;return f.binaryShiftStart=o,f.binaryShiftByteCount=u,f}return t.prototype.appendTo=function(n,o){for(var u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):u===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(o[this.binaryShiftStart+u],8)},t.prototype.addBinaryShift=function(n,o){return new t(this,n,o)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(Ps);function af(i,t,n){return new xu(i,t,n)}function Di(i,t,n){return new Ps(i,t,n)}var of=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cr=0,sa=1,zn=2,Co=3,fr=4,sf=new Ps(null,0,0),Au=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Fa=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function uf(i){var t,n;try{for(var o=Fa(i),u=o.next();!u.done;u=o.next()){var f=u.value;$.fill(f,-1)}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i[cr][fr]=0,i[sa][fr]=0,i[sa][cr]=28,i[Co][fr]=0,i[zn][fr]=0,i[zn][cr]=15,i}var Ha=uf($.createInt32Array(6,6)),wu=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},lf=function(){function i(t,n,o,u){this.token=t,this.mode=n,this.binaryShiftByteCount=o,this.bitCount=u}return i.prototype.getMode=function(){return this.mode},i.prototype.getToken=function(){return this.token},i.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},i.prototype.getBitCount=function(){return this.bitCount},i.prototype.latchAndAppend=function(t,n){var o=this.bitCount,u=this.token;if(t!==this.mode){var f=Au[this.mode][t];u=Di(u,f&65535,f>>16),o+=f>>16}var p=t===zn?4:5;return u=Di(u,n,p),new i(u,t,0,o+p)},i.prototype.shiftAndAppend=function(t,n){var o=this.token,u=this.mode===zn?4:5;return o=Di(o,Ha[this.mode][t],u),o=Di(o,n,5),new i(o,this.mode,0,this.bitCount+u+5)},i.prototype.addBinaryShiftChar=function(t){var n=this.token,o=this.mode,u=this.bitCount;if(this.mode===fr||this.mode===zn){var f=Au[o][cr];n=Di(n,f&65535,f>>16),u+=f>>16,o=cr}var p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new i(n,o,this.binaryShiftByteCount+1,u+p);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(t+1)),v},i.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=af(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new i(n,this.mode,0,this.bitCount)},i.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(Au[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=i.calculateBinaryShiftCost(t)-i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},i.prototype.toBitArray=function(t){for(var n,o,u=[],f=this.endBinaryShift(t.length).token;f!==null;f=f.getPrevious())u.unshift(f);var p=new z;try{for(var v=wu(u),_=v.next();!_.done;_=v.next()){var A=_.value;A.appendTo(p,t)}}catch(I){n={error:I}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}return p},i.prototype.toString=function(){return K.format("%s bits=%d bytes=%d",of[this.mode],this.bitCount,this.binaryShiftByteCount)},i.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},i.INITIAL_STATE=new i(sf,cr,0,0),i}();function Sl(i){var t=K.getCharCode(" "),n=K.getCharCode("."),o=K.getCharCode(",");i[cr][t]=1;for(var u=K.getCharCode("Z"),f=K.getCharCode("A"),p=f;p<=u;p++)i[cr][p]=p-f+2;i[sa][t]=1;for(var v=K.getCharCode("z"),_=K.getCharCode("a"),p=_;p<=v;p++)i[sa][p]=p-_+2;i[zn][t]=1;for(var A=K.getCharCode("9"),I=K.getCharCode("0"),p=I;p<=A;p++)i[zn][p]=p-I+2;i[zn][o]=12,i[zn][n]=13;for(var b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],O=0;O<b.length;O++)i[Co][K.getCharCode(b[O])]=O;for(var D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],O=0;O<D.length;O++)K.getCharCode(D[O])>0&&(i[fr][K.getCharCode(D[O])]=O);return i}var Ls=Sl($.createInt32Array(5,256)),Gn=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oi=function(){function i(t){this.text=t}return i.prototype.encode=function(){for(var t=K.getCharCode(" "),n=K.getCharCode(`
`),o=So.singletonList(lf.INITIAL_STATE),u=0;u<this.text.length;u++){var f=void 0,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case K.getCharCode("\r"):f=p===n?2:0;break;case K.getCharCode("."):f=p===t?3:0;break;case K.getCharCode(","):f=p===t?4:0;break;case K.getCharCode(":"):f=p===t?5:0;break;default:f=0}f>0?(o=i.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}var v=So.min(o,function(_,A){return _.getBitCount()-A.getBitCount()});return v.toBitArray(this.text)},i.prototype.updateStateListForChar=function(t,n){var o,u,f=[];try{for(var p=Gn(t),v=p.next();!v.done;v=p.next()){var _=v.value;this.updateStateForChar(_,n,f)}}catch(A){o={error:A}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(o)throw o.error}}return i.simplifyStates(f)},i.prototype.updateStateForChar=function(t,n,o){for(var u=this.text[n]&255,f=Ls[t.getMode()][u]>0,p=null,v=0;v<=fr;v++){var _=Ls[v][u];if(_>0){if(p==null&&(p=t.endBinaryShift(n)),!f||v===t.getMode()||v===zn){var A=p.latchAndAppend(v,_);o.push(A)}if(!f&&Ha[t.getMode()][v]>=0){var I=p.shiftAndAppend(v,_);o.push(I)}}}if(t.getBinaryShiftByteCount()>0||Ls[t.getMode()][u]===0){var b=t.addBinaryShiftChar(n);o.push(b)}},i.updateStateListForPair=function(t,n,o){var u,f,p=[];try{for(var v=Gn(t),_=v.next();!_.done;_=v.next()){var A=_.value;this.updateStateForPair(A,n,o,p)}}catch(I){u={error:I}}finally{try{_&&!_.done&&(f=v.return)&&f.call(v)}finally{if(u)throw u.error}}return this.simplifyStates(p)},i.updateStateForPair=function(t,n,o,u){var f=t.endBinaryShift(n);if(u.push(f.latchAndAppend(fr,o)),t.getMode()!==fr&&u.push(f.shiftAndAppend(fr,o)),o===3||o===4){var p=f.latchAndAppend(zn,16-o).latchAndAppend(zn,1);u.push(p)}if(t.getBinaryShiftByteCount()>0){var v=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);u.push(v)}},i.simplifyStates=function(t){var n,o,u,f,p=[];try{for(var v=Gn(t),_=v.next();!_.done;_=v.next()){var A=_.value,I=!0,b=function(nt){if(nt.isBetterThanOrEqualTo(A))return I=!1,"break";A.isBetterThanOrEqualTo(nt)&&(p=p.filter(function(Z){return Z!==nt}))};try{for(var O=(u=void 0,Gn(p)),D=O.next();!D.done;D=O.next()){var V=D.value,j=b(V);if(j==="break")break}}catch(nt){u={error:nt}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}I&&p.push(A)}}catch(nt){n={error:nt}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}return p},i}(),ua=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function i(){}return i.encodeBytes=function(t){return i.encode(t,i.DEFAULT_EC_PERCENT,i.DEFAULT_AZTEC_LAYERS)},i.encode=function(t,n,o){var u=new oi(t).encode(),f=G.truncDivision(u.getSize()*n,100)+11,p=u.getSize()+f,v,_,A,I,b;if(o!==i.DEFAULT_AZTEC_LAYERS){if(v=o<0,_=Math.abs(o),_>(v?i.MAX_NB_BITS_COMPACT:i.MAX_NB_BITS))throw new L(K.format("Illegal value %s for layers",o));A=i.totalBitsInLayer(_,v),I=i.WORD_SIZE[_];var O=A-A%I;if(b=i.stuffBits(u,I),b.getSize()+f>O)throw new L("Data to large for user specified layer");if(v&&b.getSize()>I*64)throw new L("Data to large for user specified layer")}else{I=0,b=null;for(var D=0;;D++){if(D>i.MAX_NB_BITS)throw new L("Data too large for an Aztec code");if(v=D<=3,_=v?D+1:D,A=i.totalBitsInLayer(_,v),!(p>A)){(b==null||I!==i.WORD_SIZE[_])&&(I=i.WORD_SIZE[_],b=i.stuffBits(u,I));var O=A-A%I;if(!(v&&b.getSize()>I*64)&&b.getSize()+f<=O)break}}}var V=i.generateCheckWords(b,A,I),j=b.getSize()/I,nt=i.generateModeMessage(v,_,j),Z=(v?11:14)+_*4,J=new Int32Array(Z),ht;if(v){ht=Z;for(var D=0;D<J.length;D++)J[D]=D}else{ht=Z+1+2*G.truncDivision(G.truncDivision(Z,2)-1,15);for(var gt=G.truncDivision(Z,2),St=G.truncDivision(ht,2),D=0;D<gt;D++){var Rt=D+G.truncDivision(D,15);J[gt-D-1]=St-Rt-1,J[gt+D]=St+Rt+1}}for(var Ot=new Nt(ht),D=0,Ht=0;D<_;D++){for(var de=(_-D)*4+(v?9:12),Lt=0;Lt<de;Lt++)for(var ue=Lt*2,pe=0;pe<2;pe++)V.get(Ht+ue+pe)&&Ot.set(J[D*2+pe],J[D*2+Lt]),V.get(Ht+de*2+ue+pe)&&Ot.set(J[D*2+Lt],J[Z-1-D*2-pe]),V.get(Ht+de*4+ue+pe)&&Ot.set(J[Z-1-D*2-pe],J[Z-1-D*2-Lt]),V.get(Ht+de*6+ue+pe)&&Ot.set(J[Z-1-D*2-Lt],J[D*2+pe]);Ht+=de*8}if(i.drawModeMessage(Ot,v,ht,nt),v)i.drawBullsEye(Ot,G.truncDivision(ht,2),5);else{i.drawBullsEye(Ot,G.truncDivision(ht,2),7);for(var D=0,Lt=0;D<G.truncDivision(Z,2)-1;D+=15,Lt+=16)for(var pe=G.truncDivision(ht,2)&1;pe<ht;pe+=2)Ot.set(G.truncDivision(ht,2)-Lt,pe),Ot.set(G.truncDivision(ht,2)+Lt,pe),Ot.set(pe,G.truncDivision(ht,2)-Lt),Ot.set(pe,G.truncDivision(ht,2)+Lt)}var Le=new Ns;return Le.setCompact(v),Le.setSize(ht),Le.setLayers(_),Le.setCodeWords(j),Le.setMatrix(Ot),Le},i.drawBullsEye=function(t,n,o){for(var u=0;u<o;u+=2)for(var f=n-u;f<=n+u;f++)t.set(f,n-u),t.set(f,n+u),t.set(n-u,f),t.set(n+u,f);t.set(n-o,n-o),t.set(n-o+1,n-o),t.set(n-o,n-o+1),t.set(n+o,n-o),t.set(n+o,n-o+1),t.set(n+o,n+o-1)},i.generateModeMessage=function(t,n,o){var u=new z;return t?(u.appendBits(n-1,2),u.appendBits(o-1,6),u=i.generateCheckWords(u,28,4)):(u.appendBits(n-1,5),u.appendBits(o-1,11),u=i.generateCheckWords(u,40,4)),u},i.drawModeMessage=function(t,n,o,u){var f=G.truncDivision(o,2);if(n)for(var p=0;p<7;p++){var v=f-3+p;u.get(p)&&t.set(v,f-5),u.get(p+7)&&t.set(f+5,v),u.get(20-p)&&t.set(v,f+5),u.get(27-p)&&t.set(f-5,v)}else for(var p=0;p<10;p++){var v=f-5+p+G.truncDivision(p,5);u.get(p)&&t.set(v,f-7),u.get(p+10)&&t.set(f+7,v),u.get(29-p)&&t.set(v,f+7),u.get(39-p)&&t.set(f-7,v)}},i.generateCheckWords=function(t,n,o){var u,f,p=t.getSize()/o,v=new aa(i.getGF(o)),_=G.truncDivision(n,o),A=i.bitsToWords(t,o,_);v.encode(A,_-p);var I=n%o,b=new z;b.appendBits(0,I);try{for(var O=ua(Array.from(A)),D=O.next();!D.done;D=O.next()){var V=D.value;b.appendBits(V,o)}}catch(j){u={error:j}}finally{try{D&&!D.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}return b},i.bitsToWords=function(t,n,o){var u=new Int32Array(o),f,p;for(f=0,p=t.getSize()/n;f<p;f++){for(var v=0,_=0;_<n;_++)v|=t.get(f*n+_)?1<<n-_-1:0;u[f]=v}return u},i.getGF=function(t){switch(t){case 4:return _n.AZTEC_PARAM;case 6:return _n.AZTEC_DATA_6;case 8:return _n.AZTEC_DATA_8;case 10:return _n.AZTEC_DATA_10;case 12:return _n.AZTEC_DATA_12;default:throw new L("Unsupported word size "+t)}},i.stuffBits=function(t,n){for(var o=new z,u=t.getSize(),f=(1<<n)-2,p=0;p<u;p+=n){for(var v=0,_=0;_<n;_++)(p+_>=u||t.get(p+_))&&(v|=1<<n-1-_);(v&f)===f?(o.appendBits(v&f,n),p--):(v&f)===0?(o.appendBits(v|1,n),p--):o.appendBits(v,n)}return o},i.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},i.DEFAULT_EC_PERCENT=33,i.DEFAULT_AZTEC_LAYERS=0,i.MAX_NB_BITS=32,i.MAX_NB_BITS_COMPACT=4,i.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),i})();class Ni extends Be{constructor(t){super(t.width,t.height),this.canvas=t,this.buffer=Ni.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");const o=n.getImageData(0,0,t.width,t.height);return Ni.toGrayscaleBuffer(o.data,t.width,t.height)}static toGrayscaleBuffer(t,n,o){const u=new Uint8ClampedArray(n*o);for(let f=0,p=0,v=t.length;f<v;f+=4,p++){let _;if(t[f+3]===0)_=255;else{const I=t[f],b=t[f+1],O=t[f+2];_=306*I+601*b+117*O+512>>10}u[p]=_}return u}getRow(t,n){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const o=this.getWidth(),u=t*o;return n===null?n=this.buffer.slice(u,u+o):(n.length<o&&(n=new Uint8ClampedArray(o)),n.set(this.buffer.slice(u,u+o))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,n,o,u){return super.crop(t,n,o,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}invert(){return new mn(this)}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");const o=t*Ni.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(o))*u+Math.abs(Math.sin(o))*f),v=Math.ceil(Math.abs(Math.sin(o))*u+Math.abs(Math.cos(o))*f);n.width=p,n.height=v;const _=n.getContext("2d");if(!_)throw new Error("Could not create a Convas Context element.");return _.translate(p/2,v/2),_.rotate(o),_.drawImage(this.canvas,u/-2,f/-2),this.buffer=Ni.makeBufferFromCanvasImageData(n),this}}Ni.DEGREE_TO_RADIANS=Math.PI/180;function Mi(){return typeof navigator<"u"}function Pi(){return Mi()&&!!navigator.mediaDevices}function pn(){return!!(Pi()&&navigator.mediaDevices.enumerateDevices)}var He=function(i,t,n,o){function u(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function v(I){try{A(o.next(I))}catch(b){p(b)}}function _(I){try{A(o.throw(I))}catch(b){p(b)}}function A(I){I.done?f(I.value):u(I.value).then(v,_)}A((o=o.apply(i,t||[])).next())})};const ld={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3};class Ft{constructor(t,n=new Map,o={}){this.reader=t,this.hints=n,this.options=Object.assign(Object.assign({},ld),o)}set possibleFormats(t){this.hints.set(Q.POSSIBLE_FORMATS,t)}static addVideoSource(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}}static mediaStreamSetTorch(t,n){return He(this,void 0,void 0,function*(){yield t.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})})}static mediaStreamIsTorchCompatible(t){const n=t.getVideoTracks();for(const o of n)if(Ft.mediaStreamIsTorchCompatibleTrack(o))return!0;return!1}static mediaStreamIsTorchCompatibleTrack(t){try{return"torch"in t.getCapabilities()}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}}static isVideoPlaying(t){return t.currentTime>0&&!t.paused&&t.readyState>2}static getMediaElement(t,n){const o=document.getElementById(t);if(!o)throw new P(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==n.toLowerCase())throw new P(`element with id '${t}' must be an ${n} element`);return o}static createVideoElement(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return Ft.getMediaElement(t,"video");if(!t&&typeof document<"u"){const n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")}static prepareImageElement(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return Ft.getMediaElement(t,"img");if(typeof t>"u"){const n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")}static prepareVideoElement(t){const n=Ft.createVideoElement(t);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}static isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}static createBinaryBitmapFromCanvas(t){const n=new Ni(t),o=new we(n);return new W(o)}static drawImageOnCanvas(t,n){t.drawImage(n,0,0)}static getMediaElementDimensions(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimentions!")}static createCaptureCanvas(t){if(!t)throw new P("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);const n=document.createElement("canvas"),{width:o,height:u}=Ft.getMediaElementDimensions(t);return n.style.width=o+"px",n.style.height=u+"px",n.width=o,n.height=u,n}static tryPlayVideo(t){return He(this,void 0,void 0,function*(){if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),!1;if(Ft.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),!0;try{return yield t.play(),!0}catch(n){return console.warn("It was not possible to play the video.",n),!1}})}static createCanvasFromMediaElement(t){const n=Ft.createCaptureCanvas(t),o=n.getContext("2d");if(!o)throw new Error("Couldn't find Canvas 2D Context.");return Ft.drawImageOnCanvas(o,t),n}static createBinaryBitmapFromMediaElem(t){const n=Ft.createCanvasFromMediaElement(t);return Ft.createBinaryBitmapFromCanvas(n)}static destroyImageElement(t){t.src="",t.removeAttribute("src"),t=void 0}static listVideoInputDevices(){return He(this,void 0,void 0,function*(){if(!Mi())throw new Error("Can't enumerate devices, navigator is not present.");if(!pn())throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const o of t){const u=o.kind==="video"?"videoinput":o.kind;if(u!=="videoinput")continue;const f=o.deviceId||o.id,p=o.label||`Video device ${n.length+1}`,v=o.groupId,_={deviceId:f,label:p,kind:u,groupId:v};n.push(_)}return n})}static findDeviceById(t){return He(this,void 0,void 0,function*(){const n=yield Ft.listVideoInputDevices();if(n)return n.find(o=>o.deviceId===t)})}static cleanVideoSource(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}}static playVideoOnLoadAsync(t,n){return He(this,void 0,void 0,function*(){return(yield Ft.tryPlayVideo(t))?!0:new Promise((u,f)=>{const p=setTimeout(()=>{Ft.isVideoPlaying(t)||(f(!1),t.removeEventListener("canplay",v))},n),v=()=>{Ft.tryPlayVideo(t).then(_=>{clearTimeout(p),t.removeEventListener("canplay",v),u(_)})};t.addEventListener("canplay",v)})})}static attachStreamToVideo(t,n,o=5e3){return He(this,void 0,void 0,function*(){const u=Ft.prepareVideoElement(n);return Ft.addVideoSource(u,t),yield Ft.playVideoOnLoadAsync(u,o),u})}static _waitImageLoad(t){return new Promise((n,o)=>{const f=setTimeout(()=>{Ft.isImageLoaded(t)||(t.removeEventListener("load",p),o())},1e4),p=()=>{clearTimeout(f),t.removeEventListener("load",p),n()};t.addEventListener("load",p)})}static checkCallbackFnOrThrow(t){if(!t)throw new P("`callbackFn` is a required parameter, you cannot capture results without it.")}static disposeMediaStream(t){t.getVideoTracks().forEach(n=>n.stop()),t=void 0}decode(t){const n=Ft.createCanvasFromMediaElement(t);return this.decodeFromCanvas(n)}decodeBitmap(t){return this.reader.decode(t,this.hints)}decodeFromCanvas(t){const n=Ft.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(n)}decodeFromImageElement(t){return He(this,void 0,void 0,function*(){if(!t)throw new P("An image element must be provided.");const n=Ft.prepareImageElement(t);return yield this._decodeOnLoadImage(n)})}decodeFromImageUrl(t){return He(this,void 0,void 0,function*(){if(!t)throw new P("An URL must be provided.");const n=Ft.prepareImageElement();n.src=t;try{return yield this.decodeFromImageElement(n)}finally{Ft.destroyImageElement(n)}})}decodeFromConstraints(t,n,o){return He(this,void 0,void 0,function*(){Ft.checkCallbackFnOrThrow(o);const u=yield navigator.mediaDevices.getUserMedia(t);try{return yield this.decodeFromStream(u,n,o)}catch(f){throw Ft.disposeMediaStream(u),f}})}decodeFromStream(t,n,o){return He(this,void 0,void 0,function*(){Ft.checkCallbackFnOrThrow(o);const u=this.options.tryPlayVideoTimeout,f=yield Ft.attachStreamToVideo(t,n,u),p=()=>{for(const O of t.getVideoTracks())O.stop();t=void 0},v=()=>{p(),Ft.cleanVideoSource(f)},_=this.scan(f,o,v),A=t.getVideoTracks(),I=Object.assign(Object.assign({},_),{stop(){_.stop()},streamVideoConstraintsApply(O,D){return He(this,void 0,void 0,function*(){const V=D?A.filter(D):A;for(const j of V)yield j.applyConstraints(O)})},streamVideoConstraintsGet(O){return A.find(O).getConstraints()},streamVideoSettingsGet(O){return A.find(O).getSettings()},streamVideoCapabilitiesGet(O){return A.find(O).getCapabilities()}});if(Ft.mediaStreamIsTorchCompatible(t)){const O=A==null?void 0:A.find(j=>Ft.mediaStreamIsTorchCompatibleTrack(j)),D=j=>He(this,void 0,void 0,function*(){yield Ft.mediaStreamSetTorch(O,j)});I.switchTorch=D;const V=()=>{_.stop(),D(!1)};I.stop=V}return I})}decodeFromVideoDevice(t,n,o){return He(this,void 0,void 0,function*(){Ft.checkCallbackFnOrThrow(o);let u;t?u={deviceId:{exact:t}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeFromConstraints(f,n,o)})}decodeFromVideoElement(t,n){return He(this,void 0,void 0,function*(){if(Ft.checkCallbackFnOrThrow(n),!t)throw new P("A video element must be provided.");const o=Ft.prepareVideoElement(t),u=this.options.tryPlayVideoTimeout;return yield Ft.playVideoOnLoadAsync(o,u),this.scan(o,n)})}decodeFromVideoUrl(t,n){return He(this,void 0,void 0,function*(){if(Ft.checkCallbackFnOrThrow(n),!t)throw new P("An URL must be provided.");const o=Ft.prepareVideoElement();o.src=t;const u=()=>{Ft.cleanVideoSource(o)},f=this.options.tryPlayVideoTimeout;return yield Ft.playVideoOnLoadAsync(o,f),this.scan(o,n,u)})}decodeOnceFromConstraints(t,n){return He(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,n)})}decodeOnceFromStream(t,n){return He(this,void 0,void 0,function*(){const o=!!n,u=yield Ft.attachStreamToVideo(t,n);try{return yield this.scanOneResult(u)}finally{o||Ft.cleanVideoSource(u)}})}decodeOnceFromVideoDevice(t,n){return He(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeOnceFromConstraints(u,n)})}decodeOnceFromVideoElement(t){return He(this,void 0,void 0,function*(){if(!t)throw new P("A video element must be provided.");const n=Ft.prepareVideoElement(t),o=this.options.tryPlayVideoTimeout;return yield Ft.playVideoOnLoadAsync(n,o),yield this.scanOneResult(n)})}decodeOnceFromVideoUrl(t){return He(this,void 0,void 0,function*(){if(!t)throw new P("An URL must be provided.");const n=Ft.prepareVideoElement();n.src=t;const o=this.decodeOnceFromVideoElement(n);try{return yield o}finally{Ft.cleanVideoSource(n)}})}scanOneResult(t,n=!0,o=!0,u=!0){return new Promise((f,p)=>{this.scan(t,(v,_,A)=>{if(v){f(v),A.stop();return}if(_){if(_ instanceof et&&n||_ instanceof at&&o||_ instanceof F&&u)return;A.stop(),p(_)}})})}scan(t,n,o){Ft.checkCallbackFnOrThrow(n);let u=Ft.createCaptureCanvas(t),f=u.getContext("2d");if(!f)throw new Error("Couldn't create canvas for visual element scan.");const p=()=>{f=void 0,u=void 0};let v=!1,_;const I={stop:()=>{v=!0,clearTimeout(_),p(),o&&o()}},b=()=>{if(!v)try{Ft.drawImageOnCanvas(f,t);const O=this.decodeFromCanvas(u);n(O,void 0,I),_=setTimeout(b,this.options.delayBetweenScanSuccess)}catch(O){n(void 0,O,I);const D=O instanceof at,V=O instanceof F,j=O instanceof et;if(D||V||j){_=setTimeout(b,this.options.delayBetweenScanAttempts);return}p(),o&&o(O)}};return b(),I}_decodeOnLoadImage(t){return He(this,void 0,void 0,function*(){return Ft.isImageLoaded(t)||(yield Ft._waitImageLoad(t)),this.decode(t)})}}class cd extends Ft{constructor(t,n){super(new Dr,t,n)}}class gn extends Ft{constructor(t,n){super(new Lr(t),t,n)}}class Cl extends Ft{constructor(t,n){super(new Pa,t,n)}}class Bs extends Ft{constructor(t,n){const o=new Os;o.setHints(t),super(o,t,n),this.reader=o}set possibleFormats(t){this.hints.set(Q.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)}decodeBitmap(t){return this.reader.decodeWithState(t)}setHints(t){this.hints=t,this.reader.setHints(this.hints)}}class ks extends Ft{constructor(t,n){super(new Hn,t,n)}}class Il extends Ft{constructor(t,n){super(new Cs,t,n)}}const tr="http://www.w3.org/2000/svg";class hr{constructor(t){if(typeof t=="string"){const n=document.getElementById(t);if(!n)throw new Error(`Could not find a Container element with '${t}'.`);this.containerElement=n}else this.containerElement=t}write(t,n,o,u){if(t.length===0)throw new L("Found empty contents");if(n<0||o<0)throw new L("Requested dimensions are too small: "+n+"x"+o);const f=u&&u.get(un.MARGIN)!==void 0?Number.parseInt(u.get(un.MARGIN).toString(),10):hr.QUIET_ZONE_SIZE,p=this.encode(u,t);return this.renderResult(p,n,o,f)}createSVGElement(t,n){const o=document.createElementNS(hr.SVG_NS,"svg");return o.setAttributeNS(tr,"width",n.toString()),o.setAttributeNS(tr,"height",t.toString()),o}createSvgPathPlaceholderElement(t,n){const o=document.createElementNS(hr.SVG_NS,"path");return o.setAttributeNS(tr,"d",`M0 0h${t}v${n}H0z`),o.setAttributeNS(tr,"fill","none"),o}createSvgRectElement(t,n,o,u){const f=document.createElementNS(hr.SVG_NS,"rect");return f.setAttributeNS(tr,"x",t.toString()),f.setAttributeNS(tr,"y",n.toString()),f.setAttributeNS(tr,"height",o.toString()),f.setAttributeNS(tr,"width",u.toString()),f.setAttributeNS(tr,"fill","#000000"),f}encode(t,n){let o=ea.L;if(t&&t.get(un.ERROR_CORRECTION)!==void 0){const f=t.get(un.ERROR_CORRECTION).toString();o=ea.fromString(f)}return oa.encode(n,o,t)}renderResult(t,n,o,u){const f=t.getMatrix();if(f===null)throw new Ke;const p=f.getWidth(),v=f.getHeight(),_=p+u*2,A=v+u*2,I=Math.max(n,_),b=Math.max(o,A),O=Math.min(Math.floor(I/_),Math.floor(b/A)),D=Math.floor((I-p*O)/2),V=Math.floor((b-v*O)/2),j=this.createSVGElement(I,b),nt=this.createSvgPathPlaceholderElement(n,o);j.appendChild(nt),this.containerElement.appendChild(j);for(let Z=0,J=V;Z<v;Z++,J+=O)for(let ht=0,gt=D;ht<p;ht++,gt+=O)if(f.get(ht,Z)===1){const St=this.createSvgRectElement(gt,J,O,O);j.appendChild(St)}return j}}hr.QUIET_ZONE_SIZE=4,hr.SVG_NS="http://www.w3.org/2000/svg";const cf="http://www.w3.org/2000/svg";class Vs{write(t,n,o,u){if(t.length===0)throw new L("Found empty contents");if(n<0||o<0)throw new L("Requested dimensions are too small: "+n+"x"+o);let f=ea.L,p=Vs.QUIET_ZONE_SIZE;if(u){if(u.get(un.ERROR_CORRECTION)!==void 0){const _=u.get(un.ERROR_CORRECTION).toString();f=ea.fromString(_)}u.get(un.MARGIN)!==void 0&&(p=Number.parseInt(u.get(un.MARGIN).toString(),10))}const v=oa.encode(t,f,u);return this.renderResult(v,n,o,p)}writeToDom(t,n,o,u,f){if(typeof t=="string"){const v=document.querySelector(t);if(!v)throw new Error("Could no find the target HTML element.");t=v}const p=this.write(n,o,u,f);t instanceof HTMLElement&&t.appendChild(p)}renderResult(t,n,o,u){const f=t.getMatrix();if(f===null)throw new Ke;const p=f.getWidth(),v=f.getHeight(),_=p+u*2,A=v+u*2,I=Math.max(n,_),b=Math.max(o,A),O=Math.min(Math.floor(I/_),Math.floor(b/A)),D=Math.floor((I-p*O)/2),V=Math.floor((b-v*O)/2),j=this.createSVGElement(I,b);for(let nt=0,Z=V;nt<v;nt++,Z+=O)for(let J=0,ht=D;J<p;J++,ht+=O)if(f.get(J,nt)===1){const gt=this.createSvgRectElement(ht,Z,O,O);j.appendChild(gt)}return j}createSVGElement(t,n){const o=document.createElementNS(cf,"svg");return o.setAttribute("height",t.toString()),o.setAttribute("width",n.toString()),o}createSvgRectElement(t,n,o,u){const f=document.createElementNS(cf,"rect");return f.setAttribute("x",t.toString()),f.setAttribute("y",n.toString()),f.setAttribute("height",o.toString()),f.setAttribute("width",u.toString()),f.setAttribute("fill","#000000"),f}}Vs.QUIET_ZONE_SIZE=4,a.BarcodeFormat=qt,a.BrowserAztecCodeReader=cd,a.BrowserCodeReader=Ft,a.BrowserCodeSvgWriter=hr,a.BrowserDatamatrixCodeReader=Cl,a.BrowserMultiFormatOneDReader=gn,a.BrowserMultiFormatReader=Bs,a.BrowserPDF417Reader=ks,a.BrowserQRCodeReader=Il,a.BrowserQRCodeSvgWriter=Vs,a.HTMLCanvasElementLuminanceSource=Ni,Object.defineProperty(a,"__esModule",{value:!0})})}(oc,oc.exports)),oc.exports}var i8=r8();const a8=()=>{const l=typeof navigator<"u"&&!!navigator.mediaDevices;return l||console.warn('[ReactQrReader]: MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"'),l},th=(l,e,a)=>{const c=typeof l===a;return c||console.warn(`[ReactQrReader]: Expected "${e}" to be a of type "${a}".`),c},o8=({scanDelay:l,constraints:e,onResult:a,videoId:c})=>{const d=_t.useRef(null);_t.useEffect(()=>{const m=new i8.BrowserQRCodeReader(null,{delayBetweenScanAttempts:l});if(!a8()&&th(a,"onResult","function")){const x='MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"';a(null,new Error(x),m)}return th(e,"constraints","object")&&m.decodeFromConstraints({video:e},c,(x,T)=>{th(a,"onResult","function")&&a(x,T,m)}).then(x=>d.current=x).catch(x=>{th(a,"onResult","function")&&a(null,x,m)}),()=>{var x;(x=d.current)===null||x===void 0||x.stop()}},[])},i2={container:{width:"100%",paddingTop:"100%",overflow:"hidden",position:"relative"},video:{top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden",position:"absolute",transform:void 0}},Pp=({videoContainerStyle:l,containerStyle:e,videoStyle:a,constraints:c,ViewFinder:d,scanDelay:m,className:x,onResult:T,videoId:S})=>(o8({constraints:c,scanDelay:m,onResult:T,videoId:S}),_t.createElement("section",{className:x,style:e},_t.createElement("div",{style:{...i2.container,...l}},!!d&&_t.createElement(d,null),_t.createElement("video",{muted:!0,id:S,style:{...i2.video,...a,transform:(c==null?void 0:c.facingMode)==="user"&&"scaleX(-1)"}}))));Pp.displayName="QrReader";Pp.defaultProps={constraints:{facingMode:"user"},videoId:"video",scanDelay:500};const s8=async l=>{try{const e=J_(Mp,"players"),a=IC(e,bC("name","==",l)),c=await LC(a);return c.empty?(console.log("Jugador no encontrado"),null):c.docs[0].data().balance}catch(e){return console.error("Error al obtener el balance:",e),null}},u8=async(l,e)=>{try{const a=tE(Mp,"players",l);await BC(a,{balance:e})}catch(a){console.error("Error al actualizar el balance:",a)}},l8=()=>{const[l,e]=_t.useState(null),[a,c]=_t.useState(null),[d,m]=_t.useState(0),[x,T]=_t.useState(null),S=async B=>{if(B&&!l){e(B);const L=await s8(B);L!==null?(c(L),T(null)):T("Jugador no encontrado.")}},C=B=>{console.error(B),T("Error al acceder a la cámara.")},P=async B=>{if(!l||a===null)return;const L=B==="add"?a+d:a-d;await u8(l,L),c(L),m(0)};return fe.jsxs("div",{className:"update-balance-container",children:[fe.jsx("h2",{children:"📷 Escanea el QR del Jugador"}),!l&&fe.jsx(Pp,{onResult:(B,L)=>{B&&S(B.getText()),L&&C(L)},constraints:{facingMode:"environment"}}),x&&fe.jsx("p",{className:"error",children:x}),l&&a!==null&&fe.jsxs("div",{className:"balance-info",children:[fe.jsx("h3",{children:"🏦 Información del Jugador"}),fe.jsxs("p",{children:[fe.jsx("strong",{children:"ID:"})," ",l]}),fe.jsxs("p",{children:[fe.jsx("strong",{children:"Balance Actual:"})," $",a]}),fe.jsx("input",{type:"number",placeholder:"Cantidad a modificar",value:d,onChange:B=>m(parseInt(B.target.value)||0),className:"input-field"}),fe.jsxs("div",{className:"btn-group",children:[fe.jsx("button",{onClick:()=>P("add"),className:"btn btn-add",children:"➕ Aumentar"}),fe.jsx("button",{onClick:()=>P("subtract"),className:"btn btn-subtract",children:"➖ Disminuir"})]})]})]})};function c8(){return fe.jsx(Tw,{children:fe.jsxs(ew,{children:[fe.jsx(eh,{path:"/",element:fe.jsx(Pw,{})}),fe.jsx(eh,{path:"/crear-jugador",element:fe.jsx(e8,{})}),fe.jsx(eh,{path:"/modificar-dinero",element:fe.jsx(l8,{})})]})})}fA.createRoot(document.getElementById("root")).render(fe.jsx(_t.StrictMode,{children:fe.jsx(c8,{})}));
