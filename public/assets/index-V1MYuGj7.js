function rT(s,e){for(var r=0;r<e.length;r++){const l=e[r];if(typeof l!="string"&&!Array.isArray(l)){for(const h in l)if(h!=="default"&&!(h in s)){const g=Object.getOwnPropertyDescriptor(l,h);g&&Object.defineProperty(s,h,g.get?g:{enumerable:!0,get:()=>l[h]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))l(h);new MutationObserver(h=>{for(const g of h)if(g.type==="childList")for(const E of g.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&l(E)}).observe(document,{childList:!0,subtree:!0});function r(h){const g={};return h.integrity&&(g.integrity=h.integrity),h.referrerPolicy&&(g.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?g.credentials="include":h.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(h){if(h.ep)return;h.ep=!0;const g=r(h);fetch(h.href,g)}})();var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var V0={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function iT(){if(mm)return tc;mm=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(l,h,g){var E=null;if(g!==void 0&&(E=""+g),h.key!==void 0&&(E=""+h.key),"key"in h){g={};for(var A in h)A!=="key"&&(g[A]=h[A])}else g=h;return h=g.ref,{$$typeof:s,type:l,key:E,ref:h!==void 0?h:null,props:g}}return tc.Fragment=e,tc.jsx=r,tc.jsxs=r,tc}var ym;function aT(){return ym||(ym=1,V0.exports=iT()),V0.exports}var st=aT(),U0={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function oT(){if(_m)return ft;_m=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.iterator;function L(W){return W===null||typeof W!="object"?null:(W=k&&W[k]||W["@@iterator"],typeof W=="function"?W:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,J={};function ce(W,me,Ne){this.props=W,this.context=me,this.refs=J,this.updater=Ne||X}ce.prototype.isReactComponent={},ce.prototype.setState=function(W,me){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,me,"setState")},ce.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function ae(){}ae.prototype=ce.prototype;function Ae(W,me,Ne){this.props=W,this.context=me,this.refs=J,this.updater=Ne||X}var Se=Ae.prototype=new ae;Se.constructor=Ae,j(Se,ce.prototype),Se.isPureReactComponent=!0;var Ue=Array.isArray,Pe={H:null,A:null,T:null,S:null},We=Object.prototype.hasOwnProperty;function $(W,me,Ne,De,ne,ut){return Ne=ut.ref,{$$typeof:s,type:W,key:me,ref:Ne!==void 0?Ne:null,props:ut}}function G(W,me){return $(W.type,me,void 0,void 0,void 0,W.props)}function H(W){return typeof W=="object"&&W!==null&&W.$$typeof===s}function K(W){var me={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Ne){return me[Ne]})}var Q=/\/+/g;function oe(W,me){return typeof W=="object"&&W!==null&&W.key!=null?K(""+W.key):me.toString(36)}function F(){}function jt(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(F,F):(W.status="pending",W.then(function(me){W.status==="pending"&&(W.status="fulfilled",W.value=me)},function(me){W.status==="pending"&&(W.status="rejected",W.reason=me)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function Ye(W,me,Ne,De,ne){var ut=typeof W;(ut==="undefined"||ut==="boolean")&&(W=null);var at=!1;if(W===null)at=!0;else switch(ut){case"bigint":case"string":case"number":at=!0;break;case"object":switch(W.$$typeof){case s:case e:at=!0;break;case O:return at=W._init,Ye(at(W._payload),me,Ne,De,ne)}}if(at)return ne=ne(W),at=De===""?"."+oe(W,0):De,Ue(ne)?(Ne="",at!=null&&(Ne=at.replace(Q,"$&/")+"/"),Ye(ne,me,Ne,"",function(kt){return kt})):ne!=null&&(H(ne)&&(ne=G(ne,Ne+(ne.key==null||W&&W.key===ne.key?"":(""+ne.key).replace(Q,"$&/")+"/")+at)),me.push(ne)),1;at=0;var nn=De===""?".":De+":";if(Ue(W))for(var Tt=0;Tt<W.length;Tt++)De=W[Tt],ut=nn+oe(De,Tt),at+=Ye(De,me,Ne,ut,ne);else if(Tt=L(W),typeof Tt=="function")for(W=Tt.call(W),Tt=0;!(De=W.next()).done;)De=De.value,ut=nn+oe(De,Tt++),at+=Ye(De,me,Ne,ut,ne);else if(ut==="object"){if(typeof W.then=="function")return Ye(jt(W),me,Ne,De,ne);throw me=String(W),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return at}function be(W,me,Ne){if(W==null)return W;var De=[],ne=0;return Ye(W,De,"","",function(ut){return me.call(Ne,ut,ne++)}),De}function Qe(W){if(W._status===-1){var me=W._result;me=me(),me.then(function(Ne){(W._status===0||W._status===-1)&&(W._status=1,W._result=Ne)},function(Ne){(W._status===0||W._status===-1)&&(W._status=2,W._result=Ne)}),W._status===-1&&(W._status=0,W._result=me)}if(W._status===1)return W._result.default;throw W._result}var He=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ct(){}return ft.Children={map:be,forEach:function(W,me,Ne){be(W,function(){me.apply(this,arguments)},Ne)},count:function(W){var me=0;return be(W,function(){me++}),me},toArray:function(W){return be(W,function(me){return me})||[]},only:function(W){if(!H(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},ft.Component=ce,ft.Fragment=r,ft.Profiler=h,ft.PureComponent=Ae,ft.StrictMode=l,ft.Suspense=S,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe,ft.act=function(){throw Error("act(...) is not supported in production builds of React.")},ft.cache=function(W){return function(){return W.apply(null,arguments)}},ft.cloneElement=function(W,me,Ne){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var De=j({},W.props),ne=W.key,ut=void 0;if(me!=null)for(at in me.ref!==void 0&&(ut=void 0),me.key!==void 0&&(ne=""+me.key),me)!We.call(me,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&me.ref===void 0||(De[at]=me[at]);var at=arguments.length-2;if(at===1)De.children=Ne;else if(1<at){for(var nn=Array(at),Tt=0;Tt<at;Tt++)nn[Tt]=arguments[Tt+2];De.children=nn}return $(W.type,ne,void 0,void 0,ut,De)},ft.createContext=function(W){return W={$$typeof:E,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:g,_context:W},W},ft.createElement=function(W,me,Ne){var De,ne={},ut=null;if(me!=null)for(De in me.key!==void 0&&(ut=""+me.key),me)We.call(me,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(ne[De]=me[De]);var at=arguments.length-2;if(at===1)ne.children=Ne;else if(1<at){for(var nn=Array(at),Tt=0;Tt<at;Tt++)nn[Tt]=arguments[Tt+2];ne.children=nn}if(W&&W.defaultProps)for(De in at=W.defaultProps,at)ne[De]===void 0&&(ne[De]=at[De]);return $(W,ut,void 0,void 0,null,ne)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(W){return{$$typeof:A,render:W}},ft.isValidElement=H,ft.lazy=function(W){return{$$typeof:O,_payload:{_status:-1,_result:W},_init:Qe}},ft.memo=function(W,me){return{$$typeof:w,type:W,compare:me===void 0?null:me}},ft.startTransition=function(W){var me=Pe.T,Ne={};Pe.T=Ne;try{var De=W(),ne=Pe.S;ne!==null&&ne(Ne,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(ct,He)}catch(ut){He(ut)}finally{Pe.T=me}},ft.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()},ft.use=function(W){return Pe.H.use(W)},ft.useActionState=function(W,me,Ne){return Pe.H.useActionState(W,me,Ne)},ft.useCallback=function(W,me){return Pe.H.useCallback(W,me)},ft.useContext=function(W){return Pe.H.useContext(W)},ft.useDebugValue=function(){},ft.useDeferredValue=function(W,me){return Pe.H.useDeferredValue(W,me)},ft.useEffect=function(W,me){return Pe.H.useEffect(W,me)},ft.useId=function(){return Pe.H.useId()},ft.useImperativeHandle=function(W,me,Ne){return Pe.H.useImperativeHandle(W,me,Ne)},ft.useInsertionEffect=function(W,me){return Pe.H.useInsertionEffect(W,me)},ft.useLayoutEffect=function(W,me){return Pe.H.useLayoutEffect(W,me)},ft.useMemo=function(W,me){return Pe.H.useMemo(W,me)},ft.useOptimistic=function(W,me){return Pe.H.useOptimistic(W,me)},ft.useReducer=function(W,me,Ne){return Pe.H.useReducer(W,me,Ne)},ft.useRef=function(W){return Pe.H.useRef(W)},ft.useState=function(W){return Pe.H.useState(W)},ft.useSyncExternalStore=function(W,me,Ne){return Pe.H.useSyncExternalStore(W,me,Ne)},ft.useTransition=function(){return Pe.H.useTransition()},ft.version="19.0.0",ft}var Em;function Tc(){return Em||(Em=1,U0.exports=oT()),U0.exports}var _e=Tc(),F0={exports:{}},nc={},z0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function sT(){return xm||(xm=1,function(s){function e(be,Qe){var He=be.length;be.push(Qe);e:for(;0<He;){var ct=He-1>>>1,W=be[ct];if(0<h(W,Qe))be[ct]=Qe,be[He]=W,He=ct;else break e}}function r(be){return be.length===0?null:be[0]}function l(be){if(be.length===0)return null;var Qe=be[0],He=be.pop();if(He!==Qe){be[0]=He;e:for(var ct=0,W=be.length,me=W>>>1;ct<me;){var Ne=2*(ct+1)-1,De=be[Ne],ne=Ne+1,ut=be[ne];if(0>h(De,He))ne<W&&0>h(ut,De)?(be[ct]=ut,be[ne]=He,ct=ne):(be[ct]=De,be[Ne]=He,ct=Ne);else if(ne<W&&0>h(ut,He))be[ct]=ut,be[ne]=He,ct=ne;else break e}}return Qe}function h(be,Qe){var He=be.sortIndex-Qe.sortIndex;return He!==0?He:be.id-Qe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;s.unstable_now=function(){return g.now()}}else{var E=Date,A=E.now();s.unstable_now=function(){return E.now()-A}}var S=[],w=[],O=1,k=null,L=3,X=!1,j=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;function Se(be){for(var Qe=r(w);Qe!==null;){if(Qe.callback===null)l(w);else if(Qe.startTime<=be)l(w),Qe.sortIndex=Qe.expirationTime,e(S,Qe);else break;Qe=r(w)}}function Ue(be){if(J=!1,Se(be),!j)if(r(S)!==null)j=!0,jt();else{var Qe=r(w);Qe!==null&&Ye(Ue,Qe.startTime-be)}}var Pe=!1,We=-1,$=5,G=-1;function H(){return!(s.unstable_now()-G<$)}function K(){if(Pe){var be=s.unstable_now();G=be;var Qe=!0;try{e:{j=!1,J&&(J=!1,ae(We),We=-1),X=!0;var He=L;try{t:{for(Se(be),k=r(S);k!==null&&!(k.expirationTime>be&&H());){var ct=k.callback;if(typeof ct=="function"){k.callback=null,L=k.priorityLevel;var W=ct(k.expirationTime<=be);if(be=s.unstable_now(),typeof W=="function"){k.callback=W,Se(be),Qe=!0;break t}k===r(S)&&l(S),Se(be)}else l(S);k=r(S)}if(k!==null)Qe=!0;else{var me=r(w);me!==null&&Ye(Ue,me.startTime-be),Qe=!1}}break e}finally{k=null,L=He,X=!1}Qe=void 0}}finally{Qe?Q():Pe=!1}}}var Q;if(typeof Ae=="function")Q=function(){Ae(K)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,F=oe.port2;oe.port1.onmessage=K,Q=function(){F.postMessage(null)}}else Q=function(){ce(K,0)};function jt(){Pe||(Pe=!0,Q())}function Ye(be,Qe){We=ce(function(){be(s.unstable_now())},Qe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(be){be.callback=null},s.unstable_continueExecution=function(){j||X||(j=!0,jt())},s.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<be?Math.floor(1e3/be):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_getFirstCallbackNode=function(){return r(S)},s.unstable_next=function(be){switch(L){case 1:case 2:case 3:var Qe=3;break;default:Qe=L}var He=L;L=Qe;try{return be()}finally{L=He}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(be,Qe){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var He=L;L=be;try{return Qe()}finally{L=He}},s.unstable_scheduleCallback=function(be,Qe,He){var ct=s.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?ct+He:ct):He=ct,be){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=He+W,be={id:O++,callback:Qe,priorityLevel:be,startTime:He,expirationTime:W,sortIndex:-1},He>ct?(be.sortIndex=He,e(w,be),r(S)===null&&be===r(w)&&(J?(ae(We),We=-1):J=!0,Ye(Ue,He-ct))):(be.sortIndex=W,e(S,be),j||X||(j=!0,jt())),be},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(be){var Qe=L;return function(){var He=L;L=Qe;try{return be.apply(this,arguments)}finally{L=He}}}}(H0)),H0}var Am;function uT(){return Am||(Am=1,z0.exports=sT()),z0.exports}var G0={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function lT(){if(Tm)return nr;Tm=1;var s=Tc();function e(S){var w="https://react.dev/errors/"+S;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)w+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+S+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},h=Symbol.for("react.portal");function g(S,w,O){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:k==null?null:""+k,children:S,containerInfo:w,implementation:O}}var E=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(S,w){if(S==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,nr.createPortal=function(S,w){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(e(299));return g(S,w,null,O)},nr.flushSync=function(S){var w=E.T,O=l.p;try{if(E.T=null,l.p=2,S)return S()}finally{E.T=w,l.p=O,l.d.f()}},nr.preconnect=function(S,w){typeof S=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,l.d.C(S,w))},nr.prefetchDNS=function(S){typeof S=="string"&&l.d.D(S)},nr.preinit=function(S,w){if(typeof S=="string"&&w&&typeof w.as=="string"){var O=w.as,k=A(O,w.crossOrigin),L=typeof w.integrity=="string"?w.integrity:void 0,X=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;O==="style"?l.d.S(S,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:k,integrity:L,fetchPriority:X}):O==="script"&&l.d.X(S,{crossOrigin:k,integrity:L,fetchPriority:X,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},nr.preinitModule=function(S,w){if(typeof S=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var O=A(w.as,w.crossOrigin);l.d.M(S,{crossOrigin:O,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&l.d.M(S)},nr.preload=function(S,w){if(typeof S=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var O=w.as,k=A(O,w.crossOrigin);l.d.L(S,O,{crossOrigin:k,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},nr.preloadModule=function(S,w){if(typeof S=="string")if(w){var O=A(w.as,w.crossOrigin);l.d.m(S,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:O,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else l.d.m(S)},nr.requestFormReset=function(S){l.d.r(S)},nr.unstable_batchedUpdates=function(S,w){return S(w)},nr.useFormState=function(S,w,O){return E.H.useFormState(S,w,O)},nr.useFormStatus=function(){return E.H.useHostTransitionStatus()},nr.version="19.0.0",nr}var Sm;function cT(){if(Sm)return G0.exports;Sm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),G0.exports=lT(),G0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function fT(){if(Cm)return nc;Cm=1;var s=uT(),e=Tc(),r=cT();function l(i){var u="https://react.dev/errors/"+i;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var g=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),X=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),Ue=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function We(i){return i===null||typeof i!="object"?null:(i=Pe&&i[Pe]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function G(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case A:return"Portal";case O:return"Profiler";case w:return"StrictMode";case J:return"Suspense";case ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case X:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case j:var u=i.render;return i=i.displayName,i||(i=u.displayName||u.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return u=i.displayName||null,u!==null?u:G(i.type)||"Memo";case Ae:u=i._payload,i=i._init;try{return G(i(u))}catch{}}return null}var H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=Object.assign,Q,oe;function F(i){if(Q===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);Q=u&&u[1]||"",oe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+i+oe}var jt=!1;function Ye(i,u){if(!i||jt)return"";jt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ve){var de=ve}Reflect.construct(i,[],we)}else{try{we.call()}catch(ve){de=ve}i.call(we.prototype)}}else{try{throw Error()}catch(ve){de=ve}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ve){if(ve&&de&&typeof ve.stack=="string")return[ve.stack,de.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),M=C[0],B=C[1];if(M&&B){var Y=M.split(`
`),ie=B.split(`
`);for(x=v=0;v<Y.length&&!Y[v].includes("DetermineComponentFrameRoot");)v++;for(;x<ie.length&&!ie[x].includes("DetermineComponentFrameRoot");)x++;if(v===Y.length||x===ie.length)for(v=Y.length-1,x=ie.length-1;1<=v&&0<=x&&Y[v]!==ie[x];)x--;for(;1<=v&&0<=x;v--,x--)if(Y[v]!==ie[x]){if(v!==1||x!==1)do if(v--,x--,0>x||Y[v]!==ie[x]){var ye=`
`+Y[v].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=v&&0<=x);break}}}finally{jt=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?F(d):""}function be(i){switch(i.tag){case 26:case 27:case 5:return F(i.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return i=Ye(i.type,!1),i;case 11:return i=Ye(i.type.render,!1),i;case 1:return i=Ye(i.type,!0),i;default:return""}}function Qe(i){try{var u="";do u+=be(i),i=i.return;while(i);return u}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function He(i){var u=i,d=i;if(i.alternate)for(;u.return;)u=u.return;else{i=u;do u=i,(u.flags&4098)!==0&&(d=u.return),i=u.return;while(i)}return u.tag===3?d:null}function ct(i){if(i.tag===13){var u=i.memoizedState;if(u===null&&(i=i.alternate,i!==null&&(u=i.memoizedState)),u!==null)return u.dehydrated}return null}function W(i){if(He(i)!==i)throw Error(l(188))}function me(i){var u=i.alternate;if(!u){if(u=He(i),u===null)throw Error(l(188));return u!==i?null:i}for(var d=i,v=u;;){var x=d.return;if(x===null)break;var C=x.alternate;if(C===null){if(v=x.return,v!==null){d=v;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===d)return W(x),i;if(C===v)return W(x),u;C=C.sibling}throw Error(l(188))}if(d.return!==v.return)d=x,v=C;else{for(var M=!1,B=x.child;B;){if(B===d){M=!0,d=x,v=C;break}if(B===v){M=!0,v=x,d=C;break}B=B.sibling}if(!M){for(B=C.child;B;){if(B===d){M=!0,d=C,v=x;break}if(B===v){M=!0,v=C,d=x;break}B=B.sibling}if(!M)throw Error(l(189))}}if(d.alternate!==v)throw Error(l(190))}if(d.tag!==3)throw Error(l(188));return d.stateNode.current===d?i:u}function Ne(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i;for(i=i.child;i!==null;){if(u=Ne(i),u!==null)return u;i=i.sibling}return null}var De=Array.isArray,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},at=[],nn=-1;function Tt(i){return{current:i}}function kt(i){0>nn||(i.current=at[nn],at[nn]=null,nn--)}function Pt(i,u){nn++,at[nn]=i.current,i.current=u}var mn=Tt(null),di=Tt(null),gr=Tt(null),Vi=Tt(null);function Yt(i,u){switch(Pt(gr,u),Pt(di,i),Pt(mn,null),i=u.nodeType,i){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?qv(u):0;break;default:if(i=i===8?u.parentNode:u,u=i.tagName,i=i.namespaceURI)i=qv(i),u=Xv(i,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}kt(mn),Pt(mn,u)}function qt(){kt(mn),kt(di),kt(gr)}function cs(i){i.memoizedState!==null&&Pt(Vi,i);var u=mn.current,d=Xv(u,i.type);u!==d&&(Pt(di,i),Pt(mn,d))}function Rr(i){di.current===i&&(kt(mn),kt(di)),Vi.current===i&&(kt(Vi),Ql._currentValue=ut)}var hn=Object.prototype.hasOwnProperty,pi=s.unstable_scheduleCallback,qe=s.unstable_cancelCallback,fs=s.unstable_shouldYield,$t=s.unstable_requestPaint,Cn=s.unstable_now,Ui=s.unstable_getCurrentPriorityLevel,Bt=s.unstable_ImmediatePriority,yn=s.unstable_UserBlockingPriority,Yr=s.unstable_NormalPriority,uu=s.unstable_LowPriority,_n=s.unstable_IdlePriority,gl=s.log,Kr=s.unstable_setDisableYieldValue,Fi=null,Kt=null;function zi(i){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Fi,i,void 0,(i.current.flags&128)===128)}catch{}}function Vt(i){if(typeof gl=="function"&&Kr(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Fi,i)}catch{}}var Nn=Math.clz32?Math.clz32:Ve,ht=Math.log,fo=Math.LN2;function Ve(i){return i>>>=0,i===0?32:31-(ht(i)/fo|0)|0}var vr=128,Hi=4194304;function Or(i){var u=i&42;if(u!==0)return u;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $n(i,u){var d=i.pendingLanes;if(d===0)return 0;var v=0,x=i.suspendedLanes,C=i.pingedLanes,M=i.warmLanes;i=i.finishedLanes!==0;var B=d&134217727;return B!==0?(d=B&~x,d!==0?v=Or(d):(C&=B,C!==0?v=Or(C):i||(M=B&~M,M!==0&&(v=Or(M))))):(B=d&~x,B!==0?v=Or(B):C!==0?v=Or(C):i||(M=d&~M,M!==0&&(v=Or(M)))),v===0?0:u!==0&&u!==v&&(u&x)===0&&(x=v&-v,M=u&-u,x>=M||x===32&&(M&4194176)!==0)?u:v}function gi(i,u){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&u)===0}function Aa(i,u){switch(i){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hs(){var i=vr;return vr<<=1,(vr&4194176)===0&&(vr=128),i}function Gi(){var i=Hi;return Hi<<=1,(Hi&62914560)===0&&(Hi=4194304),i}function ji(i){for(var u=[],d=0;31>d;d++)u.push(i);return u}function yt(i,u){i.pendingLanes|=u,u!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function lu(i,u,d,v,x,C){var M=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var B=i.entanglements,Y=i.expirationTimes,ie=i.hiddenUpdates;for(d=M&~d;0<d;){var ye=31-Nn(d),we=1<<ye;B[ye]=0,Y[ye]=-1;var de=ie[ye];if(de!==null)for(ie[ye]=null,ye=0;ye<de.length;ye++){var ve=de[ye];ve!==null&&(ve.lane&=-536870913)}d&=~we}v!==0&&Dr(i,v,0),C!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=C&~(M&~u))}function Dr(i,u,d){i.pendingLanes|=u,i.suspendedLanes&=~u;var v=31-Nn(u);i.entangledLanes|=u,i.entanglements[v]=i.entanglements[v]|1073741824|d&4194218}function qi(i,u){var d=i.entangledLanes|=u;for(i=i.entanglements;d;){var v=31-Nn(d),x=1<<v;x&u|i[v]&u&&(i[v]|=u),d&=~x}}function rn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function cu(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:cm(i.type))}function vi(i,u){var d=ne.p;try{return ne.p=i,u()}finally{ne.p=d}}var Wr=Math.random().toString(36).slice(2),an="__reactFiber$"+Wr,on="__reactProps$"+Wr,mi="__reactContainer$"+Wr,Ta="__reactEvents$"+Wr,Sa="__reactListeners$"+Wr,Qr="__reactHandles$"+Wr,$r="__reactResources$"+Wr,Xi="__reactMarker$"+Wr;function Ca(i){delete i[an],delete i[on],delete i[Ta],delete i[Sa],delete i[Qr]}function Nr(i){var u=i[an];if(u)return u;for(var d=i.parentNode;d;){if(u=d[mi]||d[an]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(i=Wv(i);i!==null;){if(d=i[an])return d;i=Wv(i)}return u}i=d,d=i.parentNode}return null}function yi(i){if(i=i[an]||i[mi]){var u=i.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return i}return null}function Yi(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i.stateNode;throw Error(l(33))}function Ki(i){var u=i[$r];return u||(u=i[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function ot(i){i[Xi]=!0}var ds=new Set,wa={};function Fn(i,u){Zn(i,u),Zn(i+"Capture",u)}function Zn(i,u){for(wa[i]=u,i=0;i<u.length;i++)ds.add(u[i])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ps={},gs={};function hu(i){return hn.call(gs,i)?!0:hn.call(ps,i)?!1:fu.test(i)?gs[i]=!0:(ps[i]=!0,!1)}function Wi(i,u,d){if(hu(u))if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){i.removeAttribute(u);return}}i.setAttribute(u,""+d)}}function _i(i,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttribute(u,""+d)}}function mr(i,u,d,v){if(v===null)i.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(u,d,""+v)}}function Pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ho(i){var u=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function vl(i){var u=ho(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,u),v=""+i[u];if(!i.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,C=d.set;return Object.defineProperty(i,u,{configurable:!0,get:function(){return x.call(this)},set:function(M){v=""+M,C.call(this,M)}}),Object.defineProperty(i,u,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(M){v=""+M},stopTracking:function(){i._valueTracker=null,delete i[u]}}}}function ba(i){i._valueTracker||(i._valueTracker=vl(i))}function Pr(i){if(!i)return!1;var u=i._valueTracker;if(!u)return!0;var d=u.getValue(),v="";return i&&(v=ho(i)?i.checked?"true":"false":i.value),i=v,i!==d?(u.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zr=/[\n"\\]/g;function Wt(i){return i.replace(Zr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function sr(i,u,d,v,x,C,M,B){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),u!=null?M==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+Pn(u)):i.value!==""+Pn(u)&&(i.value=""+Pn(u)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),u!=null?yr(i,M,Pn(u)):d!=null?yr(i,M,Pn(d)):v!=null&&i.removeAttribute("value"),x==null&&C!=null&&(i.defaultChecked=!!C),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Pn(B):i.removeAttribute("name")}function Ia(i,u,d,v,x,C,M,B){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),u!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||u!=null))return;d=d!=null?""+Pn(d):"",u=u!=null?""+Pn(u):d,B||u===i.value||(i.value=u),i.defaultValue=u}v=v??x,v=typeof v!="function"&&typeof v!="symbol"&&!!v,i.checked=B?i.checked:!!v,i.defaultChecked=!!v,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function yr(i,u,d){u==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function _t(i,u,d,v){if(i=i.options,u){u={};for(var x=0;x<d.length;x++)u["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=u.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&v&&(i[d].defaultSelected=!0)}else{for(d=""+Pn(d),u=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,v&&(i[x].defaultSelected=!0);return}u!==null||i[x].disabled||(u=i[x])}u!==null&&(u.selected=!0)}}function Ra(i,u,d){if(u!=null&&(u=""+Pn(u),u!==i.value&&(i.value=u),d==null)){i.defaultValue!==u&&(i.defaultValue=u);return}i.defaultValue=d!=null?""+Pn(d):""}function En(i,u,d,v){if(u==null){if(v!=null){if(d!=null)throw Error(l(92));if(De(v)){if(1<v.length)throw Error(l(93));v=v[0]}d=v}d==null&&(d=""),u=d}d=Pn(u),i.defaultValue=d,v=i.textContent,v===d&&v!==""&&v!==null&&(i.value=v)}function _r(i,u){if(u){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=u;return}}i.textContent=u}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vs(i,u,d){var v=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="":v?i.setProperty(u,d):typeof d!="number"||d===0||xi.has(u)?u==="float"?i.cssFloat=d:i[u]=(""+d).trim():i[u]=d+"px"}function Ai(i,u,d){if(u!=null&&typeof u!="object")throw Error(l(62));if(i=i.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?i.setProperty(v,""):v==="float"?i.cssFloat="":i[v]="");for(var x in u)v=u[x],u.hasOwnProperty(x)&&d[x]!==v&&vs(i,x,v)}else for(var C in u)u.hasOwnProperty(C)&&vs(i,C,u[C])}function Qi(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(i){return po.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Er=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ti=null,Si=null;function Ci(i){var u=yi(i);if(u&&(i=u.stateNode)){var d=i[on]||null;e:switch(i=u.stateNode,u.type){case"input":if(sr(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wt(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var v=d[u];if(v!==i&&v.form===i.form){var x=v[on]||null;if(!x)throw Error(l(90));sr(v,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<d.length;u++)v=d[u],v.form===i.form&&Pr(v)}break e;case"textarea":Ra(i,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&_t(i,!!d.multiple,u,!1)}}}var ms=!1;function du(i,u,d){if(ms)return i(u,d);ms=!0;try{var v=i(u);return v}finally{if(ms=!1,(Ti!==null||Si!==null)&&(bf(),Ti&&(u=Ti,i=Si,Si=Ti=null,Ci(u),i)))for(u=0;u<i.length;u++)Ci(i[u])}}function Jr(i,u){var d=i.stateNode;if(d===null)return null;var v=d[on]||null;if(v===null)return null;d=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(l(231,u,typeof d));return d}var xr=!1;if(Jn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){xr=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{xr=!1}var ei=null,Zi=null,wi=null;function ys(){if(wi)return wi;var i,u=Zi,d=u.length,v,x="value"in ei?ei.value:ei.textContent,C=x.length;for(i=0;i<d&&u[i]===x[i];i++);var M=d-i;for(v=1;v<=M&&u[d-v]===x[C-v];v++);return wi=x.slice(i,1<v?1-v:void 0)}function ti(i){var u=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&u===13&&(i=13)):i=u,i===10&&(i=13),32<=i||i===13?i:0}function ni(){return!0}function _s(){return!1}function xn(i){function u(d,v,x,C,M){this._reactName=d,this._targetInst=x,this.type=v,this.nativeEvent=C,this.target=M,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(d=i[B],this[B]=d?d(C):C[B]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ni:_s,this.isPropagationStopped=_s,this}return K(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),u}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=xn(Ot),Oa=K({},Ot,{view:0,detail:0}),Es=xn(Oa),go,vo,wn,Ji=K({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wn&&(wn&&i.type==="mousemove"?(go=i.screenX-wn.screenX,vo=i.screenY-wn.screenY):vo=go=0,wn=i),go)},movementY:function(i){return"movementY"in i?i.movementY:vo}}),Ar=xn(Ji),pu=K({},Ji,{dataTransfer:0}),yl=xn(pu),bi=K({},Oa,{relatedTarget:0}),Da=xn(bi),xs=K({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=xn(xs),gu=K({},Ot,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Na=xn(gu),bt=K({},Ot,{data:0}),vt=xn(bt),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},As={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ts(i){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(i):(i=As[i])?!!u[i]:!1}function ea(){return Ts}var Qt=K({},Oa,{key:function(i){if(i.key){var u=Pa[i.key]||i.key;if(u!=="Unidentified")return u}return i.type==="keypress"?(i=ti(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(i){return i.type==="keypress"?ti(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ti(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mo=xn(Qt),mu=K({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=xn(mu),Ii=K({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ma=xn(Ii),yu=K({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ri=xn(yu),ta=K({},Ji,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=xn(ta),Ln=K({},Ot,{newState:0,oldState:0}),_u=xn(Ln),le=[9,13,27,32],z=Jn&&"CompositionEvent"in window,y=null;Jn&&"documentMode"in document&&(y=document.documentMode);var R=Jn&&"TextEvent"in window&&!y,P=Jn&&(!z||y&&8<y&&11>=y),U=" ",ue=!1;function pe(i,u){switch(i){case"keyup":return le.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ie(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Je=!1;function tt(i,u){switch(i){case"compositionend":return Ie(u);case"keypress":return u.which!==32?null:(ue=!0,U);case"textInput":return i=u.data,i===U&&ue?null:i;default:return null}}function Et(i,u){if(Je)return i==="compositionend"||!z&&pe(i,u)?(i=ys(),wi=Zi=ei=null,Je=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return P&&u.locale!=="ko"?null:u.data;default:return null}}var dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u==="input"?!!dn[i.type]:u==="textarea"}function Oi(i,u,d,v){Ti?Si?Si.push(v):Si=[v]:Ti=v,u=Nf(u,"onChange"),0<u.length&&(d=new ur("onChange","change",null,d,v),i.push({event:d,listeners:u}))}var bn=null,ri=null;function Cs(i){Fv(i,0)}function Eu(i){var u=Yi(i);if(Pr(u))return i}function Vc(i,u){if(i==="change")return u}var Uc=!1;if(Jn){var _l;if(Jn){var La="oninput"in document;if(!La){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),La=typeof Fc.oninput=="function"}_l=La}else _l=!1;Uc=_l&&(!document.documentMode||9<document.documentMode)}function zc(){bn&&(bn.detachEvent("onpropertychange",ws),ri=bn=null)}function ws(i){if(i.propertyName==="value"&&Eu(ri)){var u=[];Oi(u,ri,i,Mn(i)),du(Cs,u)}}function cd(i,u,d){i==="focusin"?(zc(),bn=u,ri=d,bn.attachEvent("onpropertychange",ws)):i==="focusout"&&zc()}function St(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Eu(ri)}function fd(i,u){if(i==="click")return Eu(u)}function hd(i,u){if(i==="input"||i==="change")return Eu(u)}function dd(i,u){return i===u&&(i!==0||1/i===1/u)||i!==i&&u!==u}var lr=typeof Object.is=="function"?Object.is:dd;function kr(i,u){if(lr(i,u))return!0;if(typeof i!="object"||i===null||typeof u!="object"||u===null)return!1;var d=Object.keys(i),v=Object.keys(u);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var x=d[v];if(!hn.call(u,x)||!lr(i[x],u[x]))return!1}return!0}function Hc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gc(i,u){var d=Hc(i);i=0;for(var v;d;){if(d.nodeType===3){if(v=i+d.textContent.length,i<=u&&v>=u)return{node:d,offset:u-i};i=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hc(d)}}function jc(i,u){return i&&u?i===u?!0:i&&i.nodeType===3?!1:u&&u.nodeType===3?jc(i,u.parentNode):"contains"in i?i.contains(u):i.compareDocumentPosition?!!(i.compareDocumentPosition(u)&16):!1:!1}function qc(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var u=Ei(i.document);u instanceof i.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)i=u.contentWindow;else break;u=Ei(i.document)}return u}function El(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u&&(u==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||u==="textarea"||i.contentEditable==="true")}function xl(i,u){var d=qc(u);u=i.focusedElem;var v=i.selectionRange;if(d!==u&&u&&u.ownerDocument&&jc(u.ownerDocument.documentElement,u)){if(v!==null&&El(u)){if(i=v.start,d=v.end,d===void 0&&(d=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(d,u.value.length);else if(d=(i=u.ownerDocument||document)&&i.defaultView||window,d.getSelection){d=d.getSelection();var x=u.textContent.length,C=Math.min(v.start,x);v=v.end===void 0?C:Math.min(v.end,x),!d.extend&&C>v&&(x=v,v=C,C=x),x=Gc(u,C);var M=Gc(u,v);x&&M&&(d.rangeCount!==1||d.anchorNode!==x.node||d.anchorOffset!==x.offset||d.focusNode!==M.node||d.focusOffset!==M.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),d.removeAllRanges(),C>v?(d.addRange(i),d.extend(M.node,M.offset)):(i.setEnd(M.node,M.offset),d.addRange(i)))}}for(i=[],d=u;d=d.parentNode;)d.nodeType===1&&i.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)d=i[u],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var pd=Jn&&"documentMode"in document&&11>=document.documentMode,na=null,Al=null,_o=null,Tl=!1;function Xc(i,u,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Tl||na==null||na!==Ei(v)||(v=na,"selectionStart"in v&&El(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),_o&&kr(_o,v)||(_o=v,v=Nf(Al,"onSelect"),0<v.length&&(u=new ur("onSelect","select",null,u,d),i.push({event:u,listeners:v}),u.target=na)))}function Br(i,u){var d={};return d[i.toLowerCase()]=u.toLowerCase(),d["Webkit"+i]="webkit"+u,d["Moz"+i]="moz"+u,d}var Eo={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},bs={},Sl={};Jn&&(Sl=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ka(i){if(bs[i])return bs[i];if(!Eo[i])return i;var u=Eo[i],d;for(d in u)if(u.hasOwnProperty(d)&&d in Sl)return bs[i]=u[d];return i}var Yc=ka("animationend"),Kc=ka("animationiteration"),Wc=ka("animationstart"),gd=ka("transitionrun"),Qc=ka("transitionstart"),vd=ka("transitioncancel"),$c=ka("transitionend"),Zc=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Vr(i,u){Zc.set(i,u),Fn(u,[i])}var Tr=[],xo=0,Dt=0;function Is(){for(var i=xo,u=Dt=xo=0;u<i;){var d=Tr[u];Tr[u++]=null;var v=Tr[u];Tr[u++]=null;var x=Tr[u];Tr[u++]=null;var C=Tr[u];if(Tr[u++]=null,v!==null&&x!==null){var M=v.pending;M===null?x.next=x:(x.next=M.next,M.next=x),v.pending=x}C!==0&&ef(d,x,C)}}function Ba(i,u,d,v){Tr[xo++]=i,Tr[xo++]=u,Tr[xo++]=d,Tr[xo++]=v,Dt|=v,i.lanes|=v,i=i.alternate,i!==null&&(i.lanes|=v)}function ii(i,u,d,v){return Ba(i,u,d,v),ia(i)}function ra(i,u){return Ba(i,null,null,u),ia(i)}function ef(i,u,d){i.lanes|=d;var v=i.alternate;v!==null&&(v.lanes|=d);for(var x=!1,C=i.return;C!==null;)C.childLanes|=d,v=C.alternate,v!==null&&(v.childLanes|=d),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(x=!0)),i=C,C=C.return;x&&u!==null&&i.tag===3&&(C=i.stateNode,x=31-Nn(d),C=C.hiddenUpdates,i=C[x],i===null?C[x]=[u]:i.push(u),u.lane=d|536870912)}function ia(i){if(50<Gl)throw Gl=0,u0=null,Error(l(185));for(var u=i.return;u!==null;)i=u,u=i.return;return i.tag===3?i.stateNode:null}var Ao={},tf=new WeakMap;function zn(i,u){if(typeof i=="object"&&i!==null){var d=tf.get(i);return d!==void 0?d:(u={value:i,source:u,stack:Qe(u)},tf.set(i,u),u)}return{value:i,source:u,stack:Qe(u)}}var To=[],Va=0,Rs=null,Os=0,Sr=[],Cr=0,Ua=null,Ur=1,un="";function aa(i,u){To[Va++]=Os,To[Va++]=Rs,Rs=i,Os=u}function So(i,u,d){Sr[Cr++]=Ur,Sr[Cr++]=un,Sr[Cr++]=Ua,Ua=i;var v=Ur;i=un;var x=32-Nn(v)-1;v&=~(1<<x),d+=1;var C=32-Nn(u)+x;if(30<C){var M=x-x%5;C=(v&(1<<M)-1).toString(32),v>>=M,x-=M,Ur=1<<32-Nn(u)+x|d<<x|v,un=C+i}else Ur=1<<C|d<<x|v,un=i}function Cl(i){i.return!==null&&(aa(i,1),So(i,1,0))}function wl(i){for(;i===Rs;)Rs=To[--Va],To[Va]=null,Os=To[--Va],To[Va]=null;for(;i===Ua;)Ua=Sr[--Cr],Sr[Cr]=null,un=Sr[--Cr],Sr[Cr]=null,Ur=Sr[--Cr],Sr[Cr]=null}var In=null,Rn=null,je=!1,wr=null,ai=!1,xu=Error(l(519));function oa(i){var u=Error(l(418,""));throw Co(zn(u,i)),xu}function nf(i){var u=i.stateNode,d=i.type,v=i.memoizedProps;switch(u[an]=i,u[on]=v,d){case"dialog":Ct("cancel",u),Ct("close",u);break;case"iframe":case"object":case"embed":Ct("load",u);break;case"video":case"audio":for(d=0;d<ql.length;d++)Ct(ql[d],u);break;case"source":Ct("error",u);break;case"img":case"image":case"link":Ct("error",u),Ct("load",u);break;case"details":Ct("toggle",u);break;case"input":Ct("invalid",u),Ia(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),ba(u);break;case"select":Ct("invalid",u);break;case"textarea":Ct("invalid",u),En(u,v.value,v.defaultValue,v.children),ba(u)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||v.suppressHydrationWarning===!0||jv(u.textContent,d)?(v.popover!=null&&(Ct("beforetoggle",u),Ct("toggle",u)),v.onScroll!=null&&Ct("scroll",u),v.onScrollEnd!=null&&Ct("scrollend",u),v.onClick!=null&&(u.onclick=Pf),u=!0):u=!1,u||oa(i)}function rf(i){for(In=i.return;In;)switch(In.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:In=In.return}}function Ds(i){if(i!==In)return!1;if(!je)return rf(i),je=!0,!1;var u=!1,d;if((d=i.tag!==3&&i.tag!==27)&&((d=i.tag===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||C0(i.type,i.memoizedProps)),d=!d),d&&(u=!0),u&&Rn&&oa(i),rf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));e:{for(i=i.nextSibling,u=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(u===0){Rn=ki(i.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++;i=i.nextSibling}Rn=null}}else Rn=In?ki(i.stateNode.nextSibling):null;return!0}function Ns(){Rn=In=null,je=!1}function Co(i){wr===null?wr=[i]:wr.push(i)}var Ps=Error(l(460)),af=Error(l(474)),Ms={then:function(){}};function of(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Au(){}function sf(i,u,d){switch(d=i[d],d===void 0?i.push(u):d!==u&&(u.then(Au,Au),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,i===Ps?Error(l(483)):i;default:if(typeof u.status=="string")u.then(Au,Au);else{if(i=Ht,i!==null&&100<i.shellSuspendCounter)throw Error(l(482));i=u,i.status="pending",i.then(function(v){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=v}},function(v){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,i===Ps?Error(l(483)):i}throw Di=u,Ps}}var Di=null;function uf(){if(Di===null)throw Error(l(459));var i=Di;return Di=null,i}var cr=null,sa=0;function Hn(i){var u=sa;return sa+=1,cr===null&&(cr=[]),sf(cr,i,u)}function wo(i,u){u=u.props.ref,i.ref=u!==void 0?u:null}function fr(i,u){throw u.$$typeof===g?Error(l(525)):(i=Object.prototype.toString.call(u),Error(l(31,i==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":i)))}function lf(i){var u=i._init;return u(i._payload)}function Tu(i){function u(se,te){if(i){var fe=se.deletions;fe===null?(se.deletions=[te],se.flags|=16):fe.push(te)}}function d(se,te){if(!i)return null;for(;te!==null;)u(se,te),te=te.sibling;return null}function v(se){for(var te=new Map;se!==null;)se.key!==null?te.set(se.key,se):te.set(se.index,se),se=se.sibling;return te}function x(se,te){return se=ko(se,te),se.index=0,se.sibling=null,se}function C(se,te,fe){return se.index=fe,i?(fe=se.alternate,fe!==null?(fe=fe.index,fe<te?(se.flags|=33554434,te):fe):(se.flags|=33554434,te)):(se.flags|=1048576,te)}function M(se){return i&&se.alternate===null&&(se.flags|=33554434),se}function B(se,te,fe,Ee){return te===null||te.tag!==6?(te=e0(fe,se.mode,Ee),te.return=se,te):(te=x(te,fe),te.return=se,te)}function Y(se,te,fe,Ee){var ke=fe.type;return ke===S?ye(se,te,fe.props.children,Ee,fe.key):te!==null&&(te.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Ae&&lf(ke)===te.type)?(te=x(te,fe.props),wo(te,fe),te.return=se,te):(te=Af(fe.type,fe.key,fe.props,null,se.mode,Ee),wo(te,fe),te.return=se,te)}function ie(se,te,fe,Ee){return te===null||te.tag!==4||te.stateNode.containerInfo!==fe.containerInfo||te.stateNode.implementation!==fe.implementation?(te=t0(fe,se.mode,Ee),te.return=se,te):(te=x(te,fe.children||[]),te.return=se,te)}function ye(se,te,fe,Ee,ke){return te===null||te.tag!==7?(te=Xs(fe,se.mode,Ee,ke),te.return=se,te):(te=x(te,fe),te.return=se,te)}function we(se,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=e0(""+te,se.mode,fe),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return fe=Af(te.type,te.key,te.props,null,se.mode,fe),wo(fe,te),fe.return=se,fe;case A:return te=t0(te,se.mode,fe),te.return=se,te;case Ae:var Ee=te._init;return te=Ee(te._payload),we(se,te,fe)}if(De(te)||We(te))return te=Xs(te,se.mode,fe,null),te.return=se,te;if(typeof te.then=="function")return we(se,Hn(te),fe);if(te.$$typeof===X)return we(se,_f(se,te),fe);fr(se,te)}return null}function de(se,te,fe,Ee){var ke=te!==null?te.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ke!==null?null:B(se,te,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return fe.key===ke?Y(se,te,fe,Ee):null;case A:return fe.key===ke?ie(se,te,fe,Ee):null;case Ae:return ke=fe._init,fe=ke(fe._payload),de(se,te,fe,Ee)}if(De(fe)||We(fe))return ke!==null?null:ye(se,te,fe,Ee,null);if(typeof fe.then=="function")return de(se,te,Hn(fe),Ee);if(fe.$$typeof===X)return de(se,te,_f(se,fe),Ee);fr(se,fe)}return null}function ve(se,te,fe,Ee,ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return se=se.get(fe)||null,B(te,se,""+Ee,ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case E:return se=se.get(Ee.key===null?fe:Ee.key)||null,Y(te,se,Ee,ke);case A:return se=se.get(Ee.key===null?fe:Ee.key)||null,ie(te,se,Ee,ke);case Ae:var gt=Ee._init;return Ee=gt(Ee._payload),ve(se,te,fe,Ee,ke)}if(De(Ee)||We(Ee))return se=se.get(fe)||null,ye(te,se,Ee,ke,null);if(typeof Ee.then=="function")return ve(se,te,fe,Hn(Ee),ke);if(Ee.$$typeof===X)return ve(se,te,fe,_f(te,Ee),ke);fr(te,Ee)}return null}function Ge(se,te,fe,Ee){for(var ke=null,gt=null,Xe=te,$e=te=0,Vn=null;Xe!==null&&$e<fe.length;$e++){Xe.index>$e?(Vn=Xe,Xe=null):Vn=Xe.sibling;var Nt=de(se,Xe,fe[$e],Ee);if(Nt===null){Xe===null&&(Xe=Vn);break}i&&Xe&&Nt.alternate===null&&u(se,Xe),te=C(Nt,te,$e),gt===null?ke=Nt:gt.sibling=Nt,gt=Nt,Xe=Vn}if($e===fe.length)return d(se,Xe),je&&aa(se,$e),ke;if(Xe===null){for(;$e<fe.length;$e++)Xe=we(se,fe[$e],Ee),Xe!==null&&(te=C(Xe,te,$e),gt===null?ke=Xe:gt.sibling=Xe,gt=Xe);return je&&aa(se,$e),ke}for(Xe=v(Xe);$e<fe.length;$e++)Vn=ve(Xe,se,$e,fe[$e],Ee),Vn!==null&&(i&&Vn.alternate!==null&&Xe.delete(Vn.key===null?$e:Vn.key),te=C(Vn,te,$e),gt===null?ke=Vn:gt.sibling=Vn,gt=Vn);return i&&Xe.forEach(function(Go){return u(se,Go)}),je&&aa(se,$e),ke}function rt(se,te,fe,Ee){if(fe==null)throw Error(l(151));for(var ke=null,gt=null,Xe=te,$e=te=0,Vn=null,Nt=fe.next();Xe!==null&&!Nt.done;$e++,Nt=fe.next()){Xe.index>$e?(Vn=Xe,Xe=null):Vn=Xe.sibling;var Go=de(se,Xe,Nt.value,Ee);if(Go===null){Xe===null&&(Xe=Vn);break}i&&Xe&&Go.alternate===null&&u(se,Xe),te=C(Go,te,$e),gt===null?ke=Go:gt.sibling=Go,gt=Go,Xe=Vn}if(Nt.done)return d(se,Xe),je&&aa(se,$e),ke;if(Xe===null){for(;!Nt.done;$e++,Nt=fe.next())Nt=we(se,Nt.value,Ee),Nt!==null&&(te=C(Nt,te,$e),gt===null?ke=Nt:gt.sibling=Nt,gt=Nt);return je&&aa(se,$e),ke}for(Xe=v(Xe);!Nt.done;$e++,Nt=fe.next())Nt=ve(Xe,se,$e,Nt.value,Ee),Nt!==null&&(i&&Nt.alternate!==null&&Xe.delete(Nt.key===null?$e:Nt.key),te=C(Nt,te,$e),gt===null?ke=Nt:gt.sibling=Nt,gt=Nt);return i&&Xe.forEach(function(nT){return u(se,nT)}),je&&aa(se,$e),ke}function fn(se,te,fe,Ee){if(typeof fe=="object"&&fe!==null&&fe.type===S&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:e:{for(var ke=fe.key;te!==null;){if(te.key===ke){if(ke=fe.type,ke===S){if(te.tag===7){d(se,te.sibling),Ee=x(te,fe.props.children),Ee.return=se,se=Ee;break e}}else if(te.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Ae&&lf(ke)===te.type){d(se,te.sibling),Ee=x(te,fe.props),wo(Ee,fe),Ee.return=se,se=Ee;break e}d(se,te);break}else u(se,te);te=te.sibling}fe.type===S?(Ee=Xs(fe.props.children,se.mode,Ee,fe.key),Ee.return=se,se=Ee):(Ee=Af(fe.type,fe.key,fe.props,null,se.mode,Ee),wo(Ee,fe),Ee.return=se,se=Ee)}return M(se);case A:e:{for(ke=fe.key;te!==null;){if(te.key===ke)if(te.tag===4&&te.stateNode.containerInfo===fe.containerInfo&&te.stateNode.implementation===fe.implementation){d(se,te.sibling),Ee=x(te,fe.children||[]),Ee.return=se,se=Ee;break e}else{d(se,te);break}else u(se,te);te=te.sibling}Ee=t0(fe,se.mode,Ee),Ee.return=se,se=Ee}return M(se);case Ae:return ke=fe._init,fe=ke(fe._payload),fn(se,te,fe,Ee)}if(De(fe))return Ge(se,te,fe,Ee);if(We(fe)){if(ke=We(fe),typeof ke!="function")throw Error(l(150));return fe=ke.call(fe),rt(se,te,fe,Ee)}if(typeof fe.then=="function")return fn(se,te,Hn(fe),Ee);if(fe.$$typeof===X)return fn(se,te,_f(se,fe),Ee);fr(se,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,te!==null&&te.tag===6?(d(se,te.sibling),Ee=x(te,fe),Ee.return=se,se=Ee):(d(se,te),Ee=e0(fe,se.mode,Ee),Ee.return=se,se=Ee),M(se)):d(se,te)}return function(se,te,fe,Ee){try{sa=0;var ke=fn(se,te,fe,Ee);return cr=null,ke}catch(Xe){if(Xe===Ps)throw Xe;var gt=ci(29,Xe,null,se.mode);return gt.lanes=Ee,gt.return=se,gt}finally{}}}var Fa=Tu(!0),cf=Tu(!1),za=Tt(null),Su=Tt(0);function ff(i,u){i=Qa,Pt(Su,i),Pt(za,u),Qa=i|u.baseLanes}function bl(){Pt(Su,Qa),Pt(za,za.current)}function Ls(){Qa=Su.current,kt(za),kt(Su)}var Gn=Tt(null),oi=null;function ua(i){var u=i.alternate;Pt(pn,pn.current&1),Pt(Gn,i),oi===null&&(u===null||za.current!==null||u.memoizedState!==null)&&(oi=i)}function Ni(i){if(i.tag===22){if(Pt(pn,pn.current),Pt(Gn,i),oi===null){var u=i.alternate;u!==null&&u.memoizedState!==null&&(oi=i)}}else Pi()}function Pi(){Pt(pn,pn.current),Pt(Gn,Gn.current)}function Mi(i){kt(Gn),oi===i&&(oi=null),kt(pn)}var pn=Tt(0);function zt(i){for(var u=i;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var md=typeof AbortController<"u"?AbortController:function(){var i=[],u=this.signal={aborted:!1,addEventListener:function(d,v){i.push(v)}};this.abort=function(){u.aborted=!0,i.forEach(function(d){return d()})}},Fe=s.unstable_scheduleCallback,yd=s.unstable_NormalPriority,gn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Il(){return{controller:new md,data:new Map,refCount:0}}function ks(i){i.refCount--,i.refCount===0&&Fe(yd,function(){i.controller.abort()})}var Bs=null,Rl=0,er=0,hr=null;function hf(i,u){if(Bs===null){var d=Bs=[];Rl=0,er=v0(),hr={status:"pending",value:void 0,then:function(v){d.push(v)}}}return Rl++,u.then(Vs,Vs),u}function Vs(){if(--Rl===0&&Bs!==null){hr!==null&&(hr.status="fulfilled");var i=Bs;Bs=null,er=0,hr=null;for(var u=0;u<i.length;u++)(0,i[u])()}}function a(i,u){var d=[],v={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return i.then(function(){v.status="fulfilled",v.value=u;for(var x=0;x<d.length;x++)(0,d[x])(u)},function(x){for(v.status="rejected",v.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),v}var t=H.S;H.S=function(i,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&hf(i,u),t!==null&&t(i,u)};var n=Tt(null);function o(){var i=n.current;return i!==null?i:Ht.pooledCache}function c(i,u){u===null?Pt(n,n.current):Pt(n,u.pool)}function f(){var i=o();return i===null?null:{parent:gn._currentValue,pool:i}}var p=0,m=null,_=null,T=null,b=!1,I=!1,D=!1,N=0,V=0,q=null,re=0;function Z(){throw Error(l(321))}function ee(i,u){if(u===null)return!1;for(var d=0;d<u.length&&d<i.length;d++)if(!lr(i[d],u[d]))return!1;return!0}function he(i,u,d,v,x,C){return p=C,m=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=i===null||i.memoizedState===null?Fs:Io,D=!1,C=d(v,x),D=!1,I&&(C=Ce(u,d,v,x)),ge(i),C}function ge(i){H.H=la;var u=_!==null&&_.next!==null;if(p=0,T=_=m=null,b=!1,V=0,q=null,u)throw Error(l(300));i===null||kn||(i=i.dependencies,i!==null&&yf(i)&&(kn=!0))}function Ce(i,u,d,v){m=i;var x=0;do{if(I&&(q=null),V=0,I=!1,25<=x)throw Error(l(301));if(x+=1,T=_=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}H.H=zs,C=u(d,v)}while(I);return C}function Re(){var i=H.H,u=i.useState()[0];return u=typeof u.then=="function"?Lt(u):u,i=i.useState()[0],(_!==null?_.memoizedState:null)!==i&&(m.flags|=1024),u}function Oe(){var i=N!==0;return N=0,i}function ze(i,u,d){u.updateQueue=i.updateQueue,u.flags&=-2053,i.lanes&=~d}function dt(i){if(b){for(i=i.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}b=!1}p=0,T=_=m=null,I=!1,V=N=0,q=null}function Le(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return T===null?m.memoizedState=T=i:T=T.next=i,T}function lt(){if(_===null){var i=m.alternate;i=i!==null?i.memoizedState:null}else i=_.next;var u=T===null?m.memoizedState:T.next;if(u!==null)T=u,_=i;else{if(i===null)throw m.alternate===null?Error(l(467)):Error(l(310));_=i,i={memoizedState:_.memoizedState,baseState:_.baseState,baseQueue:_.baseQueue,queue:_.queue,next:null},T===null?m.memoizedState=T=i:T=T.next=i}return T}var pt;pt=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Lt(i){var u=V;return V+=1,q===null&&(q=[]),i=sf(q,i,u),u=m,(T===null?u.memoizedState:T.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?Fs:Io),i}function jn(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Lt(i);if(i.$$typeof===X)return tr(i)}throw Error(l(438,String(i)))}function si(i){var u=null,d=m.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var v=m.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=pt(),m.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(i),v=0;v<i;v++)d[v]=Ue;return u.index++,d}function Fr(i,u){return typeof u=="function"?u(i):u}function bo(i){var u=lt();return Us(u,_,i)}function Us(i,u,d){var v=i.queue;if(v===null)throw Error(l(311));v.lastRenderedReducer=d;var x=i.baseQueue,C=v.pending;if(C!==null){if(x!==null){var M=x.next;x.next=C.next,C.next=M}u.baseQueue=x=C,v.pending=null}if(C=i.baseState,x===null)i.memoizedState=C;else{u=x.next;var B=M=null,Y=null,ie=u,ye=!1;do{var we=ie.lane&-536870913;if(we!==ie.lane?(It&we)===we:(p&we)===we){var de=ie.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),we===er&&(ye=!0);else if((p&de)===de){ie=ie.next,de===er&&(ye=!0);continue}else we={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Y===null?(B=Y=we,M=C):Y=Y.next=we,m.lanes|=de,Bo|=de;we=ie.action,D&&d(C,we),C=ie.hasEagerState?ie.eagerState:d(C,we)}else de={lane:we,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Y===null?(B=Y=de,M=C):Y=Y.next=de,m.lanes|=we,Bo|=we;ie=ie.next}while(ie!==null&&ie!==u);if(Y===null?M=C:Y.next=B,!lr(C,i.memoizedState)&&(kn=!0,ye&&(d=hr,d!==null)))throw d;i.memoizedState=C,i.baseState=M,i.baseQueue=Y,v.lastRenderedState=C}return x===null&&(v.lanes=0),[i.memoizedState,v.dispatch]}function _d(i){var u=lt(),d=u.queue;if(d===null)throw Error(l(311));d.lastRenderedReducer=i;var v=d.dispatch,x=d.pending,C=u.memoizedState;if(x!==null){d.pending=null;var M=x=x.next;do C=i(C,M.action),M=M.next;while(M!==x);lr(C,u.memoizedState)||(kn=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),d.lastRenderedState=C}return[C,v]}function $p(i,u,d){var v=m,x=lt(),C=je;if(C){if(d===void 0)throw Error(l(407));d=d()}else d=u();var M=!lr((_||x).memoizedState,d);if(M&&(x.memoizedState=d,kn=!0),x=x.queue,Ad(eg.bind(null,v,x,i),[i]),x.getSnapshot!==u||M||T!==null&&T.memoizedState.tag&1){if(v.flags|=2048,Cu(9,Jp.bind(null,v,x,d,u),{destroy:void 0},null),Ht===null)throw Error(l(349));C||(p&60)!==0||Zp(v,u,d)}return d}function Zp(i,u,d){i.flags|=16384,i={getSnapshot:u,value:d},u=m.updateQueue,u===null?(u=pt(),m.updateQueue=u,u.stores=[i]):(d=u.stores,d===null?u.stores=[i]:d.push(i))}function Jp(i,u,d,v){u.value=d,u.getSnapshot=v,tg(u)&&ng(i)}function eg(i,u,d){return d(function(){tg(u)&&ng(i)})}function tg(i){var u=i.getSnapshot;i=i.value;try{var d=u();return!lr(i,d)}catch{return!0}}function ng(i){var u=ra(i,2);u!==null&&dr(u,i,2)}function Ed(i){var u=Le();if(typeof i=="function"){var d=i;if(i=d(),D){Vt(!0);try{d()}finally{Vt(!1)}}}return u.memoizedState=u.baseState=i,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:i},u}function rg(i,u,d,v){return i.baseState=d,Us(i,_,typeof v=="function"?v:Fr)}function Qx(i,u,d,v,x){if(gf(i))throw Error(l(485));if(i=u.action,i!==null){var C={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){C.listeners.push(M)}};H.T!==null?d(!0):C.isTransition=!1,v(C),d=u.pending,d===null?(C.next=u.pending=C,ig(u,C)):(C.next=d.next,u.pending=d.next=C)}}function ig(i,u){var d=u.action,v=u.payload,x=i.state;if(u.isTransition){var C=H.T,M={};H.T=M;try{var B=d(x,v),Y=H.S;Y!==null&&Y(M,B),ag(i,u,B)}catch(ie){xd(i,u,ie)}finally{H.T=C}}else try{C=d(x,v),ag(i,u,C)}catch(ie){xd(i,u,ie)}}function ag(i,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){og(i,u,v)},function(v){return xd(i,u,v)}):og(i,u,d)}function og(i,u,d){u.status="fulfilled",u.value=d,sg(u),i.state=d,u=i.pending,u!==null&&(d=u.next,d===u?i.pending=null:(d=d.next,u.next=d,ig(i,d)))}function xd(i,u,d){var v=i.pending;if(i.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=d,sg(u),u=u.next;while(u!==v)}i.action=null}function sg(i){i=i.listeners;for(var u=0;u<i.length;u++)(0,i[u])()}function ug(i,u){return u}function lg(i,u){if(je){var d=Ht.formState;if(d!==null){e:{var v=m;if(je){if(Rn){t:{for(var x=Rn,C=ai;x.nodeType!==8;){if(!C){x=null;break t}if(x=ki(x.nextSibling),x===null){x=null;break t}}C=x.data,x=C==="F!"||C==="F"?x:null}if(x){Rn=ki(x.nextSibling),v=x.data==="F!";break e}}oa(v)}v=!1}v&&(u=d[0])}}return d=Le(),d.memoizedState=d.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:u},d.queue=v,d=bg.bind(null,m,v),v.dispatch=d,v=Ed(!1),C=bd.bind(null,m,!1,v.queue),v=Le(),x={state:u,dispatch:null,action:i,pending:null},v.queue=x,d=Qx.bind(null,m,x,C,d),x.dispatch=d,v.memoizedState=i,[u,d,!1]}function cg(i){var u=lt();return fg(u,_,i)}function fg(i,u,d){u=Us(i,u,ug)[0],i=bo(Fr)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?Lt(u):u;var v=lt(),x=v.queue,C=x.dispatch;return d!==v.memoizedState&&(m.flags|=2048,Cu(9,$x.bind(null,x,d),{destroy:void 0},null)),[u,C,i]}function $x(i,u){i.action=u}function hg(i){var u=lt(),d=_;if(d!==null)return fg(u,d,i);lt(),u=u.memoizedState,d=lt();var v=d.queue.dispatch;return d.memoizedState=i,[u,v,!1]}function Cu(i,u,d,v){return i={tag:i,create:u,inst:d,deps:v,next:null},u=m.updateQueue,u===null&&(u=pt(),m.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=i.next=i:(v=d.next,d.next=i,i.next=v,u.lastEffect=i),i}function dg(){return lt().memoizedState}function df(i,u,d,v){var x=Le();m.flags|=i,x.memoizedState=Cu(1|u,d,{destroy:void 0},v===void 0?null:v)}function pf(i,u,d,v){var x=lt();v=v===void 0?null:v;var C=x.memoizedState.inst;_!==null&&v!==null&&ee(v,_.memoizedState.deps)?x.memoizedState=Cu(u,d,C,v):(m.flags|=i,x.memoizedState=Cu(1|u,d,C,v))}function pg(i,u){df(8390656,8,i,u)}function Ad(i,u){pf(2048,8,i,u)}function gg(i,u){return pf(4,2,i,u)}function vg(i,u){return pf(4,4,i,u)}function mg(i,u){if(typeof u=="function"){i=i();var d=u(i);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return i=i(),u.current=i,function(){u.current=null}}function yg(i,u,d){d=d!=null?d.concat([i]):null,pf(4,4,mg.bind(null,u,i),d)}function Td(){}function _g(i,u){var d=lt();u=u===void 0?null:u;var v=d.memoizedState;return u!==null&&ee(u,v[1])?v[0]:(d.memoizedState=[i,u],i)}function Eg(i,u){var d=lt();u=u===void 0?null:u;var v=d.memoizedState;if(u!==null&&ee(u,v[1]))return v[0];if(v=i(),D){Vt(!0);try{i()}finally{Vt(!1)}}return d.memoizedState=[v,u],v}function Sd(i,u,d){return d===void 0||(p&1073741824)!==0?i.memoizedState=u:(i.memoizedState=d,i=Av(),m.lanes|=i,Bo|=i,d)}function xg(i,u,d,v){return lr(d,u)?d:za.current!==null?(i=Sd(i,d,v),lr(i,u)||(kn=!0),i):(p&42)===0?(kn=!0,i.memoizedState=d):(i=Av(),m.lanes|=i,Bo|=i,u)}function Ag(i,u,d,v,x){var C=ne.p;ne.p=C!==0&&8>C?C:8;var M=H.T,B={};H.T=B,bd(i,!1,u,d);try{var Y=x(),ie=H.S;if(ie!==null&&ie(B,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ye=a(Y,v);Ol(i,u,ye,jr(i))}else Ol(i,u,v,jr(i))}catch(we){Ol(i,u,{then:function(){},status:"rejected",reason:we},jr())}finally{ne.p=C,H.T=M}}function Zx(){}function Cd(i,u,d,v){if(i.tag!==5)throw Error(l(476));var x=Tg(i).queue;Ag(i,x,u,ut,d===null?Zx:function(){return Sg(i),d(v)})}function Tg(i){var u=i.memoizedState;if(u!==null)return u;u={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:ut},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:d},next:null},i.memoizedState=u,i=i.alternate,i!==null&&(i.memoizedState=u),u}function Sg(i){var u=Tg(i).next.queue;Ol(i,u,{},jr())}function wd(){return tr(Ql)}function Cg(){return lt().memoizedState}function wg(){return lt().memoizedState}function Jx(i){for(var u=i.return;u!==null;){switch(u.tag){case 24:case 3:var d=jr();i=Do(d);var v=No(u,i,d);v!==null&&(dr(v,u,d),Pl(v,u,d)),u={cache:Il()},i.payload=u;return}u=u.return}}function eA(i,u,d){var v=jr();d={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},gf(i)?Ig(u,d):(d=ii(i,u,d,v),d!==null&&(dr(d,i,v),Rg(d,u,v)))}function bg(i,u,d){var v=jr();Ol(i,u,d,v)}function Ol(i,u,d,v){var x={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(gf(i))Ig(u,x);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var M=u.lastRenderedState,B=C(M,d);if(x.hasEagerState=!0,x.eagerState=B,lr(B,M))return Ba(i,u,x,0),Ht===null&&Is(),!1}catch{}finally{}if(d=ii(i,u,x,v),d!==null)return dr(d,i,v),Rg(d,u,v),!0}return!1}function bd(i,u,d,v){if(v={lane:2,revertLane:v0(),action:v,hasEagerState:!1,eagerState:null,next:null},gf(i)){if(u)throw Error(l(479))}else u=ii(i,d,v,2),u!==null&&dr(u,i,2)}function gf(i){var u=i.alternate;return i===m||u!==null&&u===m}function Ig(i,u){I=b=!0;var d=i.pending;d===null?u.next=u:(u.next=d.next,d.next=u),i.pending=u}function Rg(i,u,d){if((d&4194176)!==0){var v=u.lanes;v&=i.pendingLanes,d|=v,u.lanes=d,qi(i,d)}}var la={readContext:tr,use:jn,useCallback:Z,useContext:Z,useEffect:Z,useImperativeHandle:Z,useLayoutEffect:Z,useInsertionEffect:Z,useMemo:Z,useReducer:Z,useRef:Z,useState:Z,useDebugValue:Z,useDeferredValue:Z,useTransition:Z,useSyncExternalStore:Z,useId:Z};la.useCacheRefresh=Z,la.useMemoCache=Z,la.useHostTransitionStatus=Z,la.useFormState=Z,la.useActionState=Z,la.useOptimistic=Z;var Fs={readContext:tr,use:jn,useCallback:function(i,u){return Le().memoizedState=[i,u===void 0?null:u],i},useContext:tr,useEffect:pg,useImperativeHandle:function(i,u,d){d=d!=null?d.concat([i]):null,df(4194308,4,mg.bind(null,u,i),d)},useLayoutEffect:function(i,u){return df(4194308,4,i,u)},useInsertionEffect:function(i,u){df(4,2,i,u)},useMemo:function(i,u){var d=Le();u=u===void 0?null:u;var v=i();if(D){Vt(!0);try{i()}finally{Vt(!1)}}return d.memoizedState=[v,u],v},useReducer:function(i,u,d){var v=Le();if(d!==void 0){var x=d(u);if(D){Vt(!0);try{d(u)}finally{Vt(!1)}}}else x=u;return v.memoizedState=v.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},v.queue=i,i=i.dispatch=eA.bind(null,m,i),[v.memoizedState,i]},useRef:function(i){var u=Le();return i={current:i},u.memoizedState=i},useState:function(i){i=Ed(i);var u=i.queue,d=bg.bind(null,m,u);return u.dispatch=d,[i.memoizedState,d]},useDebugValue:Td,useDeferredValue:function(i,u){var d=Le();return Sd(d,i,u)},useTransition:function(){var i=Ed(!1);return i=Ag.bind(null,m,i.queue,!0,!1),Le().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,u,d){var v=m,x=Le();if(je){if(d===void 0)throw Error(l(407));d=d()}else{if(d=u(),Ht===null)throw Error(l(349));(It&60)!==0||Zp(v,u,d)}x.memoizedState=d;var C={value:d,getSnapshot:u};return x.queue=C,pg(eg.bind(null,v,C,i),[i]),v.flags|=2048,Cu(9,Jp.bind(null,v,C,d,u),{destroy:void 0},null),d},useId:function(){var i=Le(),u=Ht.identifierPrefix;if(je){var d=un,v=Ur;d=(v&~(1<<32-Nn(v)-1)).toString(32)+d,u=":"+u+"R"+d,d=N++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=re++,u=":"+u+"r"+d.toString(32)+":";return i.memoizedState=u},useCacheRefresh:function(){return Le().memoizedState=Jx.bind(null,m)}};Fs.useMemoCache=si,Fs.useHostTransitionStatus=wd,Fs.useFormState=lg,Fs.useActionState=lg,Fs.useOptimistic=function(i){var u=Le();u.memoizedState=u.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=bd.bind(null,m,!0,d),d.dispatch=u,[i,u]};var Io={readContext:tr,use:jn,useCallback:_g,useContext:tr,useEffect:Ad,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:Eg,useReducer:bo,useRef:dg,useState:function(){return bo(Fr)},useDebugValue:Td,useDeferredValue:function(i,u){var d=lt();return xg(d,_.memoizedState,i,u)},useTransition:function(){var i=bo(Fr)[0],u=lt().memoizedState;return[typeof i=="boolean"?i:Lt(i),u]},useSyncExternalStore:$p,useId:Cg};Io.useCacheRefresh=wg,Io.useMemoCache=si,Io.useHostTransitionStatus=wd,Io.useFormState=cg,Io.useActionState=cg,Io.useOptimistic=function(i,u){var d=lt();return rg(d,_,i,u)};var zs={readContext:tr,use:jn,useCallback:_g,useContext:tr,useEffect:Ad,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:Eg,useReducer:_d,useRef:dg,useState:function(){return _d(Fr)},useDebugValue:Td,useDeferredValue:function(i,u){var d=lt();return _===null?Sd(d,i,u):xg(d,_.memoizedState,i,u)},useTransition:function(){var i=_d(Fr)[0],u=lt().memoizedState;return[typeof i=="boolean"?i:Lt(i),u]},useSyncExternalStore:$p,useId:Cg};zs.useCacheRefresh=wg,zs.useMemoCache=si,zs.useHostTransitionStatus=wd,zs.useFormState=hg,zs.useActionState=hg,zs.useOptimistic=function(i,u){var d=lt();return _!==null?rg(d,_,i,u):(d.baseState=i,[i,d.queue.dispatch])};function Id(i,u,d,v){u=i.memoizedState,d=d(v,u),d=d==null?u:K({},u,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Rd={isMounted:function(i){return(i=i._reactInternals)?He(i)===i:!1},enqueueSetState:function(i,u,d){i=i._reactInternals;var v=jr(),x=Do(v);x.payload=u,d!=null&&(x.callback=d),u=No(i,x,v),u!==null&&(dr(u,i,v),Pl(u,i,v))},enqueueReplaceState:function(i,u,d){i=i._reactInternals;var v=jr(),x=Do(v);x.tag=1,x.payload=u,d!=null&&(x.callback=d),u=No(i,x,v),u!==null&&(dr(u,i,v),Pl(u,i,v))},enqueueForceUpdate:function(i,u){i=i._reactInternals;var d=jr(),v=Do(d);v.tag=2,u!=null&&(v.callback=u),u=No(i,v,d),u!==null&&(dr(u,i,d),Pl(u,i,d))}};function Og(i,u,d,v,x,C,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,C,M):u.prototype&&u.prototype.isPureReactComponent?!kr(d,v)||!kr(x,C):!0}function Dg(i,u,d,v){i=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,v),u.state!==i&&Rd.enqueueReplaceState(u,u.state,null)}function Hs(i,u){var d=u;if("ref"in u){d={};for(var v in u)v!=="ref"&&(d[v]=u[v])}if(i=i.defaultProps){d===u&&(d=K({},d));for(var x in i)d[x]===void 0&&(d[x]=i[x])}return d}var vf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ng(i){vf(i)}function Pg(i){console.error(i)}function Mg(i){vf(i)}function mf(i,u){try{var d=i.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function Lg(i,u,d){try{var v=i.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Od(i,u,d){return d=Do(d),d.tag=3,d.payload={element:null},d.callback=function(){mf(i,u)},d}function kg(i){return i=Do(i),i.tag=3,i}function Bg(i,u,d,v){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var C=v.value;i.payload=function(){return x(C)},i.callback=function(){Lg(u,d,v)}}var M=d.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Lg(u,d,v),typeof x!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var B=v.stack;this.componentDidCatch(v.value,{componentStack:B!==null?B:""})})}function tA(i,u,d,v,x){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=d.alternate,u!==null&&Nl(u,d,x,!0),d=Gn.current,d!==null){switch(d.tag){case 13:return oi===null?f0():d.alternate===null&&cn===0&&(cn=3),d.flags&=-257,d.flags|=65536,d.lanes=x,v===Ms?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([v]):u.add(v),d0(i,v,x)),!1;case 22:return d.flags|=65536,v===Ms?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([v]):d.add(v)),d0(i,v,x)),!1}throw Error(l(435,d.tag))}return d0(i,v,x),f0(),!1}if(je)return u=Gn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,v!==xu&&(i=Error(l(422),{cause:v}),Co(zn(i,d)))):(v!==xu&&(u=Error(l(423),{cause:v}),Co(zn(u,d))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,v=zn(v,d),x=Od(i.stateNode,v,x),qd(i,x),cn!==4&&(cn=2)),!1;var C=Error(l(520),{cause:v});if(C=zn(C,d),zl===null?zl=[C]:zl.push(C),cn!==4&&(cn=2),u===null)return!0;v=zn(v,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,i=x&-x,d.lanes|=i,i=Od(d.stateNode,v,i),qd(d,i),!1;case 1:if(u=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Vo===null||!Vo.has(C))))return d.flags|=65536,x&=-x,d.lanes|=x,x=kg(x),Bg(x,i,d,v),qd(d,x),!1}d=d.return}while(d!==null);return!1}var Vg=Error(l(461)),kn=!1;function qn(i,u,d,v){u.child=i===null?cf(u,null,d,v):Fa(u,i.child,d,v)}function Ug(i,u,d,v,x){d=d.render;var C=u.ref;if("ref"in v){var M={};for(var B in v)B!=="ref"&&(M[B]=v[B])}else M=v;return js(u),v=he(i,u,d,M,C,x),B=Oe(),i!==null&&!kn?(ze(i,u,x),Ha(i,u,x)):(je&&B&&Cl(u),u.flags|=1,qn(i,u,v,x),u.child)}function Fg(i,u,d,v,x){if(i===null){var C=d.type;return typeof C=="function"&&!Jd(C)&&C.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=C,zg(i,u,C,v,x)):(i=Af(d.type,null,v,u,u.mode,x),i.ref=u.ref,i.return=u,u.child=i)}if(C=i.child,!Ud(i,x)){var M=C.memoizedProps;if(d=d.compare,d=d!==null?d:kr,d(M,v)&&i.ref===u.ref)return Ha(i,u,x)}return u.flags|=1,i=ko(C,v),i.ref=u.ref,i.return=u,u.child=i}function zg(i,u,d,v,x){if(i!==null){var C=i.memoizedProps;if(kr(C,v)&&i.ref===u.ref)if(kn=!1,u.pendingProps=v=C,Ud(i,x))(i.flags&131072)!==0&&(kn=!0);else return u.lanes=i.lanes,Ha(i,u,x)}return Dd(i,u,d,v,x)}function Hg(i,u,d){var v=u.pendingProps,x=v.children,C=(u.stateNode._pendingVisibility&2)!==0,M=i!==null?i.memoizedState:null;if(Dl(i,u),v.mode==="hidden"||C){if((u.flags&128)!==0){if(v=M!==null?M.baseLanes|d:d,i!==null){for(x=u.child=i.child,C=0;x!==null;)C=C|x.lanes|x.childLanes,x=x.sibling;u.childLanes=C&~v}else u.childLanes=0,u.child=null;return Gg(i,u,v,d)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},i!==null&&c(u,M!==null?M.cachePool:null),M!==null?ff(u,M):bl(),Ni(u);else return u.lanes=u.childLanes=536870912,Gg(i,u,M!==null?M.baseLanes|d:d,d)}else M!==null?(c(u,M.cachePool),ff(u,M),Pi(),u.memoizedState=null):(i!==null&&c(u,null),bl(),Pi());return qn(i,u,x,d),u.child}function Gg(i,u,d,v){var x=o();return x=x===null?null:{parent:gn._currentValue,pool:x},u.memoizedState={baseLanes:d,cachePool:x},i!==null&&c(u,null),bl(),Ni(u),i!==null&&Nl(i,u,v,!0),null}function Dl(i,u){var d=u.ref;if(d===null)i!==null&&i.ref!==null&&(u.flags|=2097664);else{if(typeof d!="function"&&typeof d!="object")throw Error(l(284));(i===null||i.ref!==d)&&(u.flags|=2097664)}}function Dd(i,u,d,v,x){return js(u),d=he(i,u,d,v,void 0,x),v=Oe(),i!==null&&!kn?(ze(i,u,x),Ha(i,u,x)):(je&&v&&Cl(u),u.flags|=1,qn(i,u,d,x),u.child)}function jg(i,u,d,v,x,C){return js(u),u.updateQueue=null,d=Ce(u,v,d,x),ge(i),v=Oe(),i!==null&&!kn?(ze(i,u,C),Ha(i,u,C)):(je&&v&&Cl(u),u.flags|=1,qn(i,u,d,C),u.child)}function qg(i,u,d,v,x){if(js(u),u.stateNode===null){var C=Ao,M=d.contextType;typeof M=="object"&&M!==null&&(C=tr(M)),C=new d(v,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Rd,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=v,C.state=u.memoizedState,C.refs={},Gd(u),M=d.contextType,C.context=typeof M=="object"&&M!==null?tr(M):Ao,C.state=u.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(Id(u,d,M,v),C.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(M=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),M!==C.state&&Rd.enqueueReplaceState(C,C.state,null),Ll(u,v,C,x),Ml(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(i===null){C=u.stateNode;var B=u.memoizedProps,Y=Hs(d,B);C.props=Y;var ie=C.context,ye=d.contextType;M=Ao,typeof ye=="object"&&ye!==null&&(M=tr(ye));var we=d.getDerivedStateFromProps;ye=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function",B=u.pendingProps!==B,ye||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B||ie!==M)&&Dg(u,C,v,M),Oo=!1;var de=u.memoizedState;C.state=de,Ll(u,v,C,x),Ml(),ie=u.memoizedState,B||de!==ie||Oo?(typeof we=="function"&&(Id(u,d,we,v),ie=u.memoizedState),(Y=Oo||Og(u,d,Y,v,de,ie,M))?(ye||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ie),C.props=v,C.state=ie,C.context=M,v=Y):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,jd(i,u),M=u.memoizedProps,ye=Hs(d,M),C.props=ye,we=u.pendingProps,de=C.context,ie=d.contextType,Y=Ao,typeof ie=="object"&&ie!==null&&(Y=tr(ie)),B=d.getDerivedStateFromProps,(ie=typeof B=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M!==we||de!==Y)&&Dg(u,C,v,Y),Oo=!1,de=u.memoizedState,C.state=de,Ll(u,v,C,x),Ml();var ve=u.memoizedState;M!==we||de!==ve||Oo||i!==null&&i.dependencies!==null&&yf(i.dependencies)?(typeof B=="function"&&(Id(u,d,B,v),ve=u.memoizedState),(ye=Oo||Og(u,d,ye,v,de,ve,Y)||i!==null&&i.dependencies!==null&&yf(i.dependencies))?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,ve,Y),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,ve,Y)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||M===i.memoizedProps&&de===i.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&de===i.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ve),C.props=v,C.state=ve,C.context=Y,v=ye):(typeof C.componentDidUpdate!="function"||M===i.memoizedProps&&de===i.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&de===i.memoizedState||(u.flags|=1024),v=!1)}return C=v,Dl(i,u),v=(u.flags&128)!==0,C||v?(C=u.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,i!==null&&v?(u.child=Fa(u,i.child,null,x),u.child=Fa(u,null,d,x)):qn(i,u,d,x),u.memoizedState=C.state,i=u.child):i=Ha(i,u,x),i}function Xg(i,u,d,v){return Ns(),u.flags|=256,qn(i,u,d,v),u.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Pd(i){return{baseLanes:i,cachePool:f()}}function Md(i,u,d){return i=i!==null?i.childLanes&~d:0,u&&(i|=fi),i}function Yg(i,u,d){var v=u.pendingProps,x=!1,C=(u.flags&128)!==0,M;if((M=C)||(M=i!==null&&i.memoizedState===null?!1:(pn.current&2)!==0),M&&(x=!0,u.flags&=-129),M=(u.flags&32)!==0,u.flags&=-33,i===null){if(je){if(x?ua(u):Pi(),je){var B=Rn,Y;if(Y=B){e:{for(Y=B,B=ai;Y.nodeType!==8;){if(!B){B=null;break e}if(Y=ki(Y.nextSibling),Y===null){B=null;break e}}B=Y}B!==null?(u.memoizedState={dehydrated:B,treeContext:Ua!==null?{id:Ur,overflow:un}:null,retryLane:536870912},Y=ci(18,null,null,0),Y.stateNode=B,Y.return=u,u.child=Y,In=u,Rn=null,Y=!0):Y=!1}Y||oa(u)}if(B=u.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return B.data==="$!"?u.lanes=16:u.lanes=536870912,null;Mi(u)}return B=v.children,v=v.fallback,x?(Pi(),x=u.mode,B=kd({mode:"hidden",children:B},x),v=Xs(v,x,d,null),B.return=u,v.return=u,B.sibling=v,u.child=B,x=u.child,x.memoizedState=Pd(d),x.childLanes=Md(i,M,d),u.memoizedState=Nd,v):(ua(u),Ld(u,B))}if(Y=i.memoizedState,Y!==null&&(B=Y.dehydrated,B!==null)){if(C)u.flags&256?(ua(u),u.flags&=-257,u=Bd(i,u,d)):u.memoizedState!==null?(Pi(),u.child=i.child,u.flags|=128,u=null):(Pi(),x=v.fallback,B=u.mode,v=kd({mode:"visible",children:v.children},B),x=Xs(x,B,d,null),x.flags|=2,v.return=u,x.return=u,v.sibling=x,u.child=v,Fa(u,i.child,null,d),v=u.child,v.memoizedState=Pd(d),v.childLanes=Md(i,M,d),u.memoizedState=Nd,u=x);else if(ua(u),B.data==="$!"){if(M=B.nextSibling&&B.nextSibling.dataset,M)var ie=M.dgst;M=ie,v=Error(l(419)),v.stack="",v.digest=M,Co({value:v,source:null,stack:null}),u=Bd(i,u,d)}else if(kn||Nl(i,u,d,!1),M=(d&i.childLanes)!==0,kn||M){if(M=Ht,M!==null){if(v=d&-d,(v&42)!==0)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=(v&(M.suspendedLanes|d))!==0?0:v,v!==0&&v!==Y.retryLane)throw Y.retryLane=v,ra(i,v),dr(M,i,v),Vg}B.data==="$?"||f0(),u=Bd(i,u,d)}else B.data==="$?"?(u.flags|=128,u.child=i.child,u=vA.bind(null,i),B._reactRetry=u,u=null):(i=Y.treeContext,Rn=ki(B.nextSibling),In=u,je=!0,wr=null,ai=!1,i!==null&&(Sr[Cr++]=Ur,Sr[Cr++]=un,Sr[Cr++]=Ua,Ur=i.id,un=i.overflow,Ua=u),u=Ld(u,v.children),u.flags|=4096);return u}return x?(Pi(),x=v.fallback,B=u.mode,Y=i.child,ie=Y.sibling,v=ko(Y,{mode:"hidden",children:v.children}),v.subtreeFlags=Y.subtreeFlags&31457280,ie!==null?x=ko(ie,x):(x=Xs(x,B,d,null),x.flags|=2),x.return=u,v.return=u,v.sibling=x,u.child=v,v=x,x=u.child,B=i.child.memoizedState,B===null?B=Pd(d):(Y=B.cachePool,Y!==null?(ie=gn._currentValue,Y=Y.parent!==ie?{parent:ie,pool:ie}:Y):Y=f(),B={baseLanes:B.baseLanes|d,cachePool:Y}),x.memoizedState=B,x.childLanes=Md(i,M,d),u.memoizedState=Nd,v):(ua(u),d=i.child,i=d.sibling,d=ko(d,{mode:"visible",children:v.children}),d.return=u,d.sibling=null,i!==null&&(M=u.deletions,M===null?(u.deletions=[i],u.flags|=16):M.push(i)),u.child=d,u.memoizedState=null,d)}function Ld(i,u){return u=kd({mode:"visible",children:u},i.mode),u.return=i,i.child=u}function kd(i,u){return _v(i,u,0,null)}function Bd(i,u,d){return Fa(u,i.child,null,d),i=Ld(u,u.pendingProps.children),i.flags|=2,u.memoizedState=null,i}function Kg(i,u,d){i.lanes|=u;var v=i.alternate;v!==null&&(v.lanes|=u),zd(i.return,u,d)}function Vd(i,u,d,v,x){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:x}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=d,C.tailMode=x)}function Wg(i,u,d){var v=u.pendingProps,x=v.revealOrder,C=v.tail;if(qn(i,u,v.children,d),v=pn.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=u.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Kg(i,d,u);else if(i.tag===19)Kg(i,d,u);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===u)break e;for(;i.sibling===null;){if(i.return===null||i.return===u)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}switch(Pt(pn,v),x){case"forwards":for(d=u.child,x=null;d!==null;)i=d.alternate,i!==null&&zt(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=u.child,u.child=null):(x=d.sibling,d.sibling=null),Vd(u,!1,x,d,C);break;case"backwards":for(d=null,x=u.child,u.child=null;x!==null;){if(i=x.alternate,i!==null&&zt(i)===null){u.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}Vd(u,!0,d,null,C);break;case"together":Vd(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ha(i,u,d){if(i!==null&&(u.dependencies=i.dependencies),Bo|=u.lanes,(d&u.childLanes)===0)if(i!==null){if(Nl(i,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(i!==null&&u.child!==i.child)throw Error(l(153));if(u.child!==null){for(i=u.child,d=ko(i,i.pendingProps),u.child=d,d.return=u;i.sibling!==null;)i=i.sibling,d=d.sibling=ko(i,i.pendingProps),d.return=u;d.sibling=null}return u.child}function Ud(i,u){return(i.lanes&u)!==0?!0:(i=i.dependencies,!!(i!==null&&yf(i)))}function nA(i,u,d){switch(u.tag){case 3:Yt(u,u.stateNode.containerInfo),Ro(u,gn,i.memoizedState.cache),Ns();break;case 27:case 5:cs(u);break;case 4:Yt(u,u.stateNode.containerInfo);break;case 10:Ro(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(ua(u),u.flags|=128,null):(d&u.child.childLanes)!==0?Yg(i,u,d):(ua(u),i=Ha(i,u,d),i!==null?i.sibling:null);ua(u);break;case 19:var x=(i.flags&128)!==0;if(v=(d&u.childLanes)!==0,v||(Nl(i,u,d,!1),v=(d&u.childLanes)!==0),x){if(v)return Wg(i,u,d);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Pt(pn,pn.current),v)break;return null;case 22:case 23:return u.lanes=0,Hg(i,u,d);case 24:Ro(u,gn,i.memoizedState.cache)}return Ha(i,u,d)}function Qg(i,u,d){if(i!==null)if(i.memoizedProps!==u.pendingProps)kn=!0;else{if(!Ud(i,d)&&(u.flags&128)===0)return kn=!1,nA(i,u,d);kn=(i.flags&131072)!==0}else kn=!1,je&&(u.flags&1048576)!==0&&So(u,Os,u.index);switch(u.lanes=0,u.tag){case 16:e:{i=u.pendingProps;var v=u.elementType,x=v._init;if(v=x(v._payload),u.type=v,typeof v=="function")Jd(v)?(i=Hs(v,i),u.tag=1,u=qg(null,u,v,i,d)):(u.tag=0,u=Dd(null,u,v,i,d));else{if(v!=null){if(x=v.$$typeof,x===j){u.tag=11,u=Ug(null,u,v,i,d);break e}else if(x===ae){u.tag=14,u=Fg(null,u,v,i,d);break e}}throw u=G(v)||v,Error(l(306,u,""))}}return u;case 0:return Dd(i,u,u.type,u.pendingProps,d);case 1:return v=u.type,x=Hs(v,u.pendingProps),qg(i,u,v,x,d);case 3:e:{if(Yt(u,u.stateNode.containerInfo),i===null)throw Error(l(387));var C=u.pendingProps;x=u.memoizedState,v=x.element,jd(i,u),Ll(u,C,null,d);var M=u.memoizedState;if(C=M.cache,Ro(u,gn,C),C!==x.cache&&Hd(u,[gn],d,!0),Ml(),C=M.element,x.isDehydrated)if(x={element:C,isDehydrated:!1,cache:M.cache},u.updateQueue.baseState=x,u.memoizedState=x,u.flags&256){u=Xg(i,u,C,d);break e}else if(C!==v){v=zn(Error(l(424)),u),Co(v),u=Xg(i,u,C,d);break e}else for(Rn=ki(u.stateNode.containerInfo.firstChild),In=u,je=!0,wr=null,ai=!0,d=cf(u,null,C,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ns(),C===v){u=Ha(i,u,d);break e}qn(i,u,C,d)}u=u.child}return u;case 26:return Dl(i,u),i===null?(d=Jv(u.type,null,u.pendingProps,null))?u.memoizedState=d:je||(d=u.type,i=u.pendingProps,v=Mf(gr.current).createElement(d),v[an]=u,v[on]=i,Xn(v,d,i),ot(v),u.stateNode=v):u.memoizedState=Jv(u.type,i.memoizedProps,u.pendingProps,i.memoizedState),null;case 27:return cs(u),i===null&&je&&(v=u.stateNode=Qv(u.type,u.pendingProps,gr.current),In=u,ai=!0,Rn=ki(v.firstChild)),v=u.pendingProps.children,i!==null||je?qn(i,u,v,d):u.child=Fa(u,null,v,d),Dl(i,u),u.child;case 5:return i===null&&je&&((x=v=Rn)&&(v=NA(v,u.type,u.pendingProps,ai),v!==null?(u.stateNode=v,In=u,Rn=ki(v.firstChild),ai=!1,x=!0):x=!1),x||oa(u)),cs(u),x=u.type,C=u.pendingProps,M=i!==null?i.memoizedProps:null,v=C.children,C0(x,C)?v=null:M!==null&&C0(x,M)&&(u.flags|=32),u.memoizedState!==null&&(x=he(i,u,Re,null,null,d),Ql._currentValue=x),Dl(i,u),qn(i,u,v,d),u.child;case 6:return i===null&&je&&((i=d=Rn)&&(d=PA(d,u.pendingProps,ai),d!==null?(u.stateNode=d,In=u,Rn=null,i=!0):i=!1),i||oa(u)),null;case 13:return Yg(i,u,d);case 4:return Yt(u,u.stateNode.containerInfo),v=u.pendingProps,i===null?u.child=Fa(u,null,v,d):qn(i,u,v,d),u.child;case 11:return Ug(i,u,u.type,u.pendingProps,d);case 7:return qn(i,u,u.pendingProps,d),u.child;case 8:return qn(i,u,u.pendingProps.children,d),u.child;case 12:return qn(i,u,u.pendingProps.children,d),u.child;case 10:return v=u.pendingProps,Ro(u,u.type,v.value),qn(i,u,v.children,d),u.child;case 9:return x=u.type._context,v=u.pendingProps.children,js(u),x=tr(x),v=v(x),u.flags|=1,qn(i,u,v,d),u.child;case 14:return Fg(i,u,u.type,u.pendingProps,d);case 15:return zg(i,u,u.type,u.pendingProps,d);case 19:return Wg(i,u,d);case 22:return Hg(i,u,d);case 24:return js(u),v=tr(gn),i===null?(x=o(),x===null&&(x=Ht,C=Il(),x.pooledCache=C,C.refCount++,C!==null&&(x.pooledCacheLanes|=d),x=C),u.memoizedState={parent:v,cache:x},Gd(u),Ro(u,gn,x)):((i.lanes&d)!==0&&(jd(i,u),Ll(u,null,null,d),Ml()),x=i.memoizedState,C=u.memoizedState,x.parent!==v?(x={parent:v,cache:v},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),Ro(u,gn,v)):(v=C.cache,Ro(u,gn,v),v!==x.cache&&Hd(u,[gn],d,!0))),qn(i,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(l(156,u.tag))}var Fd=Tt(null),Gs=null,Ga=null;function Ro(i,u,d){Pt(Fd,u._currentValue),u._currentValue=d}function ja(i){i._currentValue=Fd.current,kt(Fd)}function zd(i,u,d){for(;i!==null;){var v=i.alternate;if((i.childLanes&u)!==u?(i.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),i===d)break;i=i.return}}function Hd(i,u,d,v){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var C=x.dependencies;if(C!==null){var M=x.child;C=C.firstContext;e:for(;C!==null;){var B=C;C=x;for(var Y=0;Y<u.length;Y++)if(B.context===u[Y]){C.lanes|=d,B=C.alternate,B!==null&&(B.lanes|=d),zd(C.return,d,i),v||(M=null);break e}C=B.next}}else if(x.tag===18){if(M=x.return,M===null)throw Error(l(341));M.lanes|=d,C=M.alternate,C!==null&&(C.lanes|=d),zd(M,d,i),M=null}else M=x.child;if(M!==null)M.return=x;else for(M=x;M!==null;){if(M===i){M=null;break}if(x=M.sibling,x!==null){x.return=M.return,M=x;break}M=M.return}x=M}}function Nl(i,u,d,v){i=null;for(var x=u,C=!1;x!==null;){if(!C){if((x.flags&524288)!==0)C=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var M=x.alternate;if(M===null)throw Error(l(387));if(M=M.memoizedProps,M!==null){var B=x.type;lr(x.pendingProps.value,M.value)||(i!==null?i.push(B):i=[B])}}else if(x===Vi.current){if(M=x.alternate,M===null)throw Error(l(387));M.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(Ql):i=[Ql])}x=x.return}i!==null&&Hd(u,i,d,v),u.flags|=262144}function yf(i){for(i=i.firstContext;i!==null;){if(!lr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function js(i){Gs=i,Ga=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tr(i){return $g(Gs,i)}function _f(i,u){return Gs===null&&js(i),$g(i,u)}function $g(i,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Ga===null){if(i===null)throw Error(l(308));Ga=u,i.dependencies={lanes:0,firstContext:u},i.flags|=524288}else Ga=Ga.next=u;return d}var Oo=!1;function Gd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(i,u){i=i.updateQueue,u.updateQueue===i&&(u.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Do(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function No(i,u,d){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Jt&2)!==0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,u=ia(i),ef(i,null,d),u}return Ba(i,v,u,d),ia(i)}function Pl(i,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194176)!==0)){var v=u.lanes;v&=i.pendingLanes,d|=v,u.lanes=d,qi(i,d)}}function qd(i,u){var d=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var x=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var M={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?x=C=M:C=C.next=M,d=d.next}while(d!==null);C===null?x=C=u:C=C.next=u}else x=C=u;d={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=u}var Xd=!1;function Ml(){if(Xd){var i=hr;if(i!==null)throw i}}function Ll(i,u,d,v){Xd=!1;var x=i.updateQueue;Oo=!1;var C=x.firstBaseUpdate,M=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var Y=B,ie=Y.next;Y.next=null,M===null?C=ie:M.next=ie,M=Y;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,B=ye.lastBaseUpdate,B!==M&&(B===null?ye.firstBaseUpdate=ie:B.next=ie,ye.lastBaseUpdate=Y))}if(C!==null){var we=x.baseState;M=0,ye=ie=Y=null,B=C;do{var de=B.lane&-536870913,ve=de!==B.lane;if(ve?(It&de)===de:(v&de)===de){de!==0&&de===er&&(Xd=!0),ye!==null&&(ye=ye.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ge=i,rt=B;de=u;var fn=d;switch(rt.tag){case 1:if(Ge=rt.payload,typeof Ge=="function"){we=Ge.call(fn,we,de);break e}we=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=rt.payload,de=typeof Ge=="function"?Ge.call(fn,we,de):Ge,de==null)break e;we=K({},we,de);break e;case 2:Oo=!0}}de=B.callback,de!==null&&(i.flags|=64,ve&&(i.flags|=8192),ve=x.callbacks,ve===null?x.callbacks=[de]:ve.push(de))}else ve={lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ye===null?(ie=ye=ve,Y=we):ye=ye.next=ve,M|=de;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;ve=B,B=ve.next,ve.next=null,x.lastBaseUpdate=ve,x.shared.pending=null}}while(!0);ye===null&&(Y=we),x.baseState=Y,x.firstBaseUpdate=ie,x.lastBaseUpdate=ye,C===null&&(x.shared.lanes=0),Bo|=M,i.lanes=M,i.memoizedState=we}}function Zg(i,u){if(typeof i!="function")throw Error(l(191,i));i.call(u)}function Jg(i,u){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Zg(d[i],u)}function kl(i,u){try{var d=u.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var x=v.next;d=x;do{if((d.tag&i)===i){v=void 0;var C=d.create,M=d.inst;v=C(),M.destroy=v}d=d.next}while(d!==x)}}catch(B){Ft(u,u.return,B)}}function Po(i,u,d){try{var v=u.updateQueue,x=v!==null?v.lastEffect:null;if(x!==null){var C=x.next;v=C;do{if((v.tag&i)===i){var M=v.inst,B=M.destroy;if(B!==void 0){M.destroy=void 0,x=u;var Y=d;try{B()}catch(ie){Ft(x,Y,ie)}}}v=v.next}while(v!==C)}}catch(ie){Ft(u,u.return,ie)}}function ev(i){var u=i.updateQueue;if(u!==null){var d=i.stateNode;try{Jg(u,d)}catch(v){Ft(i,i.return,v)}}}function tv(i,u,d){d.props=Hs(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(v){Ft(i,u,v)}}function qs(i,u){try{var d=i.ref;if(d!==null){var v=i.stateNode;switch(i.tag){case 26:case 27:case 5:var x=v;break;default:x=v}typeof d=="function"?i.refCleanup=d(x):d.current=x}}catch(C){Ft(i,u,C)}}function zr(i,u){var d=i.ref,v=i.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(x){Ft(i,u,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ft(i,u,x)}else d.current=null}function nv(i){var u=i.type,d=i.memoizedProps,v=i.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(x){Ft(i,i.return,x)}}function rv(i,u,d){try{var v=i.stateNode;bA(v,i.type,d,u),v[on]=u}catch(x){Ft(i,i.return,x)}}function iv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Yd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||iv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kd(i,u,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(i,u):d.insertBefore(i,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(i,d)):(u=d,u.appendChild(i)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Pf));else if(v!==4&&v!==27&&(i=i.child,i!==null))for(Kd(i,u,d),i=i.sibling;i!==null;)Kd(i,u,d),i=i.sibling}function Ef(i,u,d){var v=i.tag;if(v===5||v===6)i=i.stateNode,u?d.insertBefore(i,u):d.appendChild(i);else if(v!==4&&v!==27&&(i=i.child,i!==null))for(Ef(i,u,d),i=i.sibling;i!==null;)Ef(i,u,d),i=i.sibling}var qa=!1,ln=!1,Wd=!1,av=typeof WeakSet=="function"?WeakSet:Set,Bn=null,ov=!1;function rA(i,u){if(i=i.containerInfo,T0=Ff,i=qc(i),El(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var x=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var M=0,B=-1,Y=-1,ie=0,ye=0,we=i,de=null;t:for(;;){for(var ve;we!==d||x!==0&&we.nodeType!==3||(B=M+x),we!==C||v!==0&&we.nodeType!==3||(Y=M+v),we.nodeType===3&&(M+=we.nodeValue.length),(ve=we.firstChild)!==null;)de=we,we=ve;for(;;){if(we===i)break t;if(de===d&&++ie===x&&(B=M),de===C&&++ye===v&&(Y=M),(ve=we.nextSibling)!==null)break;we=de,de=we.parentNode}we=ve}d=B===-1||Y===-1?null:{start:B,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(S0={focusedElem:i,selectionRange:d},Ff=!1,Bn=u;Bn!==null;)if(u=Bn,i=u.child,(u.subtreeFlags&1028)!==0&&i!==null)i.return=u,Bn=i;else for(;Bn!==null;){switch(u=Bn,C=u.alternate,i=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&C!==null){i=void 0,d=u,x=C.memoizedProps,C=C.memoizedState,v=d.stateNode;try{var Ge=Hs(d.type,x,d.elementType===d.type);i=v.getSnapshotBeforeUpdate(Ge,C),v.__reactInternalSnapshotBeforeUpdate=i}catch(rt){Ft(d,d.return,rt)}}break;case 3:if((i&1024)!==0){if(i=u.stateNode.containerInfo,d=i.nodeType,d===9)I0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":I0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(l(163))}if(i=u.sibling,i!==null){i.return=u.return,Bn=i;break}Bn=u.return}return Ge=ov,ov=!1,Ge}function sv(i,u,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Ya(i,d),v&4&&kl(5,d);break;case 1:if(Ya(i,d),v&4)if(i=d.stateNode,u===null)try{i.componentDidMount()}catch(B){Ft(d,d.return,B)}else{var x=Hs(d.type,u.memoizedProps);u=u.memoizedState;try{i.componentDidUpdate(x,u,i.__reactInternalSnapshotBeforeUpdate)}catch(B){Ft(d,d.return,B)}}v&64&&ev(d),v&512&&qs(d,d.return);break;case 3:if(Ya(i,d),v&64&&(v=d.updateQueue,v!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{Jg(v,i)}catch(B){Ft(d,d.return,B)}}break;case 26:Ya(i,d),v&512&&qs(d,d.return);break;case 27:case 5:Ya(i,d),u===null&&v&4&&nv(d),v&512&&qs(d,d.return);break;case 12:Ya(i,d);break;case 13:Ya(i,d),v&4&&cv(i,d);break;case 22:if(x=d.memoizedState!==null||qa,!x){u=u!==null&&u.memoizedState!==null||ln;var C=qa,M=ln;qa=x,(ln=u)&&!M?Mo(i,d,(d.subtreeFlags&8772)!==0):Ya(i,d),qa=C,ln=M}v&512&&(d.memoizedProps.mode==="manual"?qs(d,d.return):zr(d,d.return));break;default:Ya(i,d)}}function uv(i){var u=i.alternate;u!==null&&(i.alternate=null,uv(u)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(u=i.stateNode,u!==null&&Ca(u)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var An=null,Hr=!1;function Xa(i,u,d){for(d=d.child;d!==null;)lv(i,u,d),d=d.sibling}function lv(i,u,d){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Fi,d)}catch{}switch(d.tag){case 26:ln||zr(d,u),Xa(i,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ln||zr(d,u);var v=An,x=Hr;for(An=d.stateNode,Xa(i,u,d),d=d.stateNode,u=d.attributes;u.length;)d.removeAttributeNode(u[0]);Ca(d),An=v,Hr=x;break;case 5:ln||zr(d,u);case 6:x=An;var C=Hr;if(An=null,Xa(i,u,d),An=x,Hr=C,An!==null)if(Hr)try{i=An,v=d.stateNode,i.nodeType===8?i.parentNode.removeChild(v):i.removeChild(v)}catch(M){Ft(d,u,M)}else try{An.removeChild(d.stateNode)}catch(M){Ft(d,u,M)}break;case 18:An!==null&&(Hr?(u=An,d=d.stateNode,u.nodeType===8?b0(u.parentNode,d):u.nodeType===1&&b0(u,d),ec(u)):b0(An,d.stateNode));break;case 4:v=An,x=Hr,An=d.stateNode.containerInfo,Hr=!0,Xa(i,u,d),An=v,Hr=x;break;case 0:case 11:case 14:case 15:ln||Po(2,d,u),ln||Po(4,d,u),Xa(i,u,d);break;case 1:ln||(zr(d,u),v=d.stateNode,typeof v.componentWillUnmount=="function"&&tv(d,u,v)),Xa(i,u,d);break;case 21:Xa(i,u,d);break;case 22:ln||zr(d,u),ln=(v=ln)||d.memoizedState!==null,Xa(i,u,d),ln=v;break;default:Xa(i,u,d)}}function cv(i,u){if(u.memoizedState===null&&(i=u.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ec(i)}catch(d){Ft(u,u.return,d)}}function iA(i){switch(i.tag){case 13:case 19:var u=i.stateNode;return u===null&&(u=i.stateNode=new av),u;case 22:return i=i.stateNode,u=i._retryCache,u===null&&(u=i._retryCache=new av),u;default:throw Error(l(435,i.tag))}}function Qd(i,u){var d=iA(i);u.forEach(function(v){var x=mA.bind(null,i,v);d.has(v)||(d.add(v),v.then(x,x))})}function ui(i,u){var d=u.deletions;if(d!==null)for(var v=0;v<d.length;v++){var x=d[v],C=i,M=u,B=M;e:for(;B!==null;){switch(B.tag){case 27:case 5:An=B.stateNode,Hr=!1;break e;case 3:An=B.stateNode.containerInfo,Hr=!0;break e;case 4:An=B.stateNode.containerInfo,Hr=!0;break e}B=B.return}if(An===null)throw Error(l(160));lv(C,M,x),An=null,Hr=!1,C=x.alternate,C!==null&&(C.return=null),x.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)fv(u,i),u=u.sibling}var Li=null;function fv(i,u){var d=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ui(u,i),li(i),v&4&&(Po(3,i,i.return),kl(3,i),Po(5,i,i.return));break;case 1:ui(u,i),li(i),v&512&&(ln||d===null||zr(d,d.return)),v&64&&qa&&(i=i.updateQueue,i!==null&&(v=i.callbacks,v!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var x=Li;if(ui(u,i),li(i),v&512&&(ln||d===null||zr(d,d.return)),v&4){var C=d!==null?d.memoizedState:null;if(v=i.memoizedState,d===null)if(v===null)if(i.stateNode===null){e:{v=i.type,d=i.memoizedProps,x=x.ownerDocument||x;t:switch(v){case"title":C=x.getElementsByTagName("title")[0],(!C||C[Xi]||C[an]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=x.createElement(v),x.head.insertBefore(C,x.querySelector("head > title"))),Xn(C,v,d),C[an]=i,ot(C),v=C;break e;case"link":var M=nm("link","href",x).get(v+(d.href||""));if(M){for(var B=0;B<M.length;B++)if(C=M[B],C.getAttribute("href")===(d.href==null?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){M.splice(B,1);break t}}C=x.createElement(v),Xn(C,v,d),x.head.appendChild(C);break;case"meta":if(M=nm("meta","content",x).get(v+(d.content||""))){for(B=0;B<M.length;B++)if(C=M[B],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){M.splice(B,1);break t}}C=x.createElement(v),Xn(C,v,d),x.head.appendChild(C);break;default:throw Error(l(468,v))}C[an]=i,ot(C),v=C}i.stateNode=v}else rm(x,i.type,i.stateNode);else i.stateNode=tm(x,v,i.memoizedProps);else C!==v?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,v===null?rm(x,i.type,i.stateNode):tm(x,v,i.memoizedProps)):v===null&&i.stateNode!==null&&rv(i,i.memoizedProps,d.memoizedProps)}break;case 27:if(v&4&&i.alternate===null){x=i.stateNode,C=i.memoizedProps;try{for(var Y=x.firstChild;Y;){var ie=Y.nextSibling,ye=Y.nodeName;Y[Xi]||ye==="HEAD"||ye==="BODY"||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||x.removeChild(Y),Y=ie}for(var we=i.type,de=x.attributes;de.length;)x.removeAttributeNode(de[0]);Xn(x,we,C),x[an]=i,x[on]=C}catch(Ge){Ft(i,i.return,Ge)}}case 5:if(ui(u,i),li(i),v&512&&(ln||d===null||zr(d,d.return)),i.flags&32){x=i.stateNode;try{_r(x,"")}catch(Ge){Ft(i,i.return,Ge)}}v&4&&i.stateNode!=null&&(x=i.memoizedProps,rv(i,x,d!==null?d.memoizedProps:x)),v&1024&&(Wd=!0);break;case 6:if(ui(u,i),li(i),v&4){if(i.stateNode===null)throw Error(l(162));v=i.memoizedProps,d=i.stateNode;try{d.nodeValue=v}catch(Ge){Ft(i,i.return,Ge)}}break;case 3:if(Bf=null,x=Li,Li=Lf(u.containerInfo),ui(u,i),Li=x,li(i),v&4&&d!==null&&d.memoizedState.isDehydrated)try{ec(u.containerInfo)}catch(Ge){Ft(i,i.return,Ge)}Wd&&(Wd=!1,hv(i));break;case 4:v=Li,Li=Lf(i.stateNode.containerInfo),ui(u,i),li(i),Li=v;break;case 12:ui(u,i),li(i);break;case 13:ui(u,i),li(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(a0=Cn()),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,Qd(i,v)));break;case 22:if(v&512&&(ln||d===null||zr(d,d.return)),Y=i.memoizedState!==null,ie=d!==null&&d.memoizedState!==null,ye=qa,we=ln,qa=ye||Y,ln=we||ie,ui(u,i),ln=we,qa=ye,li(i),u=i.stateNode,u._current=i,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,v&8192&&(u._visibility=Y?u._visibility&-2:u._visibility|1,Y&&(u=qa||ln,d===null||ie||u||wu(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(d=null,u=i;;){if(u.tag===5||u.tag===26||u.tag===27){if(d===null){ie=d=u;try{if(x=ie.stateNode,Y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{M=ie.stateNode,B=ie.memoizedProps.style;var ve=B!=null&&B.hasOwnProperty("display")?B.display:null;M.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ge){Ft(ie,ie.return,Ge)}}}else if(u.tag===6){if(d===null){ie=u;try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(Ge){Ft(ie,ie.return,Ge)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===i)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break e;for(;u.sibling===null;){if(u.return===null||u.return===i)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=i.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,Qd(i,d))));break;case 19:ui(u,i),li(i),v&4&&(v=i.updateQueue,v!==null&&(i.updateQueue=null,Qd(i,v)));break;case 21:break;default:ui(u,i),li(i)}}function li(i){var u=i.flags;if(u&2){try{if(i.tag!==27){e:{for(var d=i.return;d!==null;){if(iv(d)){var v=d;break e}d=d.return}throw Error(l(160))}switch(v.tag){case 27:var x=v.stateNode,C=Yd(i);Ef(i,C,x);break;case 5:var M=v.stateNode;v.flags&32&&(_r(M,""),v.flags&=-33);var B=Yd(i);Ef(i,B,M);break;case 3:case 4:var Y=v.stateNode.containerInfo,ie=Yd(i);Kd(i,ie,Y);break;default:throw Error(l(161))}}}catch(ye){Ft(i,i.return,ye)}i.flags&=-3}u&4096&&(i.flags&=-4097)}function hv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var u=i;hv(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),i=i.sibling}}function Ya(i,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)sv(i,u.alternate,u),u=u.sibling}function wu(i){for(i=i.child;i!==null;){var u=i;switch(u.tag){case 0:case 11:case 14:case 15:Po(4,u,u.return),wu(u);break;case 1:zr(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&tv(u,u.return,d),wu(u);break;case 26:case 27:case 5:zr(u,u.return),wu(u);break;case 22:zr(u,u.return),u.memoizedState===null&&wu(u);break;default:wu(u)}i=i.sibling}}function Mo(i,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,x=i,C=u,M=C.flags;switch(C.tag){case 0:case 11:case 15:Mo(x,C,d),kl(4,C);break;case 1:if(Mo(x,C,d),v=C,x=v.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ie){Ft(v,v.return,ie)}if(v=C,x=v.updateQueue,x!==null){var B=v.stateNode;try{var Y=x.shared.hiddenCallbacks;if(Y!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Y.length;x++)Zg(Y[x],B)}catch(ie){Ft(v,v.return,ie)}}d&&M&64&&ev(C),qs(C,C.return);break;case 26:case 27:case 5:Mo(x,C,d),d&&v===null&&M&4&&nv(C),qs(C,C.return);break;case 12:Mo(x,C,d);break;case 13:Mo(x,C,d),d&&M&4&&cv(x,C);break;case 22:C.memoizedState===null&&Mo(x,C,d),qs(C,C.return);break;default:Mo(x,C,d)}u=u.sibling}}function $d(i,u){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(i=u.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&ks(d))}function Zd(i,u){i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&ks(i))}function Lo(i,u,d,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)dv(i,u,d,v),u=u.sibling}function dv(i,u,d,v){var x=u.flags;switch(u.tag){case 0:case 11:case 15:Lo(i,u,d,v),x&2048&&kl(9,u);break;case 3:Lo(i,u,d,v),x&2048&&(i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&ks(i)));break;case 12:if(x&2048){Lo(i,u,d,v),i=u.stateNode;try{var C=u.memoizedProps,M=C.id,B=C.onPostCommit;typeof B=="function"&&B(M,u.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){Ft(u,u.return,Y)}}else Lo(i,u,d,v);break;case 23:break;case 22:C=u.stateNode,u.memoizedState!==null?C._visibility&4?Lo(i,u,d,v):Bl(i,u):C._visibility&4?Lo(i,u,d,v):(C._visibility|=4,bu(i,u,d,v,(u.subtreeFlags&10256)!==0)),x&2048&&$d(u.alternate,u);break;case 24:Lo(i,u,d,v),x&2048&&Zd(u.alternate,u);break;default:Lo(i,u,d,v)}}function bu(i,u,d,v,x){for(x=x&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var C=i,M=u,B=d,Y=v,ie=M.flags;switch(M.tag){case 0:case 11:case 15:bu(C,M,B,Y,x),kl(8,M);break;case 23:break;case 22:var ye=M.stateNode;M.memoizedState!==null?ye._visibility&4?bu(C,M,B,Y,x):Bl(C,M):(ye._visibility|=4,bu(C,M,B,Y,x)),x&&ie&2048&&$d(M.alternate,M);break;case 24:bu(C,M,B,Y,x),x&&ie&2048&&Zd(M.alternate,M);break;default:bu(C,M,B,Y,x)}u=u.sibling}}function Bl(i,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=i,v=u,x=v.flags;switch(v.tag){case 22:Bl(d,v),x&2048&&$d(v.alternate,v);break;case 24:Bl(d,v),x&2048&&Zd(v.alternate,v);break;default:Bl(d,v)}u=u.sibling}}var Vl=8192;function Iu(i){if(i.subtreeFlags&Vl)for(i=i.child;i!==null;)pv(i),i=i.sibling}function pv(i){switch(i.tag){case 26:Iu(i),i.flags&Vl&&i.memoizedState!==null&&XA(Li,i.memoizedState,i.memoizedProps);break;case 5:Iu(i);break;case 3:case 4:var u=Li;Li=Lf(i.stateNode.containerInfo),Iu(i),Li=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Vl,Vl=16777216,Iu(i),Vl=u):Iu(i));break;default:Iu(i)}}function gv(i){var u=i.alternate;if(u!==null&&(i=u.child,i!==null)){u.child=null;do u=i.sibling,i.sibling=null,i=u;while(i!==null)}}function Ul(i){var u=i.deletions;if((i.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var v=u[d];Bn=v,mv(v,i)}gv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vv(i),i=i.sibling}function vv(i){switch(i.tag){case 0:case 11:case 15:Ul(i),i.flags&2048&&Po(9,i,i.return);break;case 3:Ul(i);break;case 12:Ul(i);break;case 22:var u=i.stateNode;i.memoizedState!==null&&u._visibility&4&&(i.return===null||i.return.tag!==13)?(u._visibility&=-5,xf(i)):Ul(i);break;default:Ul(i)}}function xf(i){var u=i.deletions;if((i.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var v=u[d];Bn=v,mv(v,i)}gv(i)}for(i=i.child;i!==null;){switch(u=i,u.tag){case 0:case 11:case 15:Po(8,u,u.return),xf(u);break;case 22:d=u.stateNode,d._visibility&4&&(d._visibility&=-5,xf(u));break;default:xf(u)}i=i.sibling}}function mv(i,u){for(;Bn!==null;){var d=Bn;switch(d.tag){case 0:case 11:case 15:Po(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:ks(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,Bn=v;else e:for(d=i;Bn!==null;){v=Bn;var x=v.sibling,C=v.return;if(uv(v),v===d){Bn=null;break e}if(x!==null){x.return=C,Bn=x;break e}Bn=C}}}function aA(i,u,d,v){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(i,u,d,v){return new aA(i,u,d,v)}function Jd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ko(i,u){var d=i.alternate;return d===null?(d=ci(i.tag,u,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=u,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&31457280,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,u=i.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function yv(i,u){i.flags&=31457282;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=u,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,u=d.dependencies,i.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),i}function Af(i,u,d,v,x,C){var M=0;if(v=i,typeof i=="function")Jd(i)&&(M=1);else if(typeof i=="string")M=jA(i,d,mn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case S:return Xs(d.children,x,C,u);case w:M=8,x|=24;break;case O:return i=ci(12,d,u,x|2),i.elementType=O,i.lanes=C,i;case J:return i=ci(13,d,u,x),i.elementType=J,i.lanes=C,i;case ce:return i=ci(19,d,u,x),i.elementType=ce,i.lanes=C,i;case Se:return _v(d,x,C,u);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case X:M=10;break e;case L:M=9;break e;case j:M=11;break e;case ae:M=14;break e;case Ae:M=16,v=null;break e}M=29,d=Error(l(130,i===null?"null":typeof i,"")),v=null}return u=ci(M,d,u,x),u.elementType=i,u.type=v,u.lanes=C,u}function Xs(i,u,d,v){return i=ci(7,i,v,u),i.lanes=d,i}function _v(i,u,d,v){i=ci(22,i,v,u),i.elementType=Se,i.lanes=d;var x={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=x._current;if(C===null)throw Error(l(456));if((x._pendingVisibility&2)===0){var M=ra(C,2);M!==null&&(x._pendingVisibility|=2,dr(M,C,2))}},attach:function(){var C=x._current;if(C===null)throw Error(l(456));if((x._pendingVisibility&2)!==0){var M=ra(C,2);M!==null&&(x._pendingVisibility&=-3,dr(M,C,2))}}};return i.stateNode=x,i}function e0(i,u,d){return i=ci(6,i,null,u),i.lanes=d,i}function t0(i,u,d){return u=ci(4,i.children!==null?i.children:[],i.key,u),u.lanes=d,u.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},u}function Ka(i){i.flags|=4}function Ev(i,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!im(u)){if(u=Gn.current,u!==null&&((It&4194176)===It?oi!==null:(It&62914560)!==It&&(It&536870912)===0||u!==oi))throw Di=Ms,af;i.flags|=8192}}function Tf(i,u){u!==null&&(i.flags|=4),i.flags&16384&&(u=i.tag!==22?Gi():536870912,i.lanes|=u,Ou|=u)}function Fl(i,u){if(!je)switch(i.tailMode){case"hidden":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?u||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function Zt(i){var u=i.alternate!==null&&i.alternate.child===i.child,d=0,v=0;if(u)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,v|=x.subtreeFlags&31457280,v|=x.flags&31457280,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=v,i.childLanes=d,u}function oA(i,u,d){var v=u.pendingProps;switch(wl(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(u),null;case 1:return Zt(u),null;case 3:return d=u.stateNode,v=null,i!==null&&(v=i.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),ja(gn),qt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ds(u)?Ka(u):i===null||i.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,wr!==null&&(l0(wr),wr=null))),Zt(u),null;case 26:return d=u.memoizedState,i===null?(Ka(u),d!==null?(Zt(u),Ev(u,d)):(Zt(u),u.flags&=-16777217)):d?d!==i.memoizedState?(Ka(u),Zt(u),Ev(u,d)):(Zt(u),u.flags&=-16777217):(i.memoizedProps!==v&&Ka(u),Zt(u),u.flags&=-16777217),null;case 27:Rr(u),d=gr.current;var x=u.type;if(i!==null&&u.stateNode!=null)i.memoizedProps!==v&&Ka(u);else{if(!v){if(u.stateNode===null)throw Error(l(166));return Zt(u),null}i=mn.current,Ds(u)?nf(u):(i=Qv(x,v,d),u.stateNode=i,Ka(u))}return Zt(u),null;case 5:if(Rr(u),d=u.type,i!==null&&u.stateNode!=null)i.memoizedProps!==v&&Ka(u);else{if(!v){if(u.stateNode===null)throw Error(l(166));return Zt(u),null}if(i=mn.current,Ds(u))nf(u);else{switch(x=Mf(gr.current),i){case 1:i=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof v.is=="string"?x.createElement("select",{is:v.is}):x.createElement("select"),v.multiple?i.multiple=!0:v.size&&(i.size=v.size);break;default:i=typeof v.is=="string"?x.createElement(d,{is:v.is}):x.createElement(d)}}i[an]=u,i[on]=v;e:for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)i.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break e;for(;x.sibling===null;){if(x.return===null||x.return===u)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}u.stateNode=i;e:switch(Xn(i,d,v),d){case"button":case"input":case"select":case"textarea":i=!!v.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ka(u)}}return Zt(u),u.flags&=-16777217,null;case 6:if(i&&u.stateNode!=null)i.memoizedProps!==v&&Ka(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(l(166));if(i=gr.current,Ds(u)){if(i=u.stateNode,d=u.memoizedProps,v=null,x=In,x!==null)switch(x.tag){case 27:case 5:v=x.memoizedProps}i[an]=u,i=!!(i.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||jv(i.nodeValue,d)),i||oa(u)}else i=Mf(i).createTextNode(v),i[an]=u,u.stateNode=i}return Zt(u),null;case 13:if(v=u.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Ds(u),v!==null&&v.dehydrated!==null){if(i===null){if(!x)throw Error(l(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(l(317));x[an]=u}else Ns(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zt(u),x=!1}else wr!==null&&(l0(wr),wr=null),x=!0;if(!x)return u.flags&256?(Mi(u),u):(Mi(u),null)}if(Mi(u),(u.flags&128)!==0)return u.lanes=d,u;if(d=v!==null,i=i!==null&&i.memoizedState!==null,d){v=u.child,x=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(x=v.alternate.memoizedState.cachePool.pool);var C=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==x&&(v.flags|=2048)}return d!==i&&d&&(u.child.flags|=8192),Tf(u,u.updateQueue),Zt(u),null;case 4:return qt(),i===null&&E0(u.stateNode.containerInfo),Zt(u),null;case 10:return ja(u.type),Zt(u),null;case 19:if(kt(pn),x=u.memoizedState,x===null)return Zt(u),null;if(v=(u.flags&128)!==0,C=x.rendering,C===null)if(v)Fl(x,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=u.child;i!==null;){if(C=zt(i),C!==null){for(u.flags|=128,Fl(x,!1),i=C.updateQueue,u.updateQueue=i,Tf(u,i),u.subtreeFlags=0,i=d,d=u.child;d!==null;)yv(d,i),d=d.sibling;return Pt(pn,pn.current&1|2),u.child}i=i.sibling}x.tail!==null&&Cn()>Sf&&(u.flags|=128,v=!0,Fl(x,!1),u.lanes=4194304)}else{if(!v)if(i=zt(C),i!==null){if(u.flags|=128,v=!0,i=i.updateQueue,u.updateQueue=i,Tf(u,i),Fl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!je)return Zt(u),null}else 2*Cn()-x.renderingStartTime>Sf&&d!==536870912&&(u.flags|=128,v=!0,Fl(x,!1),u.lanes=4194304);x.isBackwards?(C.sibling=u.child,u.child=C):(i=x.last,i!==null?i.sibling=C:u.child=C,x.last=C)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Cn(),u.sibling=null,i=pn.current,Pt(pn,v?i&1|2:i&1),u):(Zt(u),null);case 22:case 23:return Mi(u),Ls(),v=u.memoizedState!==null,i!==null?i.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(d&536870912)!==0&&(u.flags&128)===0&&(Zt(u),u.subtreeFlags&6&&(u.flags|=8192)):Zt(u),d=u.updateQueue,d!==null&&Tf(u,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==d&&(u.flags|=2048),i!==null&&kt(n),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),ja(gn),Zt(u),null;case 25:return null}throw Error(l(156,u.tag))}function sA(i,u){switch(wl(u),u.tag){case 1:return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 3:return ja(gn),qt(),i=u.flags,(i&65536)!==0&&(i&128)===0?(u.flags=i&-65537|128,u):null;case 26:case 27:case 5:return Rr(u),null;case 13:if(Mi(u),i=u.memoizedState,i!==null&&i.dehydrated!==null){if(u.alternate===null)throw Error(l(340));Ns()}return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 19:return kt(pn),null;case 4:return qt(),null;case 10:return ja(u.type),null;case 22:case 23:return Mi(u),Ls(),i!==null&&kt(n),i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 24:return ja(gn),null;case 25:return null;default:return null}}function xv(i,u){switch(wl(u),u.tag){case 3:ja(gn),qt();break;case 26:case 27:case 5:Rr(u);break;case 4:qt();break;case 13:Mi(u);break;case 19:kt(pn);break;case 10:ja(u.type);break;case 22:case 23:Mi(u),Ls(),i!==null&&kt(n);break;case 24:ja(gn)}}var uA={getCacheForType:function(i){var u=tr(gn),d=u.data.get(i);return d===void 0&&(d=i(),u.data.set(i,d)),d}},lA=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Ht=null,mt=null,It=0,Gt=0,Gr=null,Wa=!1,Ru=!1,n0=!1,Qa=0,cn=0,Bo=0,Ys=0,r0=0,fi=0,Ou=0,zl=null,ca=null,i0=!1,a0=0,Sf=1/0,Cf=null,Vo=null,wf=!1,Ks=null,Hl=0,o0=0,s0=null,Gl=0,u0=null;function jr(){if((Jt&2)!==0&&It!==0)return It&-It;if(H.T!==null){var i=er;return i!==0?i:v0()}return cu()}function Av(){fi===0&&(fi=(It&536870912)===0||je?hs():536870912);var i=Gn.current;return i!==null&&(i.flags|=32),fi}function dr(i,u,d){(i===Ht&&Gt===2||i.cancelPendingCommit!==null)&&(Du(i,0),$a(i,It,fi,!1)),yt(i,d),((Jt&2)===0||i!==Ht)&&(i===Ht&&((Jt&2)===0&&(Ys|=d),cn===4&&$a(i,It,fi,!1)),fa(i))}function Tv(i,u,d){if((Jt&6)!==0)throw Error(l(327));var v=!d&&(u&60)===0&&(u&i.expiredLanes)===0||gi(i,u),x=v?hA(i,u):h0(i,u,!0),C=v;do{if(x===0){Ru&&!v&&$a(i,u,0,!1);break}else if(x===6)$a(i,u,0,!Wa);else{if(d=i.current.alternate,C&&!cA(d)){x=h0(i,u,!1),C=!1;continue}if(x===2){if(C=u,i.errorRecoveryDisabledLanes&C)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){u=M;e:{var B=i;x=zl;var Y=B.current.memoizedState.isDehydrated;if(Y&&(Du(B,M).flags|=256),M=h0(B,M,!1),M!==2){if(n0&&!Y){B.errorRecoveryDisabledLanes|=C,Ys|=C,x=4;break e}C=ca,ca=x,C!==null&&l0(C)}x=M}if(C=!1,x!==2)continue}}if(x===1){Du(i,0),$a(i,u,0,!0);break}e:{switch(v=i,x){case 0:case 1:throw Error(l(345));case 4:if((u&4194176)===u){$a(v,u,fi,!Wa);break e}break;case 2:ca=null;break;case 3:case 5:break;default:throw Error(l(329))}if(v.finishedWork=d,v.finishedLanes=u,(u&62914560)===u&&(C=a0+300-Cn(),10<C)){if($a(v,u,fi,!Wa),$n(v,0)!==0)break e;v.timeoutHandle=Yv(Sv.bind(null,v,d,ca,Cf,i0,u,fi,Ys,Ou,Wa,2,-0,0),C);break e}Sv(v,d,ca,Cf,i0,u,fi,Ys,Ou,Wa,0,-0,0)}}break}while(!0);fa(i)}function l0(i){ca===null?ca=i:ca.push.apply(ca,i)}function Sv(i,u,d,v,x,C,M,B,Y,ie,ye,we,de){var ve=u.subtreeFlags;if((ve&8192||(ve&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:qA},pv(u),u=YA(),u!==null)){i.cancelPendingCommit=u(Dv.bind(null,i,d,v,x,M,B,Y,1,we,de)),$a(i,C,M,!ie);return}Dv(i,d,v,x,M,B,Y,ye,we,de)}function cA(i){for(var u=i;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var x=d[v],C=x.getSnapshot;x=x.value;try{if(!lr(C(),x))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function $a(i,u,d,v){u&=~r0,u&=~Ys,i.suspendedLanes|=u,i.pingedLanes&=~u,v&&(i.warmLanes|=u),v=i.expirationTimes;for(var x=u;0<x;){var C=31-Nn(x),M=1<<C;v[C]=-1,x&=~M}d!==0&&Dr(i,d,u)}function bf(){return(Jt&6)===0?(jl(0),!1):!0}function c0(){if(mt!==null){if(Gt===0)var i=mt.return;else i=mt,Ga=Gs=null,dt(i),cr=null,sa=0,i=mt;for(;i!==null;)xv(i.alternate,i),i=i.return;mt=null}}function Du(i,u){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,RA(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),c0(),Ht=i,mt=d=ko(i.current,null),It=u,Gt=0,Gr=null,Wa=!1,Ru=gi(i,u),n0=!1,Ou=fi=r0=Ys=Bo=cn=0,ca=zl=null,i0=!1,(u&8)!==0&&(u|=u&32);var v=i.entangledLanes;if(v!==0)for(i=i.entanglements,v&=u;0<v;){var x=31-Nn(v),C=1<<x;u|=i[x],v&=~C}return Qa=u,Is(),d}function Cv(i,u){m=null,H.H=la,u===Ps?(u=uf(),Gt=3):u===af?(u=uf(),Gt=4):Gt=u===Vg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Gr=u,mt===null&&(cn=1,mf(i,zn(u,i.current)))}function wv(){var i=H.H;return H.H=la,i===null?la:i}function bv(){var i=H.A;return H.A=uA,i}function f0(){cn=4,Wa||(It&4194176)!==It&&Gn.current!==null||(Ru=!0),(Bo&134217727)===0&&(Ys&134217727)===0||Ht===null||$a(Ht,It,fi,!1)}function h0(i,u,d){var v=Jt;Jt|=2;var x=wv(),C=bv();(Ht!==i||It!==u)&&(Cf=null,Du(i,u)),u=!1;var M=cn;e:do try{if(Gt!==0&&mt!==null){var B=mt,Y=Gr;switch(Gt){case 8:c0(),M=6;break e;case 3:case 2:case 6:Gn.current===null&&(u=!0);var ie=Gt;if(Gt=0,Gr=null,Nu(i,B,Y,ie),d&&Ru){M=0;break e}break;default:ie=Gt,Gt=0,Gr=null,Nu(i,B,Y,ie)}}fA(),M=cn;break}catch(ye){Cv(i,ye)}while(!0);return u&&i.shellSuspendCounter++,Ga=Gs=null,Jt=v,H.H=x,H.A=C,mt===null&&(Ht=null,It=0,Is()),M}function fA(){for(;mt!==null;)Iv(mt)}function hA(i,u){var d=Jt;Jt|=2;var v=wv(),x=bv();Ht!==i||It!==u?(Cf=null,Sf=Cn()+500,Du(i,u)):Ru=gi(i,u);e:do try{if(Gt!==0&&mt!==null){u=mt;var C=Gr;t:switch(Gt){case 1:Gt=0,Gr=null,Nu(i,u,C,1);break;case 2:if(of(C)){Gt=0,Gr=null,Rv(u);break}u=function(){Gt===2&&Ht===i&&(Gt=7),fa(i)},C.then(u,u);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:of(C)?(Gt=0,Gr=null,Rv(u)):(Gt=0,Gr=null,Nu(i,u,C,7));break;case 5:var M=null;switch(mt.tag){case 26:M=mt.memoizedState;case 5:case 27:var B=mt;if(!M||im(M)){Gt=0,Gr=null;var Y=B.sibling;if(Y!==null)mt=Y;else{var ie=B.return;ie!==null?(mt=ie,If(ie)):mt=null}break t}}Gt=0,Gr=null,Nu(i,u,C,5);break;case 6:Gt=0,Gr=null,Nu(i,u,C,6);break;case 8:c0(),cn=6;break e;default:throw Error(l(462))}}dA();break}catch(ye){Cv(i,ye)}while(!0);return Ga=Gs=null,H.H=v,H.A=x,Jt=d,mt!==null?0:(Ht=null,It=0,Is(),cn)}function dA(){for(;mt!==null&&!fs();)Iv(mt)}function Iv(i){var u=Qg(i.alternate,i,Qa);i.memoizedProps=i.pendingProps,u===null?If(i):mt=u}function Rv(i){var u=i,d=u.alternate;switch(u.tag){case 15:case 0:u=jg(d,u,u.pendingProps,u.type,void 0,It);break;case 11:u=jg(d,u,u.pendingProps,u.type.render,u.ref,It);break;case 5:dt(u);default:xv(d,u),u=mt=yv(u,Qa),u=Qg(d,u,Qa)}i.memoizedProps=i.pendingProps,u===null?If(i):mt=u}function Nu(i,u,d,v){Ga=Gs=null,dt(u),cr=null,sa=0;var x=u.return;try{if(tA(i,x,u,d,It)){cn=1,mf(i,zn(d,i.current)),mt=null;return}}catch(C){if(x!==null)throw mt=x,C;cn=1,mf(i,zn(d,i.current)),mt=null;return}u.flags&32768?(je||v===1?i=!0:Ru||(It&536870912)!==0?i=!1:(Wa=i=!0,(v===2||v===3||v===6)&&(v=Gn.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ov(u,i)):If(u)}function If(i){var u=i;do{if((u.flags&32768)!==0){Ov(u,Wa);return}i=u.return;var d=oA(u.alternate,u,Qa);if(d!==null){mt=d;return}if(u=u.sibling,u!==null){mt=u;return}mt=u=i}while(u!==null);cn===0&&(cn=5)}function Ov(i,u){do{var d=sA(i.alternate,i);if(d!==null){d.flags&=32767,mt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(i=i.sibling,i!==null)){mt=i;return}mt=i=d}while(i!==null);cn=6,mt=null}function Dv(i,u,d,v,x,C,M,B,Y,ie){var ye=H.T,we=ne.p;try{ne.p=2,H.T=null,pA(i,u,d,v,we,x,C,M,B,Y,ie)}finally{H.T=ye,ne.p=we}}function pA(i,u,d,v,x,C,M,B){do Pu();while(Ks!==null);if((Jt&6)!==0)throw Error(l(327));var Y=i.finishedWork;if(v=i.finishedLanes,Y===null)return null;if(i.finishedWork=null,i.finishedLanes=0,Y===i.current)throw Error(l(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var ie=Y.lanes|Y.childLanes;if(ie|=Dt,lu(i,v,ie,C,M,B),i===Ht&&(mt=Ht=null,It=0),(Y.subtreeFlags&10256)===0&&(Y.flags&10256)===0||wf||(wf=!0,o0=ie,s0=d,yA(Yr,function(){return Pu(),null})),d=(Y.flags&15990)!==0,(Y.subtreeFlags&15990)!==0||d?(d=H.T,H.T=null,C=ne.p,ne.p=2,M=Jt,Jt|=4,rA(i,Y),fv(Y,i),xl(S0,i.containerInfo),Ff=!!T0,S0=T0=null,i.current=Y,sv(i,Y.alternate,Y),$t(),Jt=M,ne.p=C,H.T=d):i.current=Y,wf?(wf=!1,Ks=i,Hl=v):Nv(i,ie),ie=i.pendingLanes,ie===0&&(Vo=null),zi(Y.stateNode),fa(i),u!==null)for(x=i.onRecoverableError,Y=0;Y<u.length;Y++)ie=u[Y],x(ie.value,{componentStack:ie.stack});return(Hl&3)!==0&&Pu(),ie=i.pendingLanes,(v&4194218)!==0&&(ie&42)!==0?i===u0?Gl++:(Gl=0,u0=i):Gl=0,jl(0),null}function Nv(i,u){(i.pooledCacheLanes&=u)===0&&(u=i.pooledCache,u!=null&&(i.pooledCache=null,ks(u)))}function Pu(){if(Ks!==null){var i=Ks,u=o0;o0=0;var d=rn(Hl),v=H.T,x=ne.p;try{if(ne.p=32>d?32:d,H.T=null,Ks===null)var C=!1;else{d=s0,s0=null;var M=Ks,B=Hl;if(Ks=null,Hl=0,(Jt&6)!==0)throw Error(l(331));var Y=Jt;if(Jt|=4,vv(M.current),dv(M,M.current,B,d),Jt=Y,jl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Fi,M)}catch{}C=!0}return C}finally{ne.p=x,H.T=v,Nv(i,u)}}return!1}function Pv(i,u,d){u=zn(d,u),u=Od(i.stateNode,u,2),i=No(i,u,2),i!==null&&(yt(i,2),fa(i))}function Ft(i,u,d){if(i.tag===3)Pv(i,i,d);else for(;u!==null;){if(u.tag===3){Pv(u,i,d);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Vo===null||!Vo.has(v))){i=zn(d,i),d=kg(2),v=No(u,d,2),v!==null&&(Bg(d,v,u,i),yt(v,2),fa(v));break}}u=u.return}}function d0(i,u,d){var v=i.pingCache;if(v===null){v=i.pingCache=new lA;var x=new Set;v.set(u,x)}else x=v.get(u),x===void 0&&(x=new Set,v.set(u,x));x.has(d)||(n0=!0,x.add(d),i=gA.bind(null,i,u,d),u.then(i,i))}function gA(i,u,d){var v=i.pingCache;v!==null&&v.delete(u),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Ht===i&&(It&d)===d&&(cn===4||cn===3&&(It&62914560)===It&&300>Cn()-a0?(Jt&2)===0&&Du(i,0):r0|=d,Ou===It&&(Ou=0)),fa(i)}function Mv(i,u){u===0&&(u=Gi()),i=ra(i,u),i!==null&&(yt(i,u),fa(i))}function vA(i){var u=i.memoizedState,d=0;u!==null&&(d=u.retryLane),Mv(i,d)}function mA(i,u){var d=0;switch(i.tag){case 13:var v=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:v=i.stateNode;break;case 22:v=i.stateNode._retryCache;break;default:throw Error(l(314))}v!==null&&v.delete(u),Mv(i,d)}function yA(i,u){return pi(i,u)}var Rf=null,Mu=null,p0=!1,Of=!1,g0=!1,Ws=0;function fa(i){i!==Mu&&i.next===null&&(Mu===null?Rf=Mu=i:Mu=Mu.next=i),Of=!0,p0||(p0=!0,EA(_A))}function jl(i,u){if(!g0&&Of){g0=!0;do for(var d=!1,v=Rf;v!==null;){if(i!==0){var x=v.pendingLanes;if(x===0)var C=0;else{var M=v.suspendedLanes,B=v.pingedLanes;C=(1<<31-Nn(42|i)+1)-1,C&=x&~(M&~B),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(d=!0,Bv(v,C))}else C=It,C=$n(v,v===Ht?C:0),(C&3)===0||gi(v,C)||(d=!0,Bv(v,C));v=v.next}while(d);g0=!1}}function _A(){Of=p0=!1;var i=0;Ws!==0&&(IA()&&(i=Ws),Ws=0);for(var u=Cn(),d=null,v=Rf;v!==null;){var x=v.next,C=Lv(v,u);C===0?(v.next=null,d===null?Rf=x:d.next=x,x===null&&(Mu=d)):(d=v,(i!==0||(C&3)!==0)&&(Of=!0)),v=x}jl(i)}function Lv(i,u){for(var d=i.suspendedLanes,v=i.pingedLanes,x=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var M=31-Nn(C),B=1<<M,Y=x[M];Y===-1?((B&d)===0||(B&v)!==0)&&(x[M]=Aa(B,u)):Y<=u&&(i.expiredLanes|=B),C&=~B}if(u=Ht,d=It,d=$n(i,i===u?d:0),v=i.callbackNode,d===0||i===u&&Gt===2||i.cancelPendingCommit!==null)return v!==null&&v!==null&&qe(v),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||gi(i,d)){if(u=d&-d,u===i.callbackPriority)return u;switch(v!==null&&qe(v),rn(d)){case 2:case 8:d=yn;break;case 32:d=Yr;break;case 268435456:d=_n;break;default:d=Yr}return v=kv.bind(null,i),d=pi(d,v),i.callbackPriority=u,i.callbackNode=d,u}return v!==null&&v!==null&&qe(v),i.callbackPriority=2,i.callbackNode=null,2}function kv(i,u){var d=i.callbackNode;if(Pu()&&i.callbackNode!==d)return null;var v=It;return v=$n(i,i===Ht?v:0),v===0?null:(Tv(i,v,u),Lv(i,Cn()),i.callbackNode!=null&&i.callbackNode===d?kv.bind(null,i):null)}function Bv(i,u){if(Pu())return null;Tv(i,u,!0)}function EA(i){OA(function(){(Jt&6)!==0?pi(Bt,i):i()})}function v0(){return Ws===0&&(Ws=hs()),Ws}function Vv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Mr(""+i)}function Uv(i,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,i.id&&d.setAttribute("form",i.id),u.parentNode.insertBefore(d,u),i=new FormData(i),d.parentNode.removeChild(d),i}function xA(i,u,d,v,x){if(u==="submit"&&d&&d.stateNode===x){var C=Vv((x[on]||null).action),M=v.submitter;M&&(u=(u=M[on]||null)?Vv(u.formAction):M.getAttribute("formAction"),u!==null&&(C=u,M=null));var B=new ur("action","action",null,v,x);i.push({event:B,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ws!==0){var Y=M?Uv(x,M):new FormData(x);Cd(d,{pending:!0,data:Y,method:x.method,action:C},null,Y)}}else typeof C=="function"&&(B.preventDefault(),Y=M?Uv(x,M):new FormData(x),Cd(d,{pending:!0,data:Y,method:x.method,action:C},C,Y))},currentTarget:x}]})}}for(var m0=0;m0<Jc.length;m0++){var y0=Jc[m0],AA=y0.toLowerCase(),TA=y0[0].toUpperCase()+y0.slice(1);Vr(AA,"on"+TA)}Vr(Yc,"onAnimationEnd"),Vr(Kc,"onAnimationIteration"),Vr(Wc,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(gd,"onTransitionRun"),Vr(Qc,"onTransitionStart"),Vr(vd,"onTransitionCancel"),Vr($c,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Fv(i,u){u=(u&4)!==0;for(var d=0;d<i.length;d++){var v=i[d],x=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var M=v.length-1;0<=M;M--){var B=v[M],Y=B.instance,ie=B.currentTarget;if(B=B.listener,Y!==C&&x.isPropagationStopped())break e;C=B,x.currentTarget=ie;try{C(x)}catch(ye){vf(ye)}x.currentTarget=null,C=Y}else for(M=0;M<v.length;M++){if(B=v[M],Y=B.instance,ie=B.currentTarget,B=B.listener,Y!==C&&x.isPropagationStopped())break e;C=B,x.currentTarget=ie;try{C(x)}catch(ye){vf(ye)}x.currentTarget=null,C=Y}}}}function Ct(i,u){var d=u[Ta];d===void 0&&(d=u[Ta]=new Set);var v=i+"__bubble";d.has(v)||(zv(u,i,2,!1),d.add(v))}function _0(i,u,d){var v=0;u&&(v|=4),zv(d,i,v,u)}var Df="_reactListening"+Math.random().toString(36).slice(2);function E0(i){if(!i[Df]){i[Df]=!0,ds.forEach(function(d){d!=="selectionchange"&&(SA.has(d)||_0(d,!1,i),_0(d,!0,i))});var u=i.nodeType===9?i:i.ownerDocument;u===null||u[Df]||(u[Df]=!0,_0("selectionchange",!1,u))}}function zv(i,u,d,v){switch(cm(u)){case 2:var x=QA;break;case 8:x=$A;break;default:x=P0}d=x.bind(null,u,d,i),x=void 0,!xr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),v?x!==void 0?i.addEventListener(u,d,{capture:!0,passive:x}):i.addEventListener(u,d,!0):x!==void 0?i.addEventListener(u,d,{passive:x}):i.addEventListener(u,d,!1)}function x0(i,u,d,v,x){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var M=v.tag;if(M===3||M===4){var B=v.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(M===4)for(M=v.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&(Y=M.stateNode.containerInfo,Y===x||Y.nodeType===8&&Y.parentNode===x))return;M=M.return}for(;B!==null;){if(M=Nr(B),M===null)return;if(Y=M.tag,Y===5||Y===6||Y===26||Y===27){v=C=M;continue e}B=B.parentNode}}v=v.return}du(function(){var ie=C,ye=Mn(d),we=[];e:{var de=Zc.get(i);if(de!==void 0){var ve=ur,Ge=i;switch(i){case"keypress":if(ti(d)===0)break e;case"keydown":case"keyup":ve=mo;break;case"focusin":Ge="focus",ve=Da;break;case"focusout":Ge="blur",ve=Da;break;case"beforeblur":case"afterblur":ve=Da;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Ma;break;case Yc:case Kc:case Wc:ve=Lr;break;case $c:ve=Ri;break;case"scroll":case"scrollend":ve=Es;break;case"wheel":ve=yo;break;case"copy":case"cut":case"paste":ve=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Ss;break;case"toggle":case"beforetoggle":ve=_u}var rt=(u&4)!==0,fn=!rt&&(i==="scroll"||i==="scrollend"),se=rt?de!==null?de+"Capture":null:de;rt=[];for(var te=ie,fe;te!==null;){var Ee=te;if(fe=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||fe===null||se===null||(Ee=Jr(te,se),Ee!=null&&rt.push(Xl(te,Ee,fe))),fn)break;te=te.return}0<rt.length&&(de=new ve(de,Ge,null,d,ye),we.push({event:de,listeners:rt}))}}if((u&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",de&&d!==Er&&(Ge=d.relatedTarget||d.fromElement)&&(Nr(Ge)||Ge[mi]))break e;if((ve||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,ve?(Ge=d.relatedTarget||d.toElement,ve=ie,Ge=Ge?Nr(Ge):null,Ge!==null&&(fn=He(Ge),rt=Ge.tag,Ge!==fn||rt!==5&&rt!==27&&rt!==6)&&(Ge=null)):(ve=null,Ge=ie),ve!==Ge)){if(rt=Ar,Ee="onMouseLeave",se="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(rt=Ss,Ee="onPointerLeave",se="onPointerEnter",te="pointer"),fn=ve==null?de:Yi(ve),fe=Ge==null?de:Yi(Ge),de=new rt(Ee,te+"leave",ve,d,ye),de.target=fn,de.relatedTarget=fe,Ee=null,Nr(ye)===ie&&(rt=new rt(se,te+"enter",Ge,d,ye),rt.target=fe,rt.relatedTarget=fn,Ee=rt),fn=Ee,ve&&Ge)t:{for(rt=ve,se=Ge,te=0,fe=rt;fe;fe=Lu(fe))te++;for(fe=0,Ee=se;Ee;Ee=Lu(Ee))fe++;for(;0<te-fe;)rt=Lu(rt),te--;for(;0<fe-te;)se=Lu(se),fe--;for(;te--;){if(rt===se||se!==null&&rt===se.alternate)break t;rt=Lu(rt),se=Lu(se)}rt=null}else rt=null;ve!==null&&Hv(we,de,ve,rt,!1),Ge!==null&&fn!==null&&Hv(we,fn,Ge,rt,!0)}}e:{if(de=ie?Yi(ie):window,ve=de.nodeName&&de.nodeName.toLowerCase(),ve==="select"||ve==="input"&&de.type==="file")var ke=Vc;else if(sn(de))if(Uc)ke=hd;else{ke=St;var gt=cd}else ve=de.nodeName,!ve||ve.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ie&&Qi(ie.elementType)&&(ke=Vc):ke=fd;if(ke&&(ke=ke(i,ie))){Oi(we,ke,d,ye);break e}gt&&gt(i,de,ie),i==="focusout"&&ie&&de.type==="number"&&ie.memoizedProps.value!=null&&yr(de,"number",de.value)}switch(gt=ie?Yi(ie):window,i){case"focusin":(sn(gt)||gt.contentEditable==="true")&&(na=gt,Al=ie,_o=null);break;case"focusout":_o=Al=na=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Xc(we,d,ye);break;case"selectionchange":if(pd)break;case"keydown":case"keyup":Xc(we,d,ye)}var Xe;if(z)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Je?pe(i,d)&&($e="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&($e="onCompositionStart");$e&&(P&&d.locale!=="ko"&&(Je||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Je&&(Xe=ys()):(ei=ye,Zi="value"in ei?ei.value:ei.textContent,Je=!0)),gt=Nf(ie,$e),0<gt.length&&($e=new vt($e,i,null,d,ye),we.push({event:$e,listeners:gt}),Xe?$e.data=Xe:(Xe=Ie(d),Xe!==null&&($e.data=Xe)))),(Xe=R?tt(i,d):Et(i,d))&&($e=Nf(ie,"onBeforeInput"),0<$e.length&&(gt=new vt("onBeforeInput","beforeinput",null,d,ye),we.push({event:gt,listeners:$e}),gt.data=Xe)),xA(we,i,ie,d,ye)}Fv(we,u)})}function Xl(i,u,d){return{instance:i,listener:u,currentTarget:d}}function Nf(i,u){for(var d=u+"Capture",v=[];i!==null;){var x=i,C=x.stateNode;x=x.tag,x!==5&&x!==26&&x!==27||C===null||(x=Jr(i,d),x!=null&&v.unshift(Xl(i,x,C)),x=Jr(i,u),x!=null&&v.push(Xl(i,x,C))),i=i.return}return v}function Lu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Hv(i,u,d,v,x){for(var C=u._reactName,M=[];d!==null&&d!==v;){var B=d,Y=B.alternate,ie=B.stateNode;if(B=B.tag,Y!==null&&Y===v)break;B!==5&&B!==26&&B!==27||ie===null||(Y=ie,x?(ie=Jr(d,C),ie!=null&&M.unshift(Xl(d,ie,Y))):x||(ie=Jr(d,C),ie!=null&&M.push(Xl(d,ie,Y)))),d=d.return}M.length!==0&&i.push({event:u,listeners:M})}var CA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function Gv(i){return(typeof i=="string"?i:""+i).replace(CA,`
`).replace(wA,"")}function jv(i,u){return u=Gv(u),Gv(i)===u}function Pf(){}function Ut(i,u,d,v,x,C){switch(d){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||_r(i,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&_r(i,""+v);break;case"className":_i(i,"class",v);break;case"tabIndex":_i(i,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(i,d,v);break;case"style":Ai(i,v,C);break;case"data":if(u!=="object"){_i(i,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||d!=="href")){i.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(d);break}v=Mr(""+v),i.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(u!=="input"&&Ut(i,u,"name",x.name,x,null),Ut(i,u,"formEncType",x.formEncType,x,null),Ut(i,u,"formMethod",x.formMethod,x,null),Ut(i,u,"formTarget",x.formTarget,x,null)):(Ut(i,u,"encType",x.encType,x,null),Ut(i,u,"method",x.method,x,null),Ut(i,u,"target",x.target,x,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){i.removeAttribute(d);break}v=Mr(""+v),i.setAttribute(d,v);break;case"onClick":v!=null&&(i.onclick=Pf);break;case"onScroll":v!=null&&Ct("scroll",i);break;case"onScrollEnd":v!=null&&Ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(l(61));if(d=v.__html,d!=null){if(x.children!=null)throw Error(l(60));i.innerHTML=d}}break;case"multiple":i.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":i.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){i.removeAttribute("xlink:href");break}d=Mr(""+v),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(d,""+v):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":v===!0?i.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?i.setAttribute(d,v):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?i.setAttribute(d,v):i.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?i.removeAttribute(d):i.setAttribute(d,v);break;case"popover":Ct("beforetoggle",i),Ct("toggle",i),Wi(i,"popover",v);break;case"xlinkActuate":mr(i,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":mr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":mr(i,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":mr(i,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":mr(i,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":mr(i,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":mr(i,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":mr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":mr(i,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Wi(i,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ml.get(d)||d,Wi(i,d,v))}}function A0(i,u,d,v,x,C){switch(d){case"style":Ai(i,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(l(61));if(d=v.__html,d!=null){if(x.children!=null)throw Error(l(60));i.innerHTML=d}}break;case"children":typeof v=="string"?_r(i,v):(typeof v=="number"||typeof v=="bigint")&&_r(i,""+v);break;case"onScroll":v!=null&&Ct("scroll",i);break;case"onScrollEnd":v!=null&&Ct("scrollend",i);break;case"onClick":v!=null&&(i.onclick=Pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),u=d.slice(2,x?d.length-7:void 0),C=i[on]||null,C=C!=null?C[d]:null,typeof C=="function"&&i.removeEventListener(u,C,x),typeof v=="function")){typeof C!="function"&&C!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(u,v,x);break e}d in i?i[d]=v:v===!0?i.setAttribute(d,""):Wi(i,d,v)}}}function Xn(i,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",i),Ct("load",i);var v=!1,x=!1,C;for(C in d)if(d.hasOwnProperty(C)){var M=d[C];if(M!=null)switch(C){case"src":v=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,u));default:Ut(i,u,C,M,d,null)}}x&&Ut(i,u,"srcSet",d.srcSet,d,null),v&&Ut(i,u,"src",d.src,d,null);return;case"input":Ct("invalid",i);var B=C=M=x=null,Y=null,ie=null;for(v in d)if(d.hasOwnProperty(v)){var ye=d[v];if(ye!=null)switch(v){case"name":x=ye;break;case"type":M=ye;break;case"checked":Y=ye;break;case"defaultChecked":ie=ye;break;case"value":C=ye;break;case"defaultValue":B=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(l(137,u));break;default:Ut(i,u,v,ye,d,null)}}Ia(i,C,B,Y,ie,M,x,!1),ba(i);return;case"select":Ct("invalid",i),v=M=C=null;for(x in d)if(d.hasOwnProperty(x)&&(B=d[x],B!=null))switch(x){case"value":C=B;break;case"defaultValue":M=B;break;case"multiple":v=B;default:Ut(i,u,x,B,d,null)}u=C,d=M,i.multiple=!!v,u!=null?_t(i,!!v,u,!1):d!=null&&_t(i,!!v,d,!0);return;case"textarea":Ct("invalid",i),C=x=v=null;for(M in d)if(d.hasOwnProperty(M)&&(B=d[M],B!=null))switch(M){case"value":v=B;break;case"defaultValue":x=B;break;case"children":C=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(91));break;default:Ut(i,u,M,B,d,null)}En(i,v,x,C),ba(i);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(v=d[Y],v!=null))switch(Y){case"selected":i.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Ut(i,u,Y,v,d,null)}return;case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":Ct("load",i);break;case"video":case"audio":for(v=0;v<ql.length;v++)Ct(ql[v],i);break;case"image":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"embed":case"source":case"link":Ct("error",i),Ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in d)if(d.hasOwnProperty(ie)&&(v=d[ie],v!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,u));default:Ut(i,u,ie,v,d,null)}return;default:if(Qi(u)){for(ye in d)d.hasOwnProperty(ye)&&(v=d[ye],v!==void 0&&A0(i,u,ye,v,d,void 0));return}}for(B in d)d.hasOwnProperty(B)&&(v=d[B],v!=null&&Ut(i,u,B,v,d,null))}function bA(i,u,d,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,C=null,M=null,B=null,Y=null,ie=null,ye=null;for(ve in d){var we=d[ve];if(d.hasOwnProperty(ve)&&we!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":Y=we;default:v.hasOwnProperty(ve)||Ut(i,u,ve,null,v,we)}}for(var de in v){var ve=v[de];if(we=d[de],v.hasOwnProperty(de)&&(ve!=null||we!=null))switch(de){case"type":C=ve;break;case"name":x=ve;break;case"checked":ie=ve;break;case"defaultChecked":ye=ve;break;case"value":M=ve;break;case"defaultValue":B=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(l(137,u));break;default:ve!==we&&Ut(i,u,de,ve,v,we)}}sr(i,M,B,Y,ie,ye,C,x);return;case"select":ve=M=B=de=null;for(C in d)if(Y=d[C],d.hasOwnProperty(C)&&Y!=null)switch(C){case"value":break;case"multiple":ve=Y;default:v.hasOwnProperty(C)||Ut(i,u,C,null,v,Y)}for(x in v)if(C=v[x],Y=d[x],v.hasOwnProperty(x)&&(C!=null||Y!=null))switch(x){case"value":de=C;break;case"defaultValue":B=C;break;case"multiple":M=C;default:C!==Y&&Ut(i,u,x,C,v,Y)}u=B,d=M,v=ve,de!=null?_t(i,!!d,de,!1):!!v!=!!d&&(u!=null?_t(i,!!d,u,!0):_t(i,!!d,d?[]:"",!1));return;case"textarea":ve=de=null;for(B in d)if(x=d[B],d.hasOwnProperty(B)&&x!=null&&!v.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Ut(i,u,B,null,v,x)}for(M in v)if(x=v[M],C=d[M],v.hasOwnProperty(M)&&(x!=null||C!=null))switch(M){case"value":de=x;break;case"defaultValue":ve=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:x!==C&&Ut(i,u,M,x,v,C)}Ra(i,de,ve);return;case"option":for(var Ge in d)if(de=d[Ge],d.hasOwnProperty(Ge)&&de!=null&&!v.hasOwnProperty(Ge))switch(Ge){case"selected":i.selected=!1;break;default:Ut(i,u,Ge,null,v,de)}for(Y in v)if(de=v[Y],ve=d[Y],v.hasOwnProperty(Y)&&de!==ve&&(de!=null||ve!=null))switch(Y){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Ut(i,u,Y,de,v,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in d)de=d[rt],d.hasOwnProperty(rt)&&de!=null&&!v.hasOwnProperty(rt)&&Ut(i,u,rt,null,v,de);for(ie in v)if(de=v[ie],ve=d[ie],v.hasOwnProperty(ie)&&de!==ve&&(de!=null||ve!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(l(137,u));break;default:Ut(i,u,ie,de,v,ve)}return;default:if(Qi(u)){for(var fn in d)de=d[fn],d.hasOwnProperty(fn)&&de!==void 0&&!v.hasOwnProperty(fn)&&A0(i,u,fn,void 0,v,de);for(ye in v)de=v[ye],ve=d[ye],!v.hasOwnProperty(ye)||de===ve||de===void 0&&ve===void 0||A0(i,u,ye,de,v,ve);return}}for(var se in d)de=d[se],d.hasOwnProperty(se)&&de!=null&&!v.hasOwnProperty(se)&&Ut(i,u,se,null,v,de);for(we in v)de=v[we],ve=d[we],!v.hasOwnProperty(we)||de===ve||de==null&&ve==null||Ut(i,u,we,de,v,ve)}var T0=null,S0=null;function Mf(i){return i.nodeType===9?i:i.ownerDocument}function qv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(i,u){if(i===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&u==="foreignObject"?0:i}function C0(i,u){return i==="textarea"||i==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var w0=null;function IA(){var i=window.event;return i&&i.type==="popstate"?i===w0?!1:(w0=i,!0):(w0=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(i){return Kv.resolve(null).then(i).catch(DA)}:Yv;function DA(i){setTimeout(function(){throw i})}function b0(i,u){var d=u,v=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(v===0){i.removeChild(x),ec(u);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=x}while(d);ec(u)}function I0(i){var u=i.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":I0(d),Ca(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function NA(i,u,d,v){for(;i.nodeType===1;){var x=d;if(i.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(v){if(!i[Xi])switch(u){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==x.rel||i.getAttribute("href")!==(x.href==null?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(u==="input"&&i.type==="hidden"){var C=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=ki(i.nextSibling),i===null)break}return null}function PA(i,u,d){if(u==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=ki(i.nextSibling),i===null))return null;return i}function ki(i){for(;i!=null;i=i.nextSibling){var u=i.nodeType;if(u===1||u===3)break;if(u===8){if(u=i.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return i}function Wv(i){i=i.previousSibling;for(var u=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return i;u--}else d==="/$"&&u++}i=i.previousSibling}return null}function Qv(i,u,d){switch(u=Mf(d),i){case"html":if(i=u.documentElement,!i)throw Error(l(452));return i;case"head":if(i=u.head,!i)throw Error(l(453));return i;case"body":if(i=u.body,!i)throw Error(l(454));return i;default:throw Error(l(451))}}var hi=new Map,$v=new Set;function Lf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Za=ne.d;ne.d={f:MA,r:LA,D:kA,C:BA,L:VA,m:UA,X:zA,S:FA,M:HA};function MA(){var i=Za.f(),u=bf();return i||u}function LA(i){var u=yi(i);u!==null&&u.tag===5&&u.type==="form"?Sg(u):Za.r(i)}var ku=typeof document>"u"?null:document;function Zv(i,u,d){var v=ku;if(v&&typeof u=="string"&&u){var x=Wt(u);x='link[rel="'+i+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),$v.has(x)||($v.add(x),i={rel:i,crossOrigin:d,href:u},v.querySelector(x)===null&&(u=v.createElement("link"),Xn(u,"link",i),ot(u),v.head.appendChild(u)))}}function kA(i){Za.D(i),Zv("dns-prefetch",i,null)}function BA(i,u){Za.C(i,u),Zv("preconnect",i,u)}function VA(i,u,d){Za.L(i,u,d);var v=ku;if(v&&i&&u){var x='link[rel="preload"][as="'+Wt(u)+'"]';u==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+Wt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+Wt(d.imageSizes)+'"]')):x+='[href="'+Wt(i)+'"]';var C=x;switch(u){case"style":C=Bu(i);break;case"script":C=Vu(i)}hi.has(C)||(i=K({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:i,as:u},d),hi.set(C,i),v.querySelector(x)!==null||u==="style"&&v.querySelector(Yl(C))||u==="script"&&v.querySelector(Kl(C))||(u=v.createElement("link"),Xn(u,"link",i),ot(u),v.head.appendChild(u)))}}function UA(i,u){Za.m(i,u);var d=ku;if(d&&i){var v=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+Wt(v)+'"][href="'+Wt(i)+'"]',C=x;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Vu(i)}if(!hi.has(C)&&(i=K({rel:"modulepreload",href:i},u),hi.set(C,i),d.querySelector(x)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Kl(C)))return}v=d.createElement("link"),Xn(v,"link",i),ot(v),d.head.appendChild(v)}}}function FA(i,u,d){Za.S(i,u,d);var v=ku;if(v&&i){var x=Ki(v).hoistableStyles,C=Bu(i);u=u||"default";var M=x.get(C);if(!M){var B={loading:0,preload:null};if(M=v.querySelector(Yl(C)))B.loading=5;else{i=K({rel:"stylesheet",href:i,"data-precedence":u},d),(d=hi.get(C))&&R0(i,d);var Y=M=v.createElement("link");ot(Y),Xn(Y,"link",i),Y._p=new Promise(function(ie,ye){Y.onload=ie,Y.onerror=ye}),Y.addEventListener("load",function(){B.loading|=1}),Y.addEventListener("error",function(){B.loading|=2}),B.loading|=4,kf(M,u,v)}M={type:"stylesheet",instance:M,count:1,state:B},x.set(C,M)}}}function zA(i,u){Za.X(i,u);var d=ku;if(d&&i){var v=Ki(d).hoistableScripts,x=Vu(i),C=v.get(x);C||(C=d.querySelector(Kl(x)),C||(i=K({src:i,async:!0},u),(u=hi.get(x))&&O0(i,u),C=d.createElement("script"),ot(C),Xn(C,"link",i),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(x,C))}}function HA(i,u){Za.M(i,u);var d=ku;if(d&&i){var v=Ki(d).hoistableScripts,x=Vu(i),C=v.get(x);C||(C=d.querySelector(Kl(x)),C||(i=K({src:i,async:!0,type:"module"},u),(u=hi.get(x))&&O0(i,u),C=d.createElement("script"),ot(C),Xn(C,"link",i),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(x,C))}}function Jv(i,u,d,v){var x=(x=gr.current)?Lf(x):null;if(!x)throw Error(l(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Bu(d.href),d=Ki(x).hoistableStyles,v=d.get(u),v||(v={type:"style",instance:null,count:0,state:null},d.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Bu(d.href);var C=Ki(x).hoistableStyles,M=C.get(i);if(M||(x=x.ownerDocument||x,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,M),(C=x.querySelector(Yl(i)))&&!C._p&&(M.instance=C,M.state.loading=5),hi.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},hi.set(i,d),C||GA(x,i,d,M.state))),u&&v===null)throw Error(l(528,""));return M}if(u&&v!==null)throw Error(l(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Vu(d),d=Ki(x).hoistableScripts,v=d.get(u),v||(v={type:"script",instance:null,count:0,state:null},d.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,i))}}function Bu(i){return'href="'+Wt(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function em(i){return K({},i,{"data-precedence":i.precedence,precedence:null})}function GA(i,u,d,v){i.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=i.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),Xn(u,"link",d),ot(u),i.head.appendChild(u))}function Vu(i){return'[src="'+Wt(i)+'"]'}function Kl(i){return"script[async]"+i}function tm(i,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var v=i.querySelector('style[data-href~="'+Wt(d.href)+'"]');if(v)return u.instance=v,ot(v),v;var x=K({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(i.ownerDocument||i).createElement("style"),ot(v),Xn(v,"style",x),kf(v,d.precedence,i),u.instance=v;case"stylesheet":x=Bu(d.href);var C=i.querySelector(Yl(x));if(C)return u.state.loading|=4,u.instance=C,ot(C),C;v=em(d),(x=hi.get(x))&&R0(v,x),C=(i.ownerDocument||i).createElement("link"),ot(C);var M=C;return M._p=new Promise(function(B,Y){M.onload=B,M.onerror=Y}),Xn(C,"link",v),u.state.loading|=4,kf(C,d.precedence,i),u.instance=C;case"script":return C=Vu(d.src),(x=i.querySelector(Kl(C)))?(u.instance=x,ot(x),x):(v=d,(x=hi.get(C))&&(v=K({},d),O0(v,x)),i=i.ownerDocument||i,x=i.createElement("script"),ot(x),Xn(x,"link",v),i.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(l(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,kf(v,d.precedence,i));return u.instance}function kf(i,u,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=v.length?v[v.length-1]:null,C=x,M=0;M<v.length;M++){var B=v[M];if(B.dataset.precedence===u)C=B;else if(C!==x)break}C?C.parentNode.insertBefore(i,C.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(i,u.firstChild))}function R0(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.title==null&&(i.title=u.title)}function O0(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.integrity==null&&(i.integrity=u.integrity)}var Bf=null;function nm(i,u,d){if(Bf===null){var v=new Map,x=Bf=new Map;x.set(d,v)}else x=Bf,v=x.get(d),v||(v=new Map,x.set(d,v));if(v.has(i))return v;for(v.set(i,null),d=d.getElementsByTagName(i),x=0;x<d.length;x++){var C=d[x];if(!(C[Xi]||C[an]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var M=C.getAttribute(u)||"";M=i+M;var B=v.get(M);B?B.push(C):v.set(M,[C])}}return v}function rm(i,u,d){i=i.ownerDocument||i,i.head.insertBefore(d,u==="title"?i.querySelector("head > title"):null)}function jA(i,u,d){if(d===1||u.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return i=u.disabled,typeof u.precedence=="string"&&i==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function im(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wl=null;function qA(){}function XA(i,u,d){if(Wl===null)throw Error(l(475));var v=Wl;if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=Bu(d.href),C=i.querySelector(Yl(x));if(C){i=C._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(v.count++,v=Vf.bind(v),i.then(v,v)),u.state.loading|=4,u.instance=C,ot(C);return}C=i.ownerDocument||i,d=em(d),(x=hi.get(x))&&R0(d,x),C=C.createElement("link"),ot(C);var M=C;M._p=new Promise(function(B,Y){M.onload=B,M.onerror=Y}),Xn(C,"link",d),u.instance=C}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,i),(i=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=Vf.bind(v),i.addEventListener("load",u),i.addEventListener("error",u))}}function YA(){if(Wl===null)throw Error(l(475));var i=Wl;return i.stylesheets&&i.count===0&&D0(i,i.stylesheets),0<i.count?function(u){var d=setTimeout(function(){if(i.stylesheets&&D0(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(d)}}:null}function Vf(){if(this.count--,this.count===0){if(this.stylesheets)D0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uf=null;function D0(i,u){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uf=new Map,u.forEach(KA,i),Uf=null,Vf.call(i))}function KA(i,u){if(!(u.state.loading&4)){var d=Uf.get(i);if(d)var v=d.get(null);else{d=new Map,Uf.set(i,d);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<x.length;C++){var M=x[C];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(d.set(M.dataset.precedence,M),v=M)}v&&d.set(null,v)}x=u.instance,M=x.getAttribute("data-precedence"),C=d.get(M)||v,C===v&&d.set(null,x),d.set(M,x),this.count++,v=Vf.bind(this),x.addEventListener("load",v),x.addEventListener("error",v),C?C.parentNode.insertBefore(x,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),u.state.loading|=4}}var Ql={$$typeof:X,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function WA(i,u,d,v,x,C,M,B){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=v,this.onUncaughtError=x,this.onCaughtError=C,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function am(i,u,d,v,x,C,M,B,Y,ie,ye,we){return i=new WA(i,u,d,M,B,Y,ie,we),u=1,C===!0&&(u|=24),C=ci(3,null,null,u),i.current=C,C.stateNode=i,u=Il(),u.refCount++,i.pooledCache=u,u.refCount++,C.memoizedState={element:v,isDehydrated:d,cache:u},Gd(C),i}function om(i){return i?(i=Ao,i):Ao}function sm(i,u,d,v,x,C){x=om(x),v.context===null?v.context=x:v.pendingContext=x,v=Do(u),v.payload={element:d},C=C===void 0?null:C,C!==null&&(v.callback=C),d=No(i,v,u),d!==null&&(dr(d,i,u),Pl(d,i,u))}function um(i,u){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<u?d:u}}function N0(i,u){um(i,u),(i=i.alternate)&&um(i,u)}function lm(i){if(i.tag===13){var u=ra(i,67108864);u!==null&&dr(u,i,67108864),N0(i,67108864)}}var Ff=!0;function QA(i,u,d,v){var x=H.T;H.T=null;var C=ne.p;try{ne.p=2,P0(i,u,d,v)}finally{ne.p=C,H.T=x}}function $A(i,u,d,v){var x=H.T;H.T=null;var C=ne.p;try{ne.p=8,P0(i,u,d,v)}finally{ne.p=C,H.T=x}}function P0(i,u,d,v){if(Ff){var x=M0(v);if(x===null)x0(i,u,v,zf,d),fm(i,v);else if(JA(x,i,u,d,v))v.stopPropagation();else if(fm(i,v),u&4&&-1<ZA.indexOf(i)){for(;x!==null;){var C=yi(x);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var M=Or(C.pendingLanes);if(M!==0){var B=C;for(B.pendingLanes|=2,B.entangledLanes|=2;M;){var Y=1<<31-Nn(M);B.entanglements[1]|=Y,M&=~Y}fa(C),(Jt&6)===0&&(Sf=Cn()+500,jl(0))}}break;case 13:B=ra(C,2),B!==null&&dr(B,C,2),bf(),N0(C,2)}if(C=M0(v),C===null&&x0(i,u,v,zf,d),C===x)break;x=C}x!==null&&v.stopPropagation()}else x0(i,u,v,null,d)}}function M0(i){return i=Mn(i),L0(i)}var zf=null;function L0(i){if(zf=null,i=Nr(i),i!==null){var u=He(i);if(u===null)i=null;else{var d=u.tag;if(d===13){if(i=ct(u),i!==null)return i;i=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;i=null}else u!==i&&(i=null)}}return zf=i,null}function cm(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case Bt:return 2;case yn:return 8;case Yr:case uu:return 32;case _n:return 268435456;default:return 32}default:return 32}}var k0=!1,Uo=null,Fo=null,zo=null,$l=new Map,Zl=new Map,Ho=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(i,u){switch(i){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":$l.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(u.pointerId)}}function Jl(i,u,d,v,x,C){return i===null||i.nativeEvent!==C?(i={blockedOn:u,domEventName:d,eventSystemFlags:v,nativeEvent:C,targetContainers:[x]},u!==null&&(u=yi(u),u!==null&&lm(u)),i):(i.eventSystemFlags|=v,u=i.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),i)}function JA(i,u,d,v,x){switch(u){case"focusin":return Uo=Jl(Uo,i,u,d,v,x),!0;case"dragenter":return Fo=Jl(Fo,i,u,d,v,x),!0;case"mouseover":return zo=Jl(zo,i,u,d,v,x),!0;case"pointerover":var C=x.pointerId;return $l.set(C,Jl($l.get(C)||null,i,u,d,v,x)),!0;case"gotpointercapture":return C=x.pointerId,Zl.set(C,Jl(Zl.get(C)||null,i,u,d,v,x)),!0}return!1}function hm(i){var u=Nr(i.target);if(u!==null){var d=He(u);if(d!==null){if(u=d.tag,u===13){if(u=ct(d),u!==null){i.blockedOn=u,vi(i.priority,function(){if(d.tag===13){var v=jr(),x=ra(d,v);x!==null&&dr(x,d,v),N0(d,v)}});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hf(i){if(i.blockedOn!==null)return!1;for(var u=i.targetContainers;0<u.length;){var d=M0(i.nativeEvent);if(d===null){d=i.nativeEvent;var v=new d.constructor(d.type,d);Er=v,d.target.dispatchEvent(v),Er=null}else return u=yi(d),u!==null&&lm(u),i.blockedOn=d,!1;u.shift()}return!0}function dm(i,u,d){Hf(i)&&d.delete(u)}function eT(){k0=!1,Uo!==null&&Hf(Uo)&&(Uo=null),Fo!==null&&Hf(Fo)&&(Fo=null),zo!==null&&Hf(zo)&&(zo=null),$l.forEach(dm),Zl.forEach(dm)}function Gf(i,u){i.blockedOn===u&&(i.blockedOn=null,k0||(k0=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eT)))}var jf=null;function pm(i){jf!==i&&(jf=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jf===i&&(jf=null);for(var u=0;u<i.length;u+=3){var d=i[u],v=i[u+1],x=i[u+2];if(typeof v!="function"){if(L0(v||d)===null)continue;break}var C=yi(d);C!==null&&(i.splice(u,3),u-=3,Cd(C,{pending:!0,data:x,method:d.method,action:v},v,x))}}))}function ec(i){function u(Y){return Gf(Y,i)}Uo!==null&&Gf(Uo,i),Fo!==null&&Gf(Fo,i),zo!==null&&Gf(zo,i),$l.forEach(u),Zl.forEach(u);for(var d=0;d<Ho.length;d++){var v=Ho[d];v.blockedOn===i&&(v.blockedOn=null)}for(;0<Ho.length&&(d=Ho[0],d.blockedOn===null);)hm(d),d.blockedOn===null&&Ho.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var x=d[v],C=d[v+1],M=x[on]||null;if(typeof C=="function")M||pm(d);else if(M){var B=null;if(C&&C.hasAttribute("formAction")){if(x=C,M=C[on]||null)B=M.formAction;else if(L0(x)!==null)continue}else B=M.action;typeof B=="function"?d[v+1]=B:(d.splice(v,3),v-=3),pm(d)}}}function B0(i){this._internalRoot=i}qf.prototype.render=B0.prototype.render=function(i){var u=this._internalRoot;if(u===null)throw Error(l(409));var d=u.current,v=jr();sm(d,v,i,u,null,null)},qf.prototype.unmount=B0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var u=i.containerInfo;i.tag===0&&Pu(),sm(i.current,2,null,i,null,null),bf(),u[mi]=null}};function qf(i){this._internalRoot=i}qf.prototype.unstable_scheduleHydration=function(i){if(i){var u=cu();i={blockedOn:null,target:i,priority:u};for(var d=0;d<Ho.length&&u!==0&&u<Ho[d].priority;d++);Ho.splice(d,0,i),d===0&&hm(i)}};var gm=e.version;if(gm!=="19.0.0")throw Error(l(527,gm,"19.0.0"));ne.findDOMNode=function(i){var u=i._reactInternals;if(u===void 0)throw typeof i.render=="function"?Error(l(188)):(i=Object.keys(i).join(","),Error(l(268,i)));return i=me(u),i=i!==null?Ne(i):null,i=i===null?null:i.stateNode,i};var tT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Nr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Fi=Xf.inject(tT),Kt=Xf}catch{}}return nc.createRoot=function(i,u){if(!h(i))throw Error(l(299));var d=!1,v="",x=Ng,C=Pg,M=Mg,B=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks)),u=am(i,1,!1,null,null,d,v,x,C,M,B,null),i[mi]=u.current,E0(i.nodeType===8?i.parentNode:i),new B0(u)},nc.hydrateRoot=function(i,u,d){if(!h(i))throw Error(l(299));var v=!1,x="",C=Ng,M=Pg,B=Mg,Y=null,ie=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Y=d.unstable_transitionCallbacks),d.formState!==void 0&&(ie=d.formState)),u=am(i,1,!0,u,d??null,v,x,C,M,B,Y,ie),u.context=om(null),d=u.current,v=jr(),x=Do(v),x.callback=null,No(d,x,v),u.current.lanes=v,yt(u,v),fa(u),i[mi]=u.current,E0(i),new qf(u)},nc.version="19.0.0",nc}var wm;function hT(){if(wm)return F0.exports;wm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),F0.exports=fT(),F0.exports}var dT=hT(),rc={},bm;function pT(){if(bm)return rc;bm=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=E,rc.serialize=w;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,g=(()=>{const L=function(){};return L.prototype=Object.create(null),L})();function E(L,X){const j=new g,J=L.length;if(J<2)return j;const ce=(X==null?void 0:X.decode)||O;let ae=0;do{const Ae=L.indexOf("=",ae);if(Ae===-1)break;const Se=L.indexOf(";",ae),Ue=Se===-1?J:Se;if(Ae>Ue){ae=L.lastIndexOf(";",Ae-1)+1;continue}const Pe=A(L,ae,Ae),We=S(L,Ae,Pe),$=L.slice(Pe,We);if(j[$]===void 0){let G=A(L,Ae+1,Ue),H=S(L,Ue,G);const K=ce(L.slice(G,H));j[$]=K}ae=Ue+1}while(ae<J);return j}function A(L,X,j){do{const J=L.charCodeAt(X);if(J!==32&&J!==9)return X}while(++X<j);return j}function S(L,X,j){for(;X>j;){const J=L.charCodeAt(--X);if(J!==32&&J!==9)return X+1}return j}function w(L,X,j){const J=(j==null?void 0:j.encode)||encodeURIComponent;if(!s.test(L))throw new TypeError(`argument name is invalid: ${L}`);const ce=J(X);if(!e.test(ce))throw new TypeError(`argument val is invalid: ${X}`);let ae=L+"="+ce;if(!j)return ae;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);ae+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);ae+="; Domain="+j.domain}if(j.path){if(!l.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);ae+="; Path="+j.path}if(j.expires){if(!k(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);ae+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(ae+="; HttpOnly"),j.secure&&(ae+="; Secure"),j.partitioned&&(ae+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":ae+="; Priority=Low";break;case"medium":ae+="; Priority=Medium";break;case"high":ae+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":ae+="; SameSite=Strict";break;case"lax":ae+="; SameSite=Lax";break;case"none":ae+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return ae}function O(L){if(L.indexOf("%")===-1)return L;try{return decodeURIComponent(L)}catch{return L}}function k(L){return h.call(L)==="[object Date]"}return rc}pT();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Im="popstate";function gT(s={}){function e(l,h){let{pathname:g,search:E,hash:A}=l.location;return m1("",{pathname:g,search:E,hash:A},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function r(l,h){return typeof h=="string"?h:pc(h)}return mT(e,r,null,s)}function en(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function _a(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vT(){return Math.random().toString(36).substring(2,10)}function Rm(s,e){return{usr:s.state,key:s.key,idx:e}}function m1(s,e,r=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:r,key:e&&e.key||l||vT()}}function pc({pathname:s="/",search:e="",hash:r=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function ol(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substring(r),s=s.substring(0,r));let l=s.indexOf("?");l>=0&&(e.search=s.substring(l),s=s.substring(0,l)),s&&(e.pathname=s)}return e}function mT(s,e,r,l={}){let{window:h=document.defaultView,v5Compat:g=!1}=l,E=h.history,A="POP",S=null,w=O();w==null&&(w=0,E.replaceState({...E.state,idx:w},""));function O(){return(E.state||{idx:null}).idx}function k(){A="POP";let ce=O(),ae=ce==null?null:ce-w;w=ce,S&&S({action:A,location:J.location,delta:ae})}function L(ce,ae){A="PUSH";let Ae=m1(J.location,ce,ae);w=O()+1;let Se=Rm(Ae,w),Ue=J.createHref(Ae);try{E.pushState(Se,"",Ue)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;h.location.assign(Ue)}g&&S&&S({action:A,location:J.location,delta:1})}function X(ce,ae){A="REPLACE";let Ae=m1(J.location,ce,ae);w=O();let Se=Rm(Ae,w),Ue=J.createHref(Ae);E.replaceState(Se,"",Ue),g&&S&&S({action:A,location:J.location,delta:0})}function j(ce){let ae=h.location.origin!=="null"?h.location.origin:h.location.href,Ae=typeof ce=="string"?ce:pc(ce);return Ae=Ae.replace(/ $/,"%20"),en(ae,`No window.location.(origin|href) available to create URL for href: ${Ae}`),new URL(Ae,ae)}let J={get action(){return A},get location(){return s(h,E)},listen(ce){if(S)throw new Error("A history only accepts one active listener");return h.addEventListener(Im,k),S=ce,()=>{h.removeEventListener(Im,k),S=null}},createHref(ce){return e(h,ce)},createURL:j,encodeLocation(ce){let ae=j(ce);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:L,replace:X,go(ce){return E.go(ce)}};return J}function R2(s,e,r="/"){return yT(s,e,r,!1)}function yT(s,e,r,l){let h=typeof e=="string"?ol(e):e,g=ro(h.pathname||"/",r);if(g==null)return null;let E=O2(s);_T(E);let A=null;for(let S=0;A==null&&S<E.length;++S){let w=OT(g);A=IT(E[S],w,l)}return A}function O2(s,e=[],r=[],l=""){let h=(g,E,A)=>{let S={relativePath:A===void 0?g.path||"":A,caseSensitive:g.caseSensitive===!0,childrenIndex:E,route:g};S.relativePath.startsWith("/")&&(en(S.relativePath.startsWith(l),`Absolute route path "${S.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(l.length));let w=no([l,S.relativePath]),O=r.concat(S);g.children&&g.children.length>0&&(en(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),O2(g.children,e,O,w)),!(g.path==null&&!g.index)&&e.push({path:w,score:wT(w,g.index),routesMeta:O})};return s.forEach((g,E)=>{var A;if(g.path===""||!((A=g.path)!=null&&A.includes("?")))h(g,E);else for(let S of D2(g.path))h(g,E,S)}),e}function D2(s){let e=s.split("/");if(e.length===0)return[];let[r,...l]=e,h=r.endsWith("?"),g=r.replace(/\?$/,"");if(l.length===0)return h?[g,""]:[g];let E=D2(l.join("/")),A=[];return A.push(...E.map(S=>S===""?g:[g,S].join("/"))),h&&A.push(...E),A.map(S=>s.startsWith("/")&&S===""?"/":S)}function _T(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:bT(e.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var ET=/^:[\w-]+$/,xT=3,AT=2,TT=1,ST=10,CT=-2,Om=s=>s==="*";function wT(s,e){let r=s.split("/"),l=r.length;return r.some(Om)&&(l+=CT),e&&(l+=AT),r.filter(h=>!Om(h)).reduce((h,g)=>h+(ET.test(g)?xT:g===""?TT:ST),l)}function bT(s,e){return s.length===e.length&&s.slice(0,-1).every((l,h)=>l===e[h])?s[s.length-1]-e[e.length-1]:0}function IT(s,e,r=!1){let{routesMeta:l}=s,h={},g="/",E=[];for(let A=0;A<l.length;++A){let S=l[A],w=A===l.length-1,O=g==="/"?e:e.slice(g.length)||"/",k=Ah({path:S.relativePath,caseSensitive:S.caseSensitive,end:w},O),L=S.route;if(!k&&w&&r&&!l[l.length-1].route.index&&(k=Ah({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},O)),!k)return null;Object.assign(h,k.params),E.push({params:h,pathname:no([g,k.pathname]),pathnameBase:MT(no([g,k.pathnameBase])),route:L}),k.pathnameBase!=="/"&&(g=no([g,k.pathnameBase]))}return E}function Ah(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,l]=RT(s.path,s.caseSensitive,s.end),h=e.match(r);if(!h)return null;let g=h[0],E=g.replace(/(.)\/+$/,"$1"),A=h.slice(1);return{params:l.reduce((w,{paramName:O,isOptional:k},L)=>{if(O==="*"){let j=A[L]||"";E=g.slice(0,g.length-j.length).replace(/(.)\/+$/,"$1")}const X=A[L];return k&&!X?w[O]=void 0:w[O]=(X||"").replace(/%2F/g,"/"),w},{}),pathname:g,pathnameBase:E,pattern:s}}function RT(s,e=!1,r=!0){_a(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],h="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(E,A,S)=>(l.push({paramName:A,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),h+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?h+="\\/*$":s!==""&&s!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,e?void 0:"i"),l]}function OT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _a(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ro(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,l=s.charAt(r);return l&&l!=="/"?null:s.slice(r)||"/"}function DT(s,e="/"){let{pathname:r,search:l="",hash:h=""}=typeof s=="string"?ol(s):s;return{pathname:r?r.startsWith("/")?r:NT(r,e):e,search:LT(l),hash:kT(h)}}function NT(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(h=>{h===".."?r.length>1&&r.pop():h!=="."&&r.push(h)}),r.length>1?r.join("/"):"/"}function j0(s,e,r,l){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PT(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function N2(s){let e=PT(s);return e.map((r,l)=>l===e.length-1?r.pathname:r.pathnameBase)}function P2(s,e,r,l=!1){let h;typeof s=="string"?h=ol(s):(h={...s},en(!h.pathname||!h.pathname.includes("?"),j0("?","pathname","search",h)),en(!h.pathname||!h.pathname.includes("#"),j0("#","pathname","hash",h)),en(!h.search||!h.search.includes("#"),j0("#","search","hash",h)));let g=s===""||h.pathname==="",E=g?"/":h.pathname,A;if(E==null)A=r;else{let k=e.length-1;if(!l&&E.startsWith("..")){let L=E.split("/");for(;L[0]==="..";)L.shift(),k-=1;h.pathname=L.join("/")}A=k>=0?e[k]:"/"}let S=DT(h,A),w=E&&E!=="/"&&E.endsWith("/"),O=(g||E===".")&&r.endsWith("/");return!S.pathname.endsWith("/")&&(w||O)&&(S.pathname+="/"),S}var no=s=>s.join("/").replace(/\/\/+/g,"/"),MT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),LT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,kT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function BT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var M2=["POST","PUT","PATCH","DELETE"];new Set(M2);var VT=["GET",...M2];new Set(VT);var sl=_e.createContext(null);sl.displayName="DataRouter";var Hh=_e.createContext(null);Hh.displayName="DataRouterState";var L2=_e.createContext({isTransitioning:!1});L2.displayName="ViewTransition";var UT=_e.createContext(new Map);UT.displayName="Fetchers";var FT=_e.createContext(null);FT.displayName="Await";var xa=_e.createContext(null);xa.displayName="Navigation";var Sc=_e.createContext(null);Sc.displayName="Location";var lo=_e.createContext({outlet:null,matches:[],isDataRoute:!1});lo.displayName="Route";var Q1=_e.createContext(null);Q1.displayName="RouteError";function zT(s,{relative:e}={}){en(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=_e.useContext(xa),{hash:h,pathname:g,search:E}=wc(s,{relative:e}),A=g;return r!=="/"&&(A=g==="/"?r:no([r,g])),l.createHref({pathname:A,search:E,hash:h})}function Cc(){return _e.useContext(Sc)!=null}function iu(){return en(Cc(),"useLocation() may be used only in the context of a <Router> component."),_e.useContext(Sc).location}var k2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B2(s){_e.useContext(xa).static||_e.useLayoutEffect(s)}function $1(){let{isDataRoute:s}=_e.useContext(lo);return s?eS():HT()}function HT(){en(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let s=_e.useContext(sl),{basename:e,navigator:r}=_e.useContext(xa),{matches:l}=_e.useContext(lo),{pathname:h}=iu(),g=JSON.stringify(N2(l)),E=_e.useRef(!1);return B2(()=>{E.current=!0}),_e.useCallback((S,w={})=>{if(_a(E.current,k2),!E.current)return;if(typeof S=="number"){r.go(S);return}let O=P2(S,JSON.parse(g),h,w.relative==="path");s==null&&e!=="/"&&(O.pathname=O.pathname==="/"?e:no([e,O.pathname])),(w.replace?r.replace:r.push)(O,w.state,w)},[e,r,g,h,s])}_e.createContext(null);function wc(s,{relative:e}={}){let{matches:r}=_e.useContext(lo),{pathname:l}=iu(),h=JSON.stringify(N2(r));return _e.useMemo(()=>P2(s,JSON.parse(h),l,e==="path"),[s,h,l,e])}function GT(s,e){return V2(s,e)}function V2(s,e,r,l){var Ae;en(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h,static:g}=_e.useContext(xa),{matches:E}=_e.useContext(lo),A=E[E.length-1],S=A?A.params:{},w=A?A.pathname:"/",O=A?A.pathnameBase:"/",k=A&&A.route;{let Se=k&&k.path||"";U2(w,!k||Se.endsWith("*")||Se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${Se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Se}"> to <Route path="${Se==="/"?"*":`${Se}/*`}">.`)}let L=iu(),X;if(e){let Se=typeof e=="string"?ol(e):e;en(O==="/"||((Ae=Se.pathname)==null?void 0:Ae.startsWith(O)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${O}" but pathname "${Se.pathname}" was given in the \`location\` prop.`),X=Se}else X=L;let j=X.pathname||"/",J=j;if(O!=="/"){let Se=O.replace(/^\//,"").split("/");J="/"+j.replace(/^\//,"").split("/").slice(Se.length).join("/")}let ce=!g&&r&&r.matches&&r.matches.length>0?r.matches:R2(s,{pathname:J});_a(k||ce!=null,`No routes matched location "${X.pathname}${X.search}${X.hash}" `),_a(ce==null||ce[ce.length-1].route.element!==void 0||ce[ce.length-1].route.Component!==void 0||ce[ce.length-1].route.lazy!==void 0,`Matched leaf route at location "${X.pathname}${X.search}${X.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ae=KT(ce&&ce.map(Se=>Object.assign({},Se,{params:Object.assign({},S,Se.params),pathname:no([O,h.encodeLocation?h.encodeLocation(Se.pathname).pathname:Se.pathname]),pathnameBase:Se.pathnameBase==="/"?O:no([O,h.encodeLocation?h.encodeLocation(Se.pathnameBase).pathname:Se.pathnameBase])})),E,r,l);return e&&ae?_e.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...X},navigationType:"POP"}},ae):ae}function jT(){let s=JT(),e=BT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:l},g={padding:"2px 4px",backgroundColor:l},E=null;return console.error("Error handled by React Router default ErrorBoundary:",s),E=_e.createElement(_e.Fragment,null,_e.createElement("p",null,"💿 Hey developer 👋"),_e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_e.createElement("code",{style:g},"ErrorBoundary")," or"," ",_e.createElement("code",{style:g},"errorElement")," prop on your route.")),_e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},e),r?_e.createElement("pre",{style:h},r):null,E)}var qT=_e.createElement(jT,null),XT=class extends _e.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?_e.createElement(lo.Provider,{value:this.props.routeContext},_e.createElement(Q1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YT({routeContext:s,match:e,children:r}){let l=_e.useContext(sl);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),_e.createElement(lo.Provider,{value:s},r)}function KT(s,e=[],r=null,l=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let h=s,g=r==null?void 0:r.errors;if(g!=null){let S=h.findIndex(w=>w.route.id&&(g==null?void 0:g[w.route.id])!==void 0);en(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,S+1))}let E=!1,A=-1;if(r)for(let S=0;S<h.length;S++){let w=h[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(A=S),w.route.id){let{loaderData:O,errors:k}=r,L=w.route.loader&&!O.hasOwnProperty(w.route.id)&&(!k||k[w.route.id]===void 0);if(w.route.lazy||L){E=!0,A>=0?h=h.slice(0,A+1):h=[h[0]];break}}}return h.reduceRight((S,w,O)=>{let k,L=!1,X=null,j=null;r&&(k=g&&w.route.id?g[w.route.id]:void 0,X=w.route.errorElement||qT,E&&(A<0&&O===0?(U2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,j=null):A===O&&(L=!0,j=w.route.hydrateFallbackElement||null)));let J=e.concat(h.slice(0,O+1)),ce=()=>{let ae;return k?ae=X:L?ae=j:w.route.Component?ae=_e.createElement(w.route.Component,null):w.route.element?ae=w.route.element:ae=S,_e.createElement(YT,{match:w,routeContext:{outlet:S,matches:J,isDataRoute:r!=null},children:ae})};return r&&(w.route.ErrorBoundary||w.route.errorElement||O===0)?_e.createElement(XT,{location:r.location,revalidation:r.revalidation,component:X,error:k,children:ce(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):ce()},null)}function Z1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(s){let e=_e.useContext(sl);return en(e,Z1(s)),e}function QT(s){let e=_e.useContext(Hh);return en(e,Z1(s)),e}function $T(s){let e=_e.useContext(lo);return en(e,Z1(s)),e}function J1(s){let e=$T(s),r=e.matches[e.matches.length-1];return en(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function ZT(){return J1("useRouteId")}function JT(){var l;let s=_e.useContext(Q1),e=QT("useRouteError"),r=J1("useRouteError");return s!==void 0?s:(l=e.errors)==null?void 0:l[r]}function eS(){let{router:s}=WT("useNavigate"),e=J1("useNavigate"),r=_e.useRef(!1);return B2(()=>{r.current=!0}),_e.useCallback(async(h,g={})=>{_a(r.current,k2),r.current&&(typeof h=="number"?s.navigate(h):await s.navigate(h,{fromRouteId:e,...g}))},[s,e])}var Dm={};function U2(s,e,r){!e&&!Dm[s]&&(Dm[s]=!0,_a(!1,r))}_e.memo(tS);function tS({routes:s,future:e,state:r}){return V2(s,void 0,r,e)}function rh(s){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nS({basename:s="/",children:e=null,location:r,navigationType:l="POP",navigator:h,static:g=!1}){en(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let E=s.replace(/^\/*/,"/"),A=_e.useMemo(()=>({basename:E,navigator:h,static:g,future:{}}),[E,h,g]);typeof r=="string"&&(r=ol(r));let{pathname:S="/",search:w="",hash:O="",state:k=null,key:L="default"}=r,X=_e.useMemo(()=>{let j=ro(S,E);return j==null?null:{location:{pathname:j,search:w,hash:O,state:k,key:L},navigationType:l}},[E,S,w,O,k,L,l]);return _a(X!=null,`<Router basename="${E}"> is not able to match the URL "${S}${w}${O}" because it does not start with the basename, so the <Router> won't render anything.`),X==null?null:_e.createElement(xa.Provider,{value:A},_e.createElement(Sc.Provider,{children:e,value:X}))}function rS({children:s,location:e}){return GT(y1(s),e)}function y1(s,e=[]){let r=[];return _e.Children.forEach(s,(l,h)=>{if(!_e.isValidElement(l))return;let g=[...e,h];if(l.type===_e.Fragment){r.push.apply(r,y1(l.props.children,g));return}en(l.type===rh,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!l.props.index||!l.props.children,"An index route cannot have child routes.");let E={id:l.props.id||g.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(E.children=y1(l.props.children,g)),r.push(E)}),r}var ih="get",ah="application/x-www-form-urlencoded";function Gh(s){return s!=null&&typeof s.tagName=="string"}function iS(s){return Gh(s)&&s.tagName.toLowerCase()==="button"}function aS(s){return Gh(s)&&s.tagName.toLowerCase()==="form"}function oS(s){return Gh(s)&&s.tagName.toLowerCase()==="input"}function sS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function uS(s,e){return s.button===0&&(!e||e==="_self")&&!sS(s)}var Yf=null;function lS(){if(Yf===null)try{new FormData(document.createElement("form"),0),Yf=!1}catch{Yf=!0}return Yf}var cS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q0(s){return s!=null&&!cS.has(s)?(_a(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):s}function fS(s,e){let r,l,h,g,E;if(aS(s)){let A=s.getAttribute("action");l=A?ro(A,e):null,r=s.getAttribute("method")||ih,h=q0(s.getAttribute("enctype"))||ah,g=new FormData(s)}else if(iS(s)||oS(s)&&(s.type==="submit"||s.type==="image")){let A=s.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=s.getAttribute("formaction")||A.getAttribute("action");if(l=S?ro(S,e):null,r=s.getAttribute("formmethod")||A.getAttribute("method")||ih,h=q0(s.getAttribute("formenctype"))||q0(A.getAttribute("enctype"))||ah,g=new FormData(A,s),!lS()){let{name:w,type:O,value:k}=s;if(O==="image"){let L=w?`${w}.`:"";g.append(`${L}x`,"0"),g.append(`${L}y`,"0")}else w&&g.append(w,k)}}else{if(Gh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ih,l=null,h=ah,E=s}return g&&h==="text/plain"&&(E=g,g=void 0),{action:l,method:r.toLowerCase(),encType:h,formData:g,body:E}}function ep(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function hS(s,e){if(s.id in e)return e[s.id];try{let r=await import(s.module);return e[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function pS(s,e,r){let l=await Promise.all(s.map(async h=>{let g=e.routes[h.route.id];if(g){let E=await hS(g,r);return E.links?E.links():[]}return[]}));return yS(l.flat(1).filter(dS).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function Nm(s,e,r,l,h,g){let E=(S,w)=>r[w]?S.route.id!==r[w].route.id:!0,A=(S,w)=>{var O;return r[w].pathname!==S.pathname||((O=r[w].route.path)==null?void 0:O.endsWith("*"))&&r[w].params["*"]!==S.params["*"]};return g==="assets"?e.filter((S,w)=>E(S,w)||A(S,w)):g==="data"?e.filter((S,w)=>{var k;let O=l.routes[S.route.id];if(!O||!O.hasLoader)return!1;if(E(S,w)||A(S,w))return!0;if(S.route.shouldRevalidate){let L=S.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((k=r[0])==null?void 0:k.params)||{},nextUrl:new URL(s,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof L=="boolean")return L}return!0}):[]}function gS(s,e,{includeHydrateFallback:r}={}){return vS(s.map(l=>{let h=e.routes[l.route.id];if(!h)return[];let g=[h.module];return h.clientActionModule&&(g=g.concat(h.clientActionModule)),h.clientLoaderModule&&(g=g.concat(h.clientLoaderModule)),r&&h.hydrateFallbackModule&&(g=g.concat(h.hydrateFallbackModule)),h.imports&&(g=g.concat(h.imports)),g}).flat(1))}function vS(s){return[...new Set(s)]}function mS(s){let e={},r=Object.keys(s).sort();for(let l of r)e[l]=s[l];return e}function yS(s,e){let r=new Set;return new Set(e),s.reduce((l,h)=>{let g=JSON.stringify(mS(h));return r.has(g)||(r.add(g),l.push({key:g,link:h})),l},[])}function _S(s,e){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":e&&ro(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function F2(){let s=_e.useContext(sl);return ep(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ES(){let s=_e.useContext(Hh);return ep(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var tp=_e.createContext(void 0);tp.displayName="FrameworkContext";function z2(){let s=_e.useContext(tp);return ep(s,"You must render this element inside a <HydratedRouter> element"),s}function xS(s,e){let r=_e.useContext(tp),[l,h]=_e.useState(!1),[g,E]=_e.useState(!1),{onFocus:A,onBlur:S,onMouseEnter:w,onMouseLeave:O,onTouchStart:k}=e,L=_e.useRef(null);_e.useEffect(()=>{if(s==="render"&&E(!0),s==="viewport"){let J=ae=>{ae.forEach(Ae=>{E(Ae.isIntersecting)})},ce=new IntersectionObserver(J,{threshold:.5});return L.current&&ce.observe(L.current),()=>{ce.disconnect()}}},[s]),_e.useEffect(()=>{if(l){let J=setTimeout(()=>{E(!0)},100);return()=>{clearTimeout(J)}}},[l]);let X=()=>{h(!0)},j=()=>{h(!1),E(!1)};return r?s!=="intent"?[g,L,{}]:[g,L,{onFocus:ic(A,X),onBlur:ic(S,j),onMouseEnter:ic(w,X),onMouseLeave:ic(O,j),onTouchStart:ic(k,X)}]:[!1,L,{}]}function ic(s,e){return r=>{s&&s(r),r.defaultPrevented||e(r)}}function AS({page:s,...e}){let{router:r}=F2(),l=_e.useMemo(()=>R2(r.routes,s,r.basename),[r.routes,s,r.basename]);return l?_e.createElement(SS,{page:s,matches:l,...e}):null}function TS(s){let{manifest:e,routeModules:r}=z2(),[l,h]=_e.useState([]);return _e.useEffect(()=>{let g=!1;return pS(s,e,r).then(E=>{g||h(E)}),()=>{g=!0}},[s,e,r]),l}function SS({page:s,matches:e,...r}){let l=iu(),{manifest:h,routeModules:g}=z2(),{basename:E}=F2(),{loaderData:A,matches:S}=ES(),w=_e.useMemo(()=>Nm(s,e,S,h,l,"data"),[s,e,S,h,l]),O=_e.useMemo(()=>Nm(s,e,S,h,l,"assets"),[s,e,S,h,l]),k=_e.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let j=new Set,J=!1;if(e.forEach(ae=>{var Se;let Ae=h.routes[ae.route.id];!Ae||!Ae.hasLoader||(!w.some(Ue=>Ue.route.id===ae.route.id)&&ae.route.id in A&&((Se=g[ae.route.id])!=null&&Se.shouldRevalidate)||Ae.hasClientLoader?J=!0:j.add(ae.route.id))}),j.size===0)return[];let ce=_S(s,E);return J&&j.size>0&&ce.searchParams.set("_routes",e.filter(ae=>j.has(ae.route.id)).map(ae=>ae.route.id).join(",")),[ce.pathname+ce.search]},[E,A,l,h,w,e,s,g]),L=_e.useMemo(()=>gS(O,h),[O,h]),X=TS(O);return _e.createElement(_e.Fragment,null,k.map(j=>_e.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),L.map(j=>_e.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),X.map(({key:j,link:J})=>_e.createElement("link",{key:j,...J})))}function CS(...s){return e=>{s.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H2&&(window.__reactRouterVersion="7.3.0")}catch{}function wS({basename:s,children:e,window:r}){let l=_e.useRef();l.current==null&&(l.current=gT({window:r,v5Compat:!0}));let h=l.current,[g,E]=_e.useState({action:h.action,location:h.location}),A=_e.useCallback(S=>{_e.startTransition(()=>E(S))},[E]);return _e.useLayoutEffect(()=>h.listen(A),[h,A]),_e.createElement(nS,{basename:s,children:e,location:g.location,navigationType:g.action,navigator:h})}var G2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j2=_e.forwardRef(function({onClick:e,discover:r="render",prefetch:l="none",relative:h,reloadDocument:g,replace:E,state:A,target:S,to:w,preventScrollReset:O,viewTransition:k,...L},X){let{basename:j}=_e.useContext(xa),J=typeof w=="string"&&G2.test(w),ce,ae=!1;if(typeof w=="string"&&J&&(ce=w,H2))try{let H=new URL(window.location.href),K=w.startsWith("//")?new URL(H.protocol+w):new URL(w),Q=ro(K.pathname,j);K.origin===H.origin&&Q!=null?w=Q+K.search+K.hash:ae=!0}catch{_a(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Ae=zT(w,{relative:h}),[Se,Ue,Pe]=xS(l,L),We=OS(w,{replace:E,state:A,target:S,preventScrollReset:O,relative:h,viewTransition:k});function $(H){e&&e(H),H.defaultPrevented||We(H)}let G=_e.createElement("a",{...L,...Pe,href:ce||Ae,onClick:ae||g?e:$,ref:CS(X,Ue),target:S,"data-discover":!J&&r==="render"?"true":void 0});return Se&&!J?_e.createElement(_e.Fragment,null,G,_e.createElement(AS,{page:Ae})):G});j2.displayName="Link";var bS=_e.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:l="",end:h=!1,style:g,to:E,viewTransition:A,children:S,...w},O){let k=wc(E,{relative:w.relative}),L=iu(),X=_e.useContext(Hh),{navigator:j,basename:J}=_e.useContext(xa),ce=X!=null&&LS(k)&&A===!0,ae=j.encodeLocation?j.encodeLocation(k).pathname:k.pathname,Ae=L.pathname,Se=X&&X.navigation&&X.navigation.location?X.navigation.location.pathname:null;r||(Ae=Ae.toLowerCase(),Se=Se?Se.toLowerCase():null,ae=ae.toLowerCase()),Se&&J&&(Se=ro(Se,J)||Se);const Ue=ae!=="/"&&ae.endsWith("/")?ae.length-1:ae.length;let Pe=Ae===ae||!h&&Ae.startsWith(ae)&&Ae.charAt(Ue)==="/",We=Se!=null&&(Se===ae||!h&&Se.startsWith(ae)&&Se.charAt(ae.length)==="/"),$={isActive:Pe,isPending:We,isTransitioning:ce},G=Pe?e:void 0,H;typeof l=="function"?H=l($):H=[l,Pe?"active":null,We?"pending":null,ce?"transitioning":null].filter(Boolean).join(" ");let K=typeof g=="function"?g($):g;return _e.createElement(j2,{...w,"aria-current":G,className:H,ref:O,style:K,to:E,viewTransition:A},typeof S=="function"?S($):S)});bS.displayName="NavLink";var IS=_e.forwardRef(({discover:s="render",fetcherKey:e,navigate:r,reloadDocument:l,replace:h,state:g,method:E=ih,action:A,onSubmit:S,relative:w,preventScrollReset:O,viewTransition:k,...L},X)=>{let j=PS(),J=MS(A,{relative:w}),ce=E.toLowerCase()==="get"?"get":"post",ae=typeof A=="string"&&G2.test(A),Ae=Se=>{if(S&&S(Se),Se.defaultPrevented)return;Se.preventDefault();let Ue=Se.nativeEvent.submitter,Pe=(Ue==null?void 0:Ue.getAttribute("formmethod"))||E;j(Ue||Se.currentTarget,{fetcherKey:e,method:Pe,navigate:r,replace:h,state:g,relative:w,preventScrollReset:O,viewTransition:k})};return _e.createElement("form",{ref:X,method:ce,action:J,onSubmit:l?S:Ae,...L,"data-discover":!ae&&s==="render"?"true":void 0})});IS.displayName="Form";function RS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(s){let e=_e.useContext(sl);return en(e,RS(s)),e}function OS(s,{target:e,replace:r,state:l,preventScrollReset:h,relative:g,viewTransition:E}={}){let A=$1(),S=iu(),w=wc(s,{relative:g});return _e.useCallback(O=>{if(uS(O,e)){O.preventDefault();let k=r!==void 0?r:pc(S)===pc(w);A(s,{replace:k,state:l,preventScrollReset:h,relative:g,viewTransition:E})}},[S,A,w,r,l,e,s,h,g,E])}var DS=0,NS=()=>`__${String(++DS)}__`;function PS(){let{router:s}=q2("useSubmit"),{basename:e}=_e.useContext(xa),r=ZT();return _e.useCallback(async(l,h={})=>{let{action:g,method:E,encType:A,formData:S,body:w}=fS(l,e);if(h.navigate===!1){let O=h.fetcherKey||NS();await s.fetch(O,r,h.action||g,{preventScrollReset:h.preventScrollReset,formData:S,body:w,formMethod:h.method||E,formEncType:h.encType||A,flushSync:h.flushSync})}else await s.navigate(h.action||g,{preventScrollReset:h.preventScrollReset,formData:S,body:w,formMethod:h.method||E,formEncType:h.encType||A,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,e,r])}function MS(s,{relative:e}={}){let{basename:r}=_e.useContext(xa),l=_e.useContext(lo);en(l,"useFormAction must be used inside a RouteContext");let[h]=l.matches.slice(-1),g={...wc(s||".",{relative:e})},E=iu();if(s==null){g.search=E.search;let A=new URLSearchParams(g.search),S=A.getAll("index");if(S.some(O=>O==="")){A.delete("index"),S.filter(k=>k).forEach(k=>A.append("index",k));let O=A.toString();g.search=O?`?${O}`:""}}return(!s||s===".")&&h.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(g.pathname=g.pathname==="/"?r:no([r,g.pathname])),pc(g)}function LS(s,e={}){let r=_e.useContext(L2);en(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=q2("useViewTransitionState"),h=wc(s,{relative:e.relative});if(!r.isTransitioning)return!1;let g=ro(r.currentLocation.pathname,l)||r.currentLocation.pathname,E=ro(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Ah(h.pathname,E)!=null||Ah(h.pathname,g)!=null}new TextEncoder;const kS=()=>{const s=$1();return st.jsxs("div",{className:"homepage-container",children:[st.jsx("h1",{children:"🏦 Banco de Monopoly Online"}),st.jsx("p",{children:"Administra el dinero de los jugadores de Monopoly de forma digital."}),st.jsx("button",{style:{marginBottom:"10px"},onClick:()=>s("/crear-jugador"),className:"btn",children:"➕ Crear Jugador"}),st.jsx("button",{onClick:()=>s("/modificar-dinero"),className:"btn",children:"💰 Modificar Dinero"})]})},BS=()=>{};var Pm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=function(s){const e=[];let r=0;for(let l=0;l<s.length;l++){let h=s.charCodeAt(l);h<128?e[r++]=h:h<2048?(e[r++]=h>>6|192,e[r++]=h&63|128):(h&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(h=65536+((h&1023)<<10)+(s.charCodeAt(++l)&1023),e[r++]=h>>18|240,e[r++]=h>>12&63|128,e[r++]=h>>6&63|128,e[r++]=h&63|128):(e[r++]=h>>12|224,e[r++]=h>>6&63|128,e[r++]=h&63|128)}return e},VS=function(s){const e=[];let r=0,l=0;for(;r<s.length;){const h=s[r++];if(h<128)e[l++]=String.fromCharCode(h);else if(h>191&&h<224){const g=s[r++];e[l++]=String.fromCharCode((h&31)<<6|g&63)}else if(h>239&&h<365){const g=s[r++],E=s[r++],A=s[r++],S=((h&7)<<18|(g&63)<<12|(E&63)<<6|A&63)-65536;e[l++]=String.fromCharCode(55296+(S>>10)),e[l++]=String.fromCharCode(56320+(S&1023))}else{const g=s[r++],E=s[r++];e[l++]=String.fromCharCode((h&15)<<12|(g&63)<<6|E&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let h=0;h<s.length;h+=3){const g=s[h],E=h+1<s.length,A=E?s[h+1]:0,S=h+2<s.length,w=S?s[h+2]:0,O=g>>2,k=(g&3)<<4|A>>4;let L=(A&15)<<2|w>>6,X=w&63;S||(X=64,E||(L=64)),l.push(r[O],r[k],r[L],r[X])}return l.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(X2(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):VS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let h=0;h<s.length;){const g=r[s.charAt(h++)],A=h<s.length?r[s.charAt(h)]:0;++h;const w=h<s.length?r[s.charAt(h)]:64;++h;const k=h<s.length?r[s.charAt(h)]:64;if(++h,g==null||A==null||w==null||k==null)throw new US;const L=g<<2|A>>4;if(l.push(L),w!==64){const X=A<<4&240|w>>2;if(l.push(X),k!==64){const j=w<<6&192|k;l.push(j)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(s){const e=X2(s);return Y2.encodeByteArray(e,!0)},Th=function(s){return FS(s).replace(/\./g,"")},K2=function(s){try{return Y2.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=()=>zS().__FIREBASE_DEFAULTS__,GS=()=>{if(typeof process>"u"||typeof Pm>"u")return;const s=Pm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&K2(s[1]);return e&&JSON.parse(e)},jh=()=>{try{return BS()||HS()||GS()||jS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},W2=s=>{var e,r;return(r=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[s]},qS=s=>{const e=W2(s);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const l=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),l]:[e.substring(0,r),l]},Q2=()=>{var s;return(s=jh())===null||s===void 0?void 0:s.config},$2=s=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,l)=>{r?this.reject(r):this.resolve(l),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,l))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},l=e||"demo-project",h=s.iat||0,g=s.sub||s.user_id;if(!g)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const E=Object.assign({iss:`https://securetoken.google.com/${l}`,aud:l,iat:h,exp:h+3600,auth_time:h,sub:g,user_id:g,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Th(JSON.stringify(r)),Th(JSON.stringify(E)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function WS(){var s;const e=(s=jh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ZS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JS(){const s=or();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eC(){return!WS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function nC(){return new Promise((s,e)=>{try{let r=!0;const l="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(l);h.onsuccess=()=>{h.result.close(),r||self.indexedDB.deleteDatabase(l),s(!0)},h.onupgradeneeded=()=>{r=!1},h.onerror=()=>{var g;e(((g=h.error)===null||g===void 0?void 0:g.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="FirebaseError";class co extends Error{constructor(e,r,l){super(r),this.code=e,this.customData=l,this.name=rC,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,r,l){this.service=e,this.serviceName=r,this.errors=l}create(e,...r){const l=r[0]||{},h=`${this.service}/${e}`,g=this.errors[e],E=g?iC(g,l):"Error",A=`${this.serviceName}: ${E} (${h}).`;return new co(h,A,l)}}function iC(s,e){return s.replace(aC,(r,l)=>{const h=e[l];return h!=null?String(h):`<${l}?>`})}const aC=/\{\$([^}]+)}/g;function oC(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Js(s,e){if(s===e)return!0;const r=Object.keys(s),l=Object.keys(e);for(const h of r){if(!l.includes(h))return!1;const g=s[h],E=e[h];if(Mm(g)&&Mm(E)){if(!Js(g,E))return!1}else if(g!==E)return!1}for(const h of l)if(!r.includes(h))return!1;return!0}function Mm(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(s){const e=[];for(const[r,l]of Object.entries(s))Array.isArray(l)?l.forEach(h=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(h))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(l));return e.length?"&"+e.join("&"):""}function sC(s,e){const r=new uC(s,e);return r.subscribe.bind(r)}class uC{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(l=>{this.error(l)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,l){let h;if(e===void 0&&r===void 0&&l===void 0)throw new Error("Missing Observer.");lC(e,["next","error","complete"])?h=e:h={next:e,error:r,complete:l},h.next===void 0&&(h.next=X0),h.error===void 0&&(h.error=X0),h.complete===void 0&&(h.complete=X0);const g=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?h.error(this.finalError):h.complete()}catch{}}),this.observers.push(h),g}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(s,e){if(typeof s!="object"||s===null)return!1;for(const r of e)if(r in s&&typeof s[r]=="function")return!0;return!1}function X0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(s){return s&&s._delegate?s._delegate:s}class eu{constructor(e,r,l){this.name=e,this.instanceFactory=r,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const l=new XS;if(this.instancesDeferred.set(r,l),this.isInitialized(r)||this.shouldAutoInitialize())try{const h=this.getOrInitializeService({instanceIdentifier:r});h&&l.resolve(h)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const l=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),h=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(g){if(h)return null;throw g}else{if(h)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[r,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);try{const g=this.getOrInitializeService({instanceIdentifier:h});l.resolve(g)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,l=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const h=this.getOrInitializeService({instanceIdentifier:l,options:r});for(const[g,E]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(g);l===A&&E.resolve(h)}return h}onInit(e,r){var l;const h=this.normalizeInstanceIdentifier(r),g=(l=this.onInitCallbacks.get(h))!==null&&l!==void 0?l:new Set;g.add(e),this.onInitCallbacks.set(h,g);const E=this.instances.get(h);return E&&e(E,h),()=>{g.delete(e)}}invokeOnInitCallbacks(e,r){const l=this.onInitCallbacks.get(r);if(l)for(const h of l)try{h(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let l=this.instances.get(e);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:fC(e),options:r}),this.instances.set(e,l),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(l,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,l)}catch{}return l||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fC(s){return s===Qs?void 0:s}function hC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new cC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const pC={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},gC=xt.INFO,vC={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},mC=(s,e,...r)=>{if(e<s.logLevel)return;const l=new Date().toISOString(),h=vC[e];if(h)console[h](`[${l}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=gC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const yC=(s,e)=>e.some(r=>s instanceof r);let Lm,km;function _C(){return Lm||(Lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EC(){return km||(km=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z2=new WeakMap,_1=new WeakMap,J2=new WeakMap,Y0=new WeakMap,rp=new WeakMap;function xC(s){const e=new Promise((r,l)=>{const h=()=>{s.removeEventListener("success",g),s.removeEventListener("error",E)},g=()=>{r(Qo(s.result)),h()},E=()=>{l(s.error),h()};s.addEventListener("success",g),s.addEventListener("error",E)});return e.then(r=>{r instanceof IDBCursor&&Z2.set(r,s)}).catch(()=>{}),rp.set(e,s),e}function AC(s){if(_1.has(s))return;const e=new Promise((r,l)=>{const h=()=>{s.removeEventListener("complete",g),s.removeEventListener("error",E),s.removeEventListener("abort",E)},g=()=>{r(),h()},E=()=>{l(s.error||new DOMException("AbortError","AbortError")),h()};s.addEventListener("complete",g),s.addEventListener("error",E),s.addEventListener("abort",E)});_1.set(s,e)}let E1={get(s,e,r){if(s instanceof IDBTransaction){if(e==="done")return _1.get(s);if(e==="objectStoreNames")return s.objectStoreNames||J2.get(s);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qo(s[e])},set(s,e,r){return s[e]=r,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function TC(s){E1=s(E1)}function SC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const l=s.call(K0(this),e,...r);return J2.set(l,e.sort?e.sort():[e]),Qo(l)}:EC().includes(s)?function(...e){return s.apply(K0(this),e),Qo(Z2.get(this))}:function(...e){return Qo(s.apply(K0(this),e))}}function CC(s){return typeof s=="function"?SC(s):(s instanceof IDBTransaction&&AC(s),yC(s,_C())?new Proxy(s,E1):s)}function Qo(s){if(s instanceof IDBRequest)return xC(s);if(Y0.has(s))return Y0.get(s);const e=CC(s);return e!==s&&(Y0.set(s,e),rp.set(e,s)),e}const K0=s=>rp.get(s);function wC(s,e,{blocked:r,upgrade:l,blocking:h,terminated:g}={}){const E=indexedDB.open(s,e),A=Qo(E);return l&&E.addEventListener("upgradeneeded",S=>{l(Qo(E.result),S.oldVersion,S.newVersion,Qo(E.transaction),S)}),r&&E.addEventListener("blocked",S=>r(S.oldVersion,S.newVersion,S)),A.then(S=>{g&&S.addEventListener("close",()=>g()),h&&S.addEventListener("versionchange",w=>h(w.oldVersion,w.newVersion,w))}).catch(()=>{}),A}const bC=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],W0=new Map;function Bm(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(W0.get(e))return W0.get(e);const r=e.replace(/FromIndex$/,""),l=e!==r,h=IC.includes(r);if(!(r in(l?IDBIndex:IDBObjectStore).prototype)||!(h||bC.includes(r)))return;const g=async function(E,...A){const S=this.transaction(E,h?"readwrite":"readonly");let w=S.store;return l&&(w=w.index(A.shift())),(await Promise.all([w[r](...A),h&&S.done]))[0]};return W0.set(e,g),g}TC(s=>({...s,get:(e,r,l)=>Bm(e,r)||s.get(e,r,l),has:(e,r)=>!!Bm(e,r)||s.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(OC(r)){const l=r.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(r=>r).join(" ")}}function OC(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x1="@firebase/app",Vm="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new np("@firebase/app"),DC="@firebase/app-compat",NC="@firebase/analytics-compat",PC="@firebase/analytics",MC="@firebase/app-check-compat",LC="@firebase/app-check",kC="@firebase/auth",BC="@firebase/auth-compat",VC="@firebase/database",UC="@firebase/data-connect",FC="@firebase/database-compat",zC="@firebase/functions",HC="@firebase/functions-compat",GC="@firebase/installations",jC="@firebase/installations-compat",qC="@firebase/messaging",XC="@firebase/messaging-compat",YC="@firebase/performance",KC="@firebase/performance-compat",WC="@firebase/remote-config",QC="@firebase/remote-config-compat",$C="@firebase/storage",ZC="@firebase/storage-compat",JC="@firebase/firestore",e3="@firebase/vertexai",t3="@firebase/firestore-compat",n3="firebase",r3="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="[DEFAULT]",i3={[x1]:"fire-core",[DC]:"fire-core-compat",[PC]:"fire-analytics",[NC]:"fire-analytics-compat",[LC]:"fire-app-check",[MC]:"fire-app-check-compat",[kC]:"fire-auth",[BC]:"fire-auth-compat",[VC]:"fire-rtdb",[UC]:"fire-data-connect",[FC]:"fire-rtdb-compat",[zC]:"fire-fn",[HC]:"fire-fn-compat",[GC]:"fire-iid",[jC]:"fire-iid-compat",[qC]:"fire-fcm",[XC]:"fire-fcm-compat",[YC]:"fire-perf",[KC]:"fire-perf-compat",[WC]:"fire-rc",[QC]:"fire-rc-compat",[$C]:"fire-gcs",[ZC]:"fire-gcs-compat",[JC]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,a3=new Map,T1=new Map;function Um(s,e){try{s.container.addComponent(e)}catch(r){io.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,r)}}function Qu(s){const e=s.name;if(T1.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;T1.set(e,s);for(const r of Sh.values())Um(r,s);for(const r of a3.values())Um(r,s);return!0}function ip(s,e){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(e)}function da(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new bc("app","Firebase",o3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,r,l){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=r3;function e_(s,e={}){let r=s;typeof e!="object"&&(e={name:e});const l=Object.assign({name:A1,automaticDataCollectionEnabled:!1},e),h=l.name;if(typeof h!="string"||!h)throw $o.create("bad-app-name",{appName:String(h)});if(r||(r=Q2()),!r)throw $o.create("no-options");const g=Sh.get(h);if(g){if(Js(r,g.options)&&Js(l,g.config))return g;throw $o.create("duplicate-app",{appName:h})}const E=new dC(h);for(const S of T1.values())E.addComponent(S);const A=new s3(r,l,E);return Sh.set(h,A),A}function t_(s=A1){const e=Sh.get(s);if(!e&&s===A1&&Q2())return e_();if(!e)throw $o.create("no-app",{appName:s});return e}function Zo(s,e,r){var l;let h=(l=i3[s])!==null&&l!==void 0?l:s;r&&(h+=`-${r}`);const g=h.match(/\s|\//),E=e.match(/\s|\//);if(g||E){const A=[`Unable to register library "${h}" with version "${e}":`];g&&A.push(`library name "${h}" contains illegal characters (whitespace or "/")`),g&&E&&A.push("and"),E&&A.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(A.join(" "));return}Qu(new eu(`${h}-version`,()=>({library:h,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebase-heartbeat-database",l3=1,gc="firebase-heartbeat-store";let Q0=null;function n_(){return Q0||(Q0=wC(u3,l3,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(gc)}catch(r){console.warn(r)}}}}).catch(s=>{throw $o.create("idb-open",{originalErrorMessage:s.message})})),Q0}async function c3(s){try{const r=(await n_()).transaction(gc),l=await r.objectStore(gc).get(r_(s));return await r.done,l}catch(e){if(e instanceof co)io.warn(e.message);else{const r=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});io.warn(r.message)}}}async function Fm(s,e){try{const l=(await n_()).transaction(gc,"readwrite");await l.objectStore(gc).put(e,r_(s)),await l.done}catch(r){if(r instanceof co)io.warn(r.message);else{const l=$o.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});io.warn(l.message)}}}function r_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1024,h3=30;class d3{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new g3(r),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){var e,r;try{const h=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),g=zm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===g||this._heartbeatsCache.heartbeats.some(E=>E.date===g))return;if(this._heartbeatsCache.heartbeats.push({date:g,agent:h}),this._heartbeatsCache.heartbeats.length>h3){const E=v3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(E,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){io.warn(l)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=zm(),{heartbeatsToSend:l,unsentEntries:h}=p3(this._heartbeatsCache.heartbeats),g=Th(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=r,h.length>0?(this._heartbeatsCache.heartbeats=h,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),g}catch(r){return io.warn(r),""}}}function zm(){return new Date().toISOString().substring(0,10)}function p3(s,e=f3){const r=[];let l=s.slice();for(const h of s){const g=r.find(E=>E.agent===h.agent);if(g){if(g.dates.push(h.date),Hm(r)>e){g.dates.pop();break}}else if(r.push({agent:h.agent,dates:[h.date]}),Hm(r)>e){r.pop();break}l=l.slice(1)}return{heartbeatsToSend:r,unsentEntries:l}}class g3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tC()?nC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await c3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const h=await this.read();return Fm(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:h.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const h=await this.read();return Fm(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...e.heartbeats]})}else return}}function Hm(s){return Th(JSON.stringify({version:2,heartbeats:s})).length}function v3(s){if(s.length===0)return-1;let e=0,r=s[0].date;for(let l=1;l<s.length;l++)s[l].date<r&&(r=s[l].date,e=l);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(s){Qu(new eu("platform-logger",e=>new RC(e),"PRIVATE")),Qu(new eu("heartbeat",e=>new d3(e),"PRIVATE")),Zo(x1,Vm,s),Zo(x1,Vm,"esm2017"),Zo("fire-js","")}m3("");var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jo,i_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e($,G){function H(){}H.prototype=G.prototype,$.D=G.prototype,$.prototype=new H,$.prototype.constructor=$,$.C=function(K,Q,oe){for(var F=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)F[jt-2]=arguments[jt];return G.prototype[Q].apply(K,F)}}function r(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(l,r),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function h($,G,H){H||(H=0);var K=Array(16);if(typeof G=="string")for(var Q=0;16>Q;++Q)K[Q]=G.charCodeAt(H++)|G.charCodeAt(H++)<<8|G.charCodeAt(H++)<<16|G.charCodeAt(H++)<<24;else for(Q=0;16>Q;++Q)K[Q]=G[H++]|G[H++]<<8|G[H++]<<16|G[H++]<<24;G=$.g[0],H=$.g[1],Q=$.g[2];var oe=$.g[3],F=G+(oe^H&(Q^oe))+K[0]+3614090360&4294967295;G=H+(F<<7&4294967295|F>>>25),F=oe+(Q^G&(H^Q))+K[1]+3905402710&4294967295,oe=G+(F<<12&4294967295|F>>>20),F=Q+(H^oe&(G^H))+K[2]+606105819&4294967295,Q=oe+(F<<17&4294967295|F>>>15),F=H+(G^Q&(oe^G))+K[3]+3250441966&4294967295,H=Q+(F<<22&4294967295|F>>>10),F=G+(oe^H&(Q^oe))+K[4]+4118548399&4294967295,G=H+(F<<7&4294967295|F>>>25),F=oe+(Q^G&(H^Q))+K[5]+1200080426&4294967295,oe=G+(F<<12&4294967295|F>>>20),F=Q+(H^oe&(G^H))+K[6]+2821735955&4294967295,Q=oe+(F<<17&4294967295|F>>>15),F=H+(G^Q&(oe^G))+K[7]+4249261313&4294967295,H=Q+(F<<22&4294967295|F>>>10),F=G+(oe^H&(Q^oe))+K[8]+1770035416&4294967295,G=H+(F<<7&4294967295|F>>>25),F=oe+(Q^G&(H^Q))+K[9]+2336552879&4294967295,oe=G+(F<<12&4294967295|F>>>20),F=Q+(H^oe&(G^H))+K[10]+4294925233&4294967295,Q=oe+(F<<17&4294967295|F>>>15),F=H+(G^Q&(oe^G))+K[11]+2304563134&4294967295,H=Q+(F<<22&4294967295|F>>>10),F=G+(oe^H&(Q^oe))+K[12]+1804603682&4294967295,G=H+(F<<7&4294967295|F>>>25),F=oe+(Q^G&(H^Q))+K[13]+4254626195&4294967295,oe=G+(F<<12&4294967295|F>>>20),F=Q+(H^oe&(G^H))+K[14]+2792965006&4294967295,Q=oe+(F<<17&4294967295|F>>>15),F=H+(G^Q&(oe^G))+K[15]+1236535329&4294967295,H=Q+(F<<22&4294967295|F>>>10),F=G+(Q^oe&(H^Q))+K[1]+4129170786&4294967295,G=H+(F<<5&4294967295|F>>>27),F=oe+(H^Q&(G^H))+K[6]+3225465664&4294967295,oe=G+(F<<9&4294967295|F>>>23),F=Q+(G^H&(oe^G))+K[11]+643717713&4294967295,Q=oe+(F<<14&4294967295|F>>>18),F=H+(oe^G&(Q^oe))+K[0]+3921069994&4294967295,H=Q+(F<<20&4294967295|F>>>12),F=G+(Q^oe&(H^Q))+K[5]+3593408605&4294967295,G=H+(F<<5&4294967295|F>>>27),F=oe+(H^Q&(G^H))+K[10]+38016083&4294967295,oe=G+(F<<9&4294967295|F>>>23),F=Q+(G^H&(oe^G))+K[15]+3634488961&4294967295,Q=oe+(F<<14&4294967295|F>>>18),F=H+(oe^G&(Q^oe))+K[4]+3889429448&4294967295,H=Q+(F<<20&4294967295|F>>>12),F=G+(Q^oe&(H^Q))+K[9]+568446438&4294967295,G=H+(F<<5&4294967295|F>>>27),F=oe+(H^Q&(G^H))+K[14]+3275163606&4294967295,oe=G+(F<<9&4294967295|F>>>23),F=Q+(G^H&(oe^G))+K[3]+4107603335&4294967295,Q=oe+(F<<14&4294967295|F>>>18),F=H+(oe^G&(Q^oe))+K[8]+1163531501&4294967295,H=Q+(F<<20&4294967295|F>>>12),F=G+(Q^oe&(H^Q))+K[13]+2850285829&4294967295,G=H+(F<<5&4294967295|F>>>27),F=oe+(H^Q&(G^H))+K[2]+4243563512&4294967295,oe=G+(F<<9&4294967295|F>>>23),F=Q+(G^H&(oe^G))+K[7]+1735328473&4294967295,Q=oe+(F<<14&4294967295|F>>>18),F=H+(oe^G&(Q^oe))+K[12]+2368359562&4294967295,H=Q+(F<<20&4294967295|F>>>12),F=G+(H^Q^oe)+K[5]+4294588738&4294967295,G=H+(F<<4&4294967295|F>>>28),F=oe+(G^H^Q)+K[8]+2272392833&4294967295,oe=G+(F<<11&4294967295|F>>>21),F=Q+(oe^G^H)+K[11]+1839030562&4294967295,Q=oe+(F<<16&4294967295|F>>>16),F=H+(Q^oe^G)+K[14]+4259657740&4294967295,H=Q+(F<<23&4294967295|F>>>9),F=G+(H^Q^oe)+K[1]+2763975236&4294967295,G=H+(F<<4&4294967295|F>>>28),F=oe+(G^H^Q)+K[4]+1272893353&4294967295,oe=G+(F<<11&4294967295|F>>>21),F=Q+(oe^G^H)+K[7]+4139469664&4294967295,Q=oe+(F<<16&4294967295|F>>>16),F=H+(Q^oe^G)+K[10]+3200236656&4294967295,H=Q+(F<<23&4294967295|F>>>9),F=G+(H^Q^oe)+K[13]+681279174&4294967295,G=H+(F<<4&4294967295|F>>>28),F=oe+(G^H^Q)+K[0]+3936430074&4294967295,oe=G+(F<<11&4294967295|F>>>21),F=Q+(oe^G^H)+K[3]+3572445317&4294967295,Q=oe+(F<<16&4294967295|F>>>16),F=H+(Q^oe^G)+K[6]+76029189&4294967295,H=Q+(F<<23&4294967295|F>>>9),F=G+(H^Q^oe)+K[9]+3654602809&4294967295,G=H+(F<<4&4294967295|F>>>28),F=oe+(G^H^Q)+K[12]+3873151461&4294967295,oe=G+(F<<11&4294967295|F>>>21),F=Q+(oe^G^H)+K[15]+530742520&4294967295,Q=oe+(F<<16&4294967295|F>>>16),F=H+(Q^oe^G)+K[2]+3299628645&4294967295,H=Q+(F<<23&4294967295|F>>>9),F=G+(Q^(H|~oe))+K[0]+4096336452&4294967295,G=H+(F<<6&4294967295|F>>>26),F=oe+(H^(G|~Q))+K[7]+1126891415&4294967295,oe=G+(F<<10&4294967295|F>>>22),F=Q+(G^(oe|~H))+K[14]+2878612391&4294967295,Q=oe+(F<<15&4294967295|F>>>17),F=H+(oe^(Q|~G))+K[5]+4237533241&4294967295,H=Q+(F<<21&4294967295|F>>>11),F=G+(Q^(H|~oe))+K[12]+1700485571&4294967295,G=H+(F<<6&4294967295|F>>>26),F=oe+(H^(G|~Q))+K[3]+2399980690&4294967295,oe=G+(F<<10&4294967295|F>>>22),F=Q+(G^(oe|~H))+K[10]+4293915773&4294967295,Q=oe+(F<<15&4294967295|F>>>17),F=H+(oe^(Q|~G))+K[1]+2240044497&4294967295,H=Q+(F<<21&4294967295|F>>>11),F=G+(Q^(H|~oe))+K[8]+1873313359&4294967295,G=H+(F<<6&4294967295|F>>>26),F=oe+(H^(G|~Q))+K[15]+4264355552&4294967295,oe=G+(F<<10&4294967295|F>>>22),F=Q+(G^(oe|~H))+K[6]+2734768916&4294967295,Q=oe+(F<<15&4294967295|F>>>17),F=H+(oe^(Q|~G))+K[13]+1309151649&4294967295,H=Q+(F<<21&4294967295|F>>>11),F=G+(Q^(H|~oe))+K[4]+4149444226&4294967295,G=H+(F<<6&4294967295|F>>>26),F=oe+(H^(G|~Q))+K[11]+3174756917&4294967295,oe=G+(F<<10&4294967295|F>>>22),F=Q+(G^(oe|~H))+K[2]+718787259&4294967295,Q=oe+(F<<15&4294967295|F>>>17),F=H+(oe^(Q|~G))+K[9]+3951481745&4294967295,$.g[0]=$.g[0]+G&4294967295,$.g[1]=$.g[1]+(Q+(F<<21&4294967295|F>>>11))&4294967295,$.g[2]=$.g[2]+Q&4294967295,$.g[3]=$.g[3]+oe&4294967295}l.prototype.u=function($,G){G===void 0&&(G=$.length);for(var H=G-this.blockSize,K=this.B,Q=this.h,oe=0;oe<G;){if(Q==0)for(;oe<=H;)h(this,$,oe),oe+=this.blockSize;if(typeof $=="string"){for(;oe<G;)if(K[Q++]=$.charCodeAt(oe++),Q==this.blockSize){h(this,K),Q=0;break}}else for(;oe<G;)if(K[Q++]=$[oe++],Q==this.blockSize){h(this,K),Q=0;break}}this.h=Q,this.o+=G},l.prototype.v=function(){var $=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$[0]=128;for(var G=1;G<$.length-8;++G)$[G]=0;var H=8*this.o;for(G=$.length-8;G<$.length;++G)$[G]=H&255,H/=256;for(this.u($),$=Array(16),G=H=0;4>G;++G)for(var K=0;32>K;K+=8)$[H++]=this.g[G]>>>K&255;return $};function g($,G){var H=A;return Object.prototype.hasOwnProperty.call(H,$)?H[$]:H[$]=G($)}function E($,G){this.h=G;for(var H=[],K=!0,Q=$.length-1;0<=Q;Q--){var oe=$[Q]|0;K&&oe==G||(H[Q]=oe,K=!1)}this.g=H}var A={};function S($){return-128<=$&&128>$?g($,function(G){return new E([G|0],0>G?-1:0)}):new E([$|0],0>$?-1:0)}function w($){if(isNaN($)||!isFinite($))return k;if(0>$)return ce(w(-$));for(var G=[],H=1,K=0;$>=H;K++)G[K]=$/H|0,H*=4294967296;return new E(G,0)}function O($,G){if($.length==0)throw Error("number format error: empty string");if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if($.charAt(0)=="-")return ce(O($.substring(1),G));if(0<=$.indexOf("-"))throw Error('number format error: interior "-" character');for(var H=w(Math.pow(G,8)),K=k,Q=0;Q<$.length;Q+=8){var oe=Math.min(8,$.length-Q),F=parseInt($.substring(Q,Q+oe),G);8>oe?(oe=w(Math.pow(G,oe)),K=K.j(oe).add(w(F))):(K=K.j(H),K=K.add(w(F)))}return K}var k=S(0),L=S(1),X=S(16777216);s=E.prototype,s.m=function(){if(J(this))return-ce(this).m();for(var $=0,G=1,H=0;H<this.g.length;H++){var K=this.i(H);$+=(0<=K?K:4294967296+K)*G,G*=4294967296}return $},s.toString=function($){if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(j(this))return"0";if(J(this))return"-"+ce(this).toString($);for(var G=w(Math.pow($,6)),H=this,K="";;){var Q=Ue(H,G).g;H=ae(H,Q.j(G));var oe=((0<H.g.length?H.g[0]:H.h)>>>0).toString($);if(H=Q,j(H))return oe+K;for(;6>oe.length;)oe="0"+oe;K=oe+K}},s.i=function($){return 0>$?0:$<this.g.length?this.g[$]:this.h};function j($){if($.h!=0)return!1;for(var G=0;G<$.g.length;G++)if($.g[G]!=0)return!1;return!0}function J($){return $.h==-1}s.l=function($){return $=ae(this,$),J($)?-1:j($)?0:1};function ce($){for(var G=$.g.length,H=[],K=0;K<G;K++)H[K]=~$.g[K];return new E(H,~$.h).add(L)}s.abs=function(){return J(this)?ce(this):this},s.add=function($){for(var G=Math.max(this.g.length,$.g.length),H=[],K=0,Q=0;Q<=G;Q++){var oe=K+(this.i(Q)&65535)+($.i(Q)&65535),F=(oe>>>16)+(this.i(Q)>>>16)+($.i(Q)>>>16);K=F>>>16,oe&=65535,F&=65535,H[Q]=F<<16|oe}return new E(H,H[H.length-1]&-2147483648?-1:0)};function ae($,G){return $.add(ce(G))}s.j=function($){if(j(this)||j($))return k;if(J(this))return J($)?ce(this).j(ce($)):ce(ce(this).j($));if(J($))return ce(this.j(ce($)));if(0>this.l(X)&&0>$.l(X))return w(this.m()*$.m());for(var G=this.g.length+$.g.length,H=[],K=0;K<2*G;K++)H[K]=0;for(K=0;K<this.g.length;K++)for(var Q=0;Q<$.g.length;Q++){var oe=this.i(K)>>>16,F=this.i(K)&65535,jt=$.i(Q)>>>16,Ye=$.i(Q)&65535;H[2*K+2*Q]+=F*Ye,Ae(H,2*K+2*Q),H[2*K+2*Q+1]+=oe*Ye,Ae(H,2*K+2*Q+1),H[2*K+2*Q+1]+=F*jt,Ae(H,2*K+2*Q+1),H[2*K+2*Q+2]+=oe*jt,Ae(H,2*K+2*Q+2)}for(K=0;K<G;K++)H[K]=H[2*K+1]<<16|H[2*K];for(K=G;K<2*G;K++)H[K]=0;return new E(H,0)};function Ae($,G){for(;($[G]&65535)!=$[G];)$[G+1]+=$[G]>>>16,$[G]&=65535,G++}function Se($,G){this.g=$,this.h=G}function Ue($,G){if(j(G))throw Error("division by zero");if(j($))return new Se(k,k);if(J($))return G=Ue(ce($),G),new Se(ce(G.g),ce(G.h));if(J(G))return G=Ue($,ce(G)),new Se(ce(G.g),G.h);if(30<$.g.length){if(J($)||J(G))throw Error("slowDivide_ only works with positive integers.");for(var H=L,K=G;0>=K.l($);)H=Pe(H),K=Pe(K);var Q=We(H,1),oe=We(K,1);for(K=We(K,2),H=We(H,2);!j(K);){var F=oe.add(K);0>=F.l($)&&(Q=Q.add(H),oe=F),K=We(K,1),H=We(H,1)}return G=ae($,Q.j(G)),new Se(Q,G)}for(Q=k;0<=$.l(G);){for(H=Math.max(1,Math.floor($.m()/G.m())),K=Math.ceil(Math.log(H)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),oe=w(H),F=oe.j(G);J(F)||0<F.l($);)H-=K,oe=w(H),F=oe.j(G);j(oe)&&(oe=L),Q=Q.add(oe),$=ae($,F)}return new Se(Q,$)}s.A=function($){return Ue(this,$).h},s.and=function($){for(var G=Math.max(this.g.length,$.g.length),H=[],K=0;K<G;K++)H[K]=this.i(K)&$.i(K);return new E(H,this.h&$.h)},s.or=function($){for(var G=Math.max(this.g.length,$.g.length),H=[],K=0;K<G;K++)H[K]=this.i(K)|$.i(K);return new E(H,this.h|$.h)},s.xor=function($){for(var G=Math.max(this.g.length,$.g.length),H=[],K=0;K<G;K++)H[K]=this.i(K)^$.i(K);return new E(H,this.h^$.h)};function Pe($){for(var G=$.g.length+1,H=[],K=0;K<G;K++)H[K]=$.i(K)<<1|$.i(K-1)>>>31;return new E(H,$.h)}function We($,G){var H=G>>5;G%=32;for(var K=$.g.length-H,Q=[],oe=0;oe<K;oe++)Q[oe]=0<G?$.i(oe+H)>>>G|$.i(oe+H+1)<<32-G:$.i(oe+H);return new E(Q,$.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,i_=l,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=w,E.fromString=O,Jo=E}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a_,ac,o_,oh,S1,s_,u_,l_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,P){return y==Array.prototype||y==Object.prototype||(y[R]=P.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kf=="object"&&Kf];for(var R=0;R<y.length;++R){var P=y[R];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var l=r(this);function h(y,R){if(R)e:{var P=l;y=y.split(".");for(var U=0;U<y.length-1;U++){var ue=y[U];if(!(ue in P))break e;P=P[ue]}y=y[y.length-1],U=P[y],R=R(U),R!=U&&R!=null&&e(P,y,{configurable:!0,writable:!0,value:R})}}function g(y,R){y instanceof String&&(y+="");var P=0,U=!1,ue={next:function(){if(!U&&P<y.length){var pe=P++;return{value:R(pe,y[pe]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}h("Array.prototype.values",function(y){return y||function(){return g(this,function(R,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var E=E||{},A=this||self;function S(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function w(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function O(y,R,P){return y.call.apply(y.bind,arguments)}function k(y,R,P){if(!y)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,U),y.apply(R,ue)}}return function(){return y.apply(R,arguments)}}function L(y,R,P){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O:k,L.apply(null,arguments)}function X(y,R){var P=Array.prototype.slice.call(arguments,1);return function(){var U=P.slice();return U.push.apply(U,arguments),y.apply(this,U)}}function j(y,R){function P(){}P.prototype=R.prototype,y.aa=R.prototype,y.prototype=new P,y.prototype.constructor=y,y.Qb=function(U,ue,pe){for(var Ie=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ie[Je-2]=arguments[Je];return R.prototype[ue].apply(U,Ie)}}function J(y){const R=y.length;if(0<R){const P=Array(R);for(let U=0;U<R;U++)P[U]=y[U];return P}return[]}function ce(y,R){for(let P=1;P<arguments.length;P++){const U=arguments[P];if(S(U)){const ue=y.length||0,pe=U.length||0;y.length=ue+pe;for(let Ie=0;Ie<pe;Ie++)y[ue+Ie]=U[Ie]}else y.push(U)}}class ae{constructor(R,P){this.i=R,this.j=P,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function Ae(y){return/^[\s\xa0]*$/.test(y)}function Se(){var y=A.navigator;return y&&(y=y.userAgent)?y:""}function Ue(y){return Ue[" "](y),y}Ue[" "]=function(){};var Pe=Se().indexOf("Gecko")!=-1&&!(Se().toLowerCase().indexOf("webkit")!=-1&&Se().indexOf("Edge")==-1)&&!(Se().indexOf("Trident")!=-1||Se().indexOf("MSIE")!=-1)&&Se().indexOf("Edge")==-1;function We(y,R,P){for(const U in y)R.call(P,y[U],U,y)}function $(y,R){for(const P in y)R.call(void 0,y[P],P,y)}function G(y){const R={};for(const P in y)R[P]=y[P];return R}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(y,R){let P,U;for(let ue=1;ue<arguments.length;ue++){U=arguments[ue];for(P in U)y[P]=U[P];for(let pe=0;pe<H.length;pe++)P=H[pe],Object.prototype.hasOwnProperty.call(U,P)&&(y[P]=U[P])}}function Q(y){var R=1;y=y.split(":");const P=[];for(;0<R&&y.length;)P.push(y.shift()),R--;return y.length&&P.push(y.join(":")),P}function oe(y){A.setTimeout(()=>{throw y},0)}function F(){var y=ct;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class jt{constructor(){this.h=this.g=null}add(R,P){const U=Ye.get();U.set(R,P),this.h?this.h.next=U:this.g=U,this.h=U}}var Ye=new ae(()=>new be,y=>y.reset());class be{constructor(){this.next=this.g=this.h=null}set(R,P){this.h=R,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,He=!1,ct=new jt,W=()=>{const y=A.Promise.resolve(void 0);Qe=()=>{y.then(me)}};var me=()=>{for(var y;y=F();){try{y.h.call(y.g)}catch(P){oe(P)}var R=Ye;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}He=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};A.addEventListener("test",P,R),A.removeEventListener("test",P,R)}catch{}return y}();function ut(y,R){if(De.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var P=this.type=y.type,U=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(Pe){e:{try{Ue(R.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(R=null)}}else P=="mouseover"?R=y.fromElement:P=="mouseout"&&(R=y.toElement);this.relatedTarget=R,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:at[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&ut.aa.h.call(this)}}j(ut,De);var at={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function kt(y,R,P,U,ue){this.listener=y,this.proxy=null,this.src=R,this.type=P,this.capture=!!U,this.ha=ue,this.key=++Tt,this.da=this.fa=!1}function Pt(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function mn(y){this.src=y,this.g={},this.h=0}mn.prototype.add=function(y,R,P,U,ue){var pe=y.toString();y=this.g[pe],y||(y=this.g[pe]=[],this.h++);var Ie=gr(y,R,U,ue);return-1<Ie?(R=y[Ie],P||(R.fa=!1)):(R=new kt(R,this.src,pe,!!U,ue),R.fa=P,y.push(R)),R};function di(y,R){var P=R.type;if(P in y.g){var U=y.g[P],ue=Array.prototype.indexOf.call(U,R,void 0),pe;(pe=0<=ue)&&Array.prototype.splice.call(U,ue,1),pe&&(Pt(R),y.g[P].length==0&&(delete y.g[P],y.h--))}}function gr(y,R,P,U){for(var ue=0;ue<y.length;++ue){var pe=y[ue];if(!pe.da&&pe.listener==R&&pe.capture==!!P&&pe.ha==U)return ue}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),Yt={};function qt(y,R,P,U,ue){if(Array.isArray(R)){for(var pe=0;pe<R.length;pe++)qt(y,R[pe],P,U,ue);return null}return P=Ui(P),y&&y[nn]?y.K(R,P,w(U)?!!U.capture:!1,ue):cs(y,R,P,!1,U,ue)}function cs(y,R,P,U,ue,pe){if(!R)throw Error("Invalid event type");var Ie=w(ue)?!!ue.capture:!!ue,Je=$t(y);if(Je||(y[Vi]=Je=new mn(y)),P=Je.add(R,P,U,Ie,pe),P.proxy)return P;if(U=Rr(),P.proxy=U,U.src=y,U.listener=P,y.addEventListener)ne||(ue=Ie),ue===void 0&&(ue=!1),y.addEventListener(R.toString(),U,ue);else if(y.attachEvent)y.attachEvent(qe(R.toString()),U);else if(y.addListener&&y.removeListener)y.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Rr(){function y(P){return R.call(y.src,y.listener,P)}const R=fs;return y}function hn(y,R,P,U,ue){if(Array.isArray(R))for(var pe=0;pe<R.length;pe++)hn(y,R[pe],P,U,ue);else U=w(U)?!!U.capture:!!U,P=Ui(P),y&&y[nn]?(y=y.i,R=String(R).toString(),R in y.g&&(pe=y.g[R],P=gr(pe,P,U,ue),-1<P&&(Pt(pe[P]),Array.prototype.splice.call(pe,P,1),pe.length==0&&(delete y.g[R],y.h--)))):y&&(y=$t(y))&&(R=y.g[R.toString()],y=-1,R&&(y=gr(R,P,U,ue)),(P=-1<y?R[y]:null)&&pi(P))}function pi(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[nn])di(R.i,y);else{var P=y.type,U=y.proxy;R.removeEventListener?R.removeEventListener(P,U,y.capture):R.detachEvent?R.detachEvent(qe(P),U):R.addListener&&R.removeListener&&R.removeListener(U),(P=$t(R))?(di(P,y),P.h==0&&(P.src=null,R[Vi]=null)):Pt(y)}}}function qe(y){return y in Yt?Yt[y]:Yt[y]="on"+y}function fs(y,R){if(y.da)y=!0;else{R=new ut(R,this);var P=y.listener,U=y.ha||y.src;y.fa&&pi(y),y=P.call(U,R)}return y}function $t(y){return y=y[Vi],y instanceof mn?y:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(y){return typeof y=="function"?y:(y[Cn]||(y[Cn]=function(R){return y.handleEvent(R)}),y[Cn])}function Bt(){Ne.call(this),this.i=new mn(this),this.M=this,this.F=null}j(Bt,Ne),Bt.prototype[nn]=!0,Bt.prototype.removeEventListener=function(y,R,P,U){hn(this,y,R,P,U)};function yn(y,R){var P,U=y.F;if(U)for(P=[];U;U=U.F)P.push(U);if(y=y.M,U=R.type||R,typeof R=="string")R=new De(R,y);else if(R instanceof De)R.target=R.target||y;else{var ue=R;R=new De(U,y),K(R,ue)}if(ue=!0,P)for(var pe=P.length-1;0<=pe;pe--){var Ie=R.g=P[pe];ue=Yr(Ie,U,!0,R)&&ue}if(Ie=R.g=y,ue=Yr(Ie,U,!0,R)&&ue,ue=Yr(Ie,U,!1,R)&&ue,P)for(pe=0;pe<P.length;pe++)Ie=R.g=P[pe],ue=Yr(Ie,U,!1,R)&&ue}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var P=y.g[R],U=0;U<P.length;U++)Pt(P[U]);delete y.g[R],y.h--}}this.F=null},Bt.prototype.K=function(y,R,P,U){return this.i.add(String(y),R,!1,P,U)},Bt.prototype.L=function(y,R,P,U){return this.i.add(String(y),R,!0,P,U)};function Yr(y,R,P,U){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var ue=!0,pe=0;pe<R.length;++pe){var Ie=R[pe];if(Ie&&!Ie.da&&Ie.capture==P){var Je=Ie.listener,tt=Ie.ha||Ie.src;Ie.fa&&di(y.i,Ie),ue=Je.call(tt,U)!==!1&&ue}}return ue&&!U.defaultPrevented}function uu(y,R,P){if(typeof y=="function")P&&(y=L(y,P));else if(y&&typeof y.handleEvent=="function")y=L(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:A.setTimeout(y,R||0)}function _n(y){y.g=uu(()=>{y.g=null,y.i&&(y.i=!1,_n(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class gl extends Ne{constructor(R,P){super(),this.m=R,this.l=P,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(y){Ne.call(this),this.h=y,this.g={}}j(Kr,Ne);var Fi=[];function Kt(y){We(y.g,function(R,P){this.g.hasOwnProperty(P)&&pi(R)},y),y.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Kt(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=A.JSON.stringify,Vt=A.JSON.parse,Nn=class{stringify(y){return A.JSON.stringify(y,void 0)}parse(y){return A.JSON.parse(y,void 0)}};function ht(){}ht.prototype.h=null;function fo(y){return y.h||(y.h=y.i())}function Ve(){}var vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hi(){De.call(this,"d")}j(Hi,De);function Or(){De.call(this,"c")}j(Or,De);var $n={},gi=null;function Aa(){return gi=gi||new Bt}$n.La="serverreachability";function hs(y){De.call(this,$n.La,y)}j(hs,De);function Gi(y){const R=Aa();yn(R,new hs(R))}$n.STAT_EVENT="statevent";function ji(y,R){De.call(this,$n.STAT_EVENT,y),this.stat=R}j(ji,De);function yt(y){const R=Aa();yn(R,new ji(R,y))}$n.Ma="timingevent";function lu(y,R){De.call(this,$n.Ma,y),this.size=R}j(lu,De);function Dr(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){y()},R)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function rn(y,R,P,U,ue,pe){y.info(function(){if(y.g)if(pe)for(var Ie="",Je=pe.split("&"),tt=0;tt<Je.length;tt++){var Et=Je[tt].split("=");if(1<Et.length){var dn=Et[0];Et=Et[1];var sn=dn.split("_");Ie=2<=sn.length&&sn[1]=="type"?Ie+(dn+"="+Et+"&"):Ie+(dn+"=redacted&")}}else Ie=null;else Ie=pe;return"XMLHTTP REQ ("+U+") [attempt "+ue+"]: "+R+`
`+P+`
`+Ie})}function cu(y,R,P,U,ue,pe,Ie){y.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ue+"]: "+R+`
`+P+`
`+pe+" "+Ie})}function vi(y,R,P,U){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+an(y,P)+(U?" "+U:"")})}function Wr(y,R){y.info(function(){return"TIMEOUT: "+R})}qi.prototype.info=function(){};function an(y,R){if(!y.g)return R;if(!R)return null;try{var P=JSON.parse(R);if(P){for(y=0;y<P.length;y++)if(Array.isArray(P[y])){var U=P[y];if(!(2>U.length)){var ue=U[1];if(Array.isArray(ue)&&!(1>ue.length)){var pe=ue[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ie=1;Ie<ue.length;Ie++)ue[Ie]=""}}}}return zi(P)}catch{return R}}var on={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function Sa(){}j(Sa,ht),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},Ta=new Sa;function Qr(y,R,P,U){this.j=y,this.i=R,this.l=P,this.R=U||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var Xi={},Ca={};function Nr(y,R,P){y.L=1,y.v=Ra(Wt(R)),y.m=P,y.P=!0,yi(y,null)}function yi(y,R){y.F=Date.now(),ot(y),y.A=Wt(y.v);var P=y.A,U=y.R;Array.isArray(U)||(U=[String(U)]),Si(P.i,"t",U),y.C=0,P=y.j.J,y.h=new $r,y.g=Ri(y.j,P?R:null,!y.m),0<y.O&&(y.M=new gl(L(y.Y,y,y.g),y.O)),R=y.U,P=y.g,U=y.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(Fi[0]=ue.toString()),ue=Fi);for(var pe=0;pe<ue.length;pe++){var Ie=qt(P,ue[pe],U||R.handleEvent,!1,R.h||R);if(!Ie)break;R.g[Ie.key]=Ie}R=y.H?G(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),Gi(),rn(y.i,y.u,y.A,y.l,y.R,y.m)}Qr.prototype.ca=function(y){y=y.target;const R=this.M;R&&Ar(y)==3?R.j():this.Y(y)},Qr.prototype.Y=function(y){try{if(y==this.g)e:{const sn=Ar(this.g);var R=this.g.Ba();const Oi=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||sn!=4||R==7||(R==8||0>=Oi?Gi(3):Gi(2)),wa(this);var P=this.g.Z();this.X=P;t:if(Yi(this)){var U=pu(this.g);y="";var ue=U.length,pe=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Fn(this);var Ie="";break t}this.h.i=new A.TextDecoder}for(R=0;R<ue;R++)this.h.h=!0,y+=this.h.i.decode(U[R],{stream:!(pe&&R==ue-1)});U.length=0,this.h.g+=y,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=P==200,cu(this.i,this.u,this.A,this.l,this.R,sn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,tt=this.g;if((Je=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ae(Je)){var Et=Je;break t}}Et=null}if(P=Et)vi(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jn(this,P);else{this.o=!1,this.s=3,yt(12),Zn(this),Fn(this);break e}}if(this.P){P=!0;let bn;for(;!this.J&&this.C<Ie.length;)if(bn=Ki(this,Ie),bn==Ca){sn==4&&(this.s=4,yt(14),P=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Xi){this.s=4,yt(15),vi(this.i,this.l,Ie,"[Invalid Chunk]"),P=!1;break}else vi(this.i,this.l,bn,null),Jn(this,bn);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||Ie.length!=0||this.h.h||(this.s=1,yt(16),P=!1),this.o=this.o&&P,!P)vi(this.i,this.l,Ie,"[Invalid Chunked Response]"),Zn(this),Fn(this);else if(0<Ie.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),ea(dn),dn.M=!0,yt(11))}}else vi(this.i,this.l,Ie,null),Jn(this,Ie);sn==4&&Zn(this),this.o&&!this.J&&(sn==4?mu(this.j,this):(this.o=!1,ot(this)))}else yl(this.g),P==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Zn(this),Fn(this)}}}catch{}finally{}};function Yi(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Ki(y,R){var P=y.C,U=R.indexOf(`
`,P);return U==-1?Ca:(P=Number(R.substring(P,U)),isNaN(P)?Xi:(U+=1,U+P>R.length?Ca:(R=R.slice(U,U+P),y.C=U+P,R)))}Qr.prototype.cancel=function(){this.J=!0,Zn(this)};function ot(y){y.S=Date.now()+y.I,ds(y,y.I)}function ds(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Dr(L(y.ba,y),R)}function wa(y){y.B&&(A.clearTimeout(y.B),y.B=null)}Qr.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Wr(this.i,this.A),this.L!=2&&(Gi(),yt(17)),Zn(this),this.s=2,Fn(this)):ds(this,this.S-y)};function Fn(y){y.j.G==0||y.J||mu(y.j,y)}function Zn(y){wa(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,Kt(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function Jn(y,R){try{var P=y.j;if(P.G!=0&&(P.g==y||Wi(P.h,y))){if(!y.K&&Wi(P.h,y)&&P.G==3){try{var U=P.Da.g.parse(R)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ue=U;if(ue[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<y.F)mo(P),Lr(P);else break e;Ts(P),yt(18)}}else P.za=ue[1],0<P.za-P.T&&37500>ue[2]&&P.F&&P.v==0&&!P.C&&(P.C=Dr(L(P.Za,P),6e3));if(1>=hu(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Ii(P,11)}else if((y.K||P.g==y)&&mo(P),!Ae(R))for(ue=P.Da.g.parse(R),R=0;R<ue.length;R++){let Et=ue[R];if(P.T=Et[0],Et=Et[1],P.G==2)if(Et[0]=="c"){P.K=Et[1],P.ia=Et[2];const dn=Et[3];dn!=null&&(P.la=dn,P.j.info("VER="+P.la));const sn=Et[4];sn!=null&&(P.Aa=sn,P.j.info("SVER="+P.Aa));const Oi=Et[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(U=1.5*Oi,P.L=U,P.j.info("backChannelRequestTimeoutMs_="+U)),U=P;const bn=y.g;if(bn){const ri=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var pe=U.h;pe.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(_i(pe,pe.h),pe.h=null))}if(U.D){const Cs=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&(U.ya=Cs,_t(U.I,U.D,Cs))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-y.F,P.j.info("Handshake RTT: "+P.R+"ms")),U=P;var Ie=y;if(U.qa=yu(U,U.J?U.ia:null,U.W),Ie.K){mr(U.h,Ie);var Je=Ie,tt=U.L;tt&&(Je.I=tt),Je.B&&(wa(Je),ot(Je)),U.g=Ie}else As(U);0<P.i.length&&Na(P)}else Et[0]!="stop"&&Et[0]!="close"||Ii(P,7);else P.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Ii(P,7):xs(P):Et[0]!="noop"&&P.l&&P.l.ta(Et),P.v=0)}}Gi(4)}catch{}}var fu=class{constructor(y,R){this.g=y,this.map=R}};function ps(y){this.l=y||10,A.PerformanceNavigationTiming?(y=A.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gs(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function hu(y){return y.h?1:y.g?y.g.size:0}function Wi(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function _i(y,R){y.g?y.g.add(R):y.h=R}function mr(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}ps.prototype.cancel=function(){if(this.i=Pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Pn(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const P of y.g.values())R=R.concat(P.D);return R}return J(y.i)}function ho(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(S(y)){for(var R=[],P=y.length,U=0;U<P;U++)R.push(y[U]);return R}R=[],P=0;for(U in y)R[P++]=y[U];return R}function vl(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(S(y)||typeof y=="string"){var R=[];y=y.length;for(var P=0;P<y;P++)R.push(P);return R}R=[],P=0;for(const U in y)R[P++]=U;return R}}}function ba(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(S(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var P=vl(y),U=ho(y),ue=U.length,pe=0;pe<ue;pe++)R.call(void 0,U[pe],P&&P[pe],y)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ei(y,R){if(y){y=y.split("&");for(var P=0;P<y.length;P++){var U=y[P].indexOf("="),ue=null;if(0<=U){var pe=y[P].substring(0,U);ue=y[P].substring(U+1)}else pe=y[P];R(pe,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Zr(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Zr){this.h=y.h,sr(this,y.j),this.o=y.o,this.g=y.g,Ia(this,y.s),this.l=y.l;var R=y.i,P=new Mr;P.i=R.i,R.g&&(P.g=new Map(R.g),P.h=R.h),yr(this,P),this.m=y.m}else y&&(R=String(y).match(Pr))?(this.h=!1,sr(this,R[1]||"",!0),this.o=En(R[2]||""),this.g=En(R[3]||"",!0),Ia(this,R[4]),this.l=En(R[5]||"",!0),yr(this,R[6]||"",!0),this.m=En(R[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}Zr.prototype.toString=function(){var y=[],R=this.j;R&&y.push(_r(R,vs,!0),":");var P=this.g;return(P||R=="file")&&(y.push("//"),(R=this.o)&&y.push(_r(R,vs,!0),"@"),y.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&y.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(_r(P,P.charAt(0)=="/"?Qi:Ai,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",_r(P,po)),y.join("")};function Wt(y){return new Zr(y)}function sr(y,R,P){y.j=P?En(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Ia(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function yr(y,R,P){R instanceof Mr?(y.i=R,ms(y.i,y.h)):(P||(R=_r(R,ml)),y.i=new Mr(R,y.h))}function _t(y,R,P){y.i.set(R,P)}function Ra(y){return _t(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function En(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function _r(y,R,P){return typeof y=="string"?(y=encodeURI(y).replace(R,xi),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function xi(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var vs=/[#\/\?@]/g,Ai=/[#\?:]/g,Qi=/[#\?]/g,ml=/[#\?@]/g,po=/#/g;function Mr(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function Er(y){y.g||(y.g=new Map,y.h=0,y.i&&Ei(y.i,function(R,P){y.add(decodeURIComponent(R.replace(/\+/g," ")),P)}))}s=Mr.prototype,s.add=function(y,R){Er(this),this.i=null,y=Ci(this,y);var P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(R),this.h+=1,this};function Mn(y,R){Er(y),R=Ci(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function Ti(y,R){return Er(y),R=Ci(y,R),y.g.has(R)}s.forEach=function(y,R){Er(this),this.g.forEach(function(P,U){P.forEach(function(ue){y.call(R,ue,U,this)},this)},this)},s.na=function(){Er(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),P=[];for(let U=0;U<R.length;U++){const ue=y[U];for(let pe=0;pe<ue.length;pe++)P.push(R[U])}return P},s.V=function(y){Er(this);let R=[];if(typeof y=="string")Ti(this,y)&&(R=R.concat(this.g.get(Ci(this,y))));else{y=Array.from(this.g.values());for(let P=0;P<y.length;P++)R=R.concat(y[P])}return R},s.set=function(y,R){return Er(this),this.i=null,y=Ci(this,y),Ti(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},s.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function Si(y,R,P){Mn(y,R),0<P.length&&(y.i=null,y.g.set(Ci(y,R),J(P)),y.h+=P.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var P=0;P<R.length;P++){var U=R[P];const pe=encodeURIComponent(String(U)),Ie=this.V(U);for(U=0;U<Ie.length;U++){var ue=pe;Ie[U]!==""&&(ue+="="+encodeURIComponent(String(Ie[U]))),y.push(ue)}}return this.i=y.join("&")};function Ci(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function ms(y,R){R&&!y.j&&(Er(y),y.i=null,y.g.forEach(function(P,U){var ue=U.toLowerCase();U!=ue&&(Mn(this,U),Si(this,ue,P))},y)),y.j=R}function du(y,R){const P=new qi;if(A.Image){const U=new Image;U.onload=X(xr,P,"TestLoadImage: loaded",!0,R,U),U.onerror=X(xr,P,"TestLoadImage: error",!1,R,U),U.onabort=X(xr,P,"TestLoadImage: abort",!1,R,U),U.ontimeout=X(xr,P,"TestLoadImage: timeout",!1,R,U),A.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=y}else R(!1)}function Jr(y,R){const P=new qi,U=new AbortController,ue=setTimeout(()=>{U.abort(),xr(P,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:U.signal}).then(pe=>{clearTimeout(ue),pe.ok?xr(P,"TestPingServer: ok",!0,R):xr(P,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ue),xr(P,"TestPingServer: error",!1,R)})}function xr(y,R,P,U,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),U(P)}catch{}}function $i(){this.g=new Nn}function ei(y,R,P){const U=P||"";try{ba(y,function(ue,pe){let Ie=ue;w(ue)&&(Ie=zi(ue)),R.push(U+pe+"="+encodeURIComponent(Ie))})}catch(ue){throw R.push(U+"type="+encodeURIComponent("_badmap")),ue}}function Zi(y){this.l=y.Ub||null,this.j=y.eb||!1}j(Zi,ht),Zi.prototype.g=function(){return new wi(this.l,this.j)},Zi.prototype.i=function(y){return function(){return y}}({});function wi(y,R){Bt.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(wi,Bt),s=wi.prototype,s.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,ni(this)},s.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||A).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},s.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ys(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function ys(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}s.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?ti(this):ni(this),this.readyState==3&&ys(this)}},s.Ra=function(y){this.g&&(this.response=this.responseText=y,ti(this))},s.Qa=function(y){this.g&&(this.response=y,ti(this))},s.ga=function(){this.g&&ti(this)};function ti(y){y.readyState=4,y.l=null,y.j=null,y.v=null,ni(y)}s.setRequestHeader=function(y,R){this.u.append(y,R)},s.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var P=R.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=R.next();return y.join(`\r
`)};function ni(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function _s(y){let R="";return We(y,function(P,U){R+=U,R+=":",R+=P,R+=`\r
`}),R}function xn(y,R,P){e:{for(U in P){var U=!1;break e}U=!0}U||(P=_s(P),typeof y=="string"?P!=null&&encodeURIComponent(String(P)):_t(y,R,P))}function Ot(y){Bt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ot,Bt);var ur=/^https?$/i,Oa=["POST","PUT"];s=Ot.prototype,s.Ha=function(y){this.J=y},s.ea=function(y,R,P,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?fo(this.o):fo(Ta),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(pe){Es(this,pe);return}if(y=P||"",P=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ue in U)P.set(ue,U[ue]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const pe of U.keys())P.set(pe,U.get(pe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(P.keys()).find(pe=>pe.toLowerCase()=="content-type"),ue=A.FormData&&y instanceof A.FormData,!(0<=Array.prototype.indexOf.call(Oa,R,void 0))||U||ue||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ie]of P)this.g.setRequestHeader(pe,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(y),this.u=!1}catch(pe){Es(this,pe)}};function Es(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,go(y),wn(y)}function go(y){y.A||(y.A=!0,yn(y,"complete"),yn(y,"error"))}s.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,yn(this,"complete"),yn(this,"abort"),wn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),Ot.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},s.bb=function(){vo(this)};function vo(y){if(y.h&&typeof E<"u"&&(!y.v[1]||Ar(y)!=4||y.Z()!=2)){if(y.u&&Ar(y)==4)uu(y.Ea,0,y);else if(yn(y,"readystatechange"),Ar(y)==4){y.h=!1;try{const Ie=y.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var P;if(!(P=R)){var U;if(U=Ie===0){var ue=String(y.D).match(Pr)[1]||null;!ue&&A.self&&A.self.location&&(ue=A.self.location.protocol.slice(0,-1)),U=!ur.test(ue?ue.toLowerCase():"")}P=U}if(P)yn(y,"complete"),yn(y,"success");else{y.m=6;try{var pe=2<Ar(y)?y.g.statusText:""}catch{pe=""}y.l=pe+" ["+y.Z()+"]",go(y)}}finally{wn(y)}}}}function wn(y,R){if(y.g){Ji(y);const P=y.g,U=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||yn(y,"ready");try{P.onreadystatechange=U}catch{}}}function Ji(y){y.I&&(A.clearTimeout(y.I),y.I=null)}s.isActive=function(){return!!this.g};function Ar(y){return y.g?y.g.readyState:0}s.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Vt(R)}};function pu(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(y){const R={};y=(y.g&&2<=Ar(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<y.length;U++){if(Ae(y[U]))continue;var P=Q(y[U]);const ue=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const pe=R[ue]||[];R[ue]=pe,pe.push(P)}$(R,function(U){return U.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(y,R,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||R}function Da(y){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bi("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bi("baseRetryDelayMs",5e3,y),this.cb=bi("retryDelaySeedMs",1e4,y),this.Wa=bi("forwardChannelMaxRetries",2,y),this.wa=bi("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(y&&y.concurrentRequestLimit),this.Da=new $i,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Da.prototype,s.la=8,s.G=1,s.connect=function(y,R,P,U){yt(0),this.W=y,this.H=R||{},P&&U!==void 0&&(this.H.OSID=P,this.H.OAID=U),this.F=this.X,this.I=yu(this,null,this.W),Na(this)};function xs(y){if(gu(y),y.G==3){var R=y.U++,P=Wt(y.I);if(_t(P,"SID",y.K),_t(P,"RID",R),_t(P,"TYPE","terminate"),Pa(y,P),R=new Qr(y,y.j,R),R.L=2,R.v=Ra(Wt(P)),P=!1,A.navigator&&A.navigator.sendBeacon)try{P=A.navigator.sendBeacon(R.v.toString(),"")}catch{}!P&&A.Image&&(new Image().src=R.v,P=!0),P||(R.g=Ri(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ot(R)}Ma(y)}function Lr(y){y.g&&(ea(y),y.g.cancel(),y.g=null)}function gu(y){Lr(y),y.u&&(A.clearTimeout(y.u),y.u=null),mo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&A.clearTimeout(y.s),y.s=null)}function Na(y){if(!gs(y.h)&&!y.s){y.s=!0;var R=y.Ga;Qe||W(),He||(Qe(),He=!0),ct.add(R,y),y.B=0}}function bt(y,R){return hu(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Dr(L(y.Ga,y,R),Ss(y,y.B)),y.B++,!0)}s.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ue=new Qr(this,this.j,y);let pe=this.o;if(this.S&&(pe?(pe=G(pe),K(pe,this.S)):pe=this.S),this.m!==null||this.O||(ue.H=pe,pe=null),this.P)e:{for(var R=0,P=0;P<this.i.length;P++){t:{var U=this.i[P];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(R+=U,4096<R){R=P;break e}if(R===4096||P===this.i.length-1){R=P+1;break e}}R=1e3}else R=1e3;R=vu(this,ue,R),P=Wt(this.I),_t(P,"RID",y),_t(P,"CVER",22),this.D&&_t(P,"X-HTTP-Session-Id",this.D),Pa(this,P),pe&&(this.O?R="headers="+encodeURIComponent(String(_s(pe)))+"&"+R:this.m&&xn(P,this.m,pe)),_i(this.h,ue),this.Ua&&_t(P,"TYPE","init"),this.P?(_t(P,"$req",R),_t(P,"SID","null"),ue.T=!0,Nr(ue,P,null)):Nr(ue,P,R),this.G=2}}else this.G==3&&(y?vt(this,y):this.i.length==0||gs(this.h)||vt(this))};function vt(y,R){var P;R?P=R.l:P=y.U++;const U=Wt(y.I);_t(U,"SID",y.K),_t(U,"RID",P),_t(U,"AID",y.T),Pa(y,U),y.m&&y.o&&xn(U,y.m,y.o),P=new Qr(y,y.j,P,y.B+1),y.m===null&&(P.H=y.o),R&&(y.i=R.D.concat(y.i)),R=vu(y,P,1e3),P.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),_i(y.h,P),Nr(P,U,R)}function Pa(y,R){y.H&&We(y.H,function(P,U){_t(R,U,P)}),y.l&&ba({},function(P,U){_t(R,U,P)})}function vu(y,R,P){P=Math.min(y.i.length,P);var U=y.l?L(y.l.Na,y.l,y):null;e:{var ue=y.i;let pe=-1;for(;;){const Ie=["count="+P];pe==-1?0<P?(pe=ue[0].g,Ie.push("ofs="+pe)):pe=0:Ie.push("ofs="+pe);let Je=!0;for(let tt=0;tt<P;tt++){let Et=ue[tt].g;const dn=ue[tt].map;if(Et-=pe,0>Et)pe=Math.max(0,ue[tt].g-100),Je=!1;else try{ei(dn,Ie,"req"+Et+"_")}catch{U&&U(dn)}}if(Je){U=Ie.join("&");break e}}}return y=y.i.splice(0,P),R.D=y,U}function As(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;Qe||W(),He||(Qe(),He=!0),ct.add(R,y),y.v=0}}function Ts(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Dr(L(y.Fa,y),Ss(y,y.v)),y.v++,!0)}s.Fa=function(){if(this.u=null,Qt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Dr(L(this.ab,this),y)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Lr(this),Qt(this))};function ea(y){y.A!=null&&(A.clearTimeout(y.A),y.A=null)}function Qt(y){y.g=new Qr(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=Wt(y.qa);_t(R,"RID","rpc"),_t(R,"SID",y.K),_t(R,"AID",y.T),_t(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&_t(R,"TO",y.ja),_t(R,"TYPE","xmlhttp"),Pa(y,R),y.m&&y.o&&xn(R,y.m,y.o),y.L&&(y.g.I=y.L);var P=y.g;y=y.ia,P.L=1,P.v=Ra(Wt(R)),P.m=null,P.P=!0,yi(P,y)}s.Za=function(){this.C!=null&&(this.C=null,Lr(this),Ts(this),yt(19))};function mo(y){y.C!=null&&(A.clearTimeout(y.C),y.C=null)}function mu(y,R){var P=null;if(y.g==R){mo(y),ea(y),y.g=null;var U=2}else if(Wi(y.h,R))P=R.D,mr(y.h,R),U=1;else return;if(y.G!=0){if(R.o)if(U==1){P=R.m?R.m.length:0,R=Date.now()-R.F;var ue=y.B;U=Aa(),yn(U,new lu(U,P)),Na(y)}else As(y);else if(ue=R.s,ue==3||ue==0&&0<R.X||!(U==1&&bt(y,R)||U==2&&Ts(y)))switch(P&&0<P.length&&(R=y.h,R.i=R.i.concat(P)),ue){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function Ss(y,R){let P=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(P*=2),P*R}function Ii(y,R){if(y.j.info("Error code "+R),R==2){var P=L(y.fb,y),U=y.Xa;const ue=!U;U=new Zr(U||"//www.google.com/images/cleardot.gif"),A.location&&A.location.protocol=="http"||sr(U,"https"),Ra(U),ue?du(U.toString(),P):Jr(U.toString(),P)}else yt(2);y.G=0,y.l&&y.l.sa(R),Ma(y),gu(y)}s.fb=function(y){y?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Ma(y){if(y.G=0,y.ka=[],y.l){const R=Pn(y.h);(R.length!=0||y.i.length!=0)&&(ce(y.ka,R),ce(y.ka,y.i),y.h.i.length=0,J(y.i),y.i.length=0),y.l.ra()}}function yu(y,R,P){var U=P instanceof Zr?Wt(P):new Zr(P);if(U.g!="")R&&(U.g=R+"."+U.g),Ia(U,U.s);else{var ue=A.location;U=ue.protocol,R=R?R+"."+ue.hostname:ue.hostname,ue=+ue.port;var pe=new Zr(null);U&&sr(pe,U),R&&(pe.g=R),ue&&Ia(pe,ue),P&&(pe.l=P),U=pe}return P=y.D,R=y.ya,P&&R&&_t(U,P,R),_t(U,"VER",y.la),Pa(y,U),U}function Ri(y,R,P){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new Ot(new Zi({eb:P})):new Ot(y.pa),R.Ha(y.J),R}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ta(){}s=ta.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function yo(){}yo.prototype.g=function(y,R){return new Ln(y,R)};function Ln(y,R){Bt.call(this),this.g=new Da(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!Ae(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!Ae(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new z(this)}j(Ln,Bt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){xs(this.g)},Ln.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.u&&(P={},P.__data__=zi(y),y=P);R.i.push(new fu(R.Ya++,y)),R.G==3&&Na(R)},Ln.prototype.N=function(){this.g.l=null,delete this.j,xs(this.g),delete this.g,Ln.aa.N.call(this)};function _u(y){Hi.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const P in R){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}j(_u,Hi);function le(){Or.call(this),this.status=1}j(le,Or);function z(y){this.g=y}j(z,ta),z.prototype.ua=function(){yn(this.g,"a")},z.prototype.ta=function(y){yn(this.g,new _u(y))},z.prototype.sa=function(y){yn(this.g,new le)},z.prototype.ra=function(){yn(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,l_=function(){return new yo},u_=function(){return Aa()},s_=$n,S1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,oh=on,mi.COMPLETE="complete",o_=mi,Ve.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,ac=Ve,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,a_=Ot}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});const jm="@firebase/firestore",qm="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new np("@firebase/firestore");function Fu(){return tu.logLevel}function Me(s,...e){if(tu.logLevel<=xt.DEBUG){const r=e.map(ap);tu.debug(`Firestore (${ll}): ${s}`,...r)}}function ao(s,...e){if(tu.logLevel<=xt.ERROR){const r=e.map(ap);tu.error(`Firestore (${ll}): ${s}`,...r)}}function $u(s,...e){if(tu.logLevel<=xt.WARN){const r=e.map(ap);tu.warn(`Firestore (${ll}): ${s}`,...r)}}function ap(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(s="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+s;throw ao(e),new Error(e)}function Mt(s,e){s||Ze()}function it(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends co{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ir.UNAUTHENTICATED))}shutdown(){}}class _3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class E3{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Mt(this.o===void 0);let l=this.i;const h=S=>this.i!==l?(l=this.i,r(S)):Promise.resolve();let g=new es;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new es,e.enqueueRetryable(()=>h(this.currentUser))};const E=()=>{const S=g;e.enqueueRetryable(async()=>{await S.promise,await h(this.currentUser)})},A=S=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.o&&(this.auth.addAuthTokenListener(this.o),E())};this.t.onInit(S=>A(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?A(S):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new es)}},0),E()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(l=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Mt(typeof l.accessToken=="string"),new c_(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string"),new ir(e)}}class x3{constructor(e,r,l){this.l=e,this.h=r,this.P=l,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class A3{constructor(e,r,l){this.l=e,this.h=r,this.P=l}getToken(){return Promise.resolve(new x3(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T3{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,da(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Mt(this.o===void 0);const l=g=>{g.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const E=g.token!==this.R;return this.R=g.token,Me("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?r(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>l(g))};const h=g=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(g=>h(g)),setTimeout(()=>{if(!this.appCheck){const g=this.A.getImmediate({optional:!0});g?h(g):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Xm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Mt(typeof r.token=="string"),this.R=r.token,new Xm(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let l=0;l<s;l++)r[l]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const h=S3(40);for(let g=0;g<h.length;++g)l.length<20&&h[g]<r&&(l+=e.charAt(h[g]%62))}return l}}function wt(s,e){return s<e?-1:s>e?1:0}function Zu(s,e,r){return s.length===e.length&&s.every((l,h)=>r(l,e[h]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=-62135596800,Km=1e6;class On{static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),l=Math.floor((e-1e3*r)*Km);return new On(r,l)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Be(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Be(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Ym)throw new Be(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Km}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ym;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new On(0,0))}static max(){return new nt(new On(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="__name__";class ha{constructor(e,r,l){r===void 0?r=0:r>e.length&&Ze(),l===void 0?l=e.length-r:l>e.length-r&&Ze(),this.segments=e,this.offset=r,this.len=l}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach(l=>{r.push(l)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,l=this.limit();r<l;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const l=Math.min(e.length,r.length);for(let h=0;h<l;h++){const g=ha.compareSegments(e.get(h),r.get(h));if(g!==0)return g}return Math.sign(e.length-r.length)}static compareSegments(e,r){const l=ha.isNumericId(e),h=ha.isNumericId(r);return l&&!h?-1:!l&&h?1:l&&h?ha.extractNumericId(e).compare(ha.extractNumericId(r)):e<r?-1:e>r?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jo.fromString(e.substring(4,e.length-2))}}class Xt extends ha{construct(e,r,l){return new Xt(e,r,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const l of e){if(l.indexOf("//")>=0)throw new Be(Te.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);r.push(...l.split("/").filter(h=>h.length>0))}return new Xt(r)}static emptyPath(){return new Xt([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends ha{construct(e,r,l){return new Wn(e,r,l)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wm}static keyField(){return new Wn([Wm])}static fromServerFormat(e){const r=[];let l="",h=0;const g=()=>{if(l.length===0)throw new Be(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(l),l=""};let E=!1;for(;h<e.length;){const A=e[h];if(A==="\\"){if(h+1===e.length)throw new Be(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[h+1];if(S!=="\\"&&S!=="."&&S!=="`")throw new Be(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=S,h+=2}else A==="`"?(E=!E,h++):A!=="."||E?(l+=A,h++):(g(),h++)}if(g(),E)throw new Be(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(r)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Xt.fromString(e))}static fromName(e){return new Ke(Xt.fromString(e).popFirst(5))}static empty(){return new Ke(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Xt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=-1;function w3(s,e){const r=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,h=nt.fromTimestamp(l===1e9?new On(r+1,0):new On(r,l));return new ns(h,Ke.empty(),e)}function b3(s){return new ns(s.readTime,s.key,vc)}class ns{constructor(e,r,l){this.readTime=e,this.documentKey=r,this.largestBatchId=l}static min(){return new ns(nt.min(),Ke.empty(),vc)}static max(){return new ns(nt.max(),Ke.empty(),vc)}}function I3(s,e){let r=s.readTime.compareTo(e.readTime);return r!==0?r:(r=Ke.comparator(s.documentKey,e.documentKey),r!==0?r:wt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(s){if(s.code!==Te.FAILED_PRECONDITION||s.message!==R3)throw s;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new xe((l,h)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(l,h)},this.catchCallback=g=>{this.wrapFailure(r,g).next(l,h)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof xe?r:xe.resolve(r)}catch(r){return xe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):xe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):xe.reject(r)}static resolve(e){return new xe((r,l)=>{r(e)})}static reject(e){return new xe((r,l)=>{l(e)})}static waitFor(e){return new xe((r,l)=>{let h=0,g=0,E=!1;e.forEach(A=>{++h,A.next(()=>{++g,E&&g===h&&r()},S=>l(S))}),E=!0,g===h&&r()})}static or(e){let r=xe.resolve(!1);for(const l of e)r=r.next(h=>h?xe.resolve(h):l());return r}static forEach(e,r){const l=[];return e.forEach((h,g)=>{l.push(r.call(this,h,g))}),this.waitFor(l)}static mapArray(e,r){return new xe((l,h)=>{const g=e.length,E=new Array(g);let A=0;for(let S=0;S<g;S++){const w=S;r(e[w]).next(O=>{E[w]=O,++A,A===g&&l(E)},O=>h(O))}})}static doWhile(e,r){return new xe((l,h)=>{const g=()=>{e()===!0?r().next(()=>{g()},h):l()};g()})}}function D3(s){const e=s.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function fl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=l=>this.oe(l),this._e=l=>r.writeSequenceNumber(l))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Xh(s){return s==null}function Ch(s){return s===0&&1/s==-1/0}function N3(s){return typeof s=="number"&&Number.isInteger(s)&&!Ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="";function P3(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=Qm(e)),e=M3(s.get(r),e);return Qm(e)}function M3(s,e){let r=e;const l=s.length;for(let h=0;h<l;h++){const g=s.charAt(h);switch(g){case"\0":r+="";break;case h_:r+="";break;default:r+=g}}return r}function Qm(s){return s+h_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function us(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function d_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,r){this.comparator=e,this.root=r||Kn.EMPTY}insert(e,r){return new tn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}indexOf(e){let r=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(h===0)return r+l.left.size;h<0?l=l.left:(r+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,l)=>(e(r,l),!1))}toString(){const e=[];return this.inorderTraversal((r,l)=>(e.push(`${r}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,r,l,h){this.isReverse=h,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=r?l(e.key,r):1,r&&h&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(g===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,r,l,h,g){this.key=e,this.value=r,this.color=l??Kn.RED,this.left=h??Kn.EMPTY,this.right=g??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,l,h,g){return new Kn(e??this.key,r??this.value,l??this.color,h??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,l){let h=this;const g=l(e,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(e,r,l),null):g===0?h.copy(null,r,null,null,null):h.copy(null,null,null,null,h.right.insert(e,r,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let l,h=this;if(r(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,r),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),r(e,h.key)===0){if(h.right.isEmpty())return Kn.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,r))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,r,l,h,g){return this}insert(e,r,l){return new Kn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,l)=>(e(r),!1))}forEachInRange(e,r){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;r(h.key)}}forEachWhile(e,r){let l;for(l=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Zm(this.data.getIterator())}getIteratorFrom(e){return new Zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(l=>{r=r.add(l)}),r}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const r=this.data.getIterator(),l=e.data.getIterator();for(;r.hasNext();){const h=r.getNext().key,g=l.getNext().key;if(this.comparator(h,g)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Dn(this.comparator);return r.data=e,r}}class Zm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new qr([])}unionWith(e){let r=new Dn(Wn.comparator);for(const l of this.fields)r=r.add(l);for(const l of e)r=r.add(l);return new qr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(r,l)=>r.isEqual(l))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(h){try{return atob(h)}catch(g){throw typeof DOMException<"u"&&g instanceof DOMException?new p_("Invalid base64 string: "+g):g}}(e);return new Qn(r)}static fromUint8Array(e){const r=function(h){let g="";for(let E=0;E<h.length;++E)g+=String.fromCharCode(h[E]);return g}(e);return new Qn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const l=new Uint8Array(r.length);for(let h=0;h<r.length;h++)l[h]=r.charCodeAt(h);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const L3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(s){if(Mt(!!s),typeof s=="string"){let e=0;const r=L3.exec(s);if(Mt(!!r),r[1]){let h=r[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:vn(s.seconds),nanos:vn(s.nanos)}}function vn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function is(s){return typeof s=="string"?Qn.fromBase64String(s):Qn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="server_timestamp",v_="__type__",m_="__previous_value__",y_="__local_write_time__";function sp(s){var e,r;return((r=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[v_])===null||r===void 0?void 0:r.stringValue)===g_}function Yh(s){const e=s.mapValue.fields[m_];return sp(e)?Yh(e):e}function mc(s){const e=rs(s.mapValue.fields[y_].timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,r,l,h,g,E,A,S,w){this.databaseId=e,this.appId=r,this.persistenceKey=l,this.host=h,this.ssl=g,this.forceLongPolling=E,this.autoDetectLongPolling=A,this.longPollingOptions=S,this.useFetchStreams=w}}const wh="(default)";class yc{constructor(e,r){this.projectId=e,this.database=r||wh}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__type__",B3="__max__",Qf={mapValue:{}},E_="__vector__",bh="value";function as(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?sp(s)?4:U3(s)?9007199254740991:V3(s)?10:11:Ze()}function Ea(s,e){if(s===e)return!0;const r=as(s);if(r!==as(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return mc(s).isEqual(mc(e));case 3:return function(h,g){if(typeof h.timestampValue=="string"&&typeof g.timestampValue=="string"&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const E=rs(h.timestampValue),A=rs(g.timestampValue);return E.seconds===A.seconds&&E.nanos===A.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(h,g){return is(h.bytesValue).isEqual(is(g.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(h,g){return vn(h.geoPointValue.latitude)===vn(g.geoPointValue.latitude)&&vn(h.geoPointValue.longitude)===vn(g.geoPointValue.longitude)}(s,e);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return vn(h.integerValue)===vn(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const E=vn(h.doubleValue),A=vn(g.doubleValue);return E===A?Ch(E)===Ch(A):isNaN(E)&&isNaN(A)}return!1}(s,e);case 9:return Zu(s.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:case 11:return function(h,g){const E=h.mapValue.fields||{},A=g.mapValue.fields||{};if($m(E)!==$m(A))return!1;for(const S in E)if(E.hasOwnProperty(S)&&(A[S]===void 0||!Ea(E[S],A[S])))return!1;return!0}(s,e);default:return Ze()}}function _c(s,e){return(s.values||[]).find(r=>Ea(r,e))!==void 0}function Ju(s,e){if(s===e)return 0;const r=as(s),l=as(e);if(r!==l)return wt(r,l);switch(r){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,e.booleanValue);case 2:return function(g,E){const A=vn(g.integerValue||g.doubleValue),S=vn(E.integerValue||E.doubleValue);return A<S?-1:A>S?1:A===S?0:isNaN(A)?isNaN(S)?0:-1:1}(s,e);case 3:return Jm(s.timestampValue,e.timestampValue);case 4:return Jm(mc(s),mc(e));case 5:return wt(s.stringValue,e.stringValue);case 6:return function(g,E){const A=is(g),S=is(E);return A.compareTo(S)}(s.bytesValue,e.bytesValue);case 7:return function(g,E){const A=g.split("/"),S=E.split("/");for(let w=0;w<A.length&&w<S.length;w++){const O=wt(A[w],S[w]);if(O!==0)return O}return wt(A.length,S.length)}(s.referenceValue,e.referenceValue);case 8:return function(g,E){const A=wt(vn(g.latitude),vn(E.latitude));return A!==0?A:wt(vn(g.longitude),vn(E.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ey(s.arrayValue,e.arrayValue);case 10:return function(g,E){var A,S,w,O;const k=g.fields||{},L=E.fields||{},X=(A=k[bh])===null||A===void 0?void 0:A.arrayValue,j=(S=L[bh])===null||S===void 0?void 0:S.arrayValue,J=wt(((w=X==null?void 0:X.values)===null||w===void 0?void 0:w.length)||0,((O=j==null?void 0:j.values)===null||O===void 0?void 0:O.length)||0);return J!==0?J:ey(X,j)}(s.mapValue,e.mapValue);case 11:return function(g,E){if(g===Qf.mapValue&&E===Qf.mapValue)return 0;if(g===Qf.mapValue)return 1;if(E===Qf.mapValue)return-1;const A=g.fields||{},S=Object.keys(A),w=E.fields||{},O=Object.keys(w);S.sort(),O.sort();for(let k=0;k<S.length&&k<O.length;++k){const L=wt(S[k],O[k]);if(L!==0)return L;const X=Ju(A[S[k]],w[O[k]]);if(X!==0)return X}return wt(S.length,O.length)}(s.mapValue,e.mapValue);default:throw Ze()}}function Jm(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return wt(s,e);const r=rs(s),l=rs(e),h=wt(r.seconds,l.seconds);return h!==0?h:wt(r.nanos,l.nanos)}function ey(s,e){const r=s.values||[],l=e.values||[];for(let h=0;h<r.length&&h<l.length;++h){const g=Ju(r[h],l[h]);if(g)return g}return wt(r.length,l.length)}function el(s){return C1(s)}function C1(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const l=rs(r);return`time(${l.seconds},${l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return is(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return Ke.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let l="[",h=!0;for(const g of r.values||[])h?h=!1:l+=",",l+=C1(g);return l+"]"}(s.arrayValue):"mapValue"in s?function(r){const l=Object.keys(r.fields||{}).sort();let h="{",g=!0;for(const E of l)g?g=!1:h+=",",h+=`${E}:${C1(r.fields[E])}`;return h+"}"}(s.mapValue):Ze()}function sh(s){switch(as(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(s);return e?16+sh(e):16;case 5:return 2*s.stringValue.length;case 6:return is(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(l){return(l.values||[]).reduce((h,g)=>h+sh(g),0)}(s.arrayValue);case 10:case 11:return function(l){let h=0;return us(l.fields,(g,E)=>{h+=g.length+sh(E)}),h}(s.mapValue);default:throw Ze()}}function ty(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function w1(s){return!!s&&"integerValue"in s}function up(s){return!!s&&"arrayValue"in s}function ny(s){return!!s&&"nullValue"in s}function ry(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function uh(s){return!!s&&"mapValue"in s}function V3(s){var e,r;return((r=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[__])===null||r===void 0?void 0:r.stringValue)===E_}function lc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return us(s.mapValue.fields,(r,l)=>e.mapValue.fields[r]=lc(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=lc(s.arrayValue.values[r]);return e}return Object.assign({},s)}function U3(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let l=0;l<e.length-1;++l)if(r=(r.mapValue.fields||{})[e.get(l)],!uh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(r)}setAll(e){let r=Wn.emptyPath(),l={},h=[];e.forEach((E,A)=>{if(!r.isImmediateParentOf(A)){const S=this.getFieldsMap(r);this.applyChanges(S,l,h),l={},h=[],r=A.popLast()}E?l[A.lastSegment()]=lc(E):h.push(A.lastSegment())});const g=this.getFieldsMap(r);this.applyChanges(g,l,h)}delete(e){const r=this.field(e.popLast());uh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=r.mapValue.fields[e.get(l)];uh(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},r.mapValue.fields[e.get(l)]=h),r=h}return r.mapValue.fields}applyChanges(e,r,l){us(r,(h,g)=>e[h]=g);for(const h of l)delete e[h]}clone(){return new Ir(lc(this.value))}}function x_(s){const e=[];return us(s.fields,(r,l)=>{const h=new Wn([r]);if(uh(l)){const g=x_(l.mapValue).fields;if(g.length===0)e.push(h);else for(const E of g)e.push(h.child(E))}else e.push(h)}),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,r,l,h,g,E,A){this.key=e,this.documentType=r,this.version=l,this.readTime=h,this.createTime=g,this.data=E,this.documentState=A}static newInvalidDocument(e){return new ar(e,0,nt.min(),nt.min(),nt.min(),Ir.empty(),0)}static newFoundDocument(e,r,l,h){return new ar(e,1,r,nt.min(),l,h,0)}static newNoDocument(e,r){return new ar(e,2,r,nt.min(),nt.min(),Ir.empty(),0)}static newUnknownDocument(e,r){return new ar(e,3,r,nt.min(),nt.min(),Ir.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,r){this.position=e,this.inclusive=r}}function iy(s,e,r){let l=0;for(let h=0;h<s.position.length;h++){const g=e[h],E=s.position[h];if(g.field.isKeyField()?l=Ke.comparator(Ke.fromName(E.referenceValue),r.key):l=Ju(E,r.data.field(g.field)),g.dir==="desc"&&(l*=-1),l!==0)break}return l}function ay(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Ea(s.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,r="asc"){this.field=e,this.dir=r}}function F3(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{}class Sn extends A_{constructor(e,r,l){super(),this.field=e,this.op=r,this.value=l}static create(e,r,l){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,l):new H3(e,r,l):r==="array-contains"?new q3(e,l):r==="in"?new X3(e,l):r==="not-in"?new Y3(e,l):r==="array-contains-any"?new K3(e,l):new Sn(e,r,l)}static createKeyFieldInFilter(e,r,l){return r==="in"?new G3(e,l):new j3(e,l)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ju(r,this.value)):r!==null&&as(this.value)===as(r)&&this.matchesComparison(Ju(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends A_{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Bi(e,r)}matches(e){return T_(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function T_(s){return s.op==="and"}function S_(s){return z3(s)&&T_(s)}function z3(s){for(const e of s.filters)if(e instanceof Bi)return!1;return!0}function b1(s){if(s instanceof Sn)return s.field.canonicalString()+s.op.toString()+el(s.value);if(S_(s))return s.filters.map(e=>b1(e)).join(",");{const e=s.filters.map(r=>b1(r)).join(",");return`${s.op}(${e})`}}function C_(s,e){return s instanceof Sn?function(l,h){return h instanceof Sn&&l.op===h.op&&l.field.isEqual(h.field)&&Ea(l.value,h.value)}(s,e):s instanceof Bi?function(l,h){return h instanceof Bi&&l.op===h.op&&l.filters.length===h.filters.length?l.filters.reduce((g,E,A)=>g&&C_(E,h.filters[A]),!0):!1}(s,e):void Ze()}function w_(s){return s instanceof Sn?function(r){return`${r.field.canonicalString()} ${r.op} ${el(r.value)}`}(s):s instanceof Bi?function(r){return r.op.toString()+" {"+r.getFilters().map(w_).join(" ,")+"}"}(s):"Filter"}class H3 extends Sn{constructor(e,r,l){super(e,r,l),this.key=Ke.fromName(l.referenceValue)}matches(e){const r=Ke.comparator(e.key,this.key);return this.matchesComparison(r)}}class G3 extends Sn{constructor(e,r){super(e,"in",r),this.keys=b_("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class j3 extends Sn{constructor(e,r){super(e,"not-in",r),this.keys=b_("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function b_(s,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(l=>Ke.fromName(l.referenceValue))}class q3 extends Sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return up(r)&&_c(r.arrayValue,this.value)}}class X3 extends Sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&_c(this.value.arrayValue,r)}}class Y3 extends Sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!_c(this.value.arrayValue,r)}}class K3 extends Sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!up(r)||!r.arrayValue.values)&&r.arrayValue.values.some(l=>_c(this.value.arrayValue,l))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,r=null,l=[],h=[],g=null,E=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=l,this.filters=h,this.limit=g,this.startAt=E,this.endAt=A,this.le=null}}function oy(s,e=null,r=[],l=[],h=null,g=null,E=null){return new W3(s,e,r,l,h,g,E)}function lp(s){const e=it(s);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(l=>b1(l)).join(","),r+="|ob:",r+=e.orderBy.map(l=>function(g){return g.field.canonicalString()+g.dir}(l)).join(","),Xh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(l=>el(l)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(l=>el(l)).join(",")),e.le=r}return e.le}function cp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!F3(s.orderBy[r],e.orderBy[r]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!C_(s.filters[r],e.filters[r]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ay(s.startAt,e.startAt)&&ay(s.endAt,e.endAt)}function I1(s){return Ke.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,r=null,l=[],h=[],g=null,E="F",A=null,S=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=l,this.filters=h,this.limit=g,this.limitType=E,this.startAt=A,this.endAt=S,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Q3(s,e,r,l,h,g,E,A){return new Rc(s,e,r,l,h,g,E,A)}function I_(s){return new Rc(s)}function sy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function R_(s){return s.collectionGroup!==null}function cc(s){const e=it(s);if(e.he===null){e.he=[];const r=new Set;for(const g of e.explicitOrderBy)e.he.push(g),r.add(g.field.canonicalString());const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(E){let A=new Dn(Wn.comparator);return E.filters.forEach(S=>{S.getFlattenedFilters().forEach(w=>{w.isInequality()&&(A=A.add(w.field))})}),A})(e).forEach(g=>{r.has(g.canonicalString())||g.isKeyField()||e.he.push(new Rh(g,l))}),r.has(Wn.keyField().canonicalString())||e.he.push(new Rh(Wn.keyField(),l))}return e.he}function pa(s){const e=it(s);return e.Pe||(e.Pe=$3(e,cc(s))),e.Pe}function $3(s,e){if(s.limitType==="F")return oy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(h=>{const g=h.dir==="desc"?"asc":"desc";return new Rh(h.field,g)});const r=s.endAt?new Ih(s.endAt.position,s.endAt.inclusive):null,l=s.startAt?new Ih(s.startAt.position,s.startAt.inclusive):null;return oy(s.path,s.collectionGroup,e,s.filters,s.limit,r,l)}}function R1(s,e){const r=s.filters.concat([e]);return new Rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),r,s.limit,s.limitType,s.startAt,s.endAt)}function O1(s,e,r){return new Rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function Kh(s,e){return cp(pa(s),pa(e))&&s.limitType===e.limitType}function O_(s){return`${lp(pa(s))}|lt:${s.limitType}`}function zu(s){return`Query(target=${function(r){let l=r.path.canonicalString();return r.collectionGroup!==null&&(l+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(l+=`, filters: [${r.filters.map(h=>w_(h)).join(", ")}]`),Xh(r.limit)||(l+=", limit: "+r.limit),r.orderBy.length>0&&(l+=`, orderBy: [${r.orderBy.map(h=>function(E){return`${E.field.canonicalString()} (${E.dir})`}(h)).join(", ")}]`),r.startAt&&(l+=", startAt: ",l+=r.startAt.inclusive?"b:":"a:",l+=r.startAt.position.map(h=>el(h)).join(",")),r.endAt&&(l+=", endAt: ",l+=r.endAt.inclusive?"a:":"b:",l+=r.endAt.position.map(h=>el(h)).join(",")),`Target(${l})`}(pa(s))}; limitType=${s.limitType})`}function Wh(s,e){return e.isFoundDocument()&&function(l,h){const g=h.key.path;return l.collectionGroup!==null?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(g):Ke.isDocumentKey(l.path)?l.path.isEqual(g):l.path.isImmediateParentOf(g)}(s,e)&&function(l,h){for(const g of cc(l))if(!g.field.isKeyField()&&h.data.field(g.field)===null)return!1;return!0}(s,e)&&function(l,h){for(const g of l.filters)if(!g.matches(h))return!1;return!0}(s,e)&&function(l,h){return!(l.startAt&&!function(E,A,S){const w=iy(E,A,S);return E.inclusive?w<=0:w<0}(l.startAt,cc(l),h)||l.endAt&&!function(E,A,S){const w=iy(E,A,S);return E.inclusive?w>=0:w>0}(l.endAt,cc(l),h))}(s,e)}function Z3(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function D_(s){return(e,r)=>{let l=!1;for(const h of cc(s)){const g=J3(h,e,r);if(g!==0)return g;l=l||h.field.isKeyField()}return 0}}function J3(s,e,r){const l=s.field.isKeyField()?Ke.comparator(e.key,r.key):function(g,E,A){const S=E.data.field(g),w=A.data.field(g);return S!==null&&w!==null?Ju(S,w):Ze()}(s.field,e,r);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),l=this.inner[r];if(l!==void 0){for(const[h,g]of l)if(this.equalsFn(h,e))return g}}has(e){return this.get(e)!==void 0}set(e,r){const l=this.mapKeyFn(e),h=this.inner[l];if(h===void 0)return this.inner[l]=[[e,r]],void this.innerSize++;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],e))return void(h[g]=[e,r]);h.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return l.length===1?delete this.inner[r]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(r,l)=>{for(const[h,g]of l)e(h,g)})}isEmpty(){return d_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new tn(Ke.comparator);function oo(){return ew}const N_=new tn(Ke.comparator);function oc(...s){let e=N_;for(const r of s)e=e.insert(r.key,r);return e}function P_(s){let e=N_;return s.forEach((r,l)=>e=e.insert(r,l.overlayedDocument)),e}function $s(){return fc()}function M_(){return fc()}function fc(){return new au(s=>s.toString(),(s,e)=>s.isEqual(e))}const tw=new tn(Ke.comparator),nw=new Dn(Ke.comparator);function At(...s){let e=nw;for(const r of s)e=e.add(r);return e}const rw=new Dn(wt);function iw(){return rw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function L_(s){return{integerValue:""+s}}function aw(s,e){return N3(e)?L_(e):fp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function ow(s,e,r){return s instanceof Oh?function(h,g){const E={fields:{[v_]:{stringValue:g_},[y_]:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&sp(g)&&(g=Yh(g)),g&&(E.fields[m_]=g),{mapValue:E}}(r,e):s instanceof Ec?B_(s,e):s instanceof xc?V_(s,e):function(h,g){const E=k_(h,g),A=uy(E)+uy(h.Ie);return w1(E)&&w1(h.Ie)?L_(A):fp(h.serializer,A)}(s,e)}function sw(s,e,r){return s instanceof Ec?B_(s,e):s instanceof xc?V_(s,e):r}function k_(s,e){return s instanceof Dh?function(l){return w1(l)||function(g){return!!g&&"doubleValue"in g}(l)}(e)?e:{integerValue:0}:null}class Oh extends Qh{}class Ec extends Qh{constructor(e){super(),this.elements=e}}function B_(s,e){const r=U_(e);for(const l of s.elements)r.some(h=>Ea(h,l))||r.push(l);return{arrayValue:{values:r}}}class xc extends Qh{constructor(e){super(),this.elements=e}}function V_(s,e){let r=U_(e);for(const l of s.elements)r=r.filter(h=>!Ea(h,l));return{arrayValue:{values:r}}}class Dh extends Qh{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function uy(s){return vn(s.integerValue||s.doubleValue)}function U_(s){return up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function uw(s,e){return s.field.isEqual(e.field)&&function(l,h){return l instanceof Ec&&h instanceof Ec||l instanceof xc&&h instanceof xc?Zu(l.elements,h.elements,Ea):l instanceof Dh&&h instanceof Dh?Ea(l.Ie,h.Ie):l instanceof Oh&&h instanceof Oh}(s.transform,e.transform)}class lw{constructor(e,r){this.version=e,this.transformResults=r}}class ga{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class $h{}function F_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new H_(s.key,ga.none()):new Oc(s.key,s.data,ga.none());{const r=s.data,l=Ir.empty();let h=new Dn(Wn.comparator);for(let g of e.fields)if(!h.has(g)){let E=r.field(g);E===null&&g.length>1&&(g=g.popLast(),E=r.field(g)),E===null?l.delete(g):l.set(g,E),h=h.add(g)}return new ls(s.key,l,new qr(h.toArray()),ga.none())}}function cw(s,e,r){s instanceof Oc?function(h,g,E){const A=h.value.clone(),S=cy(h.fieldTransforms,g,E.transformResults);A.setAll(S),g.convertToFoundDocument(E.version,A).setHasCommittedMutations()}(s,e,r):s instanceof ls?function(h,g,E){if(!lh(h.precondition,g))return void g.convertToUnknownDocument(E.version);const A=cy(h.fieldTransforms,g,E.transformResults),S=g.data;S.setAll(z_(h)),S.setAll(A),g.convertToFoundDocument(E.version,S).setHasCommittedMutations()}(s,e,r):function(h,g,E){g.convertToNoDocument(E.version).setHasCommittedMutations()}(0,e,r)}function hc(s,e,r,l){return s instanceof Oc?function(g,E,A,S){if(!lh(g.precondition,E))return A;const w=g.value.clone(),O=fy(g.fieldTransforms,S,E);return w.setAll(O),E.convertToFoundDocument(E.version,w).setHasLocalMutations(),null}(s,e,r,l):s instanceof ls?function(g,E,A,S){if(!lh(g.precondition,E))return A;const w=fy(g.fieldTransforms,S,E),O=E.data;return O.setAll(z_(g)),O.setAll(w),E.convertToFoundDocument(E.version,O).setHasLocalMutations(),A===null?null:A.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(k=>k.field))}(s,e,r,l):function(g,E,A){return lh(g.precondition,E)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):A}(s,e,r)}function fw(s,e){let r=null;for(const l of s.fieldTransforms){const h=e.data.field(l.field),g=k_(l.transform,h||null);g!=null&&(r===null&&(r=Ir.empty()),r.set(l.field,g))}return r||null}function ly(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(l,h){return l===void 0&&h===void 0||!(!l||!h)&&Zu(l,h,(g,E)=>uw(g,E))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Oc extends $h{constructor(e,r,l,h=[]){super(),this.key=e,this.value=r,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ls extends $h{constructor(e,r,l,h,g=[]){super(),this.key=e,this.data=r,this.fieldMask=l,this.precondition=h,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function z_(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const l=s.data.field(r);e.set(r,l)}}),e}function cy(s,e,r){const l=new Map;Mt(s.length===r.length);for(let h=0;h<r.length;h++){const g=s[h],E=g.transform,A=e.data.field(g.field);l.set(g.field,sw(E,A,r[h]))}return l}function fy(s,e,r){const l=new Map;for(const h of s){const g=h.transform,E=r.data.field(h.field);l.set(h.field,ow(g,E,e))}return l}class H_ extends $h{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hw extends $h{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,r,l,h){this.batchId=e,this.localWriteTime=r,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,r){const l=r.mutationResults;for(let h=0;h<this.mutations.length;h++){const g=this.mutations[h];g.key.isEqual(e.key)&&cw(g,e,l[h])}}applyToLocalView(e,r){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(r=hc(l,e,r,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(r=hc(l,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const l=M_();return this.mutations.forEach(h=>{const g=e.get(h.key),E=g.overlayedDocument;let A=this.applyToLocalView(E,g.mutatedFields);A=r.has(h.key)?null:A;const S=F_(E,A);S!==null&&l.set(h.key,S),E.isValidDocument()||E.convertToNoDocument(nt.min())}),l}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),At())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(r,l)=>ly(r,l))&&Zu(this.baseMutations,e.baseMutations,(r,l)=>ly(r,l))}}class hp{constructor(e,r,l,h){this.batch=e,this.commitVersion=r,this.mutationResults=l,this.docVersions=h}static from(e,r,l){Mt(e.mutations.length===l.length);let h=function(){return tw}();const g=e.mutations;for(let E=0;E<g.length;E++)h=h.insert(g[E].key,l[E].version);return new hp(e,r,l,h)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,Rt;function vw(s){switch(s){case Te.OK:return Ze();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Ze()}}function G_(s){if(s===void 0)return ao("GRPC error has no .code"),Te.UNKNOWN;switch(s){case Tn.OK:return Te.OK;case Tn.CANCELLED:return Te.CANCELLED;case Tn.UNKNOWN:return Te.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return Te.INTERNAL;case Tn.UNAVAILABLE:return Te.UNAVAILABLE;case Tn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Tn.NOT_FOUND:return Te.NOT_FOUND;case Tn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Tn.ABORTED:return Te.ABORTED;case Tn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Tn.DATA_LOSS:return Te.DATA_LOSS;default:return Ze()}}(Rt=Tn||(Tn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Jo([4294967295,4294967295],0);function hy(s){const e=mw().encode(s),r=new i_;return r.update(e),new Uint8Array(r.digest())}function dy(s){const e=new DataView(s.buffer),r=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new Jo([r,l],0),new Jo([h,g],0)]}class dp{constructor(e,r,l){if(this.bitmap=e,this.padding=r,this.hashCount=l,r<0||r>=8)throw new sc(`Invalid padding: ${r}`);if(l<0)throw new sc(`Invalid hash count: ${l}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${l}`);if(e.length===0&&r!==0)throw new sc(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Jo.fromNumber(this.Ee)}Ae(e,r,l){let h=e.add(r.multiply(Jo.fromNumber(l)));return h.compare(yw)===1&&(h=new Jo([h.getBits(0),h.getBits(1)],0)),h.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=hy(e),[l,h]=dy(r);for(let g=0;g<this.hashCount;g++){const E=this.Ae(l,h,g);if(!this.Re(E))return!1}return!0}static create(e,r,l){const h=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),E=new dp(g,h,r);return l.forEach(A=>E.insert(A)),E}insert(e){if(this.Ee===0)return;const r=hy(e),[l,h]=dy(r);for(let g=0;g<this.hashCount;g++){const E=this.Ae(l,h,g);this.Ve(E)}}Ve(e){const r=Math.floor(e/8),l=e%8;this.bitmap[r]|=1<<l}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r,l,h,g){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,r,l){const h=new Map;return h.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,r,l)),new Zh(nt.min(),h,new tn(wt),oo(),At())}}class Dc{constructor(e,r,l,h,g){this.resumeToken=e,this.current=r,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,r,l){return new Dc(l,r,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,r,l,h){this.me=e,this.removedTargetIds=r,this.key=l,this.fe=h}}class j_{constructor(e,r){this.targetId=e,this.ge=r}}class q_{constructor(e,r,l=Qn.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=r,this.resumeToken=l,this.cause=h}}class py{constructor(){this.pe=0,this.ye=gy(),this.we=Qn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=At(),r=At(),l=At();return this.ye.forEach((h,g)=>{switch(g){case 0:e=e.add(h);break;case 2:r=r.add(h);break;case 1:l=l.add(h);break;default:Ze()}}),new Dc(this.we,this.be,e,r,l)}Me(){this.Se=!1,this.ye=gy()}xe(e,r){this.Se=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Mt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class _w{constructor(e){this.ke=e,this.qe=new Map,this.Qe=oo(),this.$e=$f(),this.Ke=$f(),this.Ue=new tn(wt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const l=this.He(r);switch(e.state){case 0:this.Je(r)&&l.Ce(e.resumeToken);break;case 1:l.Be(),l.De||l.Me(),l.Ce(e.resumeToken);break;case 2:l.Be(),l.De||this.removeTarget(r);break;case 3:this.Je(r)&&(l.Le(),l.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),l.Ce(e.resumeToken));break;default:Ze()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((l,h)=>{this.Je(h)&&r(h)})}Ze(e){const r=e.targetId,l=e.ge.count,h=this.Xe(r);if(h){const g=h.target;if(I1(g))if(l===0){const E=new Ke(g.path);this.ze(r,E,ar.newNoDocument(E,nt.min()))}else Mt(l===1);else{const E=this.et(r);if(E!==l){const A=this.tt(e),S=A?this.nt(A,e,E):1;if(S!==0){this.Ye(r);const w=S===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,w)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:l="",padding:h=0},hashCount:g=0}=r;let E,A;try{E=is(l).toUint8Array()}catch(S){if(S instanceof p_)return $u("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{A=new dp(E,h,g)}catch(S){return $u(S instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return A.Ee===0?null:A}nt(e,r,l){return r.ge.count===l-this.st(e,r.targetId)?0:2}st(e,r){const l=this.ke.getRemoteKeysForTarget(r);let h=0;return l.forEach(g=>{const E=this.ke.it(),A=`projects/${E.projectId}/databases/${E.database}/documents/${g.path.canonicalString()}`;e.mightContain(A)||(this.ze(r,g,null),h++)}),h}ot(e){const r=new Map;this.qe.forEach((g,E)=>{const A=this.Xe(E);if(A){if(g.current&&I1(A.target)){const S=new Ke(A.target.path);this._t(S).has(E)||this.ut(E,S)||this.ze(E,S,ar.newNoDocument(S,e))}g.ve&&(r.set(E,g.Fe()),g.Me())}});let l=At();this.Ke.forEach((g,E)=>{let A=!0;E.forEachWhile(S=>{const w=this.Xe(S);return!w||w.purpose==="TargetPurposeLimboResolution"||(A=!1,!1)}),A&&(l=l.add(g))}),this.Qe.forEach((g,E)=>E.setReadTime(e));const h=new Zh(e,r,this.Ue,this.Qe,l);return this.Qe=oo(),this.$e=$f(),this.Ke=$f(),this.Ue=new tn(wt),h}Ge(e,r){if(!this.Je(e))return;const l=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,l),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ke=this.Ke.insert(r.key,this.ct(r.key).add(e))}ze(e,r,l){if(!this.Je(e))return;const h=this.He(e);this.ut(e,r)?h.xe(r,1):h.Oe(r),this.Ke=this.Ke.insert(r,this.ct(r).delete(e)),this.Ke=this.Ke.insert(r,this.ct(r).add(e)),l&&(this.Qe=this.Qe.insert(r,l))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new py,this.qe.set(e,r)),r}ct(e){let r=this.Ke.get(e);return r||(r=new Dn(wt),this.Ke=this.Ke.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Dn(wt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||Me("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new py),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function $f(){return new tn(Ke.comparator)}function gy(){return new tn(Ke.comparator)}const Ew={asc:"ASCENDING",desc:"DESCENDING"},xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aw={and:"AND",or:"OR"};class Tw{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function D1(s,e){return s.useProto3Json||Xh(e)?e:{value:e}}function Nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Sw(s,e){return Nh(s,e.toTimestamp())}function va(s){return Mt(!!s),nt.fromTimestamp(function(r){const l=rs(r);return new On(l.seconds,l.nanos)}(s))}function pp(s,e){return N1(s,e).canonicalString()}function N1(s,e){const r=function(h){return new Xt(["projects",h.projectId,"databases",h.database])}(s).child("documents");return e===void 0?r:r.child(e)}function Y_(s){const e=Xt.fromString(s);return Mt(Z_(e)),e}function P1(s,e){return pp(s.databaseId,e.path)}function $0(s,e){const r=Y_(e);if(r.get(1)!==s.databaseId.projectId)throw new Be(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new Be(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new Ke(W_(r))}function K_(s,e){return pp(s.databaseId,e)}function Cw(s){const e=Y_(s);return e.length===4?Xt.emptyPath():W_(e)}function M1(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function W_(s){return Mt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function vy(s,e,r){return{name:P1(s,e),fields:r.value.mapValue.fields}}function ww(s,e){let r;if("targetChange"in e){e.targetChange;const l=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),h=e.targetChange.targetIds||[],g=function(w,O){return w.useProto3Json?(Mt(O===void 0||typeof O=="string"),Qn.fromBase64String(O||"")):(Mt(O===void 0||O instanceof Buffer||O instanceof Uint8Array),Qn.fromUint8Array(O||new Uint8Array))}(s,e.targetChange.resumeToken),E=e.targetChange.cause,A=E&&function(w){const O=w.code===void 0?Te.UNKNOWN:G_(w.code);return new Be(O,w.message||"")}(E);r=new q_(l,h,g,A||null)}else if("documentChange"in e){e.documentChange;const l=e.documentChange;l.document,l.document.name,l.document.updateTime;const h=$0(s,l.document.name),g=va(l.document.updateTime),E=l.document.createTime?va(l.document.createTime):nt.min(),A=new Ir({mapValue:{fields:l.document.fields}}),S=ar.newFoundDocument(h,g,E,A),w=l.targetIds||[],O=l.removedTargetIds||[];r=new ch(w,O,S.key,S)}else if("documentDelete"in e){e.documentDelete;const l=e.documentDelete;l.document;const h=$0(s,l.document),g=l.readTime?va(l.readTime):nt.min(),E=ar.newNoDocument(h,g),A=l.removedTargetIds||[];r=new ch([],A,E.key,E)}else if("documentRemove"in e){e.documentRemove;const l=e.documentRemove;l.document;const h=$0(s,l.document),g=l.removedTargetIds||[];r=new ch([],g,h,null)}else{if(!("filter"in e))return Ze();{e.filter;const l=e.filter;l.targetId;const{count:h=0,unchangedNames:g}=l,E=new gw(h,g),A=l.targetId;r=new j_(A,E)}}return r}function bw(s,e){let r;if(e instanceof Oc)r={update:vy(s,e.key,e.value)};else if(e instanceof H_)r={delete:P1(s,e.key)};else if(e instanceof ls)r={update:vy(s,e.key,e.data),updateMask:kw(e.fieldMask)};else{if(!(e instanceof hw))return Ze();r={verify:P1(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(l=>function(g,E){const A=E.transform;if(A instanceof Oh)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Ec)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof xc)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof Dh)return{fieldPath:E.field.canonicalString(),increment:A.Ie};throw Ze()}(0,l))),e.precondition.isNone||(r.currentDocument=function(h,g){return g.updateTime!==void 0?{updateTime:Sw(h,g.updateTime)}:g.exists!==void 0?{exists:g.exists}:Ze()}(s,e.precondition)),r}function Iw(s,e){return s&&s.length>0?(Mt(e!==void 0),s.map(r=>function(h,g){let E=h.updateTime?va(h.updateTime):va(g);return E.isEqual(nt.min())&&(E=va(g)),new lw(E,h.transformResults||[])}(r,e))):[]}function Rw(s,e){return{documents:[K_(s,e.path)]}}function Ow(s,e){const r={structuredQuery:{}},l=e.path;let h;e.collectionGroup!==null?(h=l,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(h=l.popLast(),r.structuredQuery.from=[{collectionId:l.lastSegment()}]),r.parent=K_(s,h);const g=function(w){if(w.length!==0)return $_(Bi.create(w,"and"))}(e.filters);g&&(r.structuredQuery.where=g);const E=function(w){if(w.length!==0)return w.map(O=>function(L){return{field:Hu(L.field),direction:Pw(L.dir)}}(O))}(e.orderBy);E&&(r.structuredQuery.orderBy=E);const A=D1(s,e.limit);return A!==null&&(r.structuredQuery.limit=A),e.startAt&&(r.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(e.endAt)),{ht:r,parent:h}}function Dw(s){let e=Cw(s.parent);const r=s.structuredQuery,l=r.from?r.from.length:0;let h=null;if(l>0){Mt(l===1);const O=r.from[0];O.allDescendants?h=O.collectionId:e=e.child(O.collectionId)}let g=[];r.where&&(g=function(k){const L=Q_(k);return L instanceof Bi&&S_(L)?L.getFilters():[L]}(r.where));let E=[];r.orderBy&&(E=function(k){return k.map(L=>function(j){return new Rh(Gu(j.field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(L))}(r.orderBy));let A=null;r.limit&&(A=function(k){let L;return L=typeof k=="object"?k.value:k,Xh(L)?null:L}(r.limit));let S=null;r.startAt&&(S=function(k){const L=!!k.before,X=k.values||[];return new Ih(X,L)}(r.startAt));let w=null;return r.endAt&&(w=function(k){const L=!k.before,X=k.values||[];return new Ih(X,L)}(r.endAt)),Q3(e,h,E,g,A,"F",S,w)}function Nw(s,e){const r=function(h){switch(h){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Q_(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const l=Gu(r.unaryFilter.field);return Sn.create(l,"==",{doubleValue:NaN});case"IS_NULL":const h=Gu(r.unaryFilter.field);return Sn.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const g=Gu(r.unaryFilter.field);return Sn.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Gu(r.unaryFilter.field);return Sn.create(E,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(s):s.fieldFilter!==void 0?function(r){return Sn.create(Gu(r.fieldFilter.field),function(h){switch(h){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return Bi.create(r.compositeFilter.filters.map(l=>Q_(l)),function(h){switch(h){case"AND":return"and";case"OR":return"or";default:return Ze()}}(r.compositeFilter.op))}(s):Ze()}function Pw(s){return Ew[s]}function Mw(s){return xw[s]}function Lw(s){return Aw[s]}function Hu(s){return{fieldPath:s.canonicalString()}}function Gu(s){return Wn.fromServerFormat(s.fieldPath)}function $_(s){return s instanceof Sn?function(r){if(r.op==="=="){if(ry(r.value))return{unaryFilter:{field:Hu(r.field),op:"IS_NAN"}};if(ny(r.value))return{unaryFilter:{field:Hu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ry(r.value))return{unaryFilter:{field:Hu(r.field),op:"IS_NOT_NAN"}};if(ny(r.value))return{unaryFilter:{field:Hu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(r.field),op:Mw(r.op),value:r.value}}}(s):s instanceof Bi?function(r){const l=r.getFilters().map(h=>$_(h));return l.length===1?l[0]:{compositeFilter:{op:Lw(r.op),filters:l}}}(s):Ze()}function kw(s){const e=[];return s.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Z_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,r,l,h,g=nt.min(),E=nt.min(),A=Qn.EMPTY_BYTE_STRING,S=null){this.target=e,this.targetId=r,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=A,this.expectedCount=S}withSequenceNumber(e){return new Wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.Tt=e}}function Vw(s){const e=Dw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?O1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.Tn=new Fw}addToCollectionParentIndex(e,r){return this.Tn.add(r),xe.resolve()}getCollectionParents(e,r){return xe.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return xe.resolve()}deleteFieldIndex(e,r){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,r){return xe.resolve()}getDocumentsMatchingTarget(e,r){return xe.resolve(null)}getIndexType(e,r){return xe.resolve(0)}getFieldIndexes(e,r){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,r){return xe.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,r){return xe.resolve(ns.min())}updateCollectionGroup(e,r,l){return xe.resolve()}updateIndexEntries(e,r){return xe.resolve()}}class Fw{constructor(){this.index={}}add(e){const r=e.lastSegment(),l=e.popLast(),h=this.index[r]||new Dn(Xt.comparator),g=!h.has(l);return this.index[r]=h.add(l),g}has(e){const r=e.lastSegment(),l=e.popLast(),h=this.index[r];return h&&h.has(l)}getEntries(e){return(this.index[e]||new Dn(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J_=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(J_,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new tl(0)}static Un(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LruGarbageCollector",zw=1048576;function _y([s,e],[r,l]){const h=wt(s,r);return h===0?wt(e,l):h}class Hw{constructor(e){this.Hn=e,this.buffer=new Dn(_y),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const l=this.buffer.last();_y(r,l)<0&&(this.buffer=this.buffer.delete(l).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Gw{constructor(e,r,l){this.garbageCollector=e,this.asyncQueue=r,this.localStore=l,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Me(yy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){fl(r)?Me(yy,"Ignoring IndexedDB error during garbage collection: ",r):await cl(r)}await this.er(3e5)})}}class jw{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(l=>Math.floor(r/100*l))}nthSequenceNumber(e,r){if(r===0)return xe.resolve(qh.ae);const l=new Hw(r);return this.tr.forEachTarget(e,h=>l.Zn(h.sequenceNumber)).next(()=>this.tr.rr(e,h=>l.Zn(h))).next(()=>l.maxValue)}removeTargets(e,r,l){return this.tr.removeTargets(e,r,l)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(my)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),my):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let l,h,g,E,A,S,w;const O=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),h=this.params.maximumSequenceNumbersToCollect):h=k,E=Date.now(),this.nthSequenceNumber(e,h))).next(k=>(l=k,A=Date.now(),this.removeTargets(e,l,r))).next(k=>(g=k,S=Date.now(),this.removeOrphanedDocuments(e,l))).next(k=>(w=Date.now(),Fu()<=xt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${E-O}ms
	Determined least recently used ${h} in `+(A-E)+`ms
	Removed ${g} targets in `+(S-A)+`ms
	Removed ${k} documents in `+(w-S)+`ms
Total Duration: ${w-O}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:g,documentsRemoved:k})))}}function qw(s,e){return new jw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.changes=new au(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const l=this.changes.get(r);return l!==void 0?xe.resolve(l):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,r,l,h){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,r){let l=null;return this.documentOverlayCache.getOverlay(e,r).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,r))).next(h=>(l!==null&&hc(l.mutation,h,qr.empty(),On.now()),h))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(l=>this.getLocalViewOfDocuments(e,l,At()).next(()=>l))}getLocalViewOfDocuments(e,r,l=At()){const h=$s();return this.populateOverlays(e,h,r).next(()=>this.computeViews(e,r,h,l).next(g=>{let E=oc();return g.forEach((A,S)=>{E=E.insert(A,S.overlayedDocument)}),E}))}getOverlayedDocuments(e,r){const l=$s();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,At()))}populateOverlays(e,r,l){const h=[];return l.forEach(g=>{r.has(g)||h.push(g)}),this.documentOverlayCache.getOverlays(e,h).next(g=>{g.forEach((E,A)=>{r.set(E,A)})})}computeViews(e,r,l,h){let g=oo();const E=fc(),A=function(){return fc()}();return r.forEach((S,w)=>{const O=l.get(w.key);h.has(w.key)&&(O===void 0||O.mutation instanceof ls)?g=g.insert(w.key,w):O!==void 0?(E.set(w.key,O.mutation.getFieldMask()),hc(O.mutation,w,O.mutation.getFieldMask(),On.now())):E.set(w.key,qr.empty())}),this.recalculateAndSaveOverlays(e,g).next(S=>(S.forEach((w,O)=>E.set(w,O)),r.forEach((w,O)=>{var k;return A.set(w,new Yw(O,(k=E.get(w))!==null&&k!==void 0?k:null))}),A))}recalculateAndSaveOverlays(e,r){const l=fc();let h=new tn((E,A)=>E-A),g=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(E=>{for(const A of E)A.keys().forEach(S=>{const w=r.get(S);if(w===null)return;let O=l.get(S)||qr.empty();O=A.applyToLocalView(w,O),l.set(S,O);const k=(h.get(A.batchId)||At()).add(S);h=h.insert(A.batchId,k)})}).next(()=>{const E=[],A=h.getReverseIterator();for(;A.hasNext();){const S=A.getNext(),w=S.key,O=S.value,k=M_();O.forEach(L=>{if(!g.has(L)){const X=F_(r.get(L),l.get(L));X!==null&&k.set(L,X),g=g.add(L)}}),E.push(this.documentOverlayCache.saveOverlays(e,w,k))}return xe.waitFor(E)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,r,l,h){return function(E){return Ke.isDocumentKey(E.path)&&E.collectionGroup===null&&E.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):R_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,l,h):this.getDocumentsMatchingCollectionQuery(e,r,l,h)}getNextDocuments(e,r,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,l,h).next(g=>{const E=h-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,l.largestBatchId,h-g.size):xe.resolve($s());let A=vc,S=g;return E.next(w=>xe.forEach(w,(O,k)=>(A<k.largestBatchId&&(A=k.largestBatchId),g.get(O)?xe.resolve():this.remoteDocumentCache.getEntry(e,O).next(L=>{S=S.insert(O,L)}))).next(()=>this.populateOverlays(e,w,g)).next(()=>this.computeViews(e,S,w,At())).next(O=>({batchId:A,changes:P_(O)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ke(r)).next(l=>{let h=oc();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,r,l,h){const g=r.collectionGroup;let E=oc();return this.indexManager.getCollectionParents(e,g).next(A=>xe.forEach(A,S=>{const w=function(k,L){return new Rc(L,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(r,S.child(g));return this.getDocumentsMatchingCollectionQuery(e,w,l,h).next(O=>{O.forEach((k,L)=>{E=E.insert(k,L)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(e,r,l,h){let g;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,l.largestBatchId).next(E=>(g=E,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,l,g,h))).next(E=>{g.forEach((S,w)=>{const O=w.getKey();E.get(O)===null&&(E=E.insert(O,ar.newInvalidDocument(O)))});let A=oc();return E.forEach((S,w)=>{const O=g.get(S);O!==void 0&&hc(O.mutation,w,qr.empty(),On.now()),Wh(r,w)&&(A=A.insert(S,w))}),A})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return xe.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(h){return{id:h.id,version:h.version,createTime:va(h.createTime)}}(r)),xe.resolve()}getNamedQuery(e,r){return xe.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(h){return{name:h.name,query:Vw(h.bundledQuery),readTime:va(h.readTime)}}(r)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.overlays=new tn(Ke.comparator),this.Rr=new Map}getOverlay(e,r){return xe.resolve(this.overlays.get(r))}getOverlays(e,r){const l=$s();return xe.forEach(r,h=>this.getOverlay(e,h).next(g=>{g!==null&&l.set(h,g)})).next(()=>l)}saveOverlays(e,r,l){return l.forEach((h,g)=>{this.Et(e,r,g)}),xe.resolve()}removeOverlaysForBatchId(e,r,l){const h=this.Rr.get(l);return h!==void 0&&(h.forEach(g=>this.overlays=this.overlays.remove(g)),this.Rr.delete(l)),xe.resolve()}getOverlaysForCollection(e,r,l){const h=$s(),g=r.length+1,E=new Ke(r.child("")),A=this.overlays.getIteratorFrom(E);for(;A.hasNext();){const S=A.getNext().value,w=S.getKey();if(!r.isPrefixOf(w.path))break;w.path.length===g&&S.largestBatchId>l&&h.set(S.getKey(),S)}return xe.resolve(h)}getOverlaysForCollectionGroup(e,r,l,h){let g=new tn((w,O)=>w-O);const E=this.overlays.getIterator();for(;E.hasNext();){const w=E.getNext().value;if(w.getKey().getCollectionGroup()===r&&w.largestBatchId>l){let O=g.get(w.largestBatchId);O===null&&(O=$s(),g=g.insert(w.largestBatchId,O)),O.set(w.getKey(),w)}}const A=$s(),S=g.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((w,O)=>A.set(w,O)),!(A.size()>=h)););return xe.resolve(A)}Et(e,r,l){const h=this.overlays.get(l.key);if(h!==null){const E=this.Rr.get(h.largestBatchId).delete(l.key);this.Rr.set(h.largestBatchId,E)}this.overlays=this.overlays.insert(l.key,new pw(r,l));let g=this.Rr.get(r);g===void 0&&(g=At(),this.Rr.set(r,g)),this.Rr.set(r,g.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.Vr=new Dn(Un.mr),this.gr=new Dn(Un.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const l=new Un(e,r);this.Vr=this.Vr.add(l),this.gr=this.gr.add(l)}yr(e,r){e.forEach(l=>this.addReference(l,r))}removeReference(e,r){this.wr(new Un(e,r))}br(e,r){e.forEach(l=>this.removeReference(l,r))}Sr(e){const r=new Ke(new Xt([])),l=new Un(r,e),h=new Un(r,e+1),g=[];return this.gr.forEachInRange([l,h],E=>{this.wr(E),g.push(E.key)}),g}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Ke(new Xt([])),l=new Un(r,e),h=new Un(r,e+1);let g=At();return this.gr.forEachInRange([l,h],E=>{g=g.add(E.key)}),g}containsKey(e){const r=new Un(e,0),l=this.Vr.firstAfterOrEqual(r);return l!==null&&e.isEqual(l.key)}}class Un{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Ke.comparator(e.key,r.key)||wt(e.Cr,r.Cr)}static pr(e,r){return wt(e.Cr,r.Cr)||Ke.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Dn(Un.mr)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,l,h){const g=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const E=new dw(g,r,l,h);this.mutationQueue.push(E);for(const A of h)this.Mr=this.Mr.add(new Un(A.key,g)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return xe.resolve(E)}lookupMutationBatch(e,r){return xe.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const l=r+1,h=this.Nr(l),g=h<0?0:h;return xe.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?op:this.Fr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const l=new Un(r,0),h=new Un(r,Number.POSITIVE_INFINITY),g=[];return this.Mr.forEachInRange([l,h],E=>{const A=this.Or(E.Cr);g.push(A)}),xe.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,r){let l=new Dn(wt);return r.forEach(h=>{const g=new Un(h,0),E=new Un(h,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([g,E],A=>{l=l.add(A.Cr)})}),xe.resolve(this.Br(l))}getAllMutationBatchesAffectingQuery(e,r){const l=r.path,h=l.length+1;let g=l;Ke.isDocumentKey(g)||(g=g.child(""));const E=new Un(new Ke(g),0);let A=new Dn(wt);return this.Mr.forEachWhile(S=>{const w=S.key.path;return!!l.isPrefixOf(w)&&(w.length===h&&(A=A.add(S.Cr)),!0)},E),xe.resolve(this.Br(A))}Br(e){const r=[];return e.forEach(l=>{const h=this.Or(l);h!==null&&r.push(h)}),r}removeMutationBatch(e,r){Mt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let l=this.Mr;return xe.forEach(r.mutations,h=>{const g=new Un(h.key,r.batchId);return l=l.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Mr=l})}qn(e){}containsKey(e,r){const l=new Un(r,0),h=this.Mr.firstAfterOrEqual(l);return xe.resolve(r.isEqual(h&&h.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.kr=e,this.docs=function(){return new tn(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const l=r.key,h=this.docs.get(l),g=h?h.size:0,E=this.kr(r);return this.docs=this.docs.insert(l,{document:r.mutableCopy(),size:E}),this.size+=E-g,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const l=this.docs.get(r);return xe.resolve(l?l.document.mutableCopy():ar.newInvalidDocument(r))}getEntries(e,r){let l=oo();return r.forEach(h=>{const g=this.docs.get(h);l=l.insert(h,g?g.document.mutableCopy():ar.newInvalidDocument(h))}),xe.resolve(l)}getDocumentsMatchingQuery(e,r,l,h){let g=oo();const E=r.path,A=new Ke(E.child("__id-9223372036854775808__")),S=this.docs.getIteratorFrom(A);for(;S.hasNext();){const{key:w,value:{document:O}}=S.getNext();if(!E.isPrefixOf(w.path))break;w.path.length>E.length+1||I3(b3(O),l)<=0||(h.has(O.key)||Wh(r,O))&&(g=g.insert(O.key,O.mutableCopy()))}return xe.resolve(g)}getAllFromCollectionGroup(e,r,l,h){Ze()}qr(e,r){return xe.forEach(this.docs,l=>r(l))}newChangeBuffer(e){return new e4(this)}getSize(e){return xe.resolve(this.size)}}class e4 extends Xw{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?r.push(this.Ir.addEntry(e,h)):this.Ir.removeEntry(l)}),xe.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.persistence=e,this.Qr=new au(r=>lp(r),cp),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gp,this.targetCount=0,this.Ur=tl.Kn()}forEachTarget(e,r){return this.Qr.forEach((l,h)=>r(h)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,l){return l&&(this.lastRemoteSnapshotVersion=l),r>this.$r&&(this.$r=r),xe.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Ur=new tl(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,xe.resolve()}updateTargetData(e,r){return this.zn(r),xe.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Kr.Sr(r.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,r,l){let h=0;const g=[];return this.Qr.forEach((E,A)=>{A.sequenceNumber<=r&&l.get(A.targetId)===null&&(this.Qr.delete(E),g.push(this.removeMatchingKeysForTargetId(e,A.targetId)),h++)}),xe.waitFor(g).next(()=>h)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,r){const l=this.Qr.get(r)||null;return xe.resolve(l)}addMatchingKeys(e,r,l){return this.Kr.yr(r,l),xe.resolve()}removeMatchingKeys(e,r,l){this.Kr.br(r,l);const h=this.persistence.referenceDelegate,g=[];return h&&r.forEach(E=>{g.push(h.markPotentiallyOrphaned(e,E))}),xe.waitFor(g)}removeMatchingKeysForTargetId(e,r){return this.Kr.Sr(r),xe.resolve()}getMatchingKeysForTargetId(e,r){const l=this.Kr.vr(r);return xe.resolve(l)}containsKey(e,r){return xe.resolve(this.Kr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new qh(0),this.zr=!1,this.zr=!0,this.jr=new $w,this.referenceDelegate=e(this),this.Hr=new t4(this),this.indexManager=new Uw,this.remoteDocumentCache=function(h){return new Jw(h)}(l=>this.referenceDelegate.Jr(l)),this.serializer=new Bw(r),this.Yr=new Ww(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qw,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let l=this.Wr[e.toKey()];return l||(l=new Zw(r,this.referenceDelegate),this.Wr[e.toKey()]=l),l}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,l){Me("MemoryPersistence","Starting transaction:",e);const h=new n4(this.Gr.next());return this.referenceDelegate.Zr(),l(h).next(g=>this.referenceDelegate.Xr(h).next(()=>g)).toPromise().then(g=>(h.raiseOnCommittedEvent(),g))}ei(e,r){return xe.or(Object.values(this.Wr).map(l=>()=>l.containsKey(e,r)))}}class n4 extends O3{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.ti=new gp,this.ni=null}static ri(e){return new vp(e)}get ii(){if(this.ni)return this.ni;throw Ze()}addReference(e,r,l){return this.ti.addReference(l,r),this.ii.delete(l.toString()),xe.resolve()}removeReference(e,r,l){return this.ti.removeReference(l,r),this.ii.add(l.toString()),xe.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),xe.resolve()}removeTarget(e,r){this.ti.Sr(r.targetId).forEach(h=>this.ii.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,r.targetId).next(h=>{h.forEach(g=>this.ii.add(g.toString()))}).next(()=>l.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.ii,l=>{const h=Ke.fromPath(l);return this.si(e,h).next(g=>{g||r.removeEntry(h,nt.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(l=>{l?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return xe.or([()=>xe.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class Ph{constructor(e,r){this.persistence=e,this.oi=new au(l=>P3(l.path),(l,h)=>l.isEqual(h)),this.garbageCollector=qw(this,r)}static ri(e,r){return new Ph(e,r)}Zr(){}Xr(e){return xe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(l=>r.next(h=>l+h))}sr(e){let r=0;return this.rr(e,l=>{r++}).next(()=>r)}rr(e,r){return xe.forEach(this.oi,(l,h)=>this.ar(e,l,h).next(g=>g?xe.resolve():r(h)))}removeTargets(e,r,l){return this.persistence.getTargetCache().removeTargets(e,r,l)}removeOrphanedDocuments(e,r){let l=0;const h=this.persistence.getRemoteDocumentCache(),g=h.newChangeBuffer();return h.qr(e,E=>this.ar(e,E,r).next(A=>{A||(l++,g.removeEntry(E,nt.min()))})).next(()=>g.apply(e)).next(()=>l)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),xe.resolve()}removeTarget(e,r){const l=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,l)}addReference(e,r,l){return this.oi.set(l,e.currentSequenceNumber),xe.resolve()}removeReference(e,r,l){return this.oi.set(l,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),xe.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=sh(e.data.value)),r}ar(e,r,l){return xe.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const h=this.oi.get(r);return xe.resolve(h!==void 0&&h>l)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,r,l,h){this.targetId=e,this.fromCache=r,this.Hi=l,this.Ji=h}static Yi(e,r){let l=At(),h=At();for(const g of r.docChanges)switch(g.type){case 0:l=l.add(g.doc.key);break;case 1:h=h.add(g.doc.key)}return new mp(e,r.fromCache,l,h)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eC()?8:D3(or())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,l,h){const g={result:null};return this.rs(e,r).next(E=>{g.result=E}).next(()=>{if(!g.result)return this.ss(e,r,h,l).next(E=>{g.result=E})}).next(()=>{if(g.result)return;const E=new r4;return this._s(e,r,E).next(A=>{if(g.result=A,this.Xi)return this.us(e,r,E,A.size)})}).next(()=>g.result)}us(e,r,l,h){return l.documentReadCount<this.es?(Fu()<=xt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",zu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),xe.resolve()):(Fu()<=xt.DEBUG&&Me("QueryEngine","Query:",zu(r),"scans",l.documentReadCount,"local documents and returns",h,"documents as results."),l.documentReadCount>this.ts*h?(Fu()<=xt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",zu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pa(r))):xe.resolve())}rs(e,r){if(sy(r))return xe.resolve(null);let l=pa(r);return this.indexManager.getIndexType(e,l).next(h=>h===0?null:(r.limit!==null&&h===1&&(r=O1(r,null,"F"),l=pa(r)),this.indexManager.getDocumentsMatchingTarget(e,l).next(g=>{const E=At(...g);return this.ns.getDocuments(e,E).next(A=>this.indexManager.getMinOffset(e,l).next(S=>{const w=this.cs(r,A);return this.ls(r,w,E,S.readTime)?this.rs(e,O1(r,null,"F")):this.hs(e,w,r,S)}))})))}ss(e,r,l,h){return sy(r)||h.isEqual(nt.min())?xe.resolve(null):this.ns.getDocuments(e,l).next(g=>{const E=this.cs(r,g);return this.ls(r,E,l,h)?xe.resolve(null):(Fu()<=xt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),zu(r)),this.hs(e,E,r,w3(h,vc)).next(A=>A))})}cs(e,r){let l=new Dn(D_(e));return r.forEach((h,g)=>{Wh(e,g)&&(l=l.add(g))}),l}ls(e,r,l,h){if(e.limit===null)return!1;if(l.size!==r.size)return!0;const g=e.limitType==="F"?r.last():r.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)}_s(e,r,l){return Fu()<=xt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",zu(r)),this.ns.getDocumentsMatchingQuery(e,r,ns.min(),l)}hs(e,r,l,h){return this.ns.getDocumentsMatchingQuery(e,l,h).next(g=>(r.forEach(E=>{g=g.insert(E.key,E)}),g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="LocalStore",a4=3e8;class o4{constructor(e,r,l,h){this.persistence=e,this.Ps=r,this.serializer=h,this.Ts=new tn(wt),this.Is=new au(g=>lp(g),cp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(l)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function s4(s,e,r,l){return new o4(s,e,r,l)}async function tE(s,e){const r=it(s);return await r.persistence.runTransaction("Handle user change","readonly",l=>{let h;return r.mutationQueue.getAllMutationBatches(l).next(g=>(h=g,r.As(e),r.mutationQueue.getAllMutationBatches(l))).next(g=>{const E=[],A=[];let S=At();for(const w of h){E.push(w.batchId);for(const O of w.mutations)S=S.add(O.key)}for(const w of g){A.push(w.batchId);for(const O of w.mutations)S=S.add(O.key)}return r.localDocuments.getDocuments(l,S).next(w=>({Rs:w,removedBatchIds:E,addedBatchIds:A}))})})}function u4(s,e){const r=it(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),g=r.ds.newChangeBuffer({trackRemovals:!0});return function(A,S,w,O){const k=w.batch,L=k.keys();let X=xe.resolve();return L.forEach(j=>{X=X.next(()=>O.getEntry(S,j)).next(J=>{const ce=w.docVersions.get(j);Mt(ce!==null),J.version.compareTo(ce)<0&&(k.applyToRemoteDocument(J,w),J.isValidDocument()&&(J.setReadTime(w.commitVersion),O.addEntry(J)))})}),X.next(()=>A.mutationQueue.removeMutationBatch(S,k))}(r,l,e,g).next(()=>g.apply(l)).next(()=>r.mutationQueue.performConsistencyCheck(l)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(A){let S=At();for(let w=0;w<A.mutationResults.length;++w)A.mutationResults[w].transformResults.length>0&&(S=S.add(A.batch.mutations[w].key));return S}(e))).next(()=>r.localDocuments.getDocuments(l,h))})}function nE(s){const e=it(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function l4(s,e){const r=it(s),l=e.snapshotVersion;let h=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const E=r.ds.newChangeBuffer({trackRemovals:!0});h=r.Ts;const A=[];e.targetChanges.forEach((O,k)=>{const L=h.get(k);if(!L)return;A.push(r.Hr.removeMatchingKeys(g,O.removedDocuments,k).next(()=>r.Hr.addMatchingKeys(g,O.addedDocuments,k)));let X=L.withSequenceNumber(g.currentSequenceNumber);e.targetMismatches.get(k)!==null?X=X.withResumeToken(Qn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):O.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(O.resumeToken,l)),h=h.insert(k,X),function(J,ce,ae){return J.resumeToken.approximateByteSize()===0||ce.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=a4?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0}(L,X,O)&&A.push(r.Hr.updateTargetData(g,X))});let S=oo(),w=At();if(e.documentUpdates.forEach(O=>{e.resolvedLimboDocuments.has(O)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(g,O))}),A.push(c4(g,E,e.documentUpdates).next(O=>{S=O.Vs,w=O.fs})),!l.isEqual(nt.min())){const O=r.Hr.getLastRemoteSnapshotVersion(g).next(k=>r.Hr.setTargetsMetadata(g,g.currentSequenceNumber,l));A.push(O)}return xe.waitFor(A).next(()=>E.apply(g)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,S,w)).next(()=>S)}).then(g=>(r.Ts=h,g))}function c4(s,e,r){let l=At(),h=At();return r.forEach(g=>l=l.add(g)),e.getEntries(s,l).next(g=>{let E=oo();return r.forEach((A,S)=>{const w=g.get(A);S.isFoundDocument()!==w.isFoundDocument()&&(h=h.add(A)),S.isNoDocument()&&S.version.isEqual(nt.min())?(e.removeEntry(A,S.readTime),E=E.insert(A,S)):!w.isValidDocument()||S.version.compareTo(w.version)>0||S.version.compareTo(w.version)===0&&w.hasPendingWrites?(e.addEntry(S),E=E.insert(A,S)):Me(yp,"Ignoring outdated watch update for ",A,". Current version:",w.version," Watch version:",S.version)}),{Vs:E,fs:h}})}function f4(s,e){const r=it(s);return r.persistence.runTransaction("Get next mutation batch","readonly",l=>(e===void 0&&(e=op),r.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function h4(s,e){const r=it(s);return r.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return r.Hr.getTargetData(l,e).next(g=>g?(h=g,xe.resolve(h)):r.Hr.allocateTargetId(l).next(E=>(h=new Wo(e,E,"TargetPurposeListen",l.currentSequenceNumber),r.Hr.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=r.Ts.get(l.targetId);return(h===null||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(l.targetId,l),r.Is.set(e,l.targetId)),l})}async function L1(s,e,r){const l=it(s),h=l.Ts.get(e),g=r?"readwrite":"readwrite-primary";try{r||await l.persistence.runTransaction("Release target",g,E=>l.persistence.referenceDelegate.removeTarget(E,h))}catch(E){if(!fl(E))throw E;Me(yp,`Failed to update sequence numbers for target ${e}: ${E}`)}l.Ts=l.Ts.remove(e),l.Is.delete(h.target)}function Ey(s,e,r){const l=it(s);let h=nt.min(),g=At();return l.persistence.runTransaction("Execute query","readwrite",E=>function(S,w,O){const k=it(S),L=k.Is.get(O);return L!==void 0?xe.resolve(k.Ts.get(L)):k.Hr.getTargetData(w,O)}(l,E,pa(e)).next(A=>{if(A)return h=A.lastLimboFreeSnapshotVersion,l.Hr.getMatchingKeysForTargetId(E,A.targetId).next(S=>{g=S})}).next(()=>l.Ps.getDocumentsMatchingQuery(E,e,r?h:nt.min(),r?g:At())).next(A=>(d4(l,Z3(e),A),{documents:A,gs:g})))}function d4(s,e,r){let l=s.Es.get(e)||nt.min();r.forEach((h,g)=>{g.readTime.compareTo(l)>0&&(l=g.readTime)}),s.Es.set(e,l)}class xy{constructor(){this.activeTargetIds=iw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p4{constructor(){this.ho=new xy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,l){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,l){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new xy,Promise.resolve()}handleUserChange(e,r,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="ConnectivityMonitor";class Ty{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Me(Ay,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Me(Ay,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function k1(){return Zf===null?Zf=function(){return 268435456+Math.round(2147483648*Math.random())}():Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="RestConnection",v4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${l}/databases/${h}`,this.wo=this.databaseId.database===wh?`project_id=${l}`:`project_id=${l}&database_id=${h}`}bo(e,r,l,h,g){const E=k1(),A=this.So(e,r.toUriEncodedString());Me(Z0,`Sending RPC '${e}' ${E}:`,A,l);const S={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(S,h,g),this.vo(e,A,S,l).then(w=>(Me(Z0,`Received RPC '${e}' ${E}: `,w),w),w=>{throw $u(Z0,`RPC '${e}' ${E} failed with error: `,w,"url: ",A,"request:",l),w})}Co(e,r,l,h,g,E){return this.bo(e,r,l,h,g)}Do(e,r,l){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((h,g)=>e[g]=h),l&&l.headers.forEach((h,g)=>e[g]=h)}So(e,r){const l=v4[e];return`${this.po}/v1/${r}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection";class _4 extends m4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,l,h){const g=k1();return new Promise((E,A)=>{const S=new a_;S.setWithCredentials(!0),S.listenOnce(o_.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case oh.NO_ERROR:const O=S.getResponseJson();Me(rr,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(O)),E(O);break;case oh.TIMEOUT:Me(rr,`RPC '${e}' ${g} timed out`),A(new Be(Te.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const k=S.getStatus();if(Me(rr,`RPC '${e}' ${g} failed with status:`,k,"response text:",S.getResponseText()),k>0){let L=S.getResponseJson();Array.isArray(L)&&(L=L[0]);const X=L==null?void 0:L.error;if(X&&X.status&&X.message){const j=function(ce){const ae=ce.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(ae)>=0?ae:Te.UNKNOWN}(X.status);A(new Be(j,X.message))}else A(new Be(Te.UNKNOWN,"Server responded with status "+S.getStatus()))}else A(new Be(Te.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Me(rr,`RPC '${e}' ${g} completed.`)}});const w=JSON.stringify(h);Me(rr,`RPC '${e}' ${g} sending request:`,h),S.send(r,"POST",w,l,15)})}Wo(e,r,l){const h=k1(),g=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=l_(),A=u_(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(S.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(S.useFetchStreams=!0),this.Do(S.initMessageHeaders,r,l),S.encodeInitMessageHeaders=!0;const O=g.join("");Me(rr,`Creating RPC '${e}' stream ${h}: ${O}`,S);const k=E.createWebChannel(O,S);let L=!1,X=!1;const j=new y4({Fo:ce=>{X?Me(rr,`Not sending because RPC '${e}' stream ${h} is closed:`,ce):(L||(Me(rr,`Opening RPC '${e}' stream ${h} transport.`),k.open(),L=!0),Me(rr,`RPC '${e}' stream ${h} sending:`,ce),k.send(ce))},Mo:()=>k.close()}),J=(ce,ae,Ae)=>{ce.listen(ae,Se=>{try{Ae(Se)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return J(k,ac.EventType.OPEN,()=>{X||(Me(rr,`RPC '${e}' stream ${h} transport opened.`),j.Qo())}),J(k,ac.EventType.CLOSE,()=>{X||(X=!0,Me(rr,`RPC '${e}' stream ${h} transport closed`),j.Ko())}),J(k,ac.EventType.ERROR,ce=>{X||(X=!0,$u(rr,`RPC '${e}' stream ${h} transport errored:`,ce),j.Ko(new Be(Te.UNAVAILABLE,"The operation could not be completed")))}),J(k,ac.EventType.MESSAGE,ce=>{var ae;if(!X){const Ae=ce.data[0];Mt(!!Ae);const Se=Ae,Ue=(Se==null?void 0:Se.error)||((ae=Se[0])===null||ae===void 0?void 0:ae.error);if(Ue){Me(rr,`RPC '${e}' stream ${h} received error:`,Ue);const Pe=Ue.status;let We=function(H){const K=Tn[H];if(K!==void 0)return G_(K)}(Pe),$=Ue.message;We===void 0&&(We=Te.INTERNAL,$="Unknown error status: "+Pe+" with message "+Ue.message),X=!0,j.Ko(new Be(We,$)),k.close()}else Me(rr,`RPC '${e}' stream ${h} received:`,Ae),j.Uo(Ae)}}),J(A,s_.STAT_EVENT,ce=>{ce.stat===S1.PROXY?Me(rr,`RPC '${e}' stream ${h} detected buffering proxy`):ce.stat===S1.NOPROXY&&Me(rr,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function J0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(s){return new Tw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,r,l=1e3,h=1.5,g=6e4){this.Ti=e,this.timerId=r,this.Go=l,this.zo=h,this.jo=g,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),l=Math.max(0,Date.now()-this.Yo),h=Math.max(0,r-l);h>0&&Me("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${l} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,h,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="PersistentStream";class iE{constructor(e,r,l,h,g,E,A,S){this.Ti=e,this.n_=l,this.r_=h,this.connection=g,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=A,this.listener=S,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rE(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Te.RESOURCE_EXHAUSTED?(ao(r.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.i_===r&&this.V_(l,h)},l=>{e(()=>{const h=new Be(Te.UNKNOWN,"Fetching auth token failed: "+l.message);return this.m_(h)})})}V_(e,r){const l=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{l(()=>this.listener.xo())}),this.stream.No(()=>{l(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(h=>{l(()=>this.m_(h))}),this.stream.onMessage(h=>{l(()=>++this.__==1?this.g_(h):this.onNext(h))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Me(Sy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(Me(Sy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E4 extends iE{constructor(e,r,l,h,g,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,l,h,E),this.serializer=g}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=ww(this.serializer,e),l=function(g){if(!("targetChange"in g))return nt.min();const E=g.targetChange;return E.targetIds&&E.targetIds.length?nt.min():E.readTime?va(E.readTime):nt.min()}(e);return this.listener.p_(r,l)}y_(e){const r={};r.database=M1(this.serializer),r.addTarget=function(g,E){let A;const S=E.target;if(A=I1(S)?{documents:Rw(g,S)}:{query:Ow(g,S).ht},A.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){A.resumeToken=X_(g,E.resumeToken);const w=D1(g,E.expectedCount);w!==null&&(A.expectedCount=w)}else if(E.snapshotVersion.compareTo(nt.min())>0){A.readTime=Nh(g,E.snapshotVersion.toTimestamp());const w=D1(g,E.expectedCount);w!==null&&(A.expectedCount=w)}return A}(this.serializer,e);const l=Nw(this.serializer,e);l&&(r.labels=l),this.I_(r)}w_(e){const r={};r.database=M1(this.serializer),r.removeTarget=e,this.I_(r)}}class x4 extends iE{constructor(e,r,l,h,g,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,l,h,E),this.serializer=g}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=Iw(e.writeResults,e.commitTime),l=va(e.commitTime);return this.listener.v_(l,r)}C_(){const e={};e.database=M1(this.serializer),this.I_(e)}S_(e){const r={streamToken:this.lastStreamToken,writes:e.map(l=>bw(this.serializer,l))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{}class T4 extends A4{constructor(e,r,l,h){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=l,this.serializer=h,this.F_=!1}M_(){if(this.F_)throw new Be(Te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,r,l,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,E])=>this.connection.bo(e,N1(r,l),h,g,E)).catch(g=>{throw g.name==="FirebaseError"?(g.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Be(Te.UNKNOWN,g.toString())})}Co(e,r,l,h,g){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,A])=>this.connection.Co(e,N1(r,l),h,E,A,g)).catch(E=>{throw E.name==="FirebaseError"?(E.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Be(Te.UNKNOWN,E.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class S4{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ao(r),this.N_=!1):Me("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="RemoteStore";class C4{constructor(e,r,l,h,g){this.localStore=e,this.datastore=r,this.asyncQueue=l,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=g,this.z_.To(E=>{l.enqueueAndForget(async()=>{ou(this)&&(Me(nu,"Restarting streams for network reachability change."),await async function(S){const w=it(S);w.W_.add(4),await Nc(w),w.j_.set("Unknown"),w.W_.delete(4),await ed(w)}(this))})}),this.j_=new S4(l,h)}}async function ed(s){if(ou(s))for(const e of s.G_)await e(!0)}async function Nc(s){for(const e of s.G_)await e(!1)}function aE(s,e){const r=it(s);r.U_.has(e.targetId)||(r.U_.set(e.targetId,e),Ap(r)?xp(r):hl(r).c_()&&Ep(r,e))}function _p(s,e){const r=it(s),l=hl(r);r.U_.delete(e),l.c_()&&oE(r,e),r.U_.size===0&&(l.c_()?l.P_():ou(r)&&r.j_.set("Unknown"))}function Ep(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}hl(s).y_(e)}function oE(s,e){s.H_.Ne(e),hl(s).w_(e)}function xp(s){s.H_=new _w({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),hl(s).start(),s.j_.B_()}function Ap(s){return ou(s)&&!hl(s).u_()&&s.U_.size>0}function ou(s){return it(s).W_.size===0}function sE(s){s.H_=void 0}async function w4(s){s.j_.set("Online")}async function b4(s){s.U_.forEach((e,r)=>{Ep(s,e)})}async function I4(s,e){sE(s),Ap(s)?(s.j_.q_(e),xp(s)):s.j_.set("Unknown")}async function R4(s,e,r){if(s.j_.set("Online"),e instanceof q_&&e.state===2&&e.cause)try{await async function(h,g){const E=g.cause;for(const A of g.targetIds)h.U_.has(A)&&(await h.remoteSyncer.rejectListen(A,E),h.U_.delete(A),h.H_.removeTarget(A))}(s,e)}catch(l){Me(nu,"Failed to remove targets %s: %s ",e.targetIds.join(","),l),await Mh(s,l)}else if(e instanceof ch?s.H_.We(e):e instanceof j_?s.H_.Ze(e):s.H_.je(e),!r.isEqual(nt.min()))try{const l=await nE(s.localStore);r.compareTo(l)>=0&&await function(g,E){const A=g.H_.ot(E);return A.targetChanges.forEach((S,w)=>{if(S.resumeToken.approximateByteSize()>0){const O=g.U_.get(w);O&&g.U_.set(w,O.withResumeToken(S.resumeToken,E))}}),A.targetMismatches.forEach((S,w)=>{const O=g.U_.get(S);if(!O)return;g.U_.set(S,O.withResumeToken(Qn.EMPTY_BYTE_STRING,O.snapshotVersion)),oE(g,S);const k=new Wo(O.target,S,w,O.sequenceNumber);Ep(g,k)}),g.remoteSyncer.applyRemoteEvent(A)}(s,r)}catch(l){Me(nu,"Failed to raise snapshot:",l),await Mh(s,l)}}async function Mh(s,e,r){if(!fl(e))throw e;s.W_.add(1),await Nc(s),s.j_.set("Offline"),r||(r=()=>nE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Me(nu,"Retrying IndexedDB access"),await r(),s.W_.delete(1),await ed(s)})}function uE(s,e){return e().catch(r=>Mh(s,r,e))}async function td(s){const e=it(s),r=os(e);let l=e.K_.length>0?e.K_[e.K_.length-1].batchId:op;for(;O4(e);)try{const h=await f4(e.localStore,l);if(h===null){e.K_.length===0&&r.P_();break}l=h.batchId,D4(e,h)}catch(h){await Mh(e,h)}lE(e)&&cE(e)}function O4(s){return ou(s)&&s.K_.length<10}function D4(s,e){s.K_.push(e);const r=os(s);r.c_()&&r.b_&&r.S_(e.mutations)}function lE(s){return ou(s)&&!os(s).u_()&&s.K_.length>0}function cE(s){os(s).start()}async function N4(s){os(s).C_()}async function P4(s){const e=os(s);for(const r of s.K_)e.S_(r.mutations)}async function M4(s,e,r){const l=s.K_.shift(),h=hp.from(l,e,r);await uE(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),await td(s)}async function L4(s,e){e&&os(s).b_&&await async function(l,h){if(function(E){return vw(E)&&E!==Te.ABORTED}(h.code)){const g=l.K_.shift();os(l).h_(),await uE(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,h)),await td(l)}}(s,e),lE(s)&&cE(s)}async function Cy(s,e){const r=it(s);r.asyncQueue.verifyOperationInProgress(),Me(nu,"RemoteStore received new credentials");const l=ou(r);r.W_.add(3),await Nc(r),l&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await ed(r)}async function k4(s,e){const r=it(s);e?(r.W_.delete(2),await ed(r)):e||(r.W_.add(2),await Nc(r),r.j_.set("Unknown"))}function hl(s){return s.J_||(s.J_=function(r,l,h){const g=it(r);return g.M_(),new E4(l,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,h)}(s.datastore,s.asyncQueue,{xo:w4.bind(null,s),No:b4.bind(null,s),Lo:I4.bind(null,s),p_:R4.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Ap(s)?xp(s):s.j_.set("Unknown")):(await s.J_.stop(),sE(s))})),s.J_}function os(s){return s.Y_||(s.Y_=function(r,l,h){const g=it(r);return g.M_(),new x4(l,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,h)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:N4.bind(null,s),Lo:L4.bind(null,s),D_:P4.bind(null,s),v_:M4.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await td(s)):(await s.Y_.stop(),s.K_.length>0&&(Me(nu,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r,l,h,g){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=l,this.op=h,this.removalCallback=g,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,l,h,g){const E=Date.now()+l,A=new Tp(e,r,E,h,g);return A.start(l),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(s,e){if(ao("AsyncQueue",`${e}: ${s}`),fl(s))return new Be(Te.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(r,l)=>e(r,l)||Ke.comparator(r.key,l.key):(r,l)=>Ke.comparator(r.key,l.key),this.keyedMap=oc(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,l)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;r.hasNext();){const h=r.getNext().key,g=l.getNext().key;if(!h.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const l=new qu;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=r,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Z_=new tn(Ke.comparator)}track(e){const r=e.doc.key,l=this.Z_.get(r);l?e.type!==0&&l.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&l.type!==1?this.Z_=this.Z_.insert(r,{type:l.type,doc:e.doc}):e.type===2&&l.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&l.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&l.type===0?this.Z_=this.Z_.remove(r):e.type===1&&l.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:l.doc}):e.type===0&&l.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):Ze():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,l)=>{e.push(l)}),e}}class nl{constructor(e,r,l,h,g,E,A,S,w){this.query=e,this.docs=r,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=g,this.fromCache=E,this.syncStateChanged=A,this.excludesMetadataChanges=S,this.hasCachedResults=w}static fromInitialDocuments(e,r,l,h,g){const E=[];return r.forEach(A=>{E.push({type:0,doc:A})}),new nl(e,r,qu.emptySet(r),E,l,h,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,l=e.docChanges;if(r.length!==l.length)return!1;for(let h=0;h<r.length;h++)if(r[h].type!==l[h].type||!r[h].doc.isEqual(l[h].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class V4{constructor(){this.queries=by(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,l){const h=it(r),g=h.queries;h.queries=by(),g.forEach((E,A)=>{for(const S of A.ta)S.onError(l)})})(this,new Be(Te.ABORTED,"Firestore shutting down"))}}function by(){return new au(s=>O_(s),Kh)}async function U4(s,e){const r=it(s);let l=3;const h=e.query;let g=r.queries.get(h);g?!g.na()&&e.ra()&&(l=2):(g=new B4,l=e.ra()?0:1);try{switch(l){case 0:g.ea=await r.onListen(h,!0);break;case 1:g.ea=await r.onListen(h,!1);break;case 2:await r.onFirstRemoteStoreListen(h)}}catch(E){const A=Sp(E,`Initialization of query '${zu(e.query)}' failed`);return void e.onError(A)}r.queries.set(h,g),g.ta.push(e),e.sa(r.onlineState),g.ea&&e.oa(g.ea)&&Cp(r)}async function F4(s,e){const r=it(s),l=e.query;let h=3;const g=r.queries.get(l);if(g){const E=g.ta.indexOf(e);E>=0&&(g.ta.splice(E,1),g.ta.length===0?h=e.ra()?0:1:!g.na()&&e.ra()&&(h=2))}switch(h){case 0:return r.queries.delete(l),r.onUnlisten(l,!0);case 1:return r.queries.delete(l),r.onUnlisten(l,!1);case 2:return r.onLastRemoteStoreUnlisten(l);default:return}}function z4(s,e){const r=it(s);let l=!1;for(const h of e){const g=h.query,E=r.queries.get(g);if(E){for(const A of E.ta)A.oa(h)&&(l=!0);E.ea=h}}l&&Cp(r)}function H4(s,e,r){const l=it(s),h=l.queries.get(e);if(h)for(const g of h.ta)g.onError(r);l.queries.delete(e)}function Cp(s){s.ia.forEach(e=>{e.next()})}var B1,Iy;(Iy=B1||(B1={}))._a="default",Iy.Cache="cache";class G4{constructor(e,r,l){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=l||{}}oa(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)h.type!==3&&l.push(h);e=new nl(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const l=r!=="Offline";return(!this.options.Ta||!l)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==B1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class j4{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=At(),this.mutatedKeys=At(),this.ya=D_(e),this.wa=new qu(this.ya)}get ba(){return this.fa}Sa(e,r){const l=r?r.Da:new wy,h=r?r.wa:this.wa;let g=r?r.mutatedKeys:this.mutatedKeys,E=h,A=!1;const S=this.query.limitType==="F"&&h.size===this.query.limit?h.last():null,w=this.query.limitType==="L"&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((O,k)=>{const L=h.get(O),X=Wh(this.query,k)?k:null,j=!!L&&this.mutatedKeys.has(L.key),J=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let ce=!1;L&&X?L.data.isEqual(X.data)?j!==J&&(l.track({type:3,doc:X}),ce=!0):this.va(L,X)||(l.track({type:2,doc:X}),ce=!0,(S&&this.ya(X,S)>0||w&&this.ya(X,w)<0)&&(A=!0)):!L&&X?(l.track({type:0,doc:X}),ce=!0):L&&!X&&(l.track({type:1,doc:L}),ce=!0,(S||w)&&(A=!0)),ce&&(X?(E=E.add(X),g=J?g.add(O):g.delete(O)):(E=E.delete(O),g=g.delete(O)))}),this.query.limit!==null)for(;E.size>this.query.limit;){const O=this.query.limitType==="F"?E.last():E.first();E=E.delete(O.key),g=g.delete(O.key),l.track({type:1,doc:O})}return{wa:E,Da:l,ls:A,mutatedKeys:g}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,l,h){const g=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const E=e.Da.X_();E.sort((O,k)=>function(X,j){const J=ce=>{switch(ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return J(X)-J(j)}(O.type,k.type)||this.ya(O.doc,k.doc)),this.Ca(l),h=h!=null&&h;const A=r&&!h?this.Fa():[],S=this.pa.size===0&&this.current&&!h?1:0,w=S!==this.ga;return this.ga=S,E.length!==0||w?{snapshot:new nl(this.query,e.wa,g,E,e.mutatedKeys,S===0,w,!1,!!l&&l.resumeToken.approximateByteSize()>0),Ma:A}:{Ma:A}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new wy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=At(),this.wa.forEach(l=>{this.xa(l.key)&&(this.pa=this.pa.add(l.key))});const r=[];return e.forEach(l=>{this.pa.has(l)||r.push(new hE(l))}),this.pa.forEach(l=>{e.has(l)||r.push(new fE(l))}),r}Oa(e){this.fa=e.gs,this.pa=At();const r=this.Sa(e.documents);return this.applyChanges(r,!0)}Na(){return nl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wp="SyncEngine";class q4{constructor(e,r,l){this.query=e,this.targetId=r,this.view=l}}class X4{constructor(e){this.key=e,this.Ba=!1}}class Y4{constructor(e,r,l,h,g,E){this.localStore=e,this.remoteStore=r,this.eventManager=l,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=E,this.La={},this.ka=new au(A=>O_(A),Kh),this.qa=new Map,this.Qa=new Set,this.$a=new tn(Ke.comparator),this.Ka=new Map,this.Ua=new gp,this.Wa={},this.Ga=new Map,this.za=tl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function K4(s,e,r=!0){const l=yE(s);let h;const g=l.ka.get(e);return g?(l.sharedClientState.addLocalQueryTarget(g.targetId),h=g.view.Na()):h=await dE(l,e,r,!0),h}async function W4(s,e){const r=yE(s);await dE(r,e,!0,!1)}async function dE(s,e,r,l){const h=await h4(s.localStore,pa(e)),g=h.targetId,E=s.sharedClientState.addLocalQueryTarget(g,r);let A;return l&&(A=await Q4(s,e,g,E==="current",h.resumeToken)),s.isPrimaryClient&&r&&aE(s.remoteStore,h),A}async function Q4(s,e,r,l,h){s.Ha=(k,L,X)=>async function(J,ce,ae,Ae){let Se=ce.view.Sa(ae);Se.ls&&(Se=await Ey(J.localStore,ce.query,!1).then(({documents:$})=>ce.view.Sa($,Se)));const Ue=Ae&&Ae.targetChanges.get(ce.targetId),Pe=Ae&&Ae.targetMismatches.get(ce.targetId)!=null,We=ce.view.applyChanges(Se,J.isPrimaryClient,Ue,Pe);return Oy(J,ce.targetId,We.Ma),We.snapshot}(s,k,L,X);const g=await Ey(s.localStore,e,!0),E=new j4(e,g.gs),A=E.Sa(g.documents),S=Dc.createSynthesizedTargetChangeForCurrentChange(r,l&&s.onlineState!=="Offline",h),w=E.applyChanges(A,s.isPrimaryClient,S);Oy(s,r,w.Ma);const O=new q4(e,r,E);return s.ka.set(e,O),s.qa.has(r)?s.qa.get(r).push(e):s.qa.set(r,[e]),w.snapshot}async function $4(s,e,r){const l=it(s),h=l.ka.get(e),g=l.qa.get(h.targetId);if(g.length>1)return l.qa.set(h.targetId,g.filter(E=>!Kh(E,e))),void l.ka.delete(e);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)||await L1(l.localStore,h.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(h.targetId),r&&_p(l.remoteStore,h.targetId),V1(l,h.targetId)}).catch(cl)):(V1(l,h.targetId),await L1(l.localStore,h.targetId,!0))}async function Z4(s,e){const r=it(s),l=r.ka.get(e),h=r.qa.get(l.targetId);r.isPrimaryClient&&h.length===1&&(r.sharedClientState.removeLocalQueryTarget(l.targetId),_p(r.remoteStore,l.targetId))}async function J4(s,e,r){const l=ob(s);try{const h=await function(E,A){const S=it(E),w=On.now(),O=A.reduce((X,j)=>X.add(j.key),At());let k,L;return S.persistence.runTransaction("Locally write mutations","readwrite",X=>{let j=oo(),J=At();return S.ds.getEntries(X,O).next(ce=>{j=ce,j.forEach((ae,Ae)=>{Ae.isValidDocument()||(J=J.add(ae))})}).next(()=>S.localDocuments.getOverlayedDocuments(X,j)).next(ce=>{k=ce;const ae=[];for(const Ae of A){const Se=fw(Ae,k.get(Ae.key).overlayedDocument);Se!=null&&ae.push(new ls(Ae.key,Se,x_(Se.value.mapValue),ga.exists(!0)))}return S.mutationQueue.addMutationBatch(X,w,ae,A)}).next(ce=>{L=ce;const ae=ce.applyToLocalDocumentSet(k,J);return S.documentOverlayCache.saveOverlays(X,ce.batchId,ae)})}).then(()=>({batchId:L.batchId,changes:P_(k)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(E,A,S){let w=E.Wa[E.currentUser.toKey()];w||(w=new tn(wt)),w=w.insert(A,S),E.Wa[E.currentUser.toKey()]=w}(l,h.batchId,r),await Pc(l,h.changes),await td(l.remoteStore)}catch(h){const g=Sp(h,"Failed to persist write");r.reject(g)}}async function pE(s,e){const r=it(s);try{const l=await l4(r.localStore,e);e.targetChanges.forEach((h,g)=>{const E=r.Ka.get(g);E&&(Mt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?E.Ba=!0:h.modifiedDocuments.size>0?Mt(E.Ba):h.removedDocuments.size>0&&(Mt(E.Ba),E.Ba=!1))}),await Pc(r,l,e)}catch(l){await cl(l)}}function Ry(s,e,r){const l=it(s);if(l.isPrimaryClient&&r===0||!l.isPrimaryClient&&r===1){const h=[];l.ka.forEach((g,E)=>{const A=E.view.sa(e);A.snapshot&&h.push(A.snapshot)}),function(E,A){const S=it(E);S.onlineState=A;let w=!1;S.queries.forEach((O,k)=>{for(const L of k.ta)L.sa(A)&&(w=!0)}),w&&Cp(S)}(l.eventManager,e),h.length&&l.La.p_(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}async function eb(s,e,r){const l=it(s);l.sharedClientState.updateQueryState(e,"rejected",r);const h=l.Ka.get(e),g=h&&h.key;if(g){let E=new tn(Ke.comparator);E=E.insert(g,ar.newNoDocument(g,nt.min()));const A=At().add(g),S=new Zh(nt.min(),new Map,new tn(wt),E,A);await pE(l,S),l.$a=l.$a.remove(g),l.Ka.delete(e),bp(l)}else await L1(l.localStore,e,!1).then(()=>V1(l,e,r)).catch(cl)}async function tb(s,e){const r=it(s),l=e.batch.batchId;try{const h=await u4(r.localStore,e);vE(r,l,null),gE(r,l),r.sharedClientState.updateMutationState(l,"acknowledged"),await Pc(r,h)}catch(h){await cl(h)}}async function nb(s,e,r){const l=it(s);try{const h=await function(E,A){const S=it(E);return S.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let O;return S.mutationQueue.lookupMutationBatch(w,A).next(k=>(Mt(k!==null),O=k.keys(),S.mutationQueue.removeMutationBatch(w,k))).next(()=>S.mutationQueue.performConsistencyCheck(w)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(w,O,A)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,O)).next(()=>S.localDocuments.getDocuments(w,O))})}(l.localStore,e);vE(l,e,r),gE(l,e),l.sharedClientState.updateMutationState(e,"rejected",r),await Pc(l,h)}catch(h){await cl(h)}}function gE(s,e){(s.Ga.get(e)||[]).forEach(r=>{r.resolve()}),s.Ga.delete(e)}function vE(s,e,r){const l=it(s);let h=l.Wa[l.currentUser.toKey()];if(h){const g=h.get(e);g&&(r?g.reject(r):g.resolve(),h=h.remove(e)),l.Wa[l.currentUser.toKey()]=h}}function V1(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s.qa.get(e))s.ka.delete(l),r&&s.La.Ja(l,r);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(l=>{s.Ua.containsKey(l)||mE(s,l)})}function mE(s,e){s.Qa.delete(e.path.canonicalString());const r=s.$a.get(e);r!==null&&(_p(s.remoteStore,r),s.$a=s.$a.remove(e),s.Ka.delete(r),bp(s))}function Oy(s,e,r){for(const l of r)l instanceof fE?(s.Ua.addReference(l.key,e),rb(s,l)):l instanceof hE?(Me(wp,"Document no longer in limbo: "+l.key),s.Ua.removeReference(l.key,e),s.Ua.containsKey(l.key)||mE(s,l.key)):Ze()}function rb(s,e){const r=e.key,l=r.path.canonicalString();s.$a.get(r)||s.Qa.has(l)||(Me(wp,"New document in limbo: "+r),s.Qa.add(l),bp(s))}function bp(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const r=new Ke(Xt.fromString(e)),l=s.za.next();s.Ka.set(l,new X4(r)),s.$a=s.$a.insert(r,l),aE(s.remoteStore,new Wo(pa(I_(r.path)),l,"TargetPurposeLimboResolution",qh.ae))}}async function Pc(s,e,r){const l=it(s),h=[],g=[],E=[];l.ka.isEmpty()||(l.ka.forEach((A,S)=>{E.push(l.Ha(S,e,r).then(w=>{var O;if((w||r)&&l.isPrimaryClient){const k=w?!w.fromCache:(O=r==null?void 0:r.targetChanges.get(S.targetId))===null||O===void 0?void 0:O.current;l.sharedClientState.updateQueryState(S.targetId,k?"current":"not-current")}if(w){h.push(w);const k=mp.Yi(S.targetId,w);g.push(k)}}))}),await Promise.all(E),l.La.p_(h),await async function(S,w){const O=it(S);try{await O.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>xe.forEach(w,L=>xe.forEach(L.Hi,X=>O.persistence.referenceDelegate.addReference(k,L.targetId,X)).next(()=>xe.forEach(L.Ji,X=>O.persistence.referenceDelegate.removeReference(k,L.targetId,X)))))}catch(k){if(!fl(k))throw k;Me(yp,"Failed to update sequence numbers: "+k)}for(const k of w){const L=k.targetId;if(!k.fromCache){const X=O.Ts.get(L),j=X.snapshotVersion,J=X.withLastLimboFreeSnapshotVersion(j);O.Ts=O.Ts.insert(L,J)}}}(l.localStore,g))}async function ib(s,e){const r=it(s);if(!r.currentUser.isEqual(e)){Me(wp,"User change. New user:",e.toKey());const l=await tE(r.localStore,e);r.currentUser=e,function(g,E){g.Ga.forEach(A=>{A.forEach(S=>{S.reject(new Be(Te.CANCELLED,E))})}),g.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),await Pc(r,l.Rs)}}function ab(s,e){const r=it(s),l=r.Ka.get(e);if(l&&l.Ba)return At().add(l.key);{let h=At();const g=r.qa.get(e);if(!g)return h;for(const E of g){const A=r.ka.get(E);h=h.unionWith(A.view.ba)}return h}}function yE(s){const e=it(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ab.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eb.bind(null,e),e.La.p_=z4.bind(null,e.eventManager),e.La.Ja=H4.bind(null,e.eventManager),e}function ob(s){const e=it(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nb.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return s4(this.persistence,new i4,e.initialUser,this.serializer)}Xa(e){return new eE(vp.ri,this.serializer)}Za(e){return new p4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class sb extends Lh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Mt(this.persistence.referenceDelegate instanceof Ph);const l=this.persistence.referenceDelegate.garbageCollector;return new Gw(l,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new eE(l=>Ph.ri(l,r),this.serializer)}}class U1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>Ry(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=ib.bind(null,this.syncEngine),await k4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V4}()}createDatastore(e){const r=Jh(e.databaseInfo.databaseId),l=function(g){return new _4(g)}(e.databaseInfo);return function(g,E,A,S){return new T4(g,E,A,S)}(e.authCredentials,e.appCheckCredentials,l,r)}createRemoteStore(e){return function(l,h,g,E,A){return new C4(l,h,g,E,A)}(this.localStore,this.datastore,e.asyncQueue,r=>Ry(this.syncEngine,r,0),function(){return Ty.D()?new Ty:new g4}())}createSyncEngine(e,r){return function(h,g,E,A,S,w,O){const k=new Y4(h,g,E,A,S,w);return O&&(k.ja=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(h){const g=it(h);Me(nu,"RemoteStore shutting down."),g.W_.add(5),await Nc(g),g.z_.shutdown(),g.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}U1.provider={build:()=>new U1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ao("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class lb{constructor(e,r,l,h,g){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=l,this.databaseInfo=h,this.user=ir.UNAUTHENTICATED,this.clientId=f_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=g,this.authCredentials.start(l,async E=>{Me(ss,"Received user=",E.uid),await this.authCredentialListener(E),this.user=E}),this.appCheckCredentials.start(l,E=>(Me(ss,"Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const l=Sp(r,"Failed to shutdown persistence");e.reject(l)}}),e.promise}}async function e1(s,e){s.asyncQueue.verifyOperationInProgress(),Me(ss,"Initializing OfflineComponentProvider");const r=s.configuration;await e.initialize(r);let l=r.initialUser;s.setCredentialChangeListener(async h=>{l.isEqual(h)||(await tE(e.localStore,h),l=h)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Dy(s,e){s.asyncQueue.verifyOperationInProgress();const r=await cb(s);Me(ss,"Initializing OnlineComponentProvider"),await e.initialize(r,s.configuration),s.setCredentialChangeListener(l=>Cy(e.remoteStore,l)),s.setAppCheckTokenChangeListener((l,h)=>Cy(e.remoteStore,h)),s._onlineComponents=e}async function cb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Me(ss,"Using user provided OfflineComponentProvider");try{await e1(s,s._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(h){return h.name==="FirebaseError"?h.code===Te.FAILED_PRECONDITION||h.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||h.code===22||h.code===20||h.code===11}(r))throw r;$u("Error using user provided cache. Falling back to memory cache: "+r),await e1(s,new Lh)}}else Me(ss,"Using default OfflineComponentProvider"),await e1(s,new sb(void 0));return s._offlineComponents}async function _E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Me(ss,"Using user provided OnlineComponentProvider"),await Dy(s,s._uninitializedComponentsProvider._online)):(Me(ss,"Using default OnlineComponentProvider"),await Dy(s,new U1))),s._onlineComponents}function fb(s){return _E(s).then(e=>e.syncEngine)}async function hb(s){const e=await _E(s),r=e.eventManager;return r.onListen=K4.bind(null,e.syncEngine),r.onUnlisten=$4.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=W4.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Z4.bind(null,e.syncEngine),r}function db(s,e,r={}){const l=new es;return s.asyncQueue.enqueueAndForget(async()=>function(g,E,A,S,w){const O=new ub({next:L=>{O.su(),E.enqueueAndForget(()=>F4(g,k)),L.fromCache&&S.source==="server"?w.reject(new Be(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(L)},error:L=>w.reject(L)}),k=new G4(A,O,{includeMetadataChanges:!0,Ta:!0});return U4(g,k)}(await hb(s),s.asyncQueue,e,r,l)),l.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(s,e,r){if(!r)throw new Be(Te.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function pb(s,e,r,l){if(e===!0&&l===!0)throw new Be(Te.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Py(s){if(!Ke.isDocumentKey(s))throw new Be(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function My(s){if(Ke.isDocumentKey(s))throw new Be(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(l){return l.constructor?l.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ze()}function rl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Be(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nd(s);throw new Be(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firestore.googleapis.com",Ly=!0;class ky{constructor(e){var r,l;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AE,this.ssl=Ly}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Ly;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zw)throw new Be(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((l=e.experimentalLongPollingOptions)!==null&&l!==void 0?l:{}),function(g){if(g.timeoutSeconds!==void 0){if(isNaN(g.timeoutSeconds))throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(l,h){return l.timeoutSeconds===h.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,r,l,h){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(l){if(!l)return new y3;switch(l.type){case"firstParty":return new A3(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new Be(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const l=Ny.get(r);l&&(Me("ComponentProvider","Removing Datastore"),Ny.delete(r),l.terminate())}(this),Promise.resolve()}}function gb(s,e,r,l={}){var h;const g=(s=rl(s,rd))._getSettings(),E=Object.assign(Object.assign({},g),{emulatorOptions:s._getEmulatorOptions()}),A=`${e}:${r}`;g.host!==AE&&g.host!==A&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const S=Object.assign(Object.assign({},g),{host:A,ssl:!1,emulatorOptions:l});if(!Js(S,E)&&(s._setSettings(S),l.mockUserToken)){let w,O;if(typeof l.mockUserToken=="string")w=l.mockUserToken,O=ir.MOCK_USER;else{w=YS(l.mockUserToken,(h=s._app)===null||h===void 0?void 0:h.options.projectId);const k=l.mockUserToken.sub||l.mockUserToken.user_id;if(!k)throw new Be(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new ir(k)}s._authCredentials=new _3(new c_(w,O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,r,l){this.converter=r,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new dl(this.firestore,e,this._query)}}class Xr{constructor(e,r,l){this.converter=r,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class ts extends dl{constructor(e,r,l){super(e,r,I_(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new Ke(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function TE(s,e,...r){if(s=pr(s),xE("collection","path",e),s instanceof rd){const l=Xt.fromString(e,...r);return My(l),new ts(s,null,l)}{if(!(s instanceof Xr||s instanceof ts))throw new Be(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(Xt.fromString(e,...r));return My(l),new ts(s.firestore,null,l)}}function SE(s,e,...r){if(s=pr(s),arguments.length===1&&(e=f_.newId()),xE("doc","path",e),s instanceof rd){const l=Xt.fromString(e,...r);return Py(l),new Xr(s,null,new Ke(l))}{if(!(s instanceof Xr||s instanceof ts))throw new Be(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(Xt.fromString(e,...r));return Py(l),new Xr(s.firestore,s instanceof ts?s.converter:null,new Ke(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="AsyncQueue";class Vy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rE(this,"async_queue_retry"),this.bu=()=>{const l=J0();l&&Me(By,"Visibility state changed to "+l.visibilityState),this.a_.t_()},this.Su=e;const r=J0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=J0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new es;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fl(e))throw e;Me(By,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.Su.then(()=>(this.pu=!0,e().catch(l=>{this.gu=l,this.pu=!1;const h=function(E){let A=E.message||"";return E.stack&&(A=E.stack.includes(E.message)?E.stack:E.message+`
`+E.stack),A}(l);throw ao("INTERNAL UNHANDLED ERROR: ",h),l}).then(l=>(this.pu=!1,l))));return this.Su=r,r}enqueueAfterDelay(e,r,l){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const h=Tp.createAndSchedule(this,e,r,l,g=>this.Fu(g));return this.fu.push(h),h}Du(){this.gu&&Ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,l)=>r.targetTimeMs-l.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}class id extends rd{constructor(e,r,l,h){super(e,r,l,h),this.type="firestore",this._queue=new Vy,this._persistenceKey=(h==null?void 0:h.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vy(e),this._firestoreClient=void 0,await e}}}function vb(s,e){const r=typeof s=="object"?s:t_(),l=typeof s=="string"?s:wh,h=ip(r,"firestore").getImmediate({identifier:l});if(!h._initialized){const g=qS("firestore");g&&gb(h,...g)}return h}function CE(s){if(s._terminated)throw new Be(Te.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mb(s),s._firestoreClient}function mb(s){var e,r,l;const h=s._freezeSettings(),g=function(A,S,w,O){return new k3(A,S,w,O.host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,EE(O.experimentalLongPollingOptions),O.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,h);s._componentsProvider||!((r=h.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((l=h.localCache)===null||l===void 0)&&l._onlineComponentProvider)&&(s._componentsProvider={_offline:h.localCache._offlineComponentProvider,_online:h.localCache._onlineComponentProvider}),s._firestoreClient=new lb(s._authCredentials,s._appCheckCredentials,s._queue,g,s._componentsProvider&&function(A){const S=A==null?void 0:A._online.build();return{_offline:A==null?void 0:A._offline.build(S),_online:S}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new il(Qn.fromBase64String(e))}catch(r){throw new Be(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new il(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Be(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Be(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Be(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(l,h){if(l.length!==h.length)return!1;for(let g=0;g<l.length;++g)if(l[g]!==h[g])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=/^__.*__$/;class _b{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,r,this.fieldTransforms):new Oc(e,this.data,r,this.fieldTransforms)}}class wE{constructor(e,r,l){this.data=e,this.fieldMask=r,this.fieldTransforms=l}toMutation(e,r){return new ls(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function bE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Dp{constructor(e,r,l,h,g,E){this.settings=e,this.databaseId=r,this.serializer=l,this.ignoreUndefinedProperties=h,g===void 0&&this.Bu(),this.fieldTransforms=g||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const l=(r=this.path)===null||r===void 0?void 0:r.child(e),h=this.ku({path:l,Qu:!1});return h.$u(e),h}Ku(e){var r;const l=(r=this.path)===null||r===void 0?void 0:r.child(e),h=this.ku({path:l,Qu:!1});return h.Bu(),h}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bE(this.Lu)&&yb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Eb{constructor(e,r,l){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=l||Jh(e)}ju(e,r,l,h=!1){return new Dp({Lu:e,methodName:r,zu:l,path:Wn.emptyPath(),Qu:!1,Gu:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(s){const e=s._freezeSettings(),r=Jh(s._databaseId);return new Eb(s._databaseId,!!e.ignoreUndefinedProperties,r)}function xb(s,e,r,l,h,g={}){const E=s.ju(g.merge||g.mergeFields?2:0,e,r,h);Pp("Data must be an object, but it was:",E,l);const A=IE(l,E);let S,w;if(g.merge)S=new qr(E.fieldMask),w=E.fieldTransforms;else if(g.mergeFields){const O=[];for(const k of g.mergeFields){const L=F1(e,k,r);if(!E.contains(L))throw new Be(Te.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);OE(O,L)||O.push(L)}S=new qr(O),w=E.fieldTransforms.filter(k=>S.covers(k.field))}else S=null,w=E.fieldTransforms;return new _b(new Ir(A),S,w)}class od extends Ip{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}function Ab(s,e,r,l){const h=s.ju(1,e,r);Pp("Data must be an object, but it was:",h,l);const g=[],E=Ir.empty();us(l,(S,w)=>{const O=Mp(e,S,r);w=pr(w);const k=h.Ku(O);if(w instanceof od)g.push(O);else{const L=Mc(w,k);L!=null&&(g.push(O),E.set(O,L))}});const A=new qr(g);return new wE(E,A,h.fieldTransforms)}function Tb(s,e,r,l,h,g){const E=s.ju(1,e,r),A=[F1(e,l,r)],S=[h];if(g.length%2!=0)throw new Be(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<g.length;L+=2)A.push(F1(e,g[L])),S.push(g[L+1]);const w=[],O=Ir.empty();for(let L=A.length-1;L>=0;--L)if(!OE(w,A[L])){const X=A[L];let j=S[L];j=pr(j);const J=E.Ku(X);if(j instanceof od)w.push(X);else{const ce=Mc(j,J);ce!=null&&(w.push(X),O.set(X,ce))}}const k=new qr(w);return new wE(O,k,E.fieldTransforms)}function Sb(s,e,r,l=!1){return Mc(r,s.ju(l?4:3,e))}function Mc(s,e){if(RE(s=pr(s)))return Pp("Unsupported field value:",e,s),IE(s,e);if(s instanceof Ip)return function(l,h){if(!bE(h.Lu))throw h.Wu(`${l._methodName}() can only be used with update() and set()`);if(!h.path)throw h.Wu(`${l._methodName}() is not currently supported inside arrays`);const g=l._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(l,h){const g=[];let E=0;for(const A of l){let S=Mc(A,h.Uu(E));S==null&&(S={nullValue:"NULL_VALUE"}),g.push(S),E++}return{arrayValue:{values:g}}}(s,e)}return function(l,h){if((l=pr(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return aw(h.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const g=On.fromDate(l);return{timestampValue:Nh(h.serializer,g)}}if(l instanceof On){const g=new On(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Nh(h.serializer,g)}}if(l instanceof Rp)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof il)return{bytesValue:X_(h.serializer,l._byteString)};if(l instanceof Xr){const g=h.databaseId,E=l.firestore._databaseId;if(!E.isEqual(g))throw h.Wu(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:pp(l.firestore._databaseId||h.databaseId,l._key.path)}}if(l instanceof Op)return function(E,A){return{mapValue:{fields:{[__]:{stringValue:E_},[bh]:{arrayValue:{values:E.toArray().map(w=>{if(typeof w!="number")throw A.Wu("VectorValues must only contain numeric values.");return fp(A.serializer,w)})}}}}}}(l,h);throw h.Wu(`Unsupported field value: ${nd(l)}`)}(s,e)}function IE(s,e){const r={};return d_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(s,(l,h)=>{const g=Mc(h,e.qu(l));g!=null&&(r[l]=g)}),{mapValue:{fields:r}}}function RE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof On||s instanceof Rp||s instanceof il||s instanceof Xr||s instanceof Ip||s instanceof Op)}function Pp(s,e,r){if(!RE(r)||!function(h){return typeof h=="object"&&h!==null&&(Object.getPrototypeOf(h)===Object.prototype||Object.getPrototypeOf(h)===null)}(r)){const l=nd(r);throw l==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+l)}}function F1(s,e,r){if((e=pr(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Mp(s,e);throw kh("Field path arguments must be of type string or ",s,!1,void 0,r)}const Cb=new RegExp("[~\\*/\\[\\]]");function Mp(s,e,r){if(e.search(Cb)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new ad(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function kh(s,e,r,l,h){const g=l&&!l.isEmpty(),E=h!==void 0;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let S="";return(g||E)&&(S+=" (found",g&&(S+=` in field ${l}`),E&&(S+=` in document ${h}`),S+=")"),new Be(Te.INVALID_ARGUMENT,A+s+S)}function OE(s,e){return s.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,r,l,h,g){this._firestore=e,this._userDataWriter=r,this._key=l,this._document=h,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Lp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class wb extends DE{data(){return super.data()}}function Lp(s,e){return typeof e=="string"?Mp(s,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Be(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class Ib extends kp{}function Rb(s,e,...r){let l=[];e instanceof kp&&l.push(e),l=l.concat(r),function(g){const E=g.filter(S=>S instanceof Bp).length,A=g.filter(S=>S instanceof sd).length;if(E>1||E>0&&A>0)throw new Be(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)s=h._apply(s);return s}class sd extends Ib{constructor(e,r,l){super(),this._field=e,this._op=r,this._value=l,this.type="where"}static _create(e,r,l){return new sd(e,r,l)}_apply(e){const r=this._parse(e);return NE(e._query,r),new dl(e.firestore,e.converter,R1(e._query,r))}_parse(e){const r=Np(e.firestore);return function(g,E,A,S,w,O,k){let L;if(w.isKeyField()){if(O==="array-contains"||O==="array-contains-any")throw new Be(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${O}' queries on documentId().`);if(O==="in"||O==="not-in"){Fy(k,O);const j=[];for(const J of k)j.push(Uy(S,g,J));L={arrayValue:{values:j}}}else L=Uy(S,g,k)}else O!=="in"&&O!=="not-in"&&O!=="array-contains-any"||Fy(k,O),L=Sb(A,E,k,O==="in"||O==="not-in");return Sn.create(w,O,L)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ob(s,e,r){const l=e,h=Lp("where",s);return sd._create(h,l,r)}class Bp extends kp{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Bp(e,r)}_parse(e){const r=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return r.length===1?r[0]:Bi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(h,g){let E=h;const A=g.getFlattenedFilters();for(const S of A)NE(E,S),E=R1(E,S)}(e._query,r),new dl(e.firestore,e.converter,R1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Uy(s,e,r){if(typeof(r=pr(r))=="string"){if(r==="")throw new Be(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R_(e)&&r.indexOf("/")!==-1)throw new Be(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const l=e.path.child(Xt.fromString(r));if(!Ke.isDocumentKey(l))throw new Be(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return ty(s,new Ke(l))}if(r instanceof Xr)return ty(s,r._key);throw new Be(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(r)}.`)}function Fy(s,e){if(!Array.isArray(s)||s.length===0)throw new Be(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(s,e){const r=function(h,g){for(const E of h)for(const A of E.getFlattenedFilters())if(g.indexOf(A.op)>=0)return A.op;return null}(s.filters,function(h){switch(h){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Be(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Db{convertValue(e,r="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const l={};return us(e,(h,g)=>{l[h]=this.convertValue(g,r)}),l}convertVectorValue(e){var r,l,h;const g=(h=(l=(r=e.fields)===null||r===void 0?void 0:r[bh].arrayValue)===null||l===void 0?void 0:l.values)===null||h===void 0?void 0:h.map(E=>vn(E.doubleValue));return new Op(g)}convertGeoPoint(e){return new Rp(vn(e.latitude),vn(e.longitude))}convertArray(e,r){return(e.values||[]).map(l=>this.convertValue(l,r))}convertServerTimestamp(e,r){switch(r){case"previous":const l=Yh(e);return l==null?null:this.convertValue(l,r);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const r=rs(e);return new On(r.seconds,r.nanos)}convertDocumentKey(e,r){const l=Xt.fromString(e);Mt(Z_(l));const h=new yc(l.get(1),l.get(3)),g=new Ke(l.popFirst(5));return h.isEqual(r)||ao(`Document ${g} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(s,e,r){let l;return l=s?s.toFirestore(e):e,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pb extends DE{constructor(e,r,l,h,g,E){super(e,r,l,h,E),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const l=this._document.data.field(Lp("DocumentSnapshot.get",e));if(l!==null)return this._userDataWriter.convertValue(l,r.serverTimestamps)}}}class fh extends Pb{data(e={}){return super.data(e)}}class Mb{constructor(e,r,l,h){this._firestore=e,this._userDataWriter=r,this._snapshot=h,this.metadata=new Jf(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(l=>{e.call(r,new fh(this._firestore,this._userDataWriter,l.key,l,new Jf(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Be(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let E=0;return h._snapshot.docChanges.map(A=>{const S=new fh(h._firestore,h._userDataWriter,A.doc.key,A.doc,new Jf(h._snapshot.mutatedKeys.has(A.doc.key),h._snapshot.fromCache),h.query.converter);return A.doc,{type:"added",doc:S,oldIndex:-1,newIndex:E++}})}{let E=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(A=>g||A.type!==3).map(A=>{const S=new fh(h._firestore,h._userDataWriter,A.doc.key,A.doc,new Jf(h._snapshot.mutatedKeys.has(A.doc.key),h._snapshot.fromCache),h.query.converter);let w=-1,O=-1;return A.type!==0&&(w=E.indexOf(A.doc.key),E=E.delete(A.doc.key)),A.type!==1&&(E=E.add(A.doc),O=E.indexOf(A.doc.key)),{type:Lb(A.type),doc:S,oldIndex:w,newIndex:O}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Lb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}class kb extends Db{constructor(e){super(),this.firestore=e}convertBytes(e){return new il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,r)}}function Bb(s){s=rl(s,dl);const e=rl(s.firestore,id),r=CE(e),l=new kb(e);return bb(s._query),db(r,s._query).then(h=>new Mb(e,l,s,h))}function Vb(s,e,r,...l){s=rl(s,Xr);const h=rl(s.firestore,id),g=Np(h);let E;return E=typeof(e=pr(e))=="string"||e instanceof ad?Tb(g,"updateDoc",s._key,e,r,l):Ab(g,"updateDoc",s._key,e),PE(h,[E.toMutation(s._key,ga.exists(!0))])}function Ub(s,e){const r=rl(s.firestore,id),l=SE(s),h=Nb(s.converter,e);return PE(r,[xb(Np(s.firestore),"addDoc",l._key,h,s.converter!==null,{}).toMutation(l._key,ga.exists(!1))]).then(()=>l)}function PE(s,e){return function(l,h){const g=new es;return l.asyncQueue.enqueueAndForget(async()=>J4(await fb(l),h,g)),g.promise}(CE(s),e)}(function(e,r=!0){(function(h){ll=h})(ul),Qu(new eu("firestore",(l,{instanceIdentifier:h,options:g})=>{const E=l.getProvider("app").getImmediate(),A=new id(new E3(l.getProvider("auth-internal")),new T3(E,l.getProvider("app-check-internal")),function(w,O){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Be(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(w.options.projectId,O)}(E,h),E);return g=Object.assign({useFetchStreams:r},g),A._setSettings(g),A},"PUBLIC").setMultipleInstances(!0)),Zo(jm,qm,e),Zo(jm,qm,"esm2017")})();const Yn=[];for(let s=0;s<256;++s)Yn.push((s+256).toString(16).slice(1));function Fb(s,e=0){return(Yn[s[e+0]]+Yn[s[e+1]]+Yn[s[e+2]]+Yn[s[e+3]]+"-"+Yn[s[e+4]]+Yn[s[e+5]]+"-"+Yn[s[e+6]]+Yn[s[e+7]]+"-"+Yn[s[e+8]]+Yn[s[e+9]]+"-"+Yn[s[e+10]]+Yn[s[e+11]]+Yn[s[e+12]]+Yn[s[e+13]]+Yn[s[e+14]]+Yn[s[e+15]]).toLowerCase()}let t1;const zb=new Uint8Array(16);function Hb(){if(!t1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t1=crypto.getRandomValues.bind(crypto)}return t1(zb)}const Gb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zy={randomUUID:Gb};function jb(s,e,r){var h;if(zy.randomUUID&&!s)return zy.randomUUID();s=s||{};const l=s.random??((h=s.rng)==null?void 0:h.call(s))??Hb();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,Fb(l)}var qb="firebase",Xb="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(qb,Xb,"app");function Vp(s,e){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&e.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,l=Object.getOwnPropertySymbols(s);h<l.length;h++)e.indexOf(l[h])<0&&Object.prototype.propertyIsEnumerable.call(s,l[h])&&(r[l[h]]=s[l[h]]);return r}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yb=ME,LE=new bc("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new np("@firebase/auth");function Kb(s,...e){Bh.logLevel<=xt.WARN&&Bh.warn(`Auth (${ul}): ${s}`,...e)}function hh(s,...e){Bh.logLevel<=xt.ERROR&&Bh.error(`Auth (${ul}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(s,...e){throw Up(s,...e)}function ma(s,...e){return Up(s,...e)}function kE(s,e,r){const l=Object.assign(Object.assign({},Yb()),{[e]:r});return new bc("auth","Firebase",l).create(e,{appName:s.name})}function Zs(s){return kE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(s,...e){if(typeof s!="string"){const r=e[0],l=[...e.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(r,...l)}return LE.create(s,...e)}function et(s,e,...r){if(!s)throw Up(e,...r)}function Ja(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function uo(s,e){s||Ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Wb(){return Hy()==="http:"||Hy()==="https:"}function Hy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wb()||$S()||"connection"in navigator)?navigator.onLine:!0}function $b(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,r){this.shortDelay=e,this.longDelay=r,uo(r>e,"Short delay should be less than long delay!"),this.isMobile=KS()||ZS()}get(){return Qb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(s,e){uo(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static initialize(e,r,l){this.fetchImpl=e,r&&(this.headersImpl=r),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Lc(3e4,6e4);function zp(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function pl(s,e,r,l,h={}){return VE(s,h,async()=>{let g={},E={};l&&(e==="GET"?E=l:g={body:JSON.stringify(l)});const A=Ic(Object.assign({key:s.config.apiKey},E)).slice(1),S=await s._getAdditionalHeaders();S["Content-Type"]="application/json",s.languageCode&&(S["X-Firebase-Locale"]=s.languageCode);const w=Object.assign({method:e,headers:S},g);return QS()||(w.referrerPolicy="no-referrer"),BE.fetch()(UE(s,s.config.apiHost,r,A),w)})}async function VE(s,e,r){s._canInitEmulator=!1;const l=Object.assign(Object.assign({},Zb),e);try{const h=new tI(s),g=await Promise.race([r(),h.promise]);h.clearNetworkTimeout();const E=await g.json();if("needConfirmation"in E)throw eh(s,"account-exists-with-different-credential",E);if(g.ok&&!("errorMessage"in E))return E;{const A=g.ok?E.errorMessage:E.error.message,[S,w]=A.split(" : ");if(S==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",E);if(S==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",E);if(S==="USER_DISABLED")throw eh(s,"user-disabled",E);const O=l[S]||S.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw kE(s,O,w);so(s,O)}}catch(h){if(h instanceof co)throw h;so(s,"network-request-failed",{message:String(h)})}}async function eI(s,e,r,l,h={}){const g=await pl(s,e,r,l,h);return"mfaPendingCredential"in g&&so(s,"multi-factor-auth-required",{_serverResponse:g}),g}function UE(s,e,r,l){const h=`${e}${r}?${l}`;return s.config.emulator?Fp(s.config,h):`${s.config.apiScheme}://${h}`}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,l)=>{this.timer=setTimeout(()=>l(ma(this.auth,"network-request-failed")),Jb.get())})}}function eh(s,e,r){const l={appName:s.name};r.email&&(l.email=r.email),r.phoneNumber&&(l.phoneNumber=r.phoneNumber);const h=ma(s,e,l);return h.customData._tokenResponse=r,h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(s,e){return pl(s,"POST","/v1/accounts:delete",e)}async function FE(s,e){return pl(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rI(s,e=!1){const r=pr(s),l=await r.getIdToken(e),h=Hp(l);et(h&&h.exp&&h.auth_time&&h.iat,r.auth,"internal-error");const g=typeof h.firebase=="object"?h.firebase:void 0,E=g==null?void 0:g.sign_in_provider;return{claims:h,token:l,authTime:dc(n1(h.auth_time)),issuedAtTime:dc(n1(h.iat)),expirationTime:dc(n1(h.exp)),signInProvider:E||null,signInSecondFactor:(g==null?void 0:g.sign_in_second_factor)||null}}function n1(s){return Number(s)*1e3}function Hp(s){const[e,r,l]=s.split(".");if(e===void 0||r===void 0||l===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const h=K2(r);return h?JSON.parse(h):(hh("Failed to decode base64 JWT payload"),null)}catch(h){return hh("Caught error parsing JWT payload as JSON",h==null?void 0:h.toString()),null}}function Gy(s){const e=Hp(s);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(s,e,r=!1){if(r)return e;try{return await e}catch(l){throw l instanceof co&&iI(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function iI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const l=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),l}else{this.errorBackoff=3e4;const h=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,h)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(s){var e;const r=s.auth,l=await s.getIdToken(),h=await Ac(s,FE(r,{idToken:l}));et(h==null?void 0:h.users.length,r,"internal-error");const g=h.users[0];s._notifyReloadListener(g);const E=!((e=g.providerUserInfo)===null||e===void 0)&&e.length?zE(g.providerUserInfo):[],A=sI(s.providerData,E),S=s.isAnonymous,w=!(s.email&&g.passwordHash)&&!(A!=null&&A.length),O=S?w:!1,k={uid:g.localId,displayName:g.displayName||null,photoURL:g.photoUrl||null,email:g.email||null,emailVerified:g.emailVerified||!1,phoneNumber:g.phoneNumber||null,tenantId:g.tenantId||null,providerData:A,metadata:new H1(g.createdAt,g.lastLoginAt),isAnonymous:O};Object.assign(s,k)}async function oI(s){const e=pr(s);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sI(s,e){return[...s.filter(l=>!e.some(h=>h.providerId===l.providerId)),...e]}function zE(s){return s.map(e=>{var{providerId:r}=e,l=Vp(e,["providerId"]);return{providerId:r,uid:l.rawId||"",displayName:l.displayName||null,email:l.email||null,phoneNumber:l.phoneNumber||null,photoURL:l.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(s,e){const r=await VE(s,{},async()=>{const l=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:h,apiKey:g}=s.config,E=UE(s,h,"/v1/token",`key=${g}`),A=await s._getAdditionalHeaders();return A["Content-Type"]="application/x-www-form-urlencoded",BE.fetch()(E,{method:"POST",headers:A,body:l})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function lI(s,e){return pl(s,"POST","/v2/accounts:revokeToken",zp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){et(e.length!==0,"internal-error");const r=Gy(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:l,refreshToken:h,expiresIn:g}=await uI(e,r);this.updateTokensAndExpiration(l,h,Number(g))}updateTokensAndExpiration(e,r,l){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(e,r){const{refreshToken:l,accessToken:h,expirationTime:g}=r,E=new Xu;return l&&(et(typeof l=="string","internal-error",{appName:e}),E.refreshToken=l),h&&(et(typeof h=="string","internal-error",{appName:e}),E.accessToken=h),g&&(et(typeof g=="number","internal-error",{appName:e}),E.expirationTime=g),E}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(s,e){et(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:r,auth:l,stsTokenManager:h}=e,g=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=l,this.stsTokenManager=h,this.accessToken=h.accessToken,this.displayName=g.displayName||null,this.email=g.email||null,this.emailVerified=g.emailVerified||!1,this.phoneNumber=g.phoneNumber||null,this.photoURL=g.photoURL||null,this.isAnonymous=g.isAnonymous||!1,this.tenantId=g.tenantId||null,this.providerData=g.providerData?[...g.providerData]:[],this.metadata=new H1(g.createdAt||void 0,g.lastLoginAt||void 0)}async getIdToken(e){const r=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return et(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return rI(this,e)}reload(){return oI(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let l=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),l=!0),r&&await Vh(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Ac(this,nI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var l,h,g,E,A,S,w,O;const k=(l=r.displayName)!==null&&l!==void 0?l:void 0,L=(h=r.email)!==null&&h!==void 0?h:void 0,X=(g=r.phoneNumber)!==null&&g!==void 0?g:void 0,j=(E=r.photoURL)!==null&&E!==void 0?E:void 0,J=(A=r.tenantId)!==null&&A!==void 0?A:void 0,ce=(S=r._redirectEventId)!==null&&S!==void 0?S:void 0,ae=(w=r.createdAt)!==null&&w!==void 0?w:void 0,Ae=(O=r.lastLoginAt)!==null&&O!==void 0?O:void 0,{uid:Se,emailVerified:Ue,isAnonymous:Pe,providerData:We,stsTokenManager:$}=r;et(Se&&$,e,"internal-error");const G=Xu.fromJSON(this.name,$);et(typeof Se=="string",e,"internal-error"),jo(k,e.name),jo(L,e.name),et(typeof Ue=="boolean",e,"internal-error"),et(typeof Pe=="boolean",e,"internal-error"),jo(X,e.name),jo(j,e.name),jo(J,e.name),jo(ce,e.name),jo(ae,e.name),jo(Ae,e.name);const H=new eo({uid:Se,auth:e,email:L,emailVerified:Ue,displayName:k,isAnonymous:Pe,photoURL:j,phoneNumber:X,tenantId:J,stsTokenManager:G,createdAt:ae,lastLoginAt:Ae});return We&&Array.isArray(We)&&(H.providerData=We.map(K=>Object.assign({},K))),ce&&(H._redirectEventId=ce),H}static async _fromIdTokenResponse(e,r,l=!1){const h=new Xu;h.updateFromServerResponse(r);const g=new eo({uid:r.localId,auth:e,stsTokenManager:h,isAnonymous:l});return await Vh(g),g}static async _fromGetAccountInfoResponse(e,r,l){const h=r.users[0];et(h.localId!==void 0,"internal-error");const g=h.providerUserInfo!==void 0?zE(h.providerUserInfo):[],E=!(h.email&&h.passwordHash)&&!(g!=null&&g.length),A=new Xu;A.updateFromIdToken(l);const S=new eo({uid:h.localId,auth:e,stsTokenManager:A,isAnonymous:E}),w={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new H1(h.createdAt,h.lastLoginAt),isAnonymous:!(h.email&&h.passwordHash)&&!(g!=null&&g.length)};return Object.assign(S,w),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;function to(s){uo(s instanceof Function,"Expected a class definition");let e=jy.get(s);return e?(uo(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,jy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}HE.type="NONE";const qy=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(s,e,r){return`firebase:${s}:${e}:${r}`}class Yu{constructor(e,r,l){this.persistence=e,this.auth=r,this.userKey=l;const{config:h,name:g}=this.auth;this.fullUserKey=dh(this.userKey,h.apiKey,g),this.fullPersistenceKey=dh("persistence",h.apiKey,g),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,l="authUser"){if(!r.length)return new Yu(to(qy),e,l);const h=(await Promise.all(r.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let g=h[0]||to(qy);const E=dh(l,e.config.apiKey,e.name);let A=null;for(const w of r)try{const O=await w._get(E);if(O){const k=eo._fromJSON(e,O);w!==g&&(A=k),g=w;break}}catch{}const S=h.filter(w=>w._shouldAllowMigration);return!g._shouldAllowMigration||!S.length?new Yu(g,e,l):(g=S[0],A&&await g._set(E,A.toJSON()),await Promise.all(r.map(async w=>{if(w!==g)try{await w._remove(E)}catch{}})),new Yu(g,e,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KE(e))return"Blackberry";if(WE(e))return"Webos";if(jE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(r);if((l==null?void 0:l.length)===2)return l[1]}return"Other"}function GE(s=or()){return/firefox\//i.test(s)}function jE(s=or()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(s=or()){return/crios\//i.test(s)}function XE(s=or()){return/iemobile/i.test(s)}function YE(s=or()){return/android/i.test(s)}function KE(s=or()){return/blackberry/i.test(s)}function WE(s=or()){return/webos/i.test(s)}function Gp(s=or()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cI(s=or()){var e;return Gp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fI(){return JS()&&document.documentMode===10}function QE(s=or()){return Gp(s)||YE(s)||WE(s)||KE(s)||/windows phone/i.test(s)||XE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(s,e=[]){let r;switch(s){case"Browser":r=Xy(or());break;case"Worker":r=`${Xy(or())}-${s}`;break;default:r=s}const l=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ul}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const l=g=>new Promise((E,A)=>{try{const S=e(g);E(S)}catch(S){A(S)}});l.onAbort=r,this.queue.push(l);const h=this.queue.length-1;return()=>{this.queue[h]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const l of this.queue)await l(e),l.onAbort&&r.push(l.onAbort)}catch(l){r.reverse();for(const h of r)try{h()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l==null?void 0:l.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(s,e={}){return pl(s,"GET","/v2/passwordPolicy",zp(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class gI{constructor(e){var r,l,h,g;const E=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=E.minPasswordLength)!==null&&r!==void 0?r:pI,E.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=E.maxPasswordLength),E.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=E.containsLowercaseCharacter),E.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=E.containsUppercaseCharacter),E.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=E.containsNumericCharacter),E.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=E.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(h=(l=e.allowedNonAlphanumericCharacters)===null||l===void 0?void 0:l.join(""))!==null&&h!==void 0?h:"",this.forceUpgradeOnSignin=(g=e.forceUpgradeOnSignin)!==null&&g!==void 0?g:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,l,h,g,E,A;const S={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,S),this.validatePasswordCharacterOptions(e,S),S.isValid&&(S.isValid=(r=S.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),S.isValid&&(S.isValid=(l=S.meetsMaxPasswordLength)!==null&&l!==void 0?l:!0),S.isValid&&(S.isValid=(h=S.containsLowercaseLetter)!==null&&h!==void 0?h:!0),S.isValid&&(S.isValid=(g=S.containsUppercaseLetter)!==null&&g!==void 0?g:!0),S.isValid&&(S.isValid=(E=S.containsNumericCharacter)!==null&&E!==void 0?E:!0),S.isValid&&(S.isValid=(A=S.containsNonAlphanumericCharacter)!==null&&A!==void 0?A:!0),S}validatePasswordLengthOptions(e,r){const l=this.customStrengthOptions.minPasswordLength,h=this.customStrengthOptions.maxPasswordLength;l&&(r.meetsMinPasswordLength=e.length>=l),h&&(r.meetsMaxPasswordLength=e.length<=h)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let l;for(let h=0;h<e.length;h++)l=e.charAt(h),this.updatePasswordCharacterOptionsStatuses(r,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(e,r,l,h,g){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=h)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,r,l,h){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=l,this.config=h,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yy(this),this.idTokenSubscription=new Yy(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=h.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=to(r)),this._initializationPromise=this.queue(async()=>{var l,h;if(!this._deleted&&(this.persistenceManager=await Yu.create(this,e),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await FE(this,{idToken:e}),l=await eo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(l)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(da(this.app)){const E=this.app.settings.authIdToken;return E?new Promise(A=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(E).then(A,A))}):this.directlySetCurrentUser(null)}const l=await this.assertedPersistence.getCurrentUser();let h=l,g=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const E=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,A=h==null?void 0:h._redirectEventId,S=await this.tryRedirectSignIn(e);(!E||E===A)&&(S!=null&&S.user)&&(h=S.user,g=!0)}if(!h)return this.directlySetCurrentUser(null);if(!h._redirectEventId){if(g)try{await this.beforeStateQueue.runMiddleware(h)}catch(E){h=l,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(E))}return h?this.reloadAndSetCurrentUserOrClear(h):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===h._redirectEventId?this.directlySetCurrentUser(h):this.reloadAndSetCurrentUserOrClear(h)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$b()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(Zs(this));const r=e?pr(e):null;return r&&et(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dI(this),r=new gI(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,r,l){return this.registerStateListener(this.authStateSubscription,e,r,l)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,l){return this.registerStateListener(this.idTokenSubscription,e,r,l)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const l=this.onAuthStateChanged(()=>{l(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(l.tenantId=this.tenantId),await lI(this,l)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const l=await this.getOrInitRedirectPersistenceManager(r);return e===null?l.removeCurrentUser():l.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&to(e)||this._popupRedirectResolver;et(r,this,"argument-error"),this.redirectPersistenceManager=await Yu.create(this,[to(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,l;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((l=this.redirectUser)===null||l===void 0?void 0:l._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,l,h){if(this._deleted)return()=>{};const g=typeof r=="function"?r:r.next.bind(r);let E=!1;const A=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(A,this,"internal-error"),A.then(()=>{E||g(this.currentUser)}),typeof r=="function"){const S=e.addObserver(r,l,h);return()=>{E=!0,S()}}else{const S=e.addObserver(r);return()=>{E=!0,S()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const l=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());l&&(r["X-Firebase-Client"]=l);const h=await this._getAppCheckToken();return h&&(r["X-Firebase-AppCheck"]=h),r}async _getAppCheckToken(){var e;if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Kb(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function jp(s){return pr(s)}class Yy{constructor(e){this.auth=e,this.observer=null,this.addObserver=sC(r=>this.observer=r)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mI(s){qp=s}function yI(s){return qp.loadJS(s)}function _I(){return qp.gapiScript}function EI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(s,e){const r=ip(s,"auth");if(r.isInitialized()){const h=r.getImmediate(),g=r.getOptions();if(Js(g,e??{}))return h;so(h,"already-initialized")}return r.initialize({options:e})}function AI(s,e){const r=(e==null?void 0:e.persistence)||[],l=(Array.isArray(r)?r:[r]).map(to);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(l,e==null?void 0:e.popupRedirectResolver)}function TI(s,e,r){const l=jp(s);et(/^https?:\/\//.test(e),l,"invalid-emulator-scheme");const h=!1,g=ZE(e),{host:E,port:A}=SI(e),S=A===null?"":`:${A}`,w={url:`${g}//${E}${S}/`},O=Object.freeze({host:E,port:A,protocol:g.replace(":",""),options:Object.freeze({disableWarnings:h})});if(!l._canInitEmulator){et(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),et(Js(w,l.config.emulator)&&Js(O,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=w,l.emulatorConfig=O,l.settings.appVerificationDisabledForTesting=!0,CI()}function ZE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function SI(s){const e=ZE(s),r=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!r)return{host:"",port:null};const l=r[2].split("@").pop()||"",h=/^(\[[^\]]+\])(:|$)/.exec(l);if(h){const g=h[1];return{host:g,port:Ky(l.substr(g.length+1))}}else{const[g,E]=l.split(":");return{host:g,port:Ky(E)}}}function Ky(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function CI(){function s(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,r){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(s,e){return eI(s,"POST","/v1/accounts:signInWithIdp",zp(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="http://localhost";class ru extends JE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):so("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:l,signInMethod:h}=r,g=Vp(r,["providerId","signInMethod"]);if(!l||!h)return null;const E=new ru(l,h);return E.idToken=g.idToken||void 0,E.accessToken=g.accessToken||void 0,E.secret=g.secret,E.nonce=g.nonce,E.pendingToken=g.pendingToken||null,E}_getIdTokenResponse(e){const r=this.buildRequest();return Ku(e,r)}_linkToIdToken(e,r){const l=this.buildRequest();return l.idToken=r,Ku(e,l)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ku(e,r)}buildRequest(){const e={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ic(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends ex{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends kc{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ru._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:l}=e;if(!r&&!l)return null;try{return Xo.credential(r,l)}catch{return null}}}Xo.GOOGLE_SIGN_IN_METHOD="google.com";Xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends kc{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends kc{constructor(){super("twitter.com")}static credential(e,r){return ru._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:l}=e;if(!r||!l)return null;try{return Ko.credential(r,l)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,l,h=!1){const g=await eo._fromIdTokenResponse(e,l,h),E=Wy(l);return new al({user:g,providerId:E,_tokenResponse:l,operationType:r})}static async _forOperation(e,r,l){await e._updateTokensIfNecessary(l,!0);const h=Wy(l);return new al({user:e,providerId:h,_tokenResponse:l,operationType:r})}}function Wy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends co{constructor(e,r,l,h){var g;super(r.code,r.message),this.operationType=l,this.user=h,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(g=e.tenantId)!==null&&g!==void 0?g:void 0,_serverResponse:r.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(e,r,l,h){return new Uh(e,r,l,h)}}function tx(s,e,r,l){return(e==="reauthenticate"?r._getReauthenticationResolver(s):r._getIdTokenResponse(s)).catch(g=>{throw g.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(s,g,e,l):g})}async function bI(s,e,r=!1){const l=await Ac(s,e._linkToIdToken(s.auth,await s.getIdToken()),r);return al._forOperation(s,"link",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(s,e,r=!1){const{auth:l}=s;if(da(l.app))return Promise.reject(Zs(l));const h="reauthenticate";try{const g=await Ac(s,tx(l,h,e,s),r);et(g.idToken,l,"internal-error");const E=Hp(g.idToken);et(E,l,"internal-error");const{sub:A}=E;return et(s.uid===A,l,"user-mismatch"),al._forOperation(s,h,g)}catch(g){throw(g==null?void 0:g.code)==="auth/user-not-found"&&so(l,"user-mismatch"),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(s,e,r=!1){if(da(s.app))return Promise.reject(Zs(s));const l="signIn",h=await tx(s,l,e),g=await al._fromIdTokenResponse(s,l,h);return r||await s._updateCurrentUser(g.user),g}function OI(s,e,r,l){return pr(s).onIdTokenChanged(e,r,l)}function DI(s,e,r){return pr(s).beforeAuthStateChanged(e,r)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,PI=10;class rx extends nx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const l=this.storage.getItem(r),h=this.localCache[r];l!==h&&e(r,h,l)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((E,A,S)=>{this.notifyListeners(E,S)});return}const l=e.key;r?this.detachListener():this.stopPolling();const h=()=>{const E=this.storage.getItem(l);!r&&this.localCache[l]===E||this.notifyListeners(l,E)},g=this.storage.getItem(l);fI()&&g!==e.newValue&&e.newValue!==e.oldValue?setTimeout(h,PI):h()}notifyListeners(e,r){this.localCache[e]=r;const l=this.listeners[e];if(l)for(const h of Array.from(l))h(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:l}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}rx.type="LOCAL";const MI=rx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix extends nx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}ix.type="SESSION";const ax=ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(h=>h.isListeningto(e));if(r)return r;const l=new ud(e);return this.receivers.push(l),l}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:l,eventType:h,data:g}=r.data,E=this.handlersMap[h];if(!(E!=null&&E.size))return;r.ports[0].postMessage({status:"ack",eventId:l,eventType:h});const A=Array.from(E).map(async w=>w(r.origin,g)),S=await LI(A);r.ports[0].postMessage({status:"done",eventId:l,eventType:h,response:S})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(s="",e=10){let r="";for(let l=0;l<e;l++)r+=Math.floor(Math.random()*10);return s+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,l=50){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let g,E;return new Promise((A,S)=>{const w=Xp("",20);h.port1.start();const O=setTimeout(()=>{S(new Error("unsupported_event"))},l);E={messageChannel:h,onMessage(k){const L=k;if(L.data.eventId===w)switch(L.data.status){case"ack":clearTimeout(O),g=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(g),A(L.data.response);break;default:clearTimeout(O),clearTimeout(g),S(new Error("invalid_response"));break}}},this.handlers.add(E),h.port1.addEventListener("message",E.onMessage),this.target.postMessage({eventType:e,eventId:w,data:r},[h.port2])}).finally(()=>{E&&this.removeMessageHandler(E)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function BI(s){ya().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function VI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UI(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function FI(){return ox()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebaseLocalStorageDb",zI=1,zh="firebaseLocalStorage",ux="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ld(s,e){return s.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function HI(){const s=indexedDB.deleteDatabase(sx);return new Bc(s).toPromise()}function G1(){const s=indexedDB.open(sx,zI);return new Promise((e,r)=>{s.addEventListener("error",()=>{r(s.error)}),s.addEventListener("upgradeneeded",()=>{const l=s.result;try{l.createObjectStore(zh,{keyPath:ux})}catch(h){r(h)}}),s.addEventListener("success",async()=>{const l=s.result;l.objectStoreNames.contains(zh)?e(l):(l.close(),await HI(),e(await G1()))})})}async function Qy(s,e,r){const l=ld(s,!0).put({[ux]:e,value:r});return new Bc(l).toPromise()}async function GI(s,e){const r=ld(s,!1).get(e),l=await new Bc(r).toPromise();return l===void 0?null:l.value}function $y(s,e){const r=ld(s,!0).delete(e);return new Bc(r).toPromise()}const jI=800,qI=3;class lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const l=await this._openDb();return await e(l)}catch(l){if(r++>qI)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ox()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(FI()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await VI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const l=await this.sender._send("ping",{},800);l&&!((e=l[0])===null||e===void 0)&&e.fulfilled&&!((r=l[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G1();return await Qy(e,Fh,"1"),await $y(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(l=>Qy(l,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(l=>GI(l,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>$y(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(h=>{const g=ld(h,!1).getAll();return new Bc(g).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],l=new Set;if(e.length!==0)for(const{fbase_key:h,value:g}of e)l.add(h),JSON.stringify(this.localCache[h])!==JSON.stringify(g)&&(this.notifyListeners(h,g),r.push(h));for(const h of Object.keys(this.localCache))this.localCache[h]&&!l.has(h)&&(this.notifyListeners(h,null),r.push(h));return r}notifyListeners(e,r){this.localCache[e]=r;const l=this.listeners[e];if(l)for(const h of Array.from(l))h(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lx.type="LOCAL";const XI=lx;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(s,e){return e?to(e):(et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends JE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ku(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ku(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function KI(s){return RI(s.auth,new Yp(s),s.bypassAuthState)}function WI(s){const{auth:e,user:r}=s;return et(r,e,"internal-error"),II(r,new Yp(s),s.bypassAuthState)}async function QI(s){const{auth:e,user:r}=s;return et(r,e,"internal-error"),bI(r,new Yp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,r,l,h,g=!1){this.auth=e,this.resolver=l,this.user=h,this.bypassAuthState=g,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:l,postBody:h,tenantId:g,error:E,type:A}=e;if(E){this.reject(E);return}const S={auth:this.auth,requestUri:r,sessionId:l,tenantId:g||void 0,postBody:h||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(A)(S))}catch(w){this.reject(w)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:so(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Lc(2e3,1e4);class ju extends cx{constructor(e,r,l,h,g){super(e,r,h,g),this.provider=l,this.authWindow=null,this.pollId=null,ju.currentPopupAction&&ju.currentPopupAction.cancel(),ju.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ju.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,l;if(!((l=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||l===void 0)&&l.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$I.get())};e()}}ju.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="pendingRedirect",ph=new Map;class JI extends cx{constructor(e,r,l=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,l),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const l=await eR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(l)}catch(r){e=()=>Promise.reject(r)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eR(s,e){const r=rR(e),l=nR(s);if(!await l._isAvailable())return!1;const h=await l._get(r)==="true";return await l._remove(r),h}function tR(s,e){ph.set(s._key(),e)}function nR(s){return to(s._redirectPersistence)}function rR(s){return dh(ZI,s.config.apiKey,s.name)}async function iR(s,e,r=!1){if(da(s.app))return Promise.reject(Zs(s));const l=jp(s),h=YI(l,e),E=await new JI(l,h,r).execute();return E&&!r&&(delete E.user._redirectEventId,await l._persistUserIfCurrent(E.user),await l._setRedirectUser(null,e)),E}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=10*60*1e3;class oR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(e,l)&&(r=!0,this.sendToConsumer(e,l),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var l;if(e.error&&!fx(e)){const h=((l=e.error.code)===null||l===void 0?void 0:l.split("auth/")[1])||"internal-error";r.onError(ma(this.auth,h))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const l=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&l}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}}function Zy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function fx({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fx(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(s,e={}){return pl(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cR=/^https?/;async function fR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await uR(s);for(const r of e)try{if(hR(r))return}catch{}so(s,"unauthorized-domain")}function hR(s){const e=z1(),{protocol:r,hostname:l}=new URL(e);if(s.startsWith("chrome-extension://")){const E=new URL(s);return E.hostname===""&&l===""?r==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&E.hostname===l}if(!cR.test(r))return!1;if(lR.test(s))return l===s;const h=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+h+"|"+h+")$","i").test(l)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Lc(3e4,6e4);function Jy(){const s=ya().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let r=0;r<s.CP.length;r++)s.CP[r]=null}}function pR(s){return new Promise((e,r)=>{var l,h,g;function E(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),r(ma(s,"network-request-failed"))},timeout:dR.get()})}if(!((h=(l=ya().gapi)===null||l===void 0?void 0:l.iframes)===null||h===void 0)&&h.Iframe)e(gapi.iframes.getContext());else if(!((g=ya().gapi)===null||g===void 0)&&g.load)E();else{const A=EI("iframefcb");return ya()[A]=()=>{gapi.load?E():r(ma(s,"network-request-failed"))},yI(`${_I()}?onload=${A}`).catch(S=>r(S))}}).catch(e=>{throw gh=null,e})}let gh=null;function gR(s){return gh=gh||pR(s),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Lc(5e3,15e3),mR="__/auth/iframe",yR="emulator/auth/iframe",_R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ER=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(s){const e=s.config;et(e.authDomain,s,"auth-domain-config-required");const r=e.emulator?Fp(e,yR):`https://${s.config.authDomain}/${mR}`,l={apiKey:e.apiKey,appName:s.name,v:ul},h=ER.get(s.config.apiHost);h&&(l.eid=h);const g=s._getFrameworks();return g.length&&(l.fw=g.join(",")),`${r}?${Ic(l).slice(1)}`}async function AR(s){const e=await gR(s),r=ya().gapi;return et(r,s,"internal-error"),e.open({where:document.body,url:xR(s),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_R,dontclear:!0},l=>new Promise(async(h,g)=>{await l.restyle({setHideOnLeave:!1});const E=ma(s,"network-request-failed"),A=ya().setTimeout(()=>{g(E)},vR.get());function S(){ya().clearTimeout(A),h(l)}l.ping(S).then(S,()=>{g(E)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SR=500,CR=600,wR="_blank",bR="http://localhost";class e2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IR(s,e,r,l=SR,h=CR){const g=Math.max((window.screen.availHeight-h)/2,0).toString(),E=Math.max((window.screen.availWidth-l)/2,0).toString();let A="";const S=Object.assign(Object.assign({},TR),{width:l.toString(),height:h.toString(),top:g,left:E}),w=or().toLowerCase();r&&(A=qE(w)?wR:r),GE(w)&&(e=e||bR,S.scrollbars="yes");const O=Object.entries(S).reduce((L,[X,j])=>`${L}${X}=${j},`,"");if(cI(w)&&A!=="_self")return RR(e||"",A),new e2(null);const k=window.open(e||"",A,O);et(k,s,"popup-blocked");try{k.focus()}catch{}return new e2(k)}function RR(s,e){const r=document.createElement("a");r.href=s,r.target=e;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="__/auth/handler",DR="emulator/auth/handler",NR=encodeURIComponent("fac");async function t2(s,e,r,l,h,g){et(s.config.authDomain,s,"auth-domain-config-required"),et(s.config.apiKey,s,"invalid-api-key");const E={apiKey:s.config.apiKey,appName:s.name,authType:r,redirectUrl:l,v:ul,eventId:h};if(e instanceof ex){e.setDefaultLanguage(s.languageCode),E.providerId=e.providerId||"",oC(e.getCustomParameters())||(E.customParameters=JSON.stringify(e.getCustomParameters()));for(const[O,k]of Object.entries({}))E[O]=k}if(e instanceof kc){const O=e.getScopes().filter(k=>k!=="");O.length>0&&(E.scopes=O.join(","))}s.tenantId&&(E.tid=s.tenantId);const A=E;for(const O of Object.keys(A))A[O]===void 0&&delete A[O];const S=await s._getAppCheckToken(),w=S?`#${NR}=${encodeURIComponent(S)}`:"";return`${PR(s)}?${Ic(A).slice(1)}${w}`}function PR({config:s}){return s.emulator?Fp(s,DR):`https://${s.authDomain}/${OR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="webStorageSupport";class MR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ax,this._completeRedirectFn=iR,this._overrideRedirectResult=tR}async _openPopup(e,r,l,h){var g;uo((g=this.eventManagers[e._key()])===null||g===void 0?void 0:g.manager,"_initialize() not called before _openPopup()");const E=await t2(e,r,l,z1(),h);return IR(e,E,Xp())}async _openRedirect(e,r,l,h){await this._originValidation(e);const g=await t2(e,r,l,z1(),h);return BI(g),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:h,promise:g}=this.eventManagers[r];return h?Promise.resolve(h):(uo(g,"If manager is not set, promise should be"),g)}const l=this.initAndGetManager(e);return this.eventManagers[r]={promise:l},l.catch(()=>{delete this.eventManagers[r]}),l}async initAndGetManager(e){const r=await AR(e),l=new oR(e);return r.register("authEvent",h=>(et(h==null?void 0:h.authEvent,e,"invalid-auth-event"),{status:l.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:l},this.iframes[e._key()]=r,l}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(r1,{type:r1},h=>{var g;const E=(g=h==null?void 0:h[0])===null||g===void 0?void 0:g[r1];E!==void 0&&r(!!E),so(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=fR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return QE()||jE()||Gp()}}const LR=MR;var n2="@firebase/auth",r2="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(l=>{e((l==null?void 0:l.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VR(s){Qu(new eu("auth",(e,{options:r})=>{const l=e.getProvider("app").getImmediate(),h=e.getProvider("heartbeat"),g=e.getProvider("app-check-internal"),{apiKey:E,authDomain:A}=l.options;et(E&&!E.includes(":"),"invalid-api-key",{appName:l.name});const S={apiKey:E,authDomain:A,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(s)},w=new vI(l,h,g,S);return AI(w,r),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,l)=>{e.getProvider("auth-internal").initialize()})),Qu(new eu("auth-internal",e=>{const r=jp(e.getProvider("auth").getImmediate());return(l=>new kR(l))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(n2,r2,BR(s)),Zo(n2,r2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=5*60,FR=$2("authIdTokenMaxAge")||UR;let i2=null;const zR=s=>async e=>{const r=e&&await e.getIdTokenResult(),l=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(l&&l>FR)return;const h=r==null?void 0:r.token;i2!==h&&(i2=h,await fetch(s,{method:h?"POST":"DELETE",headers:h?{Authorization:`Bearer ${h}`}:{}}))};function HR(s=t_()){const e=ip(s,"auth");if(e.isInitialized())return e.getImmediate();const r=xI(s,{popupRedirectResolver:LR,persistence:[XI,MI,ax]}),l=$2("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const g=new URL(l,location.origin);if(location.origin===g.origin){const E=zR(g.toString());DI(r,E,()=>E(r.currentUser)),OI(r,A=>E(A))}}const h=W2("auth");return h&&TI(r,`http://${h}`),r}function GR(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}mI({loadJS(s){return new Promise((e,r)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=e,l.onerror=h=>{const g=ma("internal-error");g.customData=h,r(g)},l.type="text/javascript",l.charset="UTF-8",GR().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VR("Browser");const jR={apiKey:"AIzaSyAIFbyyabmv9ReN8yNV6qjLiMYTQ1xvnTg",authDomain:"monopolyonlinegame-332fd.firebaseapp.com",projectId:"monopolyonlinegame-332fd",storageBucket:"monopolyonlinegame-332fd.appspot.com",messagingSenderId:"829520826883",appId:"1:829520826883:web:de11af85974e30f328f436"},hx=e_(jR),Kp=vb(hx);HR(hx);const qR=async s=>{try{const e=jb(),r=await Ub(TE(Kp,"players"),{id:e,name:s,balance:15e3});return{id:e,docId:r.id}}catch(e){return console.error("Error al añadir jugador:",e),null}};var Uu={},i1={exports:{}},a1,a2;function XR(){if(a2)return a1;a2=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return a1=s,a1}var o1,o2;function YR(){if(o2)return o1;o2=1;var s=XR();function e(){}function r(){}return r.resetWarningCache=e,o1=function(){function l(E,A,S,w,O,k){if(k!==s){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}l.isRequired=l;function h(){return l}var g={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:h,element:l,elementType:l,instanceOf:h,node:l,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:r,resetWarningCache:e};return g.PropTypes=g,g},o1}var s2;function dx(){return s2||(s2=1,i1.exports=YR()()),i1.exports}var s1,u2;function px(){return u2||(u2=1,s1={L:1,M:0,Q:3,H:2}),s1}var u1,l2;function gx(){return l2||(l2=1,u1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),u1}var l1,c2;function KR(){if(c2)return l1;c2=1;var s=gx();function e(r){this.mode=s.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var l=0;l<this.data.length;l++)r.put(this.data.charCodeAt(l),8)}},l1=e,l1}var c1,f2;function WR(){if(f2)return c1;f2=1;var s=px();function e(r,l){this.totalCount=r,this.dataCount=l}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,l){var h=e.getRsBlockTable(r,l);if(h==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+l);for(var g=h.length/3,E=new Array,A=0;A<g;A++)for(var S=h[A*3+0],w=h[A*3+1],O=h[A*3+2],k=0;k<S;k++)E.push(new e(w,O));return E},e.getRsBlockTable=function(r,l){switch(l){case s.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case s.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case s.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case s.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},c1=e,c1}var f1,h2;function QR(){if(h2)return f1;h2=1;function s(){this.buffer=new Array,this.length=0}return s.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var l=0;l<r;l++)this.putBit((e>>>r-l-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},f1=s,f1}var h1,d2;function vx(){if(d2)return h1;d2=1;for(var s={glog:function(r){if(r<1)throw new Error("glog("+r+")");return s.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return s.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)s.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)s.EXP_TABLE[e]=s.EXP_TABLE[e-4]^s.EXP_TABLE[e-5]^s.EXP_TABLE[e-6]^s.EXP_TABLE[e-8];for(var e=0;e<255;e++)s.LOG_TABLE[s.EXP_TABLE[e]]=e;return h1=s,h1}var d1,p2;function mx(){if(p2)return d1;p2=1;var s=vx();function e(r,l){if(r.length==null)throw new Error(r.length+"/"+l);for(var h=0;h<r.length&&r[h]==0;)h++;this.num=new Array(r.length-h+l);for(var g=0;g<r.length-h;g++)this.num[g]=r[g+h]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var l=new Array(this.getLength()+r.getLength()-1),h=0;h<this.getLength();h++)for(var g=0;g<r.getLength();g++)l[h+g]^=s.gexp(s.glog(this.get(h))+s.glog(r.get(g)));return new e(l,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var l=s.glog(this.get(0))-s.glog(r.get(0)),h=new Array(this.getLength()),g=0;g<this.getLength();g++)h[g]=this.get(g);for(var g=0;g<r.getLength();g++)h[g]^=s.gexp(s.glog(r.get(g))+l);return new e(h,0).mod(r)}},d1=e,d1}var p1,g2;function $R(){if(g2)return p1;g2=1;var s=gx(),e=mx(),r=vx(),l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(g){for(var E=g<<10;h.getBCHDigit(E)-h.getBCHDigit(h.G15)>=0;)E^=h.G15<<h.getBCHDigit(E)-h.getBCHDigit(h.G15);return(g<<10|E)^h.G15_MASK},getBCHTypeNumber:function(g){for(var E=g<<12;h.getBCHDigit(E)-h.getBCHDigit(h.G18)>=0;)E^=h.G18<<h.getBCHDigit(E)-h.getBCHDigit(h.G18);return g<<12|E},getBCHDigit:function(g){for(var E=0;g!=0;)E++,g>>>=1;return E},getPatternPosition:function(g){return h.PATTERN_POSITION_TABLE[g-1]},getMask:function(g,E,A){switch(g){case l.PATTERN000:return(E+A)%2==0;case l.PATTERN001:return E%2==0;case l.PATTERN010:return A%3==0;case l.PATTERN011:return(E+A)%3==0;case l.PATTERN100:return(Math.floor(E/2)+Math.floor(A/3))%2==0;case l.PATTERN101:return E*A%2+E*A%3==0;case l.PATTERN110:return(E*A%2+E*A%3)%2==0;case l.PATTERN111:return(E*A%3+(E+A)%2)%2==0;default:throw new Error("bad maskPattern:"+g)}},getErrorCorrectPolynomial:function(g){for(var E=new e([1],0),A=0;A<g;A++)E=E.multiply(new e([1,r.gexp(A)],0));return E},getLengthInBits:function(g,E){if(1<=E&&E<10)switch(g){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:return 8;case s.MODE_KANJI:return 8;default:throw new Error("mode:"+g)}else if(E<27)switch(g){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+g)}else if(E<41)switch(g){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+g)}else throw new Error("type:"+E)},getLostPoint:function(g){for(var E=g.getModuleCount(),A=0,S=0;S<E;S++)for(var w=0;w<E;w++){for(var O=0,k=g.isDark(S,w),L=-1;L<=1;L++)if(!(S+L<0||E<=S+L))for(var X=-1;X<=1;X++)w+X<0||E<=w+X||L==0&&X==0||k==g.isDark(S+L,w+X)&&O++;O>5&&(A+=3+O-5)}for(var S=0;S<E-1;S++)for(var w=0;w<E-1;w++){var j=0;g.isDark(S,w)&&j++,g.isDark(S+1,w)&&j++,g.isDark(S,w+1)&&j++,g.isDark(S+1,w+1)&&j++,(j==0||j==4)&&(A+=3)}for(var S=0;S<E;S++)for(var w=0;w<E-6;w++)g.isDark(S,w)&&!g.isDark(S,w+1)&&g.isDark(S,w+2)&&g.isDark(S,w+3)&&g.isDark(S,w+4)&&!g.isDark(S,w+5)&&g.isDark(S,w+6)&&(A+=40);for(var w=0;w<E;w++)for(var S=0;S<E-6;S++)g.isDark(S,w)&&!g.isDark(S+1,w)&&g.isDark(S+2,w)&&g.isDark(S+3,w)&&g.isDark(S+4,w)&&!g.isDark(S+5,w)&&g.isDark(S+6,w)&&(A+=40);for(var J=0,w=0;w<E;w++)for(var S=0;S<E;S++)g.isDark(S,w)&&J++;var ce=Math.abs(100*J/E/E-50)/5;return A+=ce*10,A}};return p1=h,p1}var g1,v2;function ZR(){if(v2)return g1;v2=1;var s=KR(),e=WR(),r=QR(),l=$R(),h=mx();function g(A,S){this.typeNumber=A,this.errorCorrectLevel=S,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var E=g.prototype;return E.addData=function(A){var S=new s(A);this.dataList.push(S),this.dataCache=null},E.isDark=function(A,S){if(A<0||this.moduleCount<=A||S<0||this.moduleCount<=S)throw new Error(A+","+S);return this.modules[A][S]},E.getModuleCount=function(){return this.moduleCount},E.make=function(){if(this.typeNumber<1){var A=1;for(A=1;A<40;A++){for(var S=e.getRSBlocks(A,this.errorCorrectLevel),w=new r,O=0,k=0;k<S.length;k++)O+=S[k].dataCount;for(var k=0;k<this.dataList.length;k++){var L=this.dataList[k];w.put(L.mode,4),w.put(L.getLength(),l.getLengthInBits(L.mode,A)),L.write(w)}if(w.getLengthInBits()<=O*8)break}this.typeNumber=A}this.makeImpl(!1,this.getBestMaskPattern())},E.makeImpl=function(A,S){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var w=0;w<this.moduleCount;w++){this.modules[w]=new Array(this.moduleCount);for(var O=0;O<this.moduleCount;O++)this.modules[w][O]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(A,S),this.typeNumber>=7&&this.setupTypeNumber(A),this.dataCache==null&&(this.dataCache=g.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,S)},E.setupPositionProbePattern=function(A,S){for(var w=-1;w<=7;w++)if(!(A+w<=-1||this.moduleCount<=A+w))for(var O=-1;O<=7;O++)S+O<=-1||this.moduleCount<=S+O||(0<=w&&w<=6&&(O==0||O==6)||0<=O&&O<=6&&(w==0||w==6)||2<=w&&w<=4&&2<=O&&O<=4?this.modules[A+w][S+O]=!0:this.modules[A+w][S+O]=!1)},E.getBestMaskPattern=function(){for(var A=0,S=0,w=0;w<8;w++){this.makeImpl(!0,w);var O=l.getLostPoint(this);(w==0||A>O)&&(A=O,S=w)}return S},E.createMovieClip=function(A,S,w){var O=A.createEmptyMovieClip(S,w),k=1;this.make();for(var L=0;L<this.modules.length;L++)for(var X=L*k,j=0;j<this.modules[L].length;j++){var J=j*k,ce=this.modules[L][j];ce&&(O.beginFill(0,100),O.moveTo(J,X),O.lineTo(J+k,X),O.lineTo(J+k,X+k),O.lineTo(J,X+k),O.endFill())}return O},E.setupTimingPattern=function(){for(var A=8;A<this.moduleCount-8;A++)this.modules[A][6]==null&&(this.modules[A][6]=A%2==0);for(var S=8;S<this.moduleCount-8;S++)this.modules[6][S]==null&&(this.modules[6][S]=S%2==0)},E.setupPositionAdjustPattern=function(){for(var A=l.getPatternPosition(this.typeNumber),S=0;S<A.length;S++)for(var w=0;w<A.length;w++){var O=A[S],k=A[w];if(this.modules[O][k]==null)for(var L=-2;L<=2;L++)for(var X=-2;X<=2;X++)L==-2||L==2||X==-2||X==2||L==0&&X==0?this.modules[O+L][k+X]=!0:this.modules[O+L][k+X]=!1}},E.setupTypeNumber=function(A){for(var S=l.getBCHTypeNumber(this.typeNumber),w=0;w<18;w++){var O=!A&&(S>>w&1)==1;this.modules[Math.floor(w/3)][w%3+this.moduleCount-8-3]=O}for(var w=0;w<18;w++){var O=!A&&(S>>w&1)==1;this.modules[w%3+this.moduleCount-8-3][Math.floor(w/3)]=O}},E.setupTypeInfo=function(A,S){for(var w=this.errorCorrectLevel<<3|S,O=l.getBCHTypeInfo(w),k=0;k<15;k++){var L=!A&&(O>>k&1)==1;k<6?this.modules[k][8]=L:k<8?this.modules[k+1][8]=L:this.modules[this.moduleCount-15+k][8]=L}for(var k=0;k<15;k++){var L=!A&&(O>>k&1)==1;k<8?this.modules[8][this.moduleCount-k-1]=L:k<9?this.modules[8][15-k-1+1]=L:this.modules[8][15-k-1]=L}this.modules[this.moduleCount-8][8]=!A},E.mapData=function(A,S){for(var w=-1,O=this.moduleCount-1,k=7,L=0,X=this.moduleCount-1;X>0;X-=2)for(X==6&&X--;;){for(var j=0;j<2;j++)if(this.modules[O][X-j]==null){var J=!1;L<A.length&&(J=(A[L]>>>k&1)==1);var ce=l.getMask(S,O,X-j);ce&&(J=!J),this.modules[O][X-j]=J,k--,k==-1&&(L++,k=7)}if(O+=w,O<0||this.moduleCount<=O){O-=w,w=-w;break}}},g.PAD0=236,g.PAD1=17,g.createData=function(A,S,w){for(var O=e.getRSBlocks(A,S),k=new r,L=0;L<w.length;L++){var X=w[L];k.put(X.mode,4),k.put(X.getLength(),l.getLengthInBits(X.mode,A)),X.write(k)}for(var j=0,L=0;L<O.length;L++)j+=O[L].dataCount;if(k.getLengthInBits()>j*8)throw new Error("code length overflow. ("+k.getLengthInBits()+">"+j*8+")");for(k.getLengthInBits()+4<=j*8&&k.put(0,4);k.getLengthInBits()%8!=0;)k.putBit(!1);for(;!(k.getLengthInBits()>=j*8||(k.put(g.PAD0,8),k.getLengthInBits()>=j*8));)k.put(g.PAD1,8);return g.createBytes(k,O)},g.createBytes=function(A,S){for(var w=0,O=0,k=0,L=new Array(S.length),X=new Array(S.length),j=0;j<S.length;j++){var J=S[j].dataCount,ce=S[j].totalCount-J;O=Math.max(O,J),k=Math.max(k,ce),L[j]=new Array(J);for(var ae=0;ae<L[j].length;ae++)L[j][ae]=255&A.buffer[ae+w];w+=J;var Ae=l.getErrorCorrectPolynomial(ce),Se=new h(L[j],Ae.getLength()-1),Ue=Se.mod(Ae);X[j]=new Array(Ae.getLength()-1);for(var ae=0;ae<X[j].length;ae++){var Pe=ae+Ue.getLength()-X[j].length;X[j][ae]=Pe>=0?Ue.get(Pe):0}}for(var We=0,ae=0;ae<S.length;ae++)We+=S[ae].totalCount;for(var $=new Array(We),G=0,ae=0;ae<O;ae++)for(var j=0;j<S.length;j++)ae<L[j].length&&($[G++]=L[j][ae]);for(var ae=0;ae<k;ae++)for(var j=0;j<S.length;j++)ae<X[j].length&&($[G++]=X[j][ae]);return $},g1=g,g1}var th={},m2;function JR(){if(m2)return th;m2=1,Object.defineProperty(th,"__esModule",{value:!0});var s=Object.assign||function(w){for(var O=1;O<arguments.length;O++){var k=arguments[O];for(var L in k)Object.prototype.hasOwnProperty.call(k,L)&&(w[L]=k[L])}return w},e=dx(),r=g(e),l=Tc(),h=g(l);function g(w){return w&&w.__esModule?w:{default:w}}function E(w,O){var k={};for(var L in w)O.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(w,L)&&(k[L]=w[L]);return k}var A={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},S=(0,l.forwardRef)(function(w,O){var k=w.bgColor,L=w.bgD,X=w.fgD,j=w.fgColor,J=w.size,ce=w.title,ae=w.viewBoxSize,Ae=w.xmlns,Se=Ae===void 0?"http://www.w3.org/2000/svg":Ae,Ue=E(w,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return h.default.createElement("svg",s({},Ue,{height:J,ref:O,viewBox:"0 0 "+ae+" "+ae,width:J,xmlns:Se}),ce?h.default.createElement("title",null,ce):null,h.default.createElement("path",{d:L,fill:k}),h.default.createElement("path",{d:X,fill:j}))});return S.displayName="QRCodeSvg",S.propTypes=A,th.default=S,th}var y2;function e8(){if(y2)return Uu;y2=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.QRCode=void 0;var s=Object.assign||function(J){for(var ce=1;ce<arguments.length;ce++){var ae=arguments[ce];for(var Ae in ae)Object.prototype.hasOwnProperty.call(ae,Ae)&&(J[Ae]=ae[Ae])}return J},e=dx(),r=k(e),l=px(),h=k(l),g=ZR(),E=k(g),A=Tc(),S=k(A),w=JR(),O=k(w);function k(J){return J&&J.__esModule?J:{default:J}}function L(J,ce){var ae={};for(var Ae in J)ce.indexOf(Ae)>=0||Object.prototype.hasOwnProperty.call(J,Ae)&&(ae[Ae]=J[Ae]);return ae}var X={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},j=(0,A.forwardRef)(function(J,ce){var ae=J.bgColor,Ae=ae===void 0?"#FFFFFF":ae,Se=J.fgColor,Ue=Se===void 0?"#000000":Se,Pe=J.level,We=Pe===void 0?"L":Pe,$=J.size,G=$===void 0?256:$,H=J.value,K=L(J,["bgColor","fgColor","level","size","value"]),Q=new E.default(-1,h.default[We]);Q.addData(H),Q.make();var oe=Q.modules;return S.default.createElement(O.default,s({},K,{bgColor:Ae,bgD:oe.map(function(F,jt){return F.map(function(Ye,be){return Ye?"":"M "+be+" "+jt+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Ue,fgD:oe.map(function(F,jt){return F.map(function(Ye,be){return Ye?"M "+be+" "+jt+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:ce,size:G,viewBoxSize:oe.length}))});return Uu.QRCode=j,j.displayName="QRCode",j.propTypes=X,Uu.default=j,Uu}var t8=e8();const n8=I2(t8),r8=()=>{const[s,e]=_e.useState(""),[r,l]=_e.useState(null),h=$1(),g=async()=>{if(!s.trim()){alert("Por favor, ingresa un nombre válido");return}const E=await qR(s);E&&l({id:E.id,balance:1500})};return st.jsxs("div",{className:"create-player-container",children:[st.jsx("h2",{children:"➕ Crear Nuevo Jugador"}),st.jsx("input",{type:"text",placeholder:"Nombre del jugador",value:s,onChange:E=>e(E.target.value),className:"input-field"}),st.jsx("button",{onClick:g,className:"btn",children:"Crear Jugador"}),r&&st.jsxs("div",{className:"qr-container",children:[st.jsx("h3",{style:{color:"#000"},children:"📌 Datos del Jugador"}),st.jsx(n8,{value:r.id,size:150}),st.jsxs("p",{style:{color:"#000"},children:[st.jsx("strong",{children:"ID:"})," ",r.id]}),st.jsxs("p",{style:{color:"#000"},children:[st.jsx("strong",{children:"Balance:"})," $",r.balance]})]}),st.jsx("button",{onClick:()=>h("/"),className:"btn btn-secondary",children:"🏠 Volver al Inicio"})]})};let yx=!0,_x=!0;function vh(s,e,r){const l=s.match(e);return l&&l.length>=r&&parseInt(l[r],10)}function su(s,e,r){if(!s.RTCPeerConnection)return;const l=s.RTCPeerConnection.prototype,h=l.addEventListener;l.addEventListener=function(E,A){if(E!==e)return h.apply(this,arguments);const S=w=>{const O=r(w);O&&(A.handleEvent?A.handleEvent(O):A(O))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(A,S),h.apply(this,[E,S])};const g=l.removeEventListener;l.removeEventListener=function(E,A){if(E!==e||!this._eventMap||!this._eventMap[e])return g.apply(this,arguments);if(!this._eventMap[e].has(A))return g.apply(this,arguments);const S=this._eventMap[e].get(A);return this._eventMap[e].delete(A),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,g.apply(this,[E,S])},Object.defineProperty(l,"on"+e,{get(){return this["_on"+e]},set(E){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),E&&this.addEventListener(e,this["_on"+e]=E)},enumerable:!0,configurable:!0})}function i8(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(yx=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function a8(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(_x=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function Ex(){if(typeof window=="object"){if(yx)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Wp(s,e){_x&&console.warn(s+" is deprecated, please use "+e+" instead.")}function o8(s){const e={browser:null,version:null};if(typeof s>"u"||!s.navigator||!s.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:r}=s;if(r.userAgentData&&r.userAgentData.brands){const l=r.userAgentData.brands.find(h=>h.brand==="Chromium");if(l)return{browser:"chrome",version:parseInt(l.version,10)}}if(r.mozGetUserMedia)e.browser="firefox",e.version=vh(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||s.isSecureContext===!1&&s.webkitRTCPeerConnection)e.browser="chrome",e.version=vh(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(s.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=vh(r.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function _2(s){return Object.prototype.toString.call(s)==="[object Object]"}function xx(s){return _2(s)?Object.keys(s).reduce(function(e,r){const l=_2(s[r]),h=l?xx(s[r]):s[r],g=l&&!Object.keys(h).length;return h===void 0||g?e:Object.assign(e,{[r]:h})},{}):s}function j1(s,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(l=>{l.endsWith("Id")?j1(s,s.get(e[l]),r):l.endsWith("Ids")&&e[l].forEach(h=>{j1(s,s.get(h),r)})}))}function E2(s,e,r){const l=r?"outbound-rtp":"inbound-rtp",h=new Map;if(e===null)return h;const g=[];return s.forEach(E=>{E.type==="track"&&E.trackIdentifier===e.id&&g.push(E)}),g.forEach(E=>{s.forEach(A=>{A.type===l&&A.trackId===E.id&&j1(s,A,h)})}),h}const x2=Ex;function Ax(s,e){const r=s&&s.navigator;if(!r.mediaDevices)return;const l=function(A){if(typeof A!="object"||A.mandatory||A.optional)return A;const S={};return Object.keys(A).forEach(w=>{if(w==="require"||w==="advanced"||w==="mediaSource")return;const O=typeof A[w]=="object"?A[w]:{ideal:A[w]};O.exact!==void 0&&typeof O.exact=="number"&&(O.min=O.max=O.exact);const k=function(L,X){return L?L+X.charAt(0).toUpperCase()+X.slice(1):X==="deviceId"?"sourceId":X};if(O.ideal!==void 0){S.optional=S.optional||[];let L={};typeof O.ideal=="number"?(L[k("min",w)]=O.ideal,S.optional.push(L),L={},L[k("max",w)]=O.ideal,S.optional.push(L)):(L[k("",w)]=O.ideal,S.optional.push(L))}O.exact!==void 0&&typeof O.exact!="number"?(S.mandatory=S.mandatory||{},S.mandatory[k("",w)]=O.exact):["min","max"].forEach(L=>{O[L]!==void 0&&(S.mandatory=S.mandatory||{},S.mandatory[k(L,w)]=O[L])})}),A.advanced&&(S.optional=(S.optional||[]).concat(A.advanced)),S},h=function(A,S){if(e.version>=61)return S(A);if(A=JSON.parse(JSON.stringify(A)),A&&typeof A.audio=="object"){const w=function(O,k,L){k in O&&!(L in O)&&(O[L]=O[k],delete O[k])};A=JSON.parse(JSON.stringify(A)),w(A.audio,"autoGainControl","googAutoGainControl"),w(A.audio,"noiseSuppression","googNoiseSuppression"),A.audio=l(A.audio)}if(A&&typeof A.video=="object"){let w=A.video.facingMode;w=w&&(typeof w=="object"?w:{ideal:w});const O=e.version<66;if(w&&(w.exact==="user"||w.exact==="environment"||w.ideal==="user"||w.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!O)){delete A.video.facingMode;let k;if(w.exact==="environment"||w.ideal==="environment"?k=["back","rear"]:(w.exact==="user"||w.ideal==="user")&&(k=["front"]),k)return r.mediaDevices.enumerateDevices().then(L=>{L=L.filter(j=>j.kind==="videoinput");let X=L.find(j=>k.some(J=>j.label.toLowerCase().includes(J)));return!X&&L.length&&k.includes("back")&&(X=L[L.length-1]),X&&(A.video.deviceId=w.exact?{exact:X.deviceId}:{ideal:X.deviceId}),A.video=l(A.video),x2("chrome: "+JSON.stringify(A)),S(A)})}A.video=l(A.video)}return x2("chrome: "+JSON.stringify(A)),S(A)},g=function(A){return e.version>=64?A:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[A.name]||A.name,message:A.message,constraint:A.constraint||A.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},E=function(A,S,w){h(A,O=>{r.webkitGetUserMedia(O,S,k=>{w&&w(g(k))})})};if(r.getUserMedia=E.bind(r),r.mediaDevices.getUserMedia){const A=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(S){return h(S,w=>A(w).then(O=>{if(w.audio&&!O.getAudioTracks().length||w.video&&!O.getVideoTracks().length)throw O.getTracks().forEach(k=>{k.stop()}),new DOMException("","NotFoundError");return O},O=>Promise.reject(g(O))))}}}function Tx(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function Sx(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=l=>{l.stream.addEventListener("addtrack",h=>{let g;s.RTCPeerConnection.prototype.getReceivers?g=this.getReceivers().find(A=>A.track&&A.track.id===h.track.id):g={track:h.track};const E=new Event("track");E.track=h.track,E.receiver=g,E.transceiver={receiver:g},E.streams=[l.stream],this.dispatchEvent(E)}),l.stream.getTracks().forEach(h=>{let g;s.RTCPeerConnection.prototype.getReceivers?g=this.getReceivers().find(A=>A.track&&A.track.id===h.id):g={track:h};const E=new Event("track");E.track=h,E.receiver=g,E.transceiver={receiver:g},E.streams=[l.stream],this.dispatchEvent(E)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else su(s,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Cx(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const e=function(h,g){return{track:g,get dtmf(){return this._dtmf===void 0&&(g.kind==="audio"?this._dtmf=h.createDTMFSender(g):this._dtmf=null),this._dtmf},_pc:h}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const h=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(A,S){let w=h.apply(this,arguments);return w||(w=e(this,A),this._senders.push(w)),w};const g=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(A){g.apply(this,arguments);const S=this._senders.indexOf(A);S!==-1&&this._senders.splice(S,1)}}const r=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(g){this._senders=this._senders||[],r.apply(this,[g]),g.getTracks().forEach(E=>{this._senders.push(e(this,E))})};const l=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(g){this._senders=this._senders||[],l.apply(this,[g]),g.getTracks().forEach(E=>{const A=this._senders.find(S=>S.track===E);A&&this._senders.splice(this._senders.indexOf(A),1)})}}else if(typeof s=="object"&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const e=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const l=e.apply(this,[]);return l.forEach(h=>h._pc=this),l},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function wx(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const r=s.RTCPeerConnection.prototype.getSenders;r&&(s.RTCPeerConnection.prototype.getSenders=function(){const g=r.apply(this,[]);return g.forEach(E=>E._pc=this),g});const l=s.RTCPeerConnection.prototype.addTrack;l&&(s.RTCPeerConnection.prototype.addTrack=function(){const g=l.apply(this,arguments);return g._pc=this,g}),s.RTCRtpSender.prototype.getStats=function(){const g=this;return this._pc.getStats().then(E=>E2(E,g.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const r=s.RTCPeerConnection.prototype.getReceivers;r&&(s.RTCPeerConnection.prototype.getReceivers=function(){const h=r.apply(this,[]);return h.forEach(g=>g._pc=this),h}),su(s,"track",l=>(l.receiver._pc=l.srcElement,l)),s.RTCRtpReceiver.prototype.getStats=function(){const h=this;return this._pc.getStats().then(g=>E2(g,h.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype&&"getStats"in s.RTCRtpReceiver.prototype))return;const e=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const l=arguments[0];let h,g,E;return this.getSenders().forEach(A=>{A.track===l&&(h?E=!0:h=A)}),this.getReceivers().forEach(A=>(A.track===l&&(g?E=!0:g=A),A.track===l)),E||h&&g?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):h?h.getStats():g?g.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function bx(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(E=>this._shimmedLocalStreams[E][0])};const e=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(E,A){if(!A)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const S=e.apply(this,arguments);return this._shimmedLocalStreams[A.id]?this._shimmedLocalStreams[A.id].indexOf(S)===-1&&this._shimmedLocalStreams[A.id].push(S):this._shimmedLocalStreams[A.id]=[A,S],S};const r=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(E){this._shimmedLocalStreams=this._shimmedLocalStreams||{},E.getTracks().forEach(w=>{if(this.getSenders().find(k=>k.track===w))throw new DOMException("Track already exists.","InvalidAccessError")});const A=this.getSenders();r.apply(this,arguments);const S=this.getSenders().filter(w=>A.indexOf(w)===-1);this._shimmedLocalStreams[E.id]=[E].concat(S)};const l=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(E){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[E.id],l.apply(this,arguments)};const h=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(E){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},E&&Object.keys(this._shimmedLocalStreams).forEach(A=>{const S=this._shimmedLocalStreams[A].indexOf(E);S!==-1&&this._shimmedLocalStreams[A].splice(S,1),this._shimmedLocalStreams[A].length===1&&delete this._shimmedLocalStreams[A]}),h.apply(this,arguments)}}function Ix(s,e){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&e.version>=65)return bx(s);const r=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const O=r.apply(this);return this._reverseStreams=this._reverseStreams||{},O.map(k=>this._reverseStreams[k.id])};const l=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(O){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},O.getTracks().forEach(k=>{if(this.getSenders().find(X=>X.track===k))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[O.id]){const k=new s.MediaStream(O.getTracks());this._streams[O.id]=k,this._reverseStreams[k.id]=O,O=k}l.apply(this,[O])};const h=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(O){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.apply(this,[this._streams[O.id]||O]),delete this._reverseStreams[this._streams[O.id]?this._streams[O.id].id:O.id],delete this._streams[O.id]},s.RTCPeerConnection.prototype.addTrack=function(O,k){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const L=[].slice.call(arguments,1);if(L.length!==1||!L[0].getTracks().find(J=>J===O))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(J=>J.track===O))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const j=this._streams[k.id];if(j)j.addTrack(O),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const J=new s.MediaStream([O]);this._streams[k.id]=J,this._reverseStreams[J.id]=k,this.addStream(J)}return this.getSenders().find(J=>J.track===O)};function g(w,O){let k=O.sdp;return Object.keys(w._reverseStreams||[]).forEach(L=>{const X=w._reverseStreams[L],j=w._streams[X.id];k=k.replace(new RegExp(j.id,"g"),X.id)}),new RTCSessionDescription({type:O.type,sdp:k})}function E(w,O){let k=O.sdp;return Object.keys(w._reverseStreams||[]).forEach(L=>{const X=w._reverseStreams[L],j=w._streams[X.id];k=k.replace(new RegExp(X.id,"g"),j.id)}),new RTCSessionDescription({type:O.type,sdp:k})}["createOffer","createAnswer"].forEach(function(w){const O=s.RTCPeerConnection.prototype[w],k={[w](){const L=arguments;return arguments.length&&typeof arguments[0]=="function"?O.apply(this,[j=>{const J=g(this,j);L[0].apply(null,[J])},j=>{L[1]&&L[1].apply(null,j)},arguments[2]]):O.apply(this,arguments).then(j=>g(this,j))}};s.RTCPeerConnection.prototype[w]=k[w]});const A=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?A.apply(this,arguments):(arguments[0]=E(this,arguments[0]),A.apply(this,arguments))};const S=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const w=S.get.apply(this);return w.type===""?w:g(this,w)}}),s.RTCPeerConnection.prototype.removeTrack=function(O){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!O._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(O._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let L;Object.keys(this._streams).forEach(X=>{this._streams[X].getTracks().find(J=>O.track===J)&&(L=this._streams[X])}),L&&(L.getTracks().length===1?this.removeStream(this._reverseStreams[L.id]):L.removeTrack(O.track),this.dispatchEvent(new Event("negotiationneeded")))}}function q1(s,e){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const l=s.RTCPeerConnection.prototype[r],h={[r](){return arguments[0]=new(r==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};s.RTCPeerConnection.prototype[r]=h[r]})}function Rx(s,e){su(s,"negotiationneeded",r=>{const l=r.target;if(!((e.version<72||l.getConfiguration&&l.getConfiguration().sdpSemantics==="plan-b")&&l.signalingState!=="stable"))return r})}const A2=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Rx,shimAddTrackRemoveTrack:Ix,shimAddTrackRemoveTrackWithNative:bx,shimGetSendersWithDtmf:Cx,shimGetUserMedia:Ax,shimMediaStream:Tx,shimOnTrack:Sx,shimPeerConnection:q1,shimSenderReceiverGetStats:wx},Symbol.toStringTag,{value:"Module"}));function Ox(s,e){const r=s&&s.navigator,l=s&&s.MediaStreamTrack;if(r.getUserMedia=function(h,g,E){Wp("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(h).then(g,E)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const h=function(E,A,S){A in E&&!(S in E)&&(E[S]=E[A],delete E[A])},g=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(E){return typeof E=="object"&&typeof E.audio=="object"&&(E=JSON.parse(JSON.stringify(E)),h(E.audio,"autoGainControl","mozAutoGainControl"),h(E.audio,"noiseSuppression","mozNoiseSuppression")),g(E)},l&&l.prototype.getSettings){const E=l.prototype.getSettings;l.prototype.getSettings=function(){const A=E.apply(this,arguments);return h(A,"mozAutoGainControl","autoGainControl"),h(A,"mozNoiseSuppression","noiseSuppression"),A}}if(l&&l.prototype.applyConstraints){const E=l.prototype.applyConstraints;l.prototype.applyConstraints=function(A){return this.kind==="audio"&&typeof A=="object"&&(A=JSON.parse(JSON.stringify(A)),h(A,"autoGainControl","mozAutoGainControl"),h(A,"noiseSuppression","mozNoiseSuppression")),E.apply(this,[A])}}}}function s8(s,e){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(l){if(!(l&&l.video)){const h=new DOMException("getDisplayMedia without video constraints is undefined");return h.name="NotFoundError",h.code=8,Promise.reject(h)}return l.video===!0?l.video={mediaSource:e}:l.video.mediaSource=e,s.navigator.mediaDevices.getUserMedia(l)})}function Dx(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function X1(s,e){if(typeof s!="object"||!(s.RTCPeerConnection||s.mozRTCPeerConnection))return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(h){const g=s.RTCPeerConnection.prototype[h],E={[h](){return arguments[0]=new(h==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),g.apply(this,arguments)}};s.RTCPeerConnection.prototype[h]=E[h]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},l=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[g,E,A]=arguments;return l.apply(this,[g||null]).then(S=>{if(e.version<53&&!E)try{S.forEach(w=>{w.type=r[w.type]||w.type})}catch(w){if(w.name!=="TypeError")throw w;S.forEach((O,k)=>{S.set(k,Object.assign({},O,{type:r[O.type]||O.type}))})}return S}).then(E,A)}}function Nx(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const e=s.RTCPeerConnection.prototype.getSenders;e&&(s.RTCPeerConnection.prototype.getSenders=function(){const h=e.apply(this,[]);return h.forEach(g=>g._pc=this),h});const r=s.RTCPeerConnection.prototype.addTrack;r&&(s.RTCPeerConnection.prototype.addTrack=function(){const h=r.apply(this,arguments);return h._pc=this,h}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Px(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const e=s.RTCPeerConnection.prototype.getReceivers;e&&(s.RTCPeerConnection.prototype.getReceivers=function(){const l=e.apply(this,[]);return l.forEach(h=>h._pc=this),l}),su(s,"track",r=>(r.receiver._pc=r.srcElement,r)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Mx(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(r){Wp("removeStream","removeTrack"),this.getSenders().forEach(l=>{l.track&&r.getTracks().includes(l.track)&&this.removeTrack(l)})})}function Lx(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function kx(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const e=s.RTCPeerConnection.prototype.addTransceiver;e&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let l=arguments[1]&&arguments[1].sendEncodings;l===void 0&&(l=[]),l=[...l];const h=l.length>0;h&&l.forEach(E=>{if("rid"in E&&!/^[a-z0-9]{0,16}$/i.test(E.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in E&&!(parseFloat(E.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in E&&!(parseFloat(E.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const g=e.apply(this,arguments);if(h){const{sender:E}=g,A=E.getParameters();(!("encodings"in A)||A.encodings.length===1&&Object.keys(A.encodings[0]).length===0)&&(A.encodings=l,E.sendEncodings=l,this.setParametersPromises.push(E.setParameters(A).then(()=>{delete E.sendEncodings}).catch(()=>{delete E.sendEncodings})))}return g})}function Bx(s){if(!(typeof s=="object"&&s.RTCRtpSender))return;const e=s.RTCRtpSender.prototype.getParameters;e&&(s.RTCRtpSender.prototype.getParameters=function(){const l=e.apply(this,arguments);return"encodings"in l||(l.encodings=[].concat(this.sendEncodings||[{}])),l})}function Vx(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const e=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Ux(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const e=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const T2=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:kx,shimCreateAnswer:Ux,shimCreateOffer:Vx,shimGetDisplayMedia:s8,shimGetParameters:Bx,shimGetUserMedia:Ox,shimOnTrack:Dx,shimPeerConnection:X1,shimRTCDataChannel:Lx,shimReceiverGetStats:Px,shimRemoveStream:Mx,shimSenderGetStats:Nx},Symbol.toStringTag,{value:"Module"}));function Fx(s){if(!(typeof s!="object"||!s.RTCPeerConnection)){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const e=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(l){this._localStreams||(this._localStreams=[]),this._localStreams.includes(l)||this._localStreams.push(l),l.getAudioTracks().forEach(h=>e.call(this,h,l)),l.getVideoTracks().forEach(h=>e.call(this,h,l))},s.RTCPeerConnection.prototype.addTrack=function(l,...h){return h&&h.forEach(g=>{this._localStreams?this._localStreams.includes(g)||this._localStreams.push(g):this._localStreams=[g]}),e.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const l=this._localStreams.indexOf(r);if(l===-1)return;this._localStreams.splice(l,1);const h=r.getTracks();this.getSenders().forEach(g=>{h.includes(g.track)&&this.removeTrack(g)})})}}function zx(s){if(!(typeof s!="object"||!s.RTCPeerConnection)&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=l=>{l.streams.forEach(h=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(h))return;this._remoteStreams.push(h);const g=new Event("addstream");g.stream=h,this.dispatchEvent(g)})})}});const e=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const l=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(h){h.streams.forEach(g=>{if(l._remoteStreams||(l._remoteStreams=[]),l._remoteStreams.indexOf(g)>=0)return;l._remoteStreams.push(g);const E=new Event("addstream");E.stream=g,l.dispatchEvent(E)})}),e.apply(l,arguments)}}}function Hx(s){if(typeof s!="object"||!s.RTCPeerConnection)return;const e=s.RTCPeerConnection.prototype,r=e.createOffer,l=e.createAnswer,h=e.setLocalDescription,g=e.setRemoteDescription,E=e.addIceCandidate;e.createOffer=function(w,O){const k=arguments.length>=2?arguments[2]:arguments[0],L=r.apply(this,[k]);return O?(L.then(w,O),Promise.resolve()):L},e.createAnswer=function(w,O){const k=arguments.length>=2?arguments[2]:arguments[0],L=l.apply(this,[k]);return O?(L.then(w,O),Promise.resolve()):L};let A=function(S,w,O){const k=h.apply(this,[S]);return O?(k.then(w,O),Promise.resolve()):k};e.setLocalDescription=A,A=function(S,w,O){const k=g.apply(this,[S]);return O?(k.then(w,O),Promise.resolve()):k},e.setRemoteDescription=A,A=function(S,w,O){const k=E.apply(this,[S]);return O?(k.then(w,O),Promise.resolve()):k},e.addIceCandidate=A}function Gx(s){const e=s&&s.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,l=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=h=>l(jx(h))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(l,h,g){e.mediaDevices.getUserMedia(l).then(h,g)}).bind(e))}function jx(s){return s&&s.video!==void 0?Object.assign({},s,{video:xx(s.video)}):s}function qx(s){if(!s.RTCPeerConnection)return;const e=s.RTCPeerConnection;s.RTCPeerConnection=function(l,h){if(l&&l.iceServers){const g=[];for(let E=0;E<l.iceServers.length;E++){let A=l.iceServers[E];A.urls===void 0&&A.url?(Wp("RTCIceServer.url","RTCIceServer.urls"),A=JSON.parse(JSON.stringify(A)),A.urls=A.url,delete A.url,g.push(A)):g.push(l.iceServers[E])}l.iceServers=g}return new e(l,h)},s.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Xx(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Yx(s){const e=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(l){if(l){typeof l.offerToReceiveAudio<"u"&&(l.offerToReceiveAudio=!!l.offerToReceiveAudio);const h=this.getTransceivers().find(E=>E.receiver.track.kind==="audio");l.offerToReceiveAudio===!1&&h?h.direction==="sendrecv"?h.setDirection?h.setDirection("sendonly"):h.direction="sendonly":h.direction==="recvonly"&&(h.setDirection?h.setDirection("inactive"):h.direction="inactive"):l.offerToReceiveAudio===!0&&!h&&this.addTransceiver("audio",{direction:"recvonly"}),typeof l.offerToReceiveVideo<"u"&&(l.offerToReceiveVideo=!!l.offerToReceiveVideo);const g=this.getTransceivers().find(E=>E.receiver.track.kind==="video");l.offerToReceiveVideo===!1&&g?g.direction==="sendrecv"?g.setDirection?g.setDirection("sendonly"):g.direction="sendonly":g.direction==="recvonly"&&(g.setDirection?g.setDirection("inactive"):g.direction="inactive"):l.offerToReceiveVideo===!0&&!g&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Kx(s){typeof s!="object"||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}const S2=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Kx,shimCallbacksAPI:Hx,shimConstraints:jx,shimCreateOfferLegacy:Yx,shimGetUserMedia:Gx,shimLocalStreamsAPI:Fx,shimRTCIceServerUrls:qx,shimRemoteStreamsAPI:zx,shimTrackEventTransceiver:Xx},Symbol.toStringTag,{value:"Module"}));var v1={exports:{}},C2;function u8(){return C2||(C2=1,function(s){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(l=>l.trim())},e.splitSections=function(r){return r.split(`
m=`).map((h,g)=>(g>0?"m="+h:h).trim()+`\r
`)},e.getDescription=function(r){const l=e.splitSections(r);return l&&l[0]},e.getMediaSections=function(r){const l=e.splitSections(r);return l.shift(),l},e.matchPrefix=function(r,l){return e.splitLines(r).filter(h=>h.indexOf(l)===0)},e.parseCandidate=function(r){let l;r.indexOf("a=candidate:")===0?l=r.substring(12).split(" "):l=r.substring(10).split(" ");const h={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let g=8;g<l.length;g+=2)switch(l[g]){case"raddr":h.relatedAddress=l[g+1];break;case"rport":h.relatedPort=parseInt(l[g+1],10);break;case"tcptype":h.tcpType=l[g+1];break;case"ufrag":h.ufrag=l[g+1],h.usernameFragment=l[g+1];break;default:h[l[g]]===void 0&&(h[l[g]]=l[g+1]);break}return h},e.writeCandidate=function(r){const l=[];l.push(r.foundation);const h=r.component;h==="rtp"?l.push(1):h==="rtcp"?l.push(2):l.push(h),l.push(r.protocol.toUpperCase()),l.push(r.priority),l.push(r.address||r.ip),l.push(r.port);const g=r.type;return l.push("typ"),l.push(g),g!=="host"&&r.relatedAddress&&r.relatedPort&&(l.push("raddr"),l.push(r.relatedAddress),l.push("rport"),l.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(l.push("ufrag"),l.push(r.usernameFragment||r.ufrag)),"candidate:"+l.join(" ")},e.parseIceOptions=function(r){return r.substring(14).split(" ")},e.parseRtpMap=function(r){let l=r.substring(9).split(" ");const h={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),h.name=l[0],h.clockRate=parseInt(l[1],10),h.channels=l.length===3?parseInt(l[2],10):1,h.numChannels=h.channels,h},e.writeRtpMap=function(r){let l=r.payloadType;r.preferredPayloadType!==void 0&&(l=r.preferredPayloadType);const h=r.channels||r.numChannels||1;return"a=rtpmap:"+l+" "+r.name+"/"+r.clockRate+(h!==1?"/"+h:"")+`\r
`},e.parseExtmap=function(r){const l=r.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},e.parseFmtp=function(r){const l={};let h;const g=r.substring(r.indexOf(" ")+1).split(";");for(let E=0;E<g.length;E++)h=g[E].trim().split("="),l[h[0].trim()]=h[1];return l},e.writeFmtp=function(r){let l="",h=r.payloadType;if(r.preferredPayloadType!==void 0&&(h=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const g=[];Object.keys(r.parameters).forEach(E=>{r.parameters[E]!==void 0?g.push(E+"="+r.parameters[E]):g.push(E)}),l+="a=fmtp:"+h+" "+g.join(";")+`\r
`}return l},e.parseRtcpFb=function(r){const l=r.substring(r.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},e.writeRtcpFb=function(r){let l="",h=r.payloadType;return r.preferredPayloadType!==void 0&&(h=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(g=>{l+="a=rtcp-fb:"+h+" "+g.type+(g.parameter&&g.parameter.length?" "+g.parameter:"")+`\r
`}),l},e.parseSsrcMedia=function(r){const l=r.indexOf(" "),h={ssrc:parseInt(r.substring(7,l),10)},g=r.indexOf(":",l);return g>-1?(h.attribute=r.substring(l+1,g),h.value=r.substring(g+1)):h.attribute=r.substring(l+1),h},e.parseSsrcGroup=function(r){const l=r.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(h=>parseInt(h,10))}},e.getMid=function(r){const l=e.matchPrefix(r,"a=mid:")[0];if(l)return l.substring(6)},e.parseFingerprint=function(r){const l=r.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},e.getDtlsParameters=function(r,l){return{role:"auto",fingerprints:e.matchPrefix(r+l,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,l){let h="a=setup:"+l+`\r
`;return r.fingerprints.forEach(g=>{h+="a=fingerprint:"+g.algorithm+" "+g.value+`\r
`}),h},e.parseCryptoLine=function(r){const l=r.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const l=r.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,l){return e.matchPrefix(r+l,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,l){const h=e.matchPrefix(r+l,"a=ice-ufrag:")[0],g=e.matchPrefix(r+l,"a=ice-pwd:")[0];return h&&g?{usernameFragment:h.substring(12),password:g.substring(10)}:null},e.writeIceParameters=function(r){let l="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(l+=`a=ice-lite\r
`),l},e.parseRtpParameters=function(r){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},g=e.splitLines(r)[0].split(" ");l.profile=g[2];for(let A=3;A<g.length;A++){const S=g[A],w=e.matchPrefix(r,"a=rtpmap:"+S+" ")[0];if(w){const O=e.parseRtpMap(w),k=e.matchPrefix(r,"a=fmtp:"+S+" ");switch(O.parameters=k.length?e.parseFmtp(k[0]):{},O.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+S+" ").map(e.parseRtcpFb),l.codecs.push(O),O.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(O.name.toUpperCase());break}}}e.matchPrefix(r,"a=extmap:").forEach(A=>{l.headerExtensions.push(e.parseExtmap(A))});const E=e.matchPrefix(r,"a=rtcp-fb:* ").map(e.parseRtcpFb);return l.codecs.forEach(A=>{E.forEach(S=>{A.rtcpFeedback.find(O=>O.type===S.type&&O.parameter===S.parameter)||A.rtcpFeedback.push(S)})}),l},e.writeRtpDescription=function(r,l){let h="";h+="m="+r+" ",h+=l.codecs.length>0?"9":"0",h+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",h+=l.codecs.map(E=>E.preferredPayloadType!==void 0?E.preferredPayloadType:E.payloadType).join(" ")+`\r
`,h+=`c=IN IP4 0.0.0.0\r
`,h+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(E=>{h+=e.writeRtpMap(E),h+=e.writeFmtp(E),h+=e.writeRtcpFb(E)});let g=0;return l.codecs.forEach(E=>{E.maxptime>g&&(g=E.maxptime)}),g>0&&(h+="a=maxptime:"+g+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(E=>{h+=e.writeExtmap(E)}),h},e.parseRtpEncodingParameters=function(r){const l=[],h=e.parseRtpParameters(r),g=h.fecMechanisms.indexOf("RED")!==-1,E=h.fecMechanisms.indexOf("ULPFEC")!==-1,A=e.matchPrefix(r,"a=ssrc:").map(L=>e.parseSsrcMedia(L)).filter(L=>L.attribute==="cname"),S=A.length>0&&A[0].ssrc;let w;const O=e.matchPrefix(r,"a=ssrc-group:FID").map(L=>L.substring(17).split(" ").map(j=>parseInt(j,10)));O.length>0&&O[0].length>1&&O[0][0]===S&&(w=O[0][1]),h.codecs.forEach(L=>{if(L.name.toUpperCase()==="RTX"&&L.parameters.apt){let X={ssrc:S,codecPayloadType:parseInt(L.parameters.apt,10)};S&&w&&(X.rtx={ssrc:w}),l.push(X),g&&(X=JSON.parse(JSON.stringify(X)),X.fec={ssrc:S,mechanism:E?"red+ulpfec":"red"},l.push(X))}}),l.length===0&&S&&l.push({ssrc:S});let k=e.matchPrefix(r,"b=");return k.length&&(k[0].indexOf("b=TIAS:")===0?k=parseInt(k[0].substring(7),10):k[0].indexOf("b=AS:")===0?k=parseInt(k[0].substring(5),10)*1e3*.95-50*40*8:k=void 0,l.forEach(L=>{L.maxBitrate=k})),l},e.parseRtcpParameters=function(r){const l={},h=e.matchPrefix(r,"a=ssrc:").map(A=>e.parseSsrcMedia(A)).filter(A=>A.attribute==="cname")[0];h&&(l.cname=h.value,l.ssrc=h.ssrc);const g=e.matchPrefix(r,"a=rtcp-rsize");l.reducedSize=g.length>0,l.compound=g.length===0;const E=e.matchPrefix(r,"a=rtcp-mux");return l.mux=E.length>0,l},e.writeRtcpParameters=function(r){let l="";return r.reducedSize&&(l+=`a=rtcp-rsize\r
`),r.mux&&(l+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(l+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),l},e.parseMsid=function(r){let l;const h=e.matchPrefix(r,"a=msid:");if(h.length===1)return l=h[0].substring(7).split(" "),{stream:l[0],track:l[1]};const g=e.matchPrefix(r,"a=ssrc:").map(E=>e.parseSsrcMedia(E)).filter(E=>E.attribute==="msid");if(g.length>0)return l=g[0].value.split(" "),{stream:l[0],track:l[1]}},e.parseSctpDescription=function(r){const l=e.parseMLine(r),h=e.matchPrefix(r,"a=max-message-size:");let g;h.length>0&&(g=parseInt(h[0].substring(19),10)),isNaN(g)&&(g=65536);const E=e.matchPrefix(r,"a=sctp-port:");if(E.length>0)return{port:parseInt(E[0].substring(12),10),protocol:l.fmt,maxMessageSize:g};const A=e.matchPrefix(r,"a=sctpmap:");if(A.length>0){const S=A[0].substring(10).split(" ");return{port:parseInt(S[0],10),protocol:S[1],maxMessageSize:g}}},e.writeSctpDescription=function(r,l){let h=[];return r.protocol!=="DTLS/SCTP"?h=["m="+r.kind+" 9 "+r.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:h=["m="+r.kind+" 9 "+r.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&h.push("a=max-message-size:"+l.maxMessageSize+`\r
`),h.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(r,l,h){let g;const E=l!==void 0?l:2;return r?g=r:g=e.generateSessionId(),`v=0\r
o=`+(h||"thisisadapterortc")+" "+g+" "+E+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,l){const h=e.splitLines(r);for(let g=0;g<h.length;g++)switch(h[g]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return h[g].substring(2)}return l?e.getDirection(l):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substring(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const h=e.splitLines(r)[0].substring(2).split(" ");return{kind:h[0],port:parseInt(h[1],10),protocol:h[2],fmt:h.slice(3).join(" ")}},e.parseOLine=function(r){const h=e.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:h[0],sessionId:h[1],sessionVersion:parseInt(h[2],10),netType:h[3],addressType:h[4],address:h[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const l=e.splitLines(r);for(let h=0;h<l.length;h++)if(l[h].length<2||l[h].charAt(1)!=="=")return!1;return!0},s.exports=e}(v1)),v1.exports}var Wx=u8();const Wu=I2(Wx),l8=rT({__proto__:null,default:Wu},[Wx]);function mh(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const e=s.RTCIceCandidate;s.RTCIceCandidate=function(l){if(typeof l=="object"&&l.candidate&&l.candidate.indexOf("a=")===0&&(l=JSON.parse(JSON.stringify(l)),l.candidate=l.candidate.substring(2)),l.candidate&&l.candidate.length){const h=new e(l),g=Wu.parseCandidate(l.candidate);for(const E in g)E in h||Object.defineProperty(h,E,{value:g[E]});return h.toJSON=function(){return{candidate:h.candidate,sdpMid:h.sdpMid,sdpMLineIndex:h.sdpMLineIndex,usernameFragment:h.usernameFragment}},h}return new e(l)},s.RTCIceCandidate.prototype=e.prototype,su(s,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new s.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Y1(s){!s.RTCIceCandidate||s.RTCIceCandidate&&"relayProtocol"in s.RTCIceCandidate.prototype||su(s,"icecandidate",e=>{if(e.candidate){const r=Wu.parseCandidate(e.candidate.candidate);r.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return e})}function yh(s,e){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(A){if(!A||!A.sdp)return!1;const S=Wu.splitSections(A.sdp);return S.shift(),S.some(w=>{const O=Wu.parseMLine(w);return O&&O.kind==="application"&&O.protocol.indexOf("SCTP")!==-1})},l=function(A){const S=A.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(S===null||S.length<2)return-1;const w=parseInt(S[1],10);return w!==w?-1:w},h=function(A){let S=65536;return e.browser==="firefox"&&(e.version<57?A===-1?S=16384:S=2147483637:e.version<60?S=e.version===57?65535:65536:S=2147483637),S},g=function(A,S){let w=65536;e.browser==="firefox"&&e.version===57&&(w=65535);const O=Wu.matchPrefix(A.sdp,"a=max-message-size:");return O.length>0?w=parseInt(O[0].substring(19),10):e.browser==="firefox"&&S!==-1&&(w=2147483637),w},E=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:S}=this.getConfiguration();S==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const S=l(arguments[0]),w=h(S),O=g(arguments[0],S);let k;w===0&&O===0?k=Number.POSITIVE_INFINITY:w===0||O===0?k=Math.max(w,O):k=Math.min(w,O);const L={};Object.defineProperty(L,"maxMessageSize",{get(){return k}}),this._sctp=L}return E.apply(this,arguments)}}function _h(s){if(!(s.RTCPeerConnection&&"createDataChannel"in s.RTCPeerConnection.prototype))return;function e(l,h){const g=l.send;l.send=function(){const A=arguments[0],S=A.length||A.size||A.byteLength;if(l.readyState==="open"&&h.sctp&&S>h.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+h.sctp.maxMessageSize+" bytes)");return g.apply(l,arguments)}}const r=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const h=r.apply(this,arguments);return e(h,this),h},su(s,"datachannel",l=>(e(l.channel,l.target),l))}function K1(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const e=s.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const l=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=h=>{const g=h.target;if(g._lastConnectionState!==g.connectionState){g._lastConnectionState=g.connectionState;const E=new Event("connectionstatechange",h);g.dispatchEvent(E)}return h},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),l.apply(this,arguments)}})}function W1(s,e){if(!s.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const r=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(h){if(h&&h.sdp&&h.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const g=h.sdp.split(`
`).filter(E=>E.trim()!=="a=extmap-allow-mixed").join(`
`);s.RTCSessionDescription&&h instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:h.type,sdp:g}):h.sdp=g}return r.apply(this,arguments)}}function Eh(s,e){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const r=s.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function xh(s,e){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const r=s.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(s.RTCPeerConnection.prototype.setLocalDescription=function(){let h=arguments[0]||{};if(typeof h!="object"||h.type&&h.sdp)return r.apply(this,arguments);if(h={type:h.type,sdp:h.sdp},!h.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":h.type="offer";break;default:h.type="answer";break}return h.sdp||h.type!=="offer"&&h.type!=="answer"?r.apply(this,[h]):(h.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(E=>r.apply(this,[E]))})}const c8=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:W1,shimAddIceCandidateNullOrEmpty:Eh,shimConnectionState:K1,shimMaxMessageSize:yh,shimParameterlessSetLocalDescription:xh,shimRTCIceCandidate:mh,shimRTCIceCandidateRelayProtocol:Y1,shimSendThrowTypeError:_h},Symbol.toStringTag,{value:"Module"}));function f8({window:s}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=Ex,l=o8(s),h={browserDetails:l,commonShim:c8,extractVersion:vh,disableLog:i8,disableWarnings:a8,sdp:l8};switch(l.browser){case"chrome":if(!A2||!q1||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),h;if(l.version===null)return r("Chrome shim can not determine version, not shimming."),h;r("adapter.js shimming chrome."),h.browserShim=A2,Eh(s,l),xh(s),Ax(s,l),Tx(s),q1(s,l),Sx(s),Ix(s,l),Cx(s),wx(s),Rx(s,l),mh(s),Y1(s),K1(s),yh(s,l),_h(s),W1(s,l);break;case"firefox":if(!T2||!X1||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),h;r("adapter.js shimming firefox."),h.browserShim=T2,Eh(s,l),xh(s),Ox(s,l),X1(s,l),Dx(s),Mx(s),Nx(s),Px(s),Lx(s),kx(s),Bx(s),Vx(s),Ux(s),mh(s),K1(s),yh(s,l),_h(s);break;case"safari":if(!S2||!e.shimSafari)return r("Safari shim is not included in this adapter release."),h;r("adapter.js shimming safari."),h.browserShim=S2,Eh(s,l),xh(s),qx(s),Yx(s),Hx(s),Fx(s),zx(s),Xx(s),Gx(s),Kx(s),mh(s),Y1(s),yh(s,l),_h(s),W1(s,l);break;default:r("Unsupported browser!");break}return h}f8({window:typeof window>"u"?void 0:window});var uc={exports:{}},h8=uc.exports,w2;function d8(){return w2||(w2=1,function(s,e){(function(r,l){l(e)})(h8,function(r){function l(a,t){var n=Object.setPrototypeOf;n?n(a,t):a.__proto__=t}function h(a,t){t===void 0&&(t=a.constructor);var n=Error.captureStackTrace;n&&n(a,t)}var g=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),E=function(a){g(t,a);function t(n){var o=this.constructor,c=a.call(this,n)||this;return Object.defineProperty(c,"name",{value:o.name,enumerable:!1,configurable:!0}),l(c,o.prototype),h(c),c}return t}(Error),A=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),S=function(a){A(t,a);function t(n){n===void 0&&(n=void 0);var o=a.call(this,n)||this;return o.message=n,o}return t.prototype.getKind=function(){var n=this.constructor;return n.kind},t.kind="Exception",t}(E),w=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(a){w(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="ArgumentException",t}(S),k=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),L=function(a){k(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="IllegalArgumentException",t}(S),X=function(){function a(t){if(this.binarizer=t,t===null)throw new L("Binarizer must be non-null.")}return a.prototype.getWidth=function(){return this.binarizer.getWidth()},a.prototype.getHeight=function(){return this.binarizer.getHeight()},a.prototype.getBlackRow=function(t,n){return this.binarizer.getBlackRow(t,n)},a.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},a.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},a.prototype.crop=function(t,n,o,c){var f=this.binarizer.getLuminanceSource().crop(t,n,o,c);return new a(this.binarizer.createBinarizer(f))},a.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},a.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new a(this.binarizer.createBinarizer(t))},a.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new a(this.binarizer.createBinarizer(t))},a.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},a}(),j=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),J=function(a){j(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(S),ce=function(){function a(t){this.source=t}return a.prototype.getLuminanceSource=function(){return this.source},a.prototype.getWidth=function(){return this.source.getWidth()},a.prototype.getHeight=function(){return this.source.getHeight()},a}(),ae=function(){function a(){}return a.arraycopy=function(t,n,o,c,f){for(;f--;)o[c++]=t[n++]},a.currentTimeMillis=function(){return Date.now()},a}(),Ae=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Se=function(a){Ae(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="IndexOutOfBoundsException",t}(S),Ue=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pe=function(a){Ue(t,a);function t(n,o){n===void 0&&(n=void 0),o===void 0&&(o=void 0);var c=a.call(this,o)||this;return c.index=n,c.message=o,c}return t.kind="ArrayIndexOutOfBoundsException",t}(Se),We=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$=function(){function a(){}return a.fill=function(t,n){for(var o=0,c=t.length;o<c;o++)t[o]=n},a.fillWithin=function(t,n,o,c){a.rangeCheck(t.length,n,o);for(var f=n;f<o;f++)t[f]=c},a.rangeCheck=function(t,n,o){if(n>o)throw new L("fromIndex("+n+") > toIndex("+o+")");if(n<0)throw new Pe(n);if(o>t)throw new Pe(o)},a.asList=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t},a.create=function(t,n,o){var c=Array.from({length:t});return c.map(function(f){return Array.from({length:n}).fill(o)})},a.createInt32Array=function(t,n,o){var c=Array.from({length:t});return c.map(function(f){return Int32Array.from({length:n}).fill(o)})},a.equals=function(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(var o=0,c=t.length;o<c;o++)if(t[o]!==n[o])return!1;return!0},a.hashCode=function(t){var n,o;if(t===null)return 0;var c=1;try{for(var f=We(t),p=f.next();!p.done;p=f.next()){var m=p.value;c=31*c+m}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return c},a.fillUint8Array=function(t,n){for(var o=0;o!==t.length;o++)t[o]=n},a.copyOf=function(t,n){return t.slice(0,n)},a.copyOfUint8Array=function(t,n){if(t.length<=n){var o=new Uint8Array(n);return o.set(t),o}return t.slice(0,n)},a.copyOfRange=function(t,n,o){var c=o-n,f=new Int32Array(c);return ae.arraycopy(t,n,f,0,c),f},a.binarySearch=function(t,n,o){o===void 0&&(o=a.numberComparator);for(var c=0,f=t.length-1;c<=f;){var p=f+c>>1,m=o(n,t[p]);if(m>0)c=p+1;else if(m<0)f=p-1;else return p}return-c-1},a.numberComparator=function(t,n){return t-n},a}(),G=function(){function a(){}return a.numberOfTrailingZeros=function(t){var n;if(t===0)return 32;var o=31;return n=t<<16,n!==0&&(o-=16,t=n),n=t<<8,n!==0&&(o-=8,t=n),n=t<<4,n!==0&&(o-=4,t=n),n=t<<2,n!==0&&(o-=2,t=n),o-(t<<1>>>31)},a.numberOfLeadingZeros=function(t){if(t===0)return 32;var n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n},a.toHexString=function(t){return t.toString(16)},a.toBinaryString=function(t){return String(parseInt(String(t),2))},a.bitCount=function(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63},a.truncDivision=function(t,n){return Math.trunc(t/n)},a.parseInt=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},a.MIN_VALUE_32_BITS=-2147483648,a.MAX_VALUE=Number.MAX_SAFE_INTEGER,a}(),H=function(){function a(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=a.makeArray(t):this.bits=n)}return a.prototype.getSize=function(){return this.size},a.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},a.prototype.ensureCapacity=function(t){if(t>this.bits.length*32){var n=a.makeArray(t);ae.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},a.prototype.get=function(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0},a.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(t&31)},a.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(t&31)},a.prototype.getNextSet=function(t){var n=this.size;if(t>=n)return n;var o=this.bits,c=Math.floor(t/32),f=o[c];f&=~((1<<(t&31))-1);for(var p=o.length;f===0;){if(++c===p)return n;f=o[c]}var m=c*32+G.numberOfTrailingZeros(f);return m>n?n:m},a.prototype.getNextUnset=function(t){var n=this.size;if(t>=n)return n;var o=this.bits,c=Math.floor(t/32),f=~o[c];f&=~((1<<(t&31))-1);for(var p=o.length;f===0;){if(++c===p)return n;f=~o[c]}var m=c*32+G.numberOfTrailingZeros(f);return m>n?n:m},a.prototype.setBulk=function(t,n){this.bits[Math.floor(t/32)]=n},a.prototype.setRange=function(t,n){if(n<t||t<0||n>this.size)throw new L;if(n!==t){n--;for(var o=Math.floor(t/32),c=Math.floor(n/32),f=this.bits,p=o;p<=c;p++){var m=p>o?0:t&31,_=p<c?31:n&31,T=(2<<_)-(1<<m);f[p]|=T}}},a.prototype.clear=function(){for(var t=this.bits.length,n=this.bits,o=0;o<t;o++)n[o]=0},a.prototype.isRange=function(t,n,o){if(n<t||t<0||n>this.size)throw new L;if(n===t)return!0;n--;for(var c=Math.floor(t/32),f=Math.floor(n/32),p=this.bits,m=c;m<=f;m++){var _=m>c?0:t&31,T=m<f?31:n&31,b=(2<<T)-(1<<_)&4294967295;if((p[m]&b)!==(o?b:0))return!1}return!0},a.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},a.prototype.appendBits=function(t,n){if(n<0||n>32)throw new L("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var o=n;o>0;o--)this.appendBit((t>>o-1&1)===1)},a.prototype.appendBitArray=function(t){var n=t.size;this.ensureCapacity(this.size+n);for(var o=0;o<n;o++)this.appendBit(t.get(o))},a.prototype.xor=function(t){if(this.size!==t.size)throw new L("Sizes don't match");for(var n=this.bits,o=0,c=n.length;o<c;o++)n[o]^=t.bits[o]},a.prototype.toBytes=function(t,n,o,c){for(var f=0;f<c;f++){for(var p=0,m=0;m<8;m++)this.get(t)&&(p|=1<<7-m),t++;n[o+f]=p}},a.prototype.getBitArray=function(){return this.bits},a.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),o=n+1,c=this.bits,f=0;f<o;f++){var p=c[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,t[n-f]=p}if(this.size!==o*32){for(var m=o*32-this.size,_=t[0]>>>m,f=1;f<o;f++){var T=t[f];_|=T<<32-m,t[f-1]=_,_=T>>>m}t[o-1]=_}this.bits=t},a.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.size===n.size&&$.equals(this.bits,n.bits)},a.prototype.hashCode=function(){return 31*this.size+$.hashCode(this.bits)},a.prototype.toString=function(){for(var t="",n=0,o=this.size;n<o;n++)(n&7)===0&&(t+=" "),t+=this.get(n)?"X":".";return t},a.prototype.clone=function(){return new a(this.size,this.bits.slice())},a}(),K;(function(a){a[a.OTHER=0]="OTHER",a[a.PURE_BARCODE=1]="PURE_BARCODE",a[a.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",a[a.TRY_HARDER=3]="TRY_HARDER",a[a.CHARACTER_SET=4]="CHARACTER_SET",a[a.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",a[a.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",a[a.ASSUME_GS1=7]="ASSUME_GS1",a[a.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",a[a.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",a[a.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var Q=K,oe=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(a){oe(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(S),jt=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ye;(function(a){a[a.Cp437=0]="Cp437",a[a.ISO8859_1=1]="ISO8859_1",a[a.ISO8859_2=2]="ISO8859_2",a[a.ISO8859_3=3]="ISO8859_3",a[a.ISO8859_4=4]="ISO8859_4",a[a.ISO8859_5=5]="ISO8859_5",a[a.ISO8859_6=6]="ISO8859_6",a[a.ISO8859_7=7]="ISO8859_7",a[a.ISO8859_8=8]="ISO8859_8",a[a.ISO8859_9=9]="ISO8859_9",a[a.ISO8859_10=10]="ISO8859_10",a[a.ISO8859_11=11]="ISO8859_11",a[a.ISO8859_13=12]="ISO8859_13",a[a.ISO8859_14=13]="ISO8859_14",a[a.ISO8859_15=14]="ISO8859_15",a[a.ISO8859_16=15]="ISO8859_16",a[a.SJIS=16]="SJIS",a[a.Cp1250=17]="Cp1250",a[a.Cp1251=18]="Cp1251",a[a.Cp1252=19]="Cp1252",a[a.Cp1256=20]="Cp1256",a[a.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",a[a.UTF8=22]="UTF8",a[a.ASCII=23]="ASCII",a[a.Big5=24]="Big5",a[a.GB18030=25]="GB18030",a[a.EUC_KR=26]="EUC_KR"})(Ye||(Ye={}));var be=function(){function a(t,n,o){for(var c,f,p=[],m=3;m<arguments.length;m++)p[m-3]=arguments[m];this.valueIdentifier=t,this.name=o,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=p,a.VALUE_IDENTIFIER_TO_ECI.set(t,this),a.NAME_TO_ECI.set(o,this);for(var _=this.values,T=0,b=_.length;T!==b;T++){var I=_[T];a.VALUES_TO_ECI.set(I,this)}try{for(var D=jt(p),N=D.next();!N.done;N=D.next()){var V=N.value;a.NAME_TO_ECI.set(V,this)}}catch(q){c={error:q}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}}return a.prototype.getValueIdentifier=function(){return this.valueIdentifier},a.prototype.getName=function(){return this.name},a.prototype.getValue=function(){return this.values[0]},a.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new F("incorect value");var n=a.VALUES_TO_ECI.get(t);if(n===void 0)throw new F("incorect value");return n},a.getCharacterSetECIByName=function(t){var n=a.NAME_TO_ECI.get(t);if(n===void 0)throw new F("incorect value");return n},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.getName()===n.getName()},a.VALUE_IDENTIFIER_TO_ECI=new Map,a.VALUES_TO_ECI=new Map,a.NAME_TO_ECI=new Map,a.Cp437=new a(Ye.Cp437,Int32Array.from([0,2]),"Cp437"),a.ISO8859_1=new a(Ye.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),a.ISO8859_2=new a(Ye.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),a.ISO8859_3=new a(Ye.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),a.ISO8859_4=new a(Ye.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),a.ISO8859_5=new a(Ye.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),a.ISO8859_6=new a(Ye.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),a.ISO8859_7=new a(Ye.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),a.ISO8859_8=new a(Ye.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),a.ISO8859_9=new a(Ye.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),a.ISO8859_10=new a(Ye.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),a.ISO8859_11=new a(Ye.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),a.ISO8859_13=new a(Ye.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),a.ISO8859_14=new a(Ye.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),a.ISO8859_15=new a(Ye.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),a.ISO8859_16=new a(Ye.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),a.SJIS=new a(Ye.SJIS,20,"SJIS","Shift_JIS"),a.Cp1250=new a(Ye.Cp1250,21,"Cp1250","windows-1250"),a.Cp1251=new a(Ye.Cp1251,22,"Cp1251","windows-1251"),a.Cp1252=new a(Ye.Cp1252,23,"Cp1252","windows-1252"),a.Cp1256=new a(Ye.Cp1256,24,"Cp1256","windows-1256"),a.UnicodeBigUnmarked=new a(Ye.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),a.UTF8=new a(Ye.UTF8,26,"UTF8","UTF-8"),a.ASCII=new a(Ye.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),a.Big5=new a(Ye.Big5,28,"Big5"),a.GB18030=new a(Ye.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),a.EUC_KR=new a(Ye.EUC_KR,30,"EUC_KR","EUC-KR"),a}(),Qe=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),He=function(a){Qe(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="UnsupportedOperationException",t}(S),ct=function(){function a(){}return a.decode=function(t,n){var o=this.encodingName(n);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)},a.shouldDecodeOnFallback=function(t){return!a.isBrowser()&&t==="ISO-8859-1"},a.encode=function(t,n){var o=this.encodingName(n);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)},a.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},a.encodingName=function(t){return typeof t=="string"?t:t.getName()},a.encodingCharacterSet=function(t){return t instanceof be?t:be.getCharacterSetECIByName(t)},a.decodeFallback=function(t,n){var o=this.encodingCharacterSet(n);if(a.isDecodeFallbackSupported(o)){for(var c="",f=0,p=t.length;f<p;f++){var m=t[f].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(o.equals(be.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new He("Encoding "+this.encodingName(n)+" not supported by fallback.")},a.isDecodeFallbackSupported=function(t){return t.equals(be.UTF8)||t.equals(be.ISO8859_1)||t.equals(be.ASCII)},a.encodeFallback=function(t){for(var n=btoa(unescape(encodeURIComponent(t))),o=n.split(""),c=[],f=0;f<o.length;f++)c.push(o[f].charCodeAt(0));return new Uint8Array(c)},a}(),W=function(){function a(){}return a.castAsNonUtf8Char=function(t,n){n===void 0&&(n=null);var o=n?n.getName():this.ISO88591;return ct.decode(new Uint8Array([t]),o)},a.guessEncoding=function(t,n){if(n!=null&&n.get(Q.CHARACTER_SET)!==void 0)return n.get(Q.CHARACTER_SET).toString();for(var o=t.length,c=!0,f=!0,p=!0,m=0,_=0,T=0,b=0,I=0,D=0,N=0,V=0,q=0,re=0,Z=0,ee=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191,he=0;he<o&&(c||f||p);he++){var ge=t[he]&255;p&&(m>0?(ge&128)===0?p=!1:m--:(ge&128)!==0&&((ge&64)===0?p=!1:(m++,(ge&32)===0?_++:(m++,(ge&16)===0?T++:(m++,(ge&8)===0?b++:p=!1))))),c&&(ge>127&&ge<160?c=!1:ge>159&&(ge<192||ge===215||ge===247)&&Z++),f&&(I>0?ge<64||ge===127||ge>252?f=!1:I--:ge===128||ge===160||ge>239?f=!1:ge>160&&ge<224?(D++,V=0,N++,N>q&&(q=N)):ge>127?(I++,N=0,V++,V>re&&(re=V)):(N=0,V=0))}return p&&m>0&&(p=!1),f&&I>0&&(f=!1),p&&(ee||_+T+b>0)?a.UTF8:f&&(a.ASSUME_SHIFT_JIS||q>=3||re>=3)?a.SHIFT_JIS:c&&f?q===2&&D===2||Z*10>=o?a.SHIFT_JIS:a.ISO88591:c?a.ISO88591:f?a.SHIFT_JIS:p?a.UTF8:a.PLATFORM_DEFAULT_ENCODING},a.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var c=-1;function f(m,_,T,b,I,D){if(m==="%%")return"%";if(n[++c]!==void 0){m=b?parseInt(b.substr(1)):void 0;var N=I?parseInt(I.substr(1)):void 0,V;switch(D){case"s":V=n[c];break;case"c":V=n[c][0];break;case"f":V=parseFloat(n[c]).toFixed(m);break;case"p":V=parseFloat(n[c]).toPrecision(m);break;case"e":V=parseFloat(n[c]).toExponential(m);break;case"x":V=parseInt(n[c]).toString(N||16);break;case"d":V=parseFloat(parseInt(n[c],N||10).toPrecision(m)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(N);for(var q=parseInt(T),re=T&&T[0]+""=="0"?"0":" ";V.length<q;)V=_!==void 0?V+re:re+V;return V}}var p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(p,f)},a.getBytes=function(t,n){return ct.encode(t,n)},a.getCharCode=function(t,n){return n===void 0&&(n=0),t.charCodeAt(n)},a.getCharAt=function(t){return String.fromCharCode(t)},a.SHIFT_JIS=be.SJIS.getName(),a.GB2312="GB2312",a.ISO88591=be.ISO8859_1.getName(),a.EUC_JP="EUC_JP",a.UTF8=be.UTF8.getName(),a.PLATFORM_DEFAULT_ENCODING=a.UTF8,a.ASSUME_SHIFT_JIS=!1,a}(),me=function(){function a(t){t===void 0&&(t=""),this.value=t}return a.prototype.enableDecoding=function(t){return this.encoding=t,this},a.prototype.append=function(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=W.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this},a.prototype.appendChars=function(t,n,o){for(var c=n;n<n+o;c++)this.append(t[c]);return this},a.prototype.length=function(){return this.value.length},a.prototype.charAt=function(t){return this.value.charAt(t)},a.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},a.prototype.setCharAt=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)},a.prototype.substring=function(t,n){return this.value.substring(t,n)},a.prototype.setLengthToZero=function(){this.value=""},a.prototype.toString=function(){return this.value},a.prototype.insert=function(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+n.length)},a}(),Ne=function(){function a(t,n,o,c){if(this.width=t,this.height=n,this.rowSize=o,this.bits=c,n==null&&(n=t),this.height=n,t<1||n<1)throw new L("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return a.parseFromBooleanArray=function(t){for(var n=t.length,o=t[0].length,c=new a(o,n),f=0;f<n;f++)for(var p=t[f],m=0;m<o;m++)p[m]&&c.set(m,f);return c},a.parseFromString=function(t,n,o){if(t===null)throw new L("stringRepresentation cannot be null");for(var c=new Array(t.length),f=0,p=0,m=-1,_=0,T=0;T<t.length;)if(t.charAt(T)===`
`||t.charAt(T)==="\r"){if(f>p){if(m===-1)m=f-p;else if(f-p!==m)throw new L("row lengths do not match");p=f,_++}T++}else if(t.substring(T,T+n.length)===n)T+=n.length,c[f]=!0,f++;else if(t.substring(T,T+o.length)===o)T+=o.length,c[f]=!1,f++;else throw new L("illegal character encountered: "+t.substring(T));if(f>p){if(m===-1)m=f-p;else if(f-p!==m)throw new L("row lengths do not match");_++}for(var b=new a(m,_),I=0;I<f;I++)c[I]&&b.set(Math.floor(I%m),Math.floor(I/m));return b},a.prototype.get=function(t,n){var o=n*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0},a.prototype.set=function(t,n){var o=n*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295},a.prototype.unset=function(t,n){var o=n*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)},a.prototype.flip=function(t,n){var o=n*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295},a.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new L("input matrix dimensions do not match");for(var n=new H(Math.floor(this.width/32)+1),o=this.rowSize,c=this.bits,f=0,p=this.height;f<p;f++)for(var m=f*o,_=t.getRow(f,n).getBitArray(),T=0;T<o;T++)c[m+T]^=_[T]},a.prototype.clear=function(){for(var t=this.bits,n=t.length,o=0;o<n;o++)t[o]=0},a.prototype.setRegion=function(t,n,o,c){if(n<0||t<0)throw new L("Left and top must be nonnegative");if(c<1||o<1)throw new L("Height and width must be at least 1");var f=t+o,p=n+c;if(p>this.height||f>this.width)throw new L("The region must fit inside the matrix");for(var m=this.rowSize,_=this.bits,T=n;T<p;T++)for(var b=T*m,I=t;I<f;I++)_[b+Math.floor(I/32)]|=1<<(I&31)&4294967295},a.prototype.getRow=function(t,n){n==null||n.getSize()<this.width?n=new H(this.width):n.clear();for(var o=this.rowSize,c=this.bits,f=t*o,p=0;p<o;p++)n.setBulk(p*32,c[f+p]);return n},a.prototype.setRow=function(t,n){ae.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},a.prototype.rotate180=function(){for(var t=this.getWidth(),n=this.getHeight(),o=new H(t),c=new H(t),f=0,p=Math.floor((n+1)/2);f<p;f++)o=this.getRow(f,o),c=this.getRow(n-1-f,c),o.reverse(),c.reverse(),this.setRow(f,c),this.setRow(n-1-f,o)},a.prototype.getEnclosingRectangle=function(){for(var t=this.width,n=this.height,o=this.rowSize,c=this.bits,f=t,p=n,m=-1,_=-1,T=0;T<n;T++)for(var b=0;b<o;b++){var I=c[T*o+b];if(I!==0){if(T<p&&(p=T),T>_&&(_=T),b*32<f){for(var D=0;(I<<31-D&4294967295)===0;)D++;b*32+D<f&&(f=b*32+D)}if(b*32+31>m){for(var D=31;!(I>>>D);)D--;b*32+D>m&&(m=b*32+D)}}}return m<f||_<p?null:Int32Array.from([f,p,m-f+1,_-p+1])},a.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,n=this.bits,o=0;o<n.length&&n[o]===0;)o++;if(o===n.length)return null;for(var c=o/t,f=o%t*32,p=n[o],m=0;(p<<31-m&4294967295)===0;)m++;return f+=m,Int32Array.from([f,c])},a.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,n=this.bits,o=n.length-1;o>=0&&n[o]===0;)o--;if(o<0)return null;for(var c=Math.floor(o/t),f=Math.floor(o%t)*32,p=n[o],m=31;!(p>>>m);)m--;return f+=m,Int32Array.from([f,c])},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.getRowSize=function(){return this.rowSize},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&$.equals(this.bits,n.bits)},a.prototype.hashCode=function(){var t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+$.hashCode(this.bits),t},a.prototype.toString=function(t,n,o){return t===void 0&&(t="X "),n===void 0&&(n="  "),o===void 0&&(o=`
`),this.buildToString(t,n,o)},a.prototype.buildToString=function(t,n,o){for(var c=new me,f=0,p=this.height;f<p;f++){for(var m=0,_=this.width;m<_;m++)c.append(this.get(m,f)?t:n);c.append(o)}return c.toString()},a.prototype.clone=function(){return new a(this.width,this.height,this.rowSize,this.bits.slice())},a}(),De=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ne=function(a){De(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(S),ut=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),at=function(a){ut(t,a);function t(n){var o=a.call(this,n)||this;return o.luminances=t.EMPTY,o.buckets=new Int32Array(t.LUMINANCE_BUCKETS),o}return t.prototype.getBlackRow=function(n,o){var c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new H(f):o.clear(),this.initArrays(f);for(var p=c.getRow(n,this.luminances),m=this.buckets,_=0;_<f;_++)m[(p[_]&255)>>t.LUMINANCE_SHIFT]++;var T=t.estimateBlackPoint(m);if(f<3)for(var _=0;_<f;_++)(p[_]&255)<T&&o.set(_);else for(var b=p[0]&255,I=p[1]&255,_=1;_<f-1;_++){var D=p[_+1]&255;(I*4-b-D)/2<T&&o.set(_),b=I,I=D}return o},t.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),o=n.getWidth(),c=n.getHeight(),f=new Ne(o,c);this.initArrays(o);for(var p=this.buckets,m=1;m<5;m++)for(var _=Math.floor(c*m/5),T=n.getRow(_,this.luminances),b=Math.floor(o*4/5),I=Math.floor(o/5);I<b;I++){var D=T[I]&255;p[D>>t.LUMINANCE_SHIFT]++}for(var N=t.estimateBlackPoint(p),V=n.getMatrix(),m=0;m<c;m++)for(var q=m*o,I=0;I<o;I++){var D=V[q+I]&255;D<N&&f.set(I,m)}return f},t.prototype.createBinarizer=function(n){return new t(n)},t.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var o=this.buckets,c=0;c<t.LUMINANCE_BUCKETS;c++)o[c]=0},t.estimateBlackPoint=function(n){for(var o=n.length,c=0,f=0,p=0,m=0;m<o;m++)n[m]>p&&(f=m,p=n[m]),n[m]>c&&(c=n[m]);for(var _=0,T=0,m=0;m<o;m++){var b=m-f,I=n[m]*b*b;I>T&&(_=m,T=I)}if(f>_){var D=f;f=_,_=D}if(_-f<=o/16)throw new ne;for(var N=_-1,V=-1,m=_-1;m>f;m--){var q=m-f,I=q*q*(_-m)*(c-n[m]);I>V&&(N=m,V=I)}return N<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(ce),nn=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tt=function(a){nn(t,a);function t(n){var o=a.call(this,n)||this;return o.matrix=null,o}return t.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),o=n.getWidth(),c=n.getHeight();if(o>=t.MINIMUM_DIMENSION&&c>=t.MINIMUM_DIMENSION){var f=n.getMatrix(),p=o>>t.BLOCK_SIZE_POWER;(o&t.BLOCK_SIZE_MASK)!==0&&p++;var m=c>>t.BLOCK_SIZE_POWER;(c&t.BLOCK_SIZE_MASK)!==0&&m++;var _=t.calculateBlackPoints(f,p,m,o,c),T=new Ne(o,c);t.calculateThresholdForBlock(f,p,m,o,c,_,T),this.matrix=T}else this.matrix=a.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(n){return new t(n)},t.calculateThresholdForBlock=function(n,o,c,f,p,m,_){for(var T=p-t.BLOCK_SIZE,b=f-t.BLOCK_SIZE,I=0;I<c;I++){var D=I<<t.BLOCK_SIZE_POWER;D>T&&(D=T);for(var N=t.cap(I,2,c-3),V=0;V<o;V++){var q=V<<t.BLOCK_SIZE_POWER;q>b&&(q=b);for(var re=t.cap(V,2,o-3),Z=0,ee=-2;ee<=2;ee++){var he=m[N+ee];Z+=he[re-2]+he[re-1]+he[re]+he[re+1]+he[re+2]}var ge=Z/25;t.thresholdBlock(n,q,D,ge,f,_)}}},t.cap=function(n,o,c){return n<o?o:n>c?c:n},t.thresholdBlock=function(n,o,c,f,p,m){for(var _=0,T=c*p+o;_<t.BLOCK_SIZE;_++,T+=p)for(var b=0;b<t.BLOCK_SIZE;b++)(n[T+b]&255)<=f&&m.set(o+b,c+_)},t.calculateBlackPoints=function(n,o,c,f,p){for(var m=p-t.BLOCK_SIZE,_=f-t.BLOCK_SIZE,T=new Array(c),b=0;b<c;b++){T[b]=new Int32Array(o);var I=b<<t.BLOCK_SIZE_POWER;I>m&&(I=m);for(var D=0;D<o;D++){var N=D<<t.BLOCK_SIZE_POWER;N>_&&(N=_);for(var V=0,q=255,re=0,Z=0,ee=I*f+N;Z<t.BLOCK_SIZE;Z++,ee+=f){for(var he=0;he<t.BLOCK_SIZE;he++){var ge=n[ee+he]&255;V+=ge,ge<q&&(q=ge),ge>re&&(re=ge)}if(re-q>t.MIN_DYNAMIC_RANGE)for(Z++,ee+=f;Z<t.BLOCK_SIZE;Z++,ee+=f)for(var he=0;he<t.BLOCK_SIZE;he++)V+=n[ee+he]&255}var Ce=V>>t.BLOCK_SIZE_POWER*2;if(re-q<=t.MIN_DYNAMIC_RANGE&&(Ce=q/2,b>0&&D>0)){var Re=(T[b-1][D]+2*T[b][D-1]+T[b-1][D-1])/4;q<Re&&(Ce=Re)}T[b][D]=Ce}}return T},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=t.BLOCK_SIZE*5,t.MIN_DYNAMIC_RANGE=24,t}(at),kt=function(){function a(t,n){this.width=t,this.height=n}return a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.isCropSupported=function(){return!1},a.prototype.crop=function(t,n,o,c){throw new He("This luminance source does not support cropping.")},a.prototype.isRotateSupported=function(){return!1},a.prototype.rotateCounterClockwise=function(){throw new He("This luminance source does not support rotation by 90 degrees.")},a.prototype.rotateCounterClockwise45=function(){throw new He("This luminance source does not support rotation by 45 degrees.")},a.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),n=new me,o=0;o<this.height;o++){for(var c=this.getRow(o,t),f=0;f<this.width;f++){var p=c[f]&255,m=void 0;p<64?m="#":p<128?m="+":p<192?m=".":m=" ",n.append(m)}n.append(`
`)}return n.toString()},a}(),Pt=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),mn=function(a){Pt(t,a);function t(n){var o=a.call(this,n.getWidth(),n.getHeight())||this;return o.delegate=n,o}return t.prototype.getRow=function(n,o){for(var c=this.delegate.getRow(n,o),f=this.getWidth(),p=0;p<f;p++)c[p]=255-(c[p]&255);return c},t.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o),f=0;f<o;f++)c[f]=255-(n[f]&255);return c},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(n,o,c,f){return new t(this.delegate.crop(n,o,c,f))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(kt),di=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gr=function(a){di(t,a);function t(n){var o=a.call(this,n.width,n.height)||this;return o.canvas=n,o.tempCanvasElement=null,o.buffer=t.makeBufferFromCanvasImageData(n),o}return t.makeBufferFromCanvasImageData=function(n){var o=n.getContext("2d").getImageData(0,0,n.width,n.height);return t.toGrayscaleBuffer(o.data,n.width,n.height)},t.toGrayscaleBuffer=function(n,o,c){for(var f=new Uint8ClampedArray(o*c),p=0,m=0,_=n.length;p<_;p+=4,m++){var T=void 0,b=n[p+3];if(b===0)T=255;else{var I=n[p],D=n[p+1],N=n[p+2];T=306*I+601*D+117*N+512>>10}f[m]=T}return f},t.prototype.getRow=function(n,o){if(n<0||n>=this.getHeight())throw new L("Requested row is outside the image: "+n);var c=this.getWidth(),f=n*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,o,c,f){return a.prototype.crop.call(this,n,o,c,f),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},t.prototype.rotate=function(n){var o=this.getTempCanvasElement(),c=o.getContext("2d"),f=n*t.DEGREE_TO_RADIANS,p=this.canvas.width,m=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(f))*p+Math.abs(Math.sin(f))*m),T=Math.ceil(Math.abs(Math.sin(f))*p+Math.abs(Math.cos(f))*m);return o.width=_,o.height=T,c.translate(_/2,T/2),c.rotate(f),c.drawImage(this.canvas,p/-2,m/-2),this.buffer=t.makeBufferFromCanvasImageData(o),this},t.prototype.invert=function(){return new mn(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}(kt),Vi=function(){function a(t,n,o){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=o||void 0}return a.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},a}(),Yt=function(a,t,n,o){function c(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function m(b){try{T(o.next(b))}catch(I){p(I)}}function _(b){try{T(o.throw(b))}catch(I){p(I)}}function T(b){b.done?f(b.value):c(b.value).then(m,_)}T((o=o.apply(a,t||[])).next())})},qt=function(a,t){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,c,f,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(T){return function(b){return _([T,b])}}function _(T){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,c&&(f=T[0]&2?c.return:T[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,T[1])).done)return f;switch(c=0,f&&(T=[T[0]&2,f.value]),T[0]){case 0:case 1:f=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,c=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(T[0]===6||T[0]===2)){n=0;continue}if(T[0]===3&&(!f||T[1]>f[0]&&T[1]<f[3])){n.label=T[1];break}if(T[0]===6&&n.label<f[1]){n.label=f[1],f=T;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(T);break}f[2]&&n.ops.pop(),n.trys.pop();continue}T=t.call(a,n)}catch(b){T=[6,b],c=0}finally{o=f=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},cs=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rr=function(){function a(t,n,o){n===void 0&&(n=500),this.reader=t,this.timeBetweenScansMillis=n,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(a.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),a.prototype.listVideoInputDevices=function(){return Yt(this,void 0,void 0,function(){var t,n,o,c,f,p,m,_,T,b,I,D;return qt(this,function(N){switch(N.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=N.sent(),n=[];try{for(o=cs(t),c=o.next();!c.done;c=o.next())f=c.value,p=f.kind==="video"?"videoinput":f.kind,p==="videoinput"&&(m=f.deviceId||f.id,_=f.label||"Video device "+(n.length+1),T=f.groupId,b={deviceId:m,label:_,kind:p,groupId:T},n.push(b))}catch(V){I={error:V}}finally{try{c&&!c.done&&(D=o.return)&&D.call(o)}finally{if(I)throw I.error}}return[2,n]}})})},a.prototype.getVideoInputDevices=function(){return Yt(this,void 0,void 0,function(){var t;return qt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),[2,t.map(function(o){return new Vi(o.deviceId,o.label)})]}})})},a.prototype.findDeviceById=function(t){return Yt(this,void 0,void 0,function(){var n;return qt(this,function(o){switch(o.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=o.sent(),n?[2,n.find(function(c){return c.deviceId===t})]:[2,null]}})})},a.prototype.decodeFromInputVideoDevice=function(t,n){return Yt(this,void 0,void 0,function(){return qt(this,function(o){switch(o.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,n)];case 1:return[2,o.sent()]}})})},a.prototype.decodeOnceFromVideoDevice=function(t,n){return Yt(this,void 0,void 0,function(){var o,c;return qt(this,function(f){switch(f.label){case 0:return this.reset(),t?o={deviceId:{exact:t}}:o={facingMode:"environment"},c={video:o},[4,this.decodeOnceFromConstraints(c,n)];case 1:return[2,f.sent()]}})})},a.prototype.decodeOnceFromConstraints=function(t,n){return Yt(this,void 0,void 0,function(){var o;return qt(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return o=c.sent(),[4,this.decodeOnceFromStream(o,n)];case 2:return[2,c.sent()]}})})},a.prototype.decodeOnceFromStream=function(t,n){return Yt(this,void 0,void 0,function(){var o,c;return qt(this,function(f){switch(f.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return o=f.sent(),[4,this.decodeOnce(o)];case 2:return c=f.sent(),[2,c]}})})},a.prototype.decodeFromInputVideoDeviceContinuously=function(t,n,o){return Yt(this,void 0,void 0,function(){return qt(this,function(c){switch(c.label){case 0:return[4,this.decodeFromVideoDevice(t,n,o)];case 1:return[2,c.sent()]}})})},a.prototype.decodeFromVideoDevice=function(t,n,o){return Yt(this,void 0,void 0,function(){var c,f;return qt(this,function(p){switch(p.label){case 0:return t?c={deviceId:{exact:t}}:c={facingMode:"environment"},f={video:c},[4,this.decodeFromConstraints(f,n,o)];case 1:return[2,p.sent()]}})})},a.prototype.decodeFromConstraints=function(t,n,o){return Yt(this,void 0,void 0,function(){var c;return qt(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return c=f.sent(),[4,this.decodeFromStream(c,n,o)];case 2:return[2,f.sent()]}})})},a.prototype.decodeFromStream=function(t,n,o){return Yt(this,void 0,void 0,function(){var c;return qt(this,function(f){switch(f.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,n)];case 1:return c=f.sent(),[4,this.decodeContinuously(c,o)];case 2:return[2,f.sent()]}})})},a.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},a.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},a.prototype.attachStreamToVideo=function(t,n){return Yt(this,void 0,void 0,function(){var o;return qt(this,function(c){switch(c.label){case 0:return o=this.prepareVideoElement(n),this.addVideoSource(o,t),this.videoElement=o,this.stream=t,[4,this.playVideoOnLoadAsync(o)];case 1:return c.sent(),[2,o]}})})},a.prototype.playVideoOnLoadAsync=function(t){var n=this;return new Promise(function(o,c){return n.playVideoOnLoad(t,function(){return o()})})},a.prototype.playVideoOnLoad=function(t,n){var o=this;this.videoEndedListener=function(){return o.stopStreams()},this.videoCanPlayListener=function(){return o.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)},a.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},a.prototype.tryPlayVideo=function(t){return Yt(this,void 0,void 0,function(){return qt(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},a.prototype.getMediaElement=function(t,n){var o=document.getElementById(t);if(!o)throw new O("element with id '"+t+"' not found");if(o.nodeName.toLowerCase()!==n.toLowerCase())throw new O("element with id '"+t+"' must be an "+n+" element");return o},a.prototype.decodeFromImage=function(t,n){if(!t&&!n)throw new O("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)},a.prototype.decodeFromVideo=function(t,n){if(!t&&!n)throw new O("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)},a.prototype.decodeFromVideoContinuously=function(t,n,o){if(t===void 0&&n===void 0)throw new O("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,o):this.decodeFromVideoElementContinuously(t,o)},a.prototype.decodeFromImageElement=function(t){if(!t)throw new O("An image element must be provided.");this.reset();var n=this.prepareImageElement(t);this.imageElement=n;var o;return this.isImageLoaded(n)?o=this.decodeOnce(n,!1,!0):o=this._decodeOnLoadImage(n),o},a.prototype.decodeFromVideoElement=function(t){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)},a.prototype.decodeFromVideoElementContinuously=function(t,n){var o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,n)},a.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new O("A video element must be provided.");this.reset();var n=this.prepareVideoElement(t);return this.videoElement=n,n},a.prototype.decodeFromImageUrl=function(t){if(!t)throw new O("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var o=this._decodeOnLoadImage(n);return n.src=t,o},a.prototype.decodeFromVideoUrl=function(t){if(!t)throw new O("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),o=this.decodeFromVideoElement(n);return n.src=t,o},a.prototype.decodeFromVideoUrlContinuously=function(t,n){if(!t)throw new O("An URL must be provided.");this.reset();var o=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(o,n);return o.src=t,c},a.prototype._decodeOnLoadImage=function(t){var n=this;return new Promise(function(o,c){n.imageLoadedListener=function(){return n.decodeOnce(t,!1,!0).then(o,c)},t.addEventListener("load",n.imageLoadedListener)})},a.prototype._decodeOnLoadVideo=function(t){return Yt(this,void 0,void 0,function(){return qt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),[4,this.decodeOnce(t)];case 2:return[2,n.sent()]}})})},a.prototype._decodeOnLoadVideoContinuously=function(t,n){return Yt(this,void 0,void 0,function(){return qt(this,function(o){switch(o.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return o.sent(),this.decodeContinuously(t,n),[2]}})})},a.prototype.isImageLoaded=function(t){return!(!t.complete||t.naturalWidth===0)},a.prototype.prepareImageElement=function(t){var n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n},a.prototype.prepareVideoElement=function(t){var n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},a.prototype.decodeOnce=function(t,n,o){var c=this;n===void 0&&(n=!0),o===void 0&&(o=!0),this._stopAsyncDecode=!1;var f=function(p,m){if(c._stopAsyncDecode){m(new ne("Video stream has ended before any code could be detected.")),c._stopAsyncDecode=void 0;return}try{var _=c.decode(t);p(_)}catch(D){var T=n&&D instanceof ne,b=D instanceof J||D instanceof F,I=b&&o;if(T||I)return setTimeout(f,c._timeBetweenDecodingAttempts,p,m);m(D)}};return new Promise(function(p,m){return f(p,m)})},a.prototype.decodeContinuously=function(t,n){var o=this;this._stopContinuousDecode=!1;var c=function(){if(o._stopContinuousDecode){o._stopContinuousDecode=void 0;return}try{var f=o.decode(t);n(f,null),setTimeout(c,o.timeBetweenScansMillis)}catch(_){n(null,_);var p=_ instanceof J||_ instanceof F,m=_ instanceof ne;(p||m)&&setTimeout(c,o._timeBetweenDecodingAttempts)}};c()},a.prototype.decode=function(t){var n=this.createBinaryBitmap(t);return this.decodeBitmap(n)},a.prototype.createBinaryBitmap=function(t){var n=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(n,t);var o=this.getCaptureCanvas(t),c=new gr(o),f=new Tt(c);return new X(f)},a.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(t),o=n.getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext},a.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas},a.prototype.drawImageOnCanvas=function(t,n){t.drawImage(n,0,0)},a.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},a.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),o,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),n.style.width=o+"px",n.style.height=c+"px",n.width=o,n.height=c,n},a.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},a.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},a.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},a.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},a.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},a.prototype.addVideoSource=function(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}},a.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},a}(),hn=function(){function a(t,n,o,c,f,p){o===void 0&&(o=n==null?0:8*n.length),p===void 0&&(p=ae.currentTimeMillis()),this.text=t,this.rawBytes=n,this.numBits=o,this.resultPoints=c,this.format=f,this.timestamp=p,this.text=t,this.rawBytes=n,o==null?this.numBits=n==null?0:8*n.length:this.numBits=o,this.resultPoints=c,this.format=f,this.resultMetadata=null,p==null?this.timestamp=ae.currentTimeMillis():this.timestamp=p}return a.prototype.getText=function(){return this.text},a.prototype.getRawBytes=function(){return this.rawBytes},a.prototype.getNumBits=function(){return this.numBits},a.prototype.getResultPoints=function(){return this.resultPoints},a.prototype.getBarcodeFormat=function(){return this.format},a.prototype.getResultMetadata=function(){return this.resultMetadata},a.prototype.putMetadata=function(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)},a.prototype.putAllMetadata=function(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))},a.prototype.addResultPoints=function(t){var n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){var o=new Array(n.length+t.length);ae.arraycopy(n,0,o,0,n.length),ae.arraycopy(t,0,o,n.length,t.length),this.resultPoints=o}},a.prototype.getTimestamp=function(){return this.timestamp},a.prototype.toString=function(){return this.text},a}(),pi;(function(a){a[a.AZTEC=0]="AZTEC",a[a.CODABAR=1]="CODABAR",a[a.CODE_39=2]="CODE_39",a[a.CODE_93=3]="CODE_93",a[a.CODE_128=4]="CODE_128",a[a.DATA_MATRIX=5]="DATA_MATRIX",a[a.EAN_8=6]="EAN_8",a[a.EAN_13=7]="EAN_13",a[a.ITF=8]="ITF",a[a.MAXICODE=9]="MAXICODE",a[a.PDF_417=10]="PDF_417",a[a.QR_CODE=11]="QR_CODE",a[a.RSS_14=12]="RSS_14",a[a.RSS_EXPANDED=13]="RSS_EXPANDED",a[a.UPC_A=14]="UPC_A",a[a.UPC_E=15]="UPC_E",a[a.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pi||(pi={}));var qe=pi,fs;(function(a){a[a.OTHER=0]="OTHER",a[a.ORIENTATION=1]="ORIENTATION",a[a.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",a[a.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",a[a.ISSUE_NUMBER=4]="ISSUE_NUMBER",a[a.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",a[a.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",a[a.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",a[a.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",a[a.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",a[a.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fs||(fs={}));var $t=fs,Cn=function(){function a(t,n,o,c,f,p){f===void 0&&(f=-1),p===void 0&&(p=-1),this.rawBytes=t,this.text=n,this.byteSegments=o,this.ecLevel=c,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=t==null?0:8*t.length}return a.prototype.getRawBytes=function(){return this.rawBytes},a.prototype.getNumBits=function(){return this.numBits},a.prototype.setNumBits=function(t){this.numBits=t},a.prototype.getText=function(){return this.text},a.prototype.getByteSegments=function(){return this.byteSegments},a.prototype.getECLevel=function(){return this.ecLevel},a.prototype.getErrorsCorrected=function(){return this.errorsCorrected},a.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},a.prototype.getErasures=function(){return this.erasures},a.prototype.setErasures=function(t){this.erasures=t},a.prototype.getOther=function(){return this.other},a.prototype.setOther=function(t){this.other=t},a.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},a.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},a.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},a}(),Ui=function(){function a(){}return a.prototype.exp=function(t){return this.expTable[t]},a.prototype.log=function(t){if(t===0)throw new L;return this.logTable[t]},a.addOrSubtract=function(t,n){return t^n},a}(),Bt=function(){function a(t,n){if(n.length===0)throw new L;this.field=t;var o=n.length;if(o>1&&n[0]===0){for(var c=1;c<o&&n[c]===0;)c++;c===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-c),ae.arraycopy(n,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return a.prototype.getCoefficients=function(){return this.coefficients},a.prototype.getDegree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return this.coefficients[0]===0},a.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},a.prototype.evaluateAt=function(t){if(t===0)return this.getCoefficient(0);var n=this.coefficients,o;if(t===1){o=0;for(var c=0,f=n.length;c!==f;c++){var p=n[c];o=Ui.addOrSubtract(o,p)}return o}o=n[0];for(var m=n.length,_=this.field,c=1;c<m;c++)o=Ui.addOrSubtract(_.multiply(t,o),n[c]);return o},a.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,o=t.coefficients;if(n.length>o.length){var c=n;n=o,o=c}var f=new Int32Array(o.length),p=o.length-n.length;ae.arraycopy(o,0,f,0,p);for(var m=p;m<o.length;m++)f[m]=Ui.addOrSubtract(n[m-p],o[m]);return new a(this.field,f)},a.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var n=this.coefficients,o=n.length,c=t.coefficients,f=c.length,p=new Int32Array(o+f-1),m=this.field,_=0;_<o;_++)for(var T=n[_],b=0;b<f;b++)p[_+b]=Ui.addOrSubtract(p[_+b],m.multiply(T,c[b]));return new a(m,p)},a.prototype.multiplyScalar=function(t){if(t===0)return this.field.getZero();if(t===1)return this;for(var n=this.coefficients.length,o=this.field,c=new Int32Array(n),f=this.coefficients,p=0;p<n;p++)c[p]=o.multiply(f[p],t);return new a(o,c)},a.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new L;if(n===0)return this.field.getZero();for(var o=this.coefficients,c=o.length,f=new Int32Array(c+t),p=this.field,m=0;m<c;m++)f[m]=p.multiply(o[m],n);return new a(p,f)},a.prototype.divide=function(t){if(!this.field.equals(t.field))throw new L("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new L("Divide by 0");for(var n=this.field,o=n.getZero(),c=this,f=t.getCoefficient(t.getDegree()),p=n.inverse(f);c.getDegree()>=t.getDegree()&&!c.isZero();){var m=c.getDegree()-t.getDegree(),_=n.multiply(c.getCoefficient(c.getDegree()),p),T=t.multiplyByMonomial(m,_),b=n.buildMonomial(m,_);o=o.addOrSubtract(b),c=c.addOrSubtract(T)}return[o,c]},a.prototype.toString=function(){for(var t="",n=this.getDegree();n>=0;n--){var o=this.getCoefficient(n);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),n===0||o!==1){var c=this.field.log(o);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t},a}(),yn=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yr=function(a){yn(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="ArithmeticException",t}(S),uu=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),_n=function(a){uu(t,a);function t(n,o,c){var f=a.call(this)||this;f.primitive=n,f.size=o,f.generatorBase=c;for(var p=new Int32Array(o),m=1,_=0;_<o;_++)p[_]=m,m*=2,m>=o&&(m^=n,m&=o-1);f.expTable=p;for(var T=new Int32Array(o),_=0;_<o-1;_++)T[p[_]]=_;return f.logTable=T,f.zero=new Bt(f,Int32Array.from([0])),f.one=new Bt(f,Int32Array.from([1])),f}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,o){if(n<0)throw new L;if(o===0)return this.zero;var c=new Int32Array(n+1);return c[0]=o,new Bt(this,c)},t.prototype.inverse=function(n){if(n===0)throw new Yr;return this.expTable[this.size-this.logTable[n]-1]},t.prototype.multiply=function(n,o){return n===0||o===0?0:this.expTable[(this.logTable[n]+this.logTable[o])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(n){return n===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Ui),gl=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kr=function(a){gl(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="ReedSolomonException",t}(S),Fi=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kt=function(a){Fi(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="IllegalStateException",t}(S),zi=function(){function a(t){this.field=t}return a.prototype.decode=function(t,n){for(var o=this.field,c=new Bt(o,t),f=new Int32Array(n),p=!0,m=0;m<n;m++){var _=c.evaluateAt(o.exp(m+o.getGeneratorBase()));f[f.length-1-m]=_,_!==0&&(p=!1)}if(!p)for(var T=new Bt(o,f),b=this.runEuclideanAlgorithm(o.buildMonomial(n,1),T,n),I=b[0],D=b[1],N=this.findErrorLocations(I),V=this.findErrorMagnitudes(D,N),m=0;m<N.length;m++){var q=t.length-1-o.log(N[m]);if(q<0)throw new Kr("Bad error location");t[q]=_n.addOrSubtract(t[q],V[m])}},a.prototype.runEuclideanAlgorithm=function(t,n,o){if(t.getDegree()<n.getDegree()){var c=t;t=n,n=c}for(var f=this.field,p=t,m=n,_=f.getZero(),T=f.getOne();m.getDegree()>=(o/2|0);){var b=p,I=_;if(p=m,_=T,p.isZero())throw new Kr("r_{i-1} was zero");m=b;for(var D=f.getZero(),N=p.getCoefficient(p.getDegree()),V=f.inverse(N);m.getDegree()>=p.getDegree()&&!m.isZero();){var q=m.getDegree()-p.getDegree(),re=f.multiply(m.getCoefficient(m.getDegree()),V);D=D.addOrSubtract(f.buildMonomial(q,re)),m=m.addOrSubtract(p.multiplyByMonomial(q,re))}if(T=D.multiply(_).addOrSubtract(I),m.getDegree()>=p.getDegree())throw new Kt("Division algorithm failed to reduce polynomial?")}var Z=T.getCoefficient(0);if(Z===0)throw new Kr("sigmaTilde(0) was zero");var ee=f.inverse(Z),he=T.multiplyScalar(ee),ge=m.multiplyScalar(ee);return[he,ge]},a.prototype.findErrorLocations=function(t){var n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);for(var o=new Int32Array(n),c=0,f=this.field,p=1;p<f.getSize()&&c<n;p++)t.evaluateAt(p)===0&&(o[c]=f.inverse(p),c++);if(c!==n)throw new Kr("Error locator degree does not match number of roots");return o},a.prototype.findErrorMagnitudes=function(t,n){for(var o=n.length,c=new Int32Array(o),f=this.field,p=0;p<o;p++){for(var m=f.inverse(n[p]),_=1,T=0;T<o;T++)if(p!==T){var b=f.multiply(n[T],m),I=(b&1)===0?b|1:b&-2;_=f.multiply(_,I)}c[p]=f.multiply(t.evaluateAt(m),f.inverse(_)),f.getGeneratorBase()!==0&&(c[p]=f.multiply(c[p],m))}return c},a}(),Vt;(function(a){a[a.UPPER=0]="UPPER",a[a.LOWER=1]="LOWER",a[a.MIXED=2]="MIXED",a[a.DIGIT=3]="DIGIT",a[a.PUNCT=4]="PUNCT",a[a.BINARY=5]="BINARY"})(Vt||(Vt={}));var Nn=function(){function a(){}return a.prototype.decode=function(t){this.ddata=t;var n=t.getBits(),o=this.extractBits(n),c=this.correctBits(o),f=a.convertBoolArrayToByteArray(c),p=a.getEncodedData(c),m=new Cn(f,p,null,null);return m.setNumBits(c.length),m},a.highLevelDecode=function(t){return this.getEncodedData(t)},a.getEncodedData=function(t){for(var n=t.length,o=Vt.UPPER,c=Vt.UPPER,f="",p=0;p<n;)if(c===Vt.BINARY){if(n-p<5)break;var m=a.readCode(t,p,5);if(p+=5,m===0){if(n-p<11)break;m=a.readCode(t,p,11)+31,p+=11}for(var _=0;_<m;_++){if(n-p<8){p=n;break}var T=a.readCode(t,p,8);f+=W.castAsNonUtf8Char(T),p+=8}c=o}else{var b=c===Vt.DIGIT?4:5;if(n-p<b)break;var T=a.readCode(t,p,b);p+=b;var I=a.getCharacter(c,T);I.startsWith("CTRL_")?(o=c,c=a.getTable(I.charAt(5)),I.charAt(6)==="L"&&(o=c)):(f+=I,c=o)}return f},a.getTable=function(t){switch(t){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}},a.getCharacter=function(t,n){switch(t){case Vt.UPPER:return a.UPPER_TABLE[n];case Vt.LOWER:return a.LOWER_TABLE[n];case Vt.MIXED:return a.MIXED_TABLE[n];case Vt.PUNCT:return a.PUNCT_TABLE[n];case Vt.DIGIT:return a.DIGIT_TABLE[n];default:throw new Kt("Bad table")}},a.prototype.correctBits=function(t){var n,o;this.ddata.getNbLayers()<=2?(o=6,n=_n.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,n=_n.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,n=_n.AZTEC_DATA_10):(o=12,n=_n.AZTEC_DATA_12);var c=this.ddata.getNbDatablocks(),f=t.length/o;if(f<c)throw new F;for(var p=t.length%o,m=new Int32Array(f),_=0;_<f;_++,p+=o)m[_]=a.readCode(t,p,o);try{var T=new zi(n);T.decode(m,f-c)}catch(re){throw new F(re)}for(var b=(1<<o)-1,I=0,_=0;_<c;_++){var D=m[_];if(D===0||D===b)throw new F;(D===1||D===b-1)&&I++}for(var N=new Array(c*o-I),V=0,_=0;_<c;_++){var D=m[_];if(D===1||D===b-1)N.fill(D>1,V,V+o-1),V+=o-1;else for(var q=o-1;q>=0;--q)N[V++]=(D&1<<q)!==0}return N},a.prototype.extractBits=function(t){var n=this.ddata.isCompact(),o=this.ddata.getNbLayers(),c=(n?11:14)+o*4,f=new Int32Array(c),p=new Array(this.totalBitsInLayer(o,n));if(n)for(var m=0;m<f.length;m++)f[m]=m;else for(var _=c+1+2*G.truncDivision(G.truncDivision(c,2)-1,15),T=c/2,b=G.truncDivision(_,2),m=0;m<T;m++){var I=m+G.truncDivision(m,15);f[T-m-1]=b-I-1,f[T+m]=b+I+1}for(var m=0,D=0;m<o;m++){for(var N=(o-m)*4+(n?9:12),V=m*2,q=c-1-V,re=0;re<N;re++)for(var Z=re*2,ee=0;ee<2;ee++)p[D+Z+ee]=t.get(f[V+ee],f[V+re]),p[D+2*N+Z+ee]=t.get(f[V+re],f[q-ee]),p[D+4*N+Z+ee]=t.get(f[q-ee],f[q-re]),p[D+6*N+Z+ee]=t.get(f[q-re],f[V+ee]);D+=N*8}return p},a.readCode=function(t,n,o){for(var c=0,f=n;f<n+o;f++)c<<=1,t[f]&&(c|=1);return c},a.readByte=function(t,n){var o=t.length-n;return o>=8?a.readCode(t,n,8):a.readCode(t,n,o)<<8-o},a.convertBoolArrayToByteArray=function(t){for(var n=new Uint8Array((t.length+7)/8),o=0;o<n.length;o++)n[o]=a.readByte(t,8*o);return n},a.prototype.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},a.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],a.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],a.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],a.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],a.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],a}(),ht=function(){function a(){}return a.round=function(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},a.distance=function(t,n,o,c){var f=t-o,p=n-c;return Math.sqrt(f*f+p*p)},a.sum=function(t){for(var n=0,o=0,c=t.length;o!==c;o++){var f=t[o];n+=f}return n},a}(),fo=function(){function a(){}return a.floatToIntBits=function(t){return t},a.MAX_VALUE=Number.MAX_SAFE_INTEGER,a}(),Ve=function(){function a(t,n){this.x=t,this.y=n}return a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.equals=function(t){if(t instanceof a){var n=t;return this.x===n.x&&this.y===n.y}return!1},a.prototype.hashCode=function(){return 31*fo.floatToIntBits(this.x)+fo.floatToIntBits(this.y)},a.prototype.toString=function(){return"("+this.x+","+this.y+")"},a.orderBestPatterns=function(t){var n=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]),f,p,m;if(o>=n&&o>=c?(p=t[0],f=t[1],m=t[2]):c>=o&&c>=n?(p=t[1],f=t[0],m=t[2]):(p=t[2],f=t[0],m=t[1]),this.crossProductZ(f,p,m)<0){var _=f;f=m,m=_}t[0]=f,t[1]=p,t[2]=m},a.distance=function(t,n){return ht.distance(t.x,t.y,n.x,n.y)},a.crossProductZ=function(t,n,o){var c=n.x,f=n.y;return(o.x-c)*(t.y-f)-(o.y-f)*(t.x-c)},a}(),vr=function(){function a(t,n){this.bits=t,this.points=n}return a.prototype.getBits=function(){return this.bits},a.prototype.getPoints=function(){return this.points},a}(),Hi=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Or=function(a){Hi(t,a);function t(n,o,c,f,p){var m=a.call(this,n,o)||this;return m.compact=c,m.nbDatablocks=f,m.nbLayers=p,m}return t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(vr),$n=function(){function a(t,n,o,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=a.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);var f=n/2|0;if(this.leftInit=o-f,this.rightInit=o+f,this.upInit=c-f,this.downInit=c+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}return a.prototype.detect=function(){for(var t=this.leftInit,n=this.rightInit,o=this.upInit,c=this.downInit,f=!1,p=!0,m=!1,_=!1,T=!1,b=!1,I=!1,D=this.width,N=this.height;p;){p=!1;for(var V=!0;(V||!_)&&n<D;)V=this.containsBlackPoint(o,c,n,!1),V?(n++,p=!0,_=!0):_||n++;if(n>=D){f=!0;break}for(var q=!0;(q||!T)&&c<N;)q=this.containsBlackPoint(t,n,c,!0),q?(c++,p=!0,T=!0):T||c++;if(c>=N){f=!0;break}for(var re=!0;(re||!b)&&t>=0;)re=this.containsBlackPoint(o,c,t,!1),re?(t--,p=!0,b=!0):b||t--;if(t<0){f=!0;break}for(var Z=!0;(Z||!I)&&o>=0;)Z=this.containsBlackPoint(t,n,o,!0),Z?(o--,p=!0,I=!0):I||o--;if(o<0){f=!0;break}p&&(m=!0)}if(!f&&m){for(var ee=n-t,he=null,ge=1;he===null&&ge<ee;ge++)he=this.getBlackPointOnSegment(t,c-ge,t+ge,c);if(he==null)throw new ne;for(var Ce=null,ge=1;Ce===null&&ge<ee;ge++)Ce=this.getBlackPointOnSegment(t,o+ge,t+ge,o);if(Ce==null)throw new ne;for(var Re=null,ge=1;Re===null&&ge<ee;ge++)Re=this.getBlackPointOnSegment(n,o+ge,n-ge,o);if(Re==null)throw new ne;for(var Oe=null,ge=1;Oe===null&&ge<ee;ge++)Oe=this.getBlackPointOnSegment(n,c-ge,n-ge,c);if(Oe==null)throw new ne;return this.centerEdges(Oe,he,Re,Ce)}else throw new ne},a.prototype.getBlackPointOnSegment=function(t,n,o,c){for(var f=ht.round(ht.distance(t,n,o,c)),p=(o-t)/f,m=(c-n)/f,_=this.image,T=0;T<f;T++){var b=ht.round(t+T*p),I=ht.round(n+T*m);if(_.get(b,I))return new Ve(b,I)}return null},a.prototype.centerEdges=function(t,n,o,c){var f=t.getX(),p=t.getY(),m=n.getX(),_=n.getY(),T=o.getX(),b=o.getY(),I=c.getX(),D=c.getY(),N=a.CORR;return f<this.width/2?[new Ve(I-N,D+N),new Ve(m+N,_+N),new Ve(T-N,b-N),new Ve(f+N,p-N)]:[new Ve(I+N,D+N),new Ve(m+N,_-N),new Ve(T-N,b+N),new Ve(f-N,p-N)]},a.prototype.containsBlackPoint=function(t,n,o,c){var f=this.image;if(c){for(var p=t;p<=n;p++)if(f.get(p,o))return!0}else for(var m=t;m<=n;m++)if(f.get(o,m))return!0;return!1},a.INIT_SIZE=10,a.CORR=1,a}(),gi=function(){function a(){}return a.checkAndNudgePoints=function(t,n){for(var o=t.getWidth(),c=t.getHeight(),f=!0,p=0;p<n.length&&f;p+=2){var m=Math.floor(n[p]),_=Math.floor(n[p+1]);if(m<-1||m>o||_<-1||_>c)throw new ne;f=!1,m===-1?(n[p]=0,f=!0):m===o&&(n[p]=o-1,f=!0),_===-1?(n[p+1]=0,f=!0):_===c&&(n[p+1]=c-1,f=!0)}f=!0;for(var p=n.length-2;p>=0&&f;p-=2){var m=Math.floor(n[p]),_=Math.floor(n[p+1]);if(m<-1||m>o||_<-1||_>c)throw new ne;f=!1,m===-1?(n[p]=0,f=!0):m===o&&(n[p]=o-1,f=!0),_===-1?(n[p+1]=0,f=!0):_===c&&(n[p+1]=c-1,f=!0)}},a}(),Aa=function(){function a(t,n,o,c,f,p,m,_,T){this.a11=t,this.a21=n,this.a31=o,this.a12=c,this.a22=f,this.a32=p,this.a13=m,this.a23=_,this.a33=T}return a.quadrilateralToQuadrilateral=function(t,n,o,c,f,p,m,_,T,b,I,D,N,V,q,re){var Z=a.quadrilateralToSquare(t,n,o,c,f,p,m,_),ee=a.squareToQuadrilateral(T,b,I,D,N,V,q,re);return ee.times(Z)},a.prototype.transformPoints=function(t){for(var n=t.length,o=this.a11,c=this.a12,f=this.a13,p=this.a21,m=this.a22,_=this.a23,T=this.a31,b=this.a32,I=this.a33,D=0;D<n;D+=2){var N=t[D],V=t[D+1],q=f*N+_*V+I;t[D]=(o*N+p*V+T)/q,t[D+1]=(c*N+m*V+b)/q}},a.prototype.transformPointsWithValues=function(t,n){for(var o=this.a11,c=this.a12,f=this.a13,p=this.a21,m=this.a22,_=this.a23,T=this.a31,b=this.a32,I=this.a33,D=t.length,N=0;N<D;N++){var V=t[N],q=n[N],re=f*V+_*q+I;t[N]=(o*V+p*q+T)/re,n[N]=(c*V+m*q+b)/re}},a.squareToQuadrilateral=function(t,n,o,c,f,p,m,_){var T=t-o+f-m,b=n-c+p-_;if(T===0&&b===0)return new a(o-t,f-o,t,c-n,p-c,n,0,0,1);var I=o-f,D=m-f,N=c-p,V=_-p,q=I*V-D*N,re=(T*V-D*b)/q,Z=(I*b-T*N)/q;return new a(o-t+re*o,m-t+Z*m,t,c-n+re*c,_-n+Z*_,n,re,Z,1)},a.quadrilateralToSquare=function(t,n,o,c,f,p,m,_){return a.squareToQuadrilateral(t,n,o,c,f,p,m,_).buildAdjoint()},a.prototype.buildAdjoint=function(){return new a(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},a.prototype.times=function(t){return new a(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},a}(),hs=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gi=function(a){hs(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.sampleGrid=function(n,o,c,f,p,m,_,T,b,I,D,N,V,q,re,Z,ee,he,ge){var Ce=Aa.quadrilateralToQuadrilateral(f,p,m,_,T,b,I,D,N,V,q,re,Z,ee,he,ge);return this.sampleGridWithTransform(n,o,c,Ce)},t.prototype.sampleGridWithTransform=function(n,o,c,f){if(o<=0||c<=0)throw new ne;for(var p=new Ne(o,c),m=new Float32Array(2*o),_=0;_<c;_++){for(var T=m.length,b=_+.5,I=0;I<T;I+=2)m[I]=I/2+.5,m[I+1]=b;f.transformPoints(m),gi.checkAndNudgePoints(n,m);try{for(var I=0;I<T;I+=2)n.get(Math.floor(m[I]),Math.floor(m[I+1]))&&p.set(I/2,_)}catch{throw new ne}}return p},t}(gi),ji=function(){function a(){}return a.setGridSampler=function(t){a.gridSampler=t},a.getInstance=function(){return a.gridSampler},a.gridSampler=new Gi,a}(),yt=function(){function a(t,n){this.x=t,this.y=n}return a.prototype.toResultPoint=function(){return new Ve(this.getX(),this.getY())},a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a}(),lu=function(){function a(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return a.prototype.detect=function(){return this.detectMirror(!1)},a.prototype.detectMirror=function(t){var n=this.getMatrixCenter(),o=this.getBullsEyeCorners(n);if(t){var c=o[0];o[0]=o[2],o[2]=c}this.extractParameters(o);var f=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),p=this.getMatrixCornerPoints(o);return new Or(f,p,this.compact,this.nbDataBlocks,this.nbLayers)},a.prototype.extractParameters=function(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new ne;var n=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(o,n);for(var c=0,f=0;f<4;f++){var p=o[(this.shift+f)%4];this.compact?(c<<=7,c+=p>>1&127):(c<<=10,c+=(p>>2&992)+(p>>1&31))}var m=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(m>>6)+1,this.nbDataBlocks=(m&63)+1):(this.nbLayers=(m>>11)+1,this.nbDataBlocks=(m&2047)+1)},a.prototype.getRotation=function(t,n){var o=0;t.forEach(function(f,p,m){var _=(f>>n-2<<1)+(f&1);o=(o<<3)+_}),o=((o&1)<<11)+(o>>1);for(var c=0;c<4;c++)if(G.bitCount(o^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new ne},a.prototype.getCorrectedParameterData=function(t,n){var o,c;n?(o=7,c=2):(o=10,c=4);for(var f=o-c,p=new Int32Array(o),m=o-1;m>=0;--m)p[m]=t&15,t>>=4;try{var _=new zi(_n.AZTEC_PARAM);_.decode(p,f)}catch{throw new ne}for(var T=0,m=0;m<c;m++)T=(T<<4)+p[m];return T},a.prototype.getBullsEyeCorners=function(t){var n=t,o=t,c=t,f=t,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var m=this.getFirstDifferent(n,p,1,-1),_=this.getFirstDifferent(o,p,1,1),T=this.getFirstDifferent(c,p,-1,1),b=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){var I=this.distancePoint(b,m)*this.nbCenterLayers/(this.distancePoint(f,n)*(this.nbCenterLayers+2));if(I<.75||I>1.25||!this.isWhiteOrBlackRectangle(m,_,T,b))break}n=m,o=_,c=T,f=b,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;var D=new Ve(n.getX()+.5,n.getY()-.5),N=new Ve(o.getX()+.5,o.getY()+.5),V=new Ve(c.getX()-.5,c.getY()+.5),q=new Ve(f.getX()-.5,f.getY()-.5);return this.expandSquare([D,N,V,q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},a.prototype.getMatrixCenter=function(){var t,n,o,c;try{var f=new $n(this.image).detect();t=f[0],n=f[1],o=f[2],c=f[3]}catch{var p=this.image.getWidth()/2,m=this.image.getHeight()/2;t=this.getFirstDifferent(new yt(p+7,m-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new yt(p+7,m+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new yt(p-7,m+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new yt(p-7,m-7),!1,-1,-1).toResultPoint()}var _=ht.round((t.getX()+c.getX()+n.getX()+o.getX())/4),T=ht.round((t.getY()+c.getY()+n.getY()+o.getY())/4);try{var f=new $n(this.image,15,_,T).detect();t=f[0],n=f[1],o=f[2],c=f[3]}catch{t=this.getFirstDifferent(new yt(_+7,T-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new yt(_+7,T+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new yt(_-7,T+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new yt(_-7,T-7),!1,-1,-1).toResultPoint()}return _=ht.round((t.getX()+c.getX()+n.getX()+o.getX())/4),T=ht.round((t.getY()+c.getY()+n.getY()+o.getY())/4),new yt(_,T)},a.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},a.prototype.sampleGrid=function(t,n,o,c,f){var p=ji.getInstance(),m=this.getDimension(),_=m/2-this.nbCenterLayers,T=m/2+this.nbCenterLayers;return p.sampleGrid(t,m,m,_,_,T,_,T,T,_,T,n.getX(),n.getY(),o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY())},a.prototype.sampleLine=function(t,n,o){for(var c=0,f=this.distanceResultPoint(t,n),p=f/o,m=t.getX(),_=t.getY(),T=p*(n.getX()-t.getX())/f,b=p*(n.getY()-t.getY())/f,I=0;I<o;I++)this.image.get(ht.round(m+I*T),ht.round(_+I*b))&&(c|=1<<o-I-1);return c},a.prototype.isWhiteOrBlackRectangle=function(t,n,o,c){var f=3;t=new yt(t.getX()-f,t.getY()+f),n=new yt(n.getX()-f,n.getY()-f),o=new yt(o.getX()+f,o.getY()-f),c=new yt(c.getX()+f,c.getY()+f);var p=this.getColor(c,t);if(p===0)return!1;var m=this.getColor(t,n);return m!==p||(m=this.getColor(n,o),m!==p)?!1:(m=this.getColor(o,c),m===p)},a.prototype.getColor=function(t,n){for(var o=this.distancePoint(t,n),c=(n.getX()-t.getX())/o,f=(n.getY()-t.getY())/o,p=0,m=t.getX(),_=t.getY(),T=this.image.get(t.getX(),t.getY()),b=Math.ceil(o),I=0;I<b;I++)m+=c,_+=f,this.image.get(ht.round(m),ht.round(_))!==T&&p++;var D=p/o;return D>.1&&D<.9?0:D<=.1===T?1:-1},a.prototype.getFirstDifferent=function(t,n,o,c){for(var f=t.getX()+o,p=t.getY()+c;this.isValid(f,p)&&this.image.get(f,p)===n;)f+=o,p+=c;for(f-=o,p-=c;this.isValid(f,p)&&this.image.get(f,p)===n;)f+=o;for(f-=o;this.isValid(f,p)&&this.image.get(f,p)===n;)p+=c;return p-=c,new yt(f,p)},a.prototype.expandSquare=function(t,n,o){var c=o/(2*n),f=t[0].getX()-t[2].getX(),p=t[0].getY()-t[2].getY(),m=(t[0].getX()+t[2].getX())/2,_=(t[0].getY()+t[2].getY())/2,T=new Ve(m+c*f,_+c*p),b=new Ve(m-c*f,_-c*p);f=t[1].getX()-t[3].getX(),p=t[1].getY()-t[3].getY(),m=(t[1].getX()+t[3].getX())/2,_=(t[1].getY()+t[3].getY())/2;var I=new Ve(m+c*f,_+c*p),D=new Ve(m-c*f,_-c*p),N=[T,I,b,D];return N},a.prototype.isValid=function(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()},a.prototype.isValidPoint=function(t){var n=ht.round(t.getX()),o=ht.round(t.getY());return this.isValid(n,o)},a.prototype.distancePoint=function(t,n){return ht.distance(t.getX(),t.getY(),n.getX(),n.getY())},a.prototype.distanceResultPoint=function(t,n){return ht.distance(t.getX(),t.getY(),n.getX(),n.getY())},a.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15},a}(),Dr=function(){function a(){}return a.prototype.decode=function(t,n){n===void 0&&(n=null);var o=null,c=new lu(t.getBlackMatrix()),f=null,p=null;try{var m=c.detectMirror(!1);f=m.getPoints(),this.reportFoundResultPoints(n,f),p=new Nn().decode(m)}catch(I){o=I}if(p==null)try{var m=c.detectMirror(!0);f=m.getPoints(),this.reportFoundResultPoints(n,f),p=new Nn().decode(m)}catch(I){throw o??I}var _=new hn(p.getText(),p.getRawBytes(),p.getNumBits(),f,qe.AZTEC,ae.currentTimeMillis()),T=p.getByteSegments();T!=null&&_.putMetadata($t.BYTE_SEGMENTS,T);var b=p.getECLevel();return b!=null&&_.putMetadata($t.ERROR_CORRECTION_LEVEL,b),_},a.prototype.reportFoundResultPoints=function(t,n){if(t!=null){var o=t.get(Q.NEED_RESULT_POINT_CALLBACK);o!=null&&n.forEach(function(c,f,p){o.foundPossibleResultPoint(c)})}},a.prototype.reset=function(){},a}(),qi=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){qi(t,a);function t(n){return n===void 0&&(n=500),a.call(this,new Dr,n)||this}return t})(Rr);var rn=function(){function a(){}return a.prototype.decode=function(t,n){try{return this.doDecode(t,n)}catch{var o=n&&n.get(Q.TRY_HARDER)===!0;if(o&&t.isRotateSupported()){var c=t.rotateCounterClockwise(),f=this.doDecode(c,n),p=f.getResultMetadata(),m=270;p!==null&&p.get($t.ORIENTATION)===!0&&(m=m+p.get($t.ORIENTATION)%360),f.putMetadata($t.ORIENTATION,m);var _=f.getResultPoints();if(_!==null)for(var T=c.getHeight(),b=0;b<_.length;b++)_[b]=new Ve(T-_[b].getY()-1,_[b].getX());return f}else throw new ne}},a.prototype.reset=function(){},a.prototype.doDecode=function(t,n){var o=t.getWidth(),c=t.getHeight(),f=new H(o),p=n&&n.get(Q.TRY_HARDER)===!0,m=Math.max(1,c>>(p?8:5)),_;p?_=c:_=15;for(var T=Math.trunc(c/2),b=0;b<_;b++){var I=Math.trunc((b+1)/2),D=(b&1)===0,N=T+m*(D?I:-I);if(N<0||N>=c)break;try{f=t.getBlackRow(N,f)}catch{continue}for(var V=function(ee){if(ee===1&&(f.reverse(),n&&n.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){var he=new Map;n.forEach(function(Re,Oe){return he.set(Oe,Re)}),he.delete(Q.NEED_RESULT_POINT_CALLBACK),n=he}try{var ge=q.decodeRow(N,f,n);if(ee===1){ge.putMetadata($t.ORIENTATION,180);var Ce=ge.getResultPoints();Ce!==null&&(Ce[0]=new Ve(o-Ce[0].getX()-1,Ce[0].getY()),Ce[1]=new Ve(o-Ce[1].getX()-1,Ce[1].getY()))}return{value:ge}}catch{}},q=this,re=0;re<2;re++){var Z=V(re);if(typeof Z=="object")return Z.value}}throw new ne},a.recordPattern=function(t,n,o){for(var c=o.length,f=0;f<c;f++)o[f]=0;var p=t.getSize();if(n>=p)throw new ne;for(var m=!t.get(n),_=0,T=n;T<p;){if(t.get(T)!==m)o[_]++;else{if(++_===c)break;o[_]=1,m=!m}T++}if(!(_===c||_===c-1&&T===p))throw new ne},a.recordPatternInReverse=function(t,n,o){for(var c=o.length,f=t.get(n);n>0&&c>=0;)t.get(--n)!==f&&(c--,f=!f);if(c>=0)throw new ne;a.recordPattern(t,n+1,o)},a.patternMatchVariance=function(t,n,o){for(var c=t.length,f=0,p=0,m=0;m<c;m++)f+=t[m],p+=n[m];if(f<p)return Number.POSITIVE_INFINITY;var _=f/p;o*=_;for(var T=0,b=0;b<c;b++){var I=t[b],D=n[b]*_,N=I>D?I-D:D-I;if(N>o)return Number.POSITIVE_INFINITY;T+=N}return T/f},a}(),cu=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),vi=function(a){cu(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.findStartPattern=function(n){for(var o=n.getSize(),c=n.getNextSet(0),f=0,p=Int32Array.from([0,0,0,0,0,0]),m=c,_=!1,T=6,b=c;b<o;b++)if(n.get(b)!==_)p[f]++;else{if(f===T-1){for(var I=t.MAX_AVG_VARIANCE,D=-1,N=t.CODE_START_A;N<=t.CODE_START_C;N++){var V=rn.patternMatchVariance(p,t.CODE_PATTERNS[N],t.MAX_INDIVIDUAL_VARIANCE);V<I&&(I=V,D=N)}if(D>=0&&n.isRange(Math.max(0,m-(b-m)/2),m,!1))return Int32Array.from([m,b,D]);m+=p[0]+p[1],p=p.slice(2,p.length-1),p[f-1]=0,p[f]=0,f--}else f++;p[f]=1,_=!_}throw new ne},t.decodeCode=function(n,o,c){rn.recordPattern(n,c,o);for(var f=t.MAX_AVG_VARIANCE,p=-1,m=0;m<t.CODE_PATTERNS.length;m++){var _=t.CODE_PATTERNS[m],T=this.patternMatchVariance(o,_,t.MAX_INDIVIDUAL_VARIANCE);T<f&&(f=T,p=m)}if(p>=0)return p;throw new ne},t.prototype.decodeRow=function(n,o,c){var f=c&&c.get(Q.ASSUME_GS1)===!0,p=t.findStartPattern(o),m=p[2],_=0,T=new Uint8Array(20);T[_++]=m;var b;switch(m){case t.CODE_START_A:b=t.CODE_CODE_A;break;case t.CODE_START_B:b=t.CODE_CODE_B;break;case t.CODE_START_C:b=t.CODE_CODE_C;break;default:throw new F}for(var I=!1,D=!1,N="",V=p[0],q=p[1],re=Int32Array.from([0,0,0,0,0,0]),Z=0,ee=0,he=m,ge=0,Ce=!0,Re=!1,Oe=!1;!I;){var ze=D;switch(D=!1,Z=ee,ee=t.decodeCode(o,re,q),T[_++]=ee,ee!==t.CODE_STOP&&(Ce=!0),ee!==t.CODE_STOP&&(ge++,he+=ge*ee),V=q,q+=re.reduce(function(bo,Us){return bo+Us},0),ee){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new F}switch(b){case t.CODE_CODE_A:if(ee<64)Oe===Re?N+=String.fromCharCode(32+ee):N+=String.fromCharCode(32+ee+128),Oe=!1;else if(ee<96)Oe===Re?N+=String.fromCharCode(ee-64):N+=String.fromCharCode(ee+64),Oe=!1;else switch(ee!==t.CODE_STOP&&(Ce=!1),ee){case t.CODE_FNC_1:f&&(N.length===0?N+="]C1":N+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!Re&&Oe?(Re=!0,Oe=!1):Re&&Oe?(Re=!1,Oe=!1):Oe=!0;break;case t.CODE_SHIFT:D=!0,b=t.CODE_CODE_B;break;case t.CODE_CODE_B:b=t.CODE_CODE_B;break;case t.CODE_CODE_C:b=t.CODE_CODE_C;break;case t.CODE_STOP:I=!0;break}break;case t.CODE_CODE_B:if(ee<96)Oe===Re?N+=String.fromCharCode(32+ee):N+=String.fromCharCode(32+ee+128),Oe=!1;else switch(ee!==t.CODE_STOP&&(Ce=!1),ee){case t.CODE_FNC_1:f&&(N.length===0?N+="]C1":N+="");break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!Re&&Oe?(Re=!0,Oe=!1):Re&&Oe?(Re=!1,Oe=!1):Oe=!0;break;case t.CODE_SHIFT:D=!0,b=t.CODE_CODE_A;break;case t.CODE_CODE_A:b=t.CODE_CODE_A;break;case t.CODE_CODE_C:b=t.CODE_CODE_C;break;case t.CODE_STOP:I=!0;break}break;case t.CODE_CODE_C:if(ee<100)ee<10&&(N+="0"),N+=ee;else switch(ee!==t.CODE_STOP&&(Ce=!1),ee){case t.CODE_FNC_1:f&&(N.length===0?N+="]C1":N+="");break;case t.CODE_CODE_A:b=t.CODE_CODE_A;break;case t.CODE_CODE_B:b=t.CODE_CODE_B;break;case t.CODE_STOP:I=!0;break}break}ze&&(b=b===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var dt=q-V;if(q=o.getNextUnset(q),!o.isRange(q,Math.min(o.getSize(),q+(q-V)/2),!1))throw new ne;if(he-=ge*Z,he%103!==Z)throw new J;var Le=N.length;if(Le===0)throw new ne;Le>0&&Ce&&(b===t.CODE_CODE_C?N=N.substring(0,Le-2):N=N.substring(0,Le-1));for(var lt=(p[1]+p[0])/2,pt=V+dt/2,Lt=T.length,jn=new Uint8Array(Lt),si=0;si<Lt;si++)jn[si]=T[si];var Fr=[new Ve(lt,n),new Ve(pt,n)];return new hn(N,jn,0,Fr,qe.CODE_128,new Date().getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(rn),Wr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),an=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},on=function(a){Wr(t,a);function t(n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var c=a.call(this)||this;return c.usingCheckDigit=n,c.extendedMode=o,c.decodeRowResult="",c.counters=new Int32Array(9),c}return t.prototype.decodeRow=function(n,o,c){var f,p,m,_,T=this.counters;T.fill(0),this.decodeRowResult="";var b=t.findAsteriskPattern(o,T),I=o.getNextSet(b[1]),D=o.getSize(),N,V;do{t.recordPattern(o,I,T);var q=t.toNarrowWidePattern(T);if(q<0)throw new ne;N=t.patternToChar(q),this.decodeRowResult+=N,V=I;try{for(var re=(f=void 0,an(T)),Z=re.next();!Z.done;Z=re.next()){var ee=Z.value;I+=ee}}catch(Lt){f={error:Lt}}finally{try{Z&&!Z.done&&(p=re.return)&&p.call(re)}finally{if(f)throw f.error}}I=o.getNextSet(I)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var he=0;try{for(var ge=an(T),Ce=ge.next();!Ce.done;Ce=ge.next()){var ee=Ce.value;he+=ee}}catch(Lt){m={error:Lt}}finally{try{Ce&&!Ce.done&&(_=ge.return)&&_.call(ge)}finally{if(m)throw m.error}}var Re=I-V-he;if(I!==D&&Re*2<he)throw new ne;if(this.usingCheckDigit){for(var Oe=this.decodeRowResult.length-1,ze=0,dt=0;dt<Oe;dt++)ze+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(dt));if(this.decodeRowResult.charAt(Oe)!==t.ALPHABET_STRING.charAt(ze%43))throw new J;this.decodeRowResult=this.decodeRowResult.substring(0,Oe)}if(this.decodeRowResult.length===0)throw new ne;var Le;this.extendedMode?Le=t.decodeExtended(this.decodeRowResult):Le=this.decodeRowResult;var lt=(b[1]+b[0])/2,pt=V+he/2;return new hn(Le,null,0,[new Ve(lt,n),new Ve(pt,n)],qe.CODE_39,new Date().getTime())},t.findAsteriskPattern=function(n,o){for(var c=n.getSize(),f=n.getNextSet(0),p=0,m=f,_=!1,T=o.length,b=f;b<c;b++)if(n.get(b)!==_)o[p]++;else{if(p===T-1){if(this.toNarrowWidePattern(o)===t.ASTERISK_ENCODING&&n.isRange(Math.max(0,m-Math.floor((b-m)/2)),m,!1))return[m,b];m+=o[0]+o[1],o.copyWithin(0,2,2+p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,_=!_}throw new ne},t.toNarrowWidePattern=function(n){var o,c,f=n.length,p=0,m;do{var _=2147483647;try{for(var T=(o=void 0,an(n)),b=T.next();!b.done;b=T.next()){var I=b.value;I<_&&I>p&&(_=I)}}catch(q){o={error:q}}finally{try{b&&!b.done&&(c=T.return)&&c.call(T)}finally{if(o)throw o.error}}p=_,m=0;for(var D=0,N=0,V=0;V<f;V++){var I=n[V];I>p&&(N|=1<<f-1-V,m++,D+=I)}if(m===3){for(var V=0;V<f&&m>0;V++){var I=n[V];if(I>p&&(m--,I*2>=D))return-1}return N}}while(m>3);return-1},t.patternToChar=function(n){for(var o=0;o<t.CHARACTER_ENCODINGS.length;o++)if(t.CHARACTER_ENCODINGS[o]===n)return t.ALPHABET_STRING.charAt(o);if(n===t.ASTERISK_ENCODING)return"*";throw new ne},t.decodeExtended=function(n){for(var o=n.length,c="",f=0;f<o;f++){var p=n.charAt(f);if(p==="+"||p==="$"||p==="%"||p==="/"){var m=n.charAt(f+1),_="\0";switch(p){case"+":if(m>="A"&&m<="Z")_=String.fromCharCode(m.charCodeAt(0)+32);else throw new F;break;case"$":if(m>="A"&&m<="Z")_=String.fromCharCode(m.charCodeAt(0)-64);else throw new F;break;case"%":if(m>="A"&&m<="E")_=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")_=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")_=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")_=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")_="\0";else if(m==="V")_="@";else if(m==="W")_="`";else if(m==="X"||m==="Y"||m==="Z")_="";else throw new F;break;case"/":if(m>="A"&&m<="O")_=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")_=":";else throw new F;break}c+=_,f++}else c+=p}return c},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(rn),mi=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ta=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sa=function(a){mi(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return t.prototype.decodeRow=function(n,o,c){var f,p,m=this.decodeStart(o),_=this.decodeEnd(o),T=new me;t.decodeMiddle(o,m[1],_[0],T);var b=T.toString(),I=null;c!=null&&(I=c.get(Q.ALLOWED_LENGTHS)),I==null&&(I=t.DEFAULT_ALLOWED_LENGTHS);var D=b.length,N=!1,V=0;try{for(var q=Ta(I),re=q.next();!re.done;re=q.next()){var Z=re.value;if(D===Z){N=!0;break}Z>V&&(V=Z)}}catch(ge){f={error:ge}}finally{try{re&&!re.done&&(p=q.return)&&p.call(q)}finally{if(f)throw f.error}}if(!N&&D>V&&(N=!0),!N)throw new F;var ee=[new Ve(m[1],n),new Ve(_[0],n)],he=new hn(b,null,0,ee,qe.ITF,new Date().getTime());return he},t.decodeMiddle=function(n,o,c,f){var p=new Int32Array(10),m=new Int32Array(5),_=new Int32Array(5);for(p.fill(0),m.fill(0),_.fill(0);o<c;){rn.recordPattern(n,o,p);for(var T=0;T<5;T++){var b=2*T;m[T]=p[b],_[T]=p[b+1]}var I=t.decodeDigit(m);f.append(I.toString()),I=this.decodeDigit(_),f.append(I.toString()),p.forEach(function(D){o+=D})}},t.prototype.decodeStart=function(n){var o=t.skipWhiteSpace(n),c=t.findGuardPattern(n,o,t.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(n,c[0]),c},t.prototype.validateQuietZone=function(n,o){var c=this.narrowLineWidth*10;c=c<o?c:o;for(var f=o-1;c>0&&f>=0&&!n.get(f);f--)c--;if(c!==0)throw new ne},t.skipWhiteSpace=function(n){var o=n.getSize(),c=n.getNextSet(0);if(c===o)throw new ne;return c},t.prototype.decodeEnd=function(n){n.reverse();try{var o=t.skipWhiteSpace(n),c=void 0;try{c=t.findGuardPattern(n,o,t.END_PATTERN_REVERSED[0])}catch(p){p instanceof ne&&(c=t.findGuardPattern(n,o,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,c[0]);var f=c[0];return c[0]=n.getSize()-c[1],c[1]=n.getSize()-f,c}finally{n.reverse()}},t.findGuardPattern=function(n,o,c){var f=c.length,p=new Int32Array(f),m=n.getSize(),_=!1,T=0,b=o;p.fill(0);for(var I=o;I<m;I++)if(n.get(I)!==_)p[T]++;else{if(T===f-1){if(rn.patternMatchVariance(p,c,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[b,I];b+=p[0]+p[1],ae.arraycopy(p,2,p,0,T-1),p[T-1]=0,p[T]=0,T--}else T++;p[T]=1,_=!_}throw new ne},t.decodeDigit=function(n){for(var o=t.MAX_AVG_VARIANCE,c=-1,f=t.PATTERNS.length,p=0;p<f;p++){var m=t.PATTERNS[p],_=rn.patternMatchVariance(n,m,t.MAX_INDIVIDUAL_VARIANCE);_<o?(o=_,c=p):_===o&&(c=-1)}if(c>=0)return c%10;throw new ne},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(rn),Qr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),$r=function(a){Qr(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return t.findStartGuardPattern=function(n){for(var o=!1,c,f=0,p=Int32Array.from([0,0,0]);!o;){p=Int32Array.from([0,0,0]),c=t.findGuardPattern(n,f,!1,this.START_END_PATTERN,p);var m=c[0];f=c[1];var _=m-(f-m);_>=0&&(o=n.isRange(_,m,!1))}return c},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var o=n.length;if(o===0)return!1;var c=parseInt(n.charAt(o-1),10);return t.getStandardUPCEANChecksum(n.substring(0,o-1))===c},t.getStandardUPCEANChecksum=function(n){for(var o=n.length,c=0,f=o-1;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;c+=p}c*=3;for(var f=o-2;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;c+=p}return(1e3-c)%10},t.decodeEnd=function(n,o){return t.findGuardPattern(n,o,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(n,o,c,f){return this.findGuardPattern(n,o,c,f,new Int32Array(f.length))},t.findGuardPattern=function(n,o,c,f,p){var m=n.getSize();o=c?n.getNextUnset(o):n.getNextSet(o);for(var _=0,T=o,b=f.length,I=c,D=o;D<m;D++)if(n.get(D)!==I)p[_]++;else{if(_===b-1){if(rn.patternMatchVariance(p,f,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([T,D]);T+=p[0]+p[1];for(var N=p.slice(2,p.length-1),V=0;V<_-1;V++)p[V]=N[V];p[_-1]=0,p[_]=0,_--}else _++;p[_]=1,I=!I}throw new ne},t.decodeDigit=function(n,o,c,f){this.recordPattern(n,c,o);for(var p=this.MAX_AVG_VARIANCE,m=-1,_=f.length,T=0;T<_;T++){var b=f[T],I=rn.patternMatchVariance(o,b,t.MAX_INDIVIDUAL_VARIANCE);I<p&&(p=I,m=T)}if(m>=0)return m;throw new ne},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(rn),Xi=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ca=function(){function a(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return a.prototype.decodeRow=function(t,n,o){var c=this.decodeRowStringBuffer,f=this.decodeMiddle(n,o,c),p=c.toString(),m=a.parseExtensionString(p),_=[new Ve((o[0]+o[1])/2,t),new Ve(f,t)],T=new hn(p,null,0,_,qe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&T.putAllMetadata(m),T},a.prototype.decodeMiddle=function(t,n,o){var c,f,p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var m=t.getSize(),_=n[1],T=0,b=0;b<5&&_<m;b++){var I=$r.decodeDigit(t,p,_,$r.L_AND_G_PATTERNS);o+=String.fromCharCode(48+I%10);try{for(var D=(c=void 0,Xi(p)),N=D.next();!N.done;N=D.next()){var V=N.value;_+=V}}catch(re){c={error:re}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}I>=10&&(T|=1<<4-b),b!==4&&(_=t.getNextSet(_),_=t.getNextUnset(_))}if(o.length!==5)throw new ne;var q=this.determineCheckDigit(T);if(a.extensionChecksum(o.toString())!==q)throw new ne;return _},a.extensionChecksum=function(t){for(var n=t.length,o=0,c=n-2;c>=0;c-=2)o+=t.charAt(c).charCodeAt(0)-48;o*=3;for(var c=n-1;c>=0;c-=2)o+=t.charAt(c).charCodeAt(0)-48;return o*=3,o%10},a.prototype.determineCheckDigit=function(t){for(var n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new ne},a.parseExtensionString=function(t){if(t.length!==5)return null;var n=a.parseExtension5String(t);return n==null?null:new Map([[$t.SUGGESTED_PRICE,n]])},a.parseExtension5String=function(t){var n;switch(t.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var o=parseInt(t.substring(1)),c=(o/100).toString(),f=o%100,p=f<10?"0"+f:f.toString();return n+c+"."+p},a}(),Nr=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function a(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return a.prototype.decodeRow=function(t,n,o){var c=this.decodeRowStringBuffer,f=this.decodeMiddle(n,o,c),p=c.toString(),m=a.parseExtensionString(p),_=[new Ve((o[0]+o[1])/2,t),new Ve(f,t)],T=new hn(p,null,0,_,qe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&T.putAllMetadata(m),T},a.prototype.decodeMiddle=function(t,n,o){var c,f,p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var m=t.getSize(),_=n[1],T=0,b=0;b<2&&_<m;b++){var I=$r.decodeDigit(t,p,_,$r.L_AND_G_PATTERNS);o+=String.fromCharCode(48+I%10);try{for(var D=(c=void 0,Nr(p)),N=D.next();!N.done;N=D.next()){var V=N.value;_+=V}}catch(q){c={error:q}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}I>=10&&(T|=1<<1-b),b!==1&&(_=t.getNextSet(_),_=t.getNextUnset(_))}if(o.length!==2)throw new ne;if(parseInt(o.toString())%4!==T)throw new ne;return _},a.parseExtensionString=function(t){return t.length!==2?null:new Map([[$t.ISSUE_NUMBER,parseInt(t)]])},a}(),Yi=function(){function a(){}return a.decodeRow=function(t,n,o){var c=$r.findGuardPattern(n,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var f=new Ca;return f.decodeRow(t,n,c)}catch{var p=new yi;return p.decodeRow(t,n,c)}},a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),a}(),Ki=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ot=function(a){Ki(t,a);function t(){var n=a.call(this)||this;n.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(m){return Int32Array.from(m)});for(var o=10;o<20;o++){for(var c=t.L_PATTERNS[o-10],f=new Int32Array(c.length),p=0;p<c.length;p++)f[p]=c[c.length-p-1];t.L_AND_G_PATTERNS[o]=f}return n}return t.prototype.decodeRow=function(n,o,c){var f=t.findStartGuardPattern(o),p=c==null?null:c.get(Q.NEED_RESULT_POINT_CALLBACK);if(p!=null){var m=new Ve((f[0]+f[1])/2,n);p.foundPossibleResultPoint(m)}var _=this.decodeMiddle(o,f,this.decodeRowStringBuffer),T=_.rowOffset,b=_.resultString;if(p!=null){var I=new Ve(T,n);p.foundPossibleResultPoint(I)}var D=t.decodeEnd(o,T);if(p!=null){var N=new Ve((D[0]+D[1])/2,n);p.foundPossibleResultPoint(N)}var V=D[1],q=V+(V-D[0]);if(q>=o.getSize()||!o.isRange(V,q,!1))throw new ne;var re=b.toString();if(re.length<8)throw new F;if(!t.checkChecksum(re))throw new J;var Z=(f[1]+f[0])/2,ee=(D[1]+D[0])/2,he=this.getBarcodeFormat(),ge=[new Ve(Z,n),new Ve(ee,n)],Ce=new hn(re,null,0,ge,he,new Date().getTime()),Re=0;try{var Oe=Yi.decodeRow(n,o,D[1]);Ce.putMetadata($t.UPC_EAN_EXTENSION,Oe.getText()),Ce.putAllMetadata(Oe.getResultMetadata()),Ce.addResultPoints(Oe.getResultPoints()),Re=Oe.getText().length}catch{}var ze=c==null?null:c.get(Q.ALLOWED_EAN_EXTENSIONS);if(ze!=null){var dt=!1;for(var Le in ze)if(Re.toString()===Le){dt=!0;break}if(!dt)throw new ne}return he===qe.EAN_13||qe.UPC_A,Ce},t.checkChecksum=function(n){return t.checkStandardUPCEANChecksum(n)},t.checkStandardUPCEANChecksum=function(n){var o=n.length;if(o===0)return!1;var c=parseInt(n.charAt(o-1),10);return t.getStandardUPCEANChecksum(n.substring(0,o-1))===c},t.getStandardUPCEANChecksum=function(n){for(var o=n.length,c=0,f=o-1;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;c+=p}c*=3;for(var f=o-2;f>=0;f-=2){var p=n.charAt(f).charCodeAt(0)-48;if(p<0||p>9)throw new F;c+=p}return(1e3-c)%10},t.decodeEnd=function(n,o){return t.findGuardPattern(n,o,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}($r),ds=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),wa=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fn=function(a){ds(t,a);function t(){var n=a.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,o,c){var f,p,m,_,T=this.decodeMiddleCounters;T[0]=0,T[1]=0,T[2]=0,T[3]=0;for(var b=n.getSize(),I=o[1],D=0,N=0;N<6&&I<b;N++){var V=ot.decodeDigit(n,T,I,ot.L_AND_G_PATTERNS);c+=String.fromCharCode(48+V%10);try{for(var q=(f=void 0,wa(T)),re=q.next();!re.done;re=q.next()){var Z=re.value;I+=Z}}catch(Ce){f={error:Ce}}finally{try{re&&!re.done&&(p=q.return)&&p.call(q)}finally{if(f)throw f.error}}V>=10&&(D|=1<<5-N)}c=t.determineFirstDigit(c,D);var ee=ot.findGuardPattern(n,I,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0));I=ee[1];for(var N=0;N<6&&I<b;N++){var V=ot.decodeDigit(n,T,I,ot.L_PATTERNS);c+=String.fromCharCode(48+V);try{for(var he=(m=void 0,wa(T)),ge=he.next();!ge.done;ge=he.next()){var Z=ge.value;I+=Z}}catch(Oe){m={error:Oe}}finally{try{ge&&!ge.done&&(_=he.return)&&_.call(he)}finally{if(m)throw m.error}}}return{rowOffset:I,resultString:c}},t.prototype.getBarcodeFormat=function(){return qe.EAN_13},t.determineFirstDigit=function(n,o){for(var c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return n=String.fromCharCode(48+c)+n,n;throw new ne},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(ot),Zn=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jn=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fu=function(a){Zn(t,a);function t(){var n=a.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return t.prototype.decodeMiddle=function(n,o,c){var f,p,m,_,T=this.decodeMiddleCounters;T[0]=0,T[1]=0,T[2]=0,T[3]=0;for(var b=n.getSize(),I=o[1],D=0;D<4&&I<b;D++){var N=ot.decodeDigit(n,T,I,ot.L_PATTERNS);c+=String.fromCharCode(48+N);try{for(var V=(f=void 0,Jn(T)),q=V.next();!q.done;q=V.next()){var re=q.value;I+=re}}catch(ge){f={error:ge}}finally{try{q&&!q.done&&(p=V.return)&&p.call(V)}finally{if(f)throw f.error}}}var Z=ot.findGuardPattern(n,I,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0));I=Z[1];for(var D=0;D<4&&I<b;D++){var N=ot.decodeDigit(n,T,I,ot.L_PATTERNS);c+=String.fromCharCode(48+N);try{for(var ee=(m=void 0,Jn(T)),he=ee.next();!he.done;he=ee.next()){var re=he.value;I+=re}}catch(Re){m={error:Re}}finally{try{he&&!he.done&&(_=ee.return)&&_.call(ee)}finally{if(m)throw m.error}}}return{rowOffset:I,resultString:c}},t.prototype.getBarcodeFormat=function(){return qe.EAN_8},t}(ot),ps=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gs=function(a){ps(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.ean13Reader=new Fn,n}return t.prototype.getBarcodeFormat=function(){return qe.UPC_A},t.prototype.decode=function(n,o){return this.maybeReturnResult(this.ean13Reader.decode(n))},t.prototype.decodeRow=function(n,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,o,c))},t.prototype.decodeMiddle=function(n,o,c){return this.ean13Reader.decodeMiddle(n,o,c)},t.prototype.maybeReturnResult=function(n){var o=n.getText();if(o.charAt(0)==="0"){var c=new hn(o.substring(1),null,null,n.getResultPoints(),qe.UPC_A);return n.getResultMetadata()!=null&&c.putAllMetadata(n.getResultMetadata()),c}else throw new ne},t.prototype.reset=function(){this.ean13Reader.reset()},t}(ot),hu=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wi=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_i=function(a){hu(t,a);function t(){var n=a.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return t.prototype.decodeMiddle=function(n,o,c){var f,p,m=this.decodeMiddleCounters.map(function(re){return re});m[0]=0,m[1]=0,m[2]=0,m[3]=0;for(var _=n.getSize(),T=o[1],b=0,I=0;I<6&&T<_;I++){var D=t.decodeDigit(n,m,T,t.L_AND_G_PATTERNS);c+=String.fromCharCode(48+D%10);try{for(var N=(f=void 0,Wi(m)),V=N.next();!V.done;V=N.next()){var q=V.value;T+=q}}catch(re){f={error:re}}finally{try{V&&!V.done&&(p=N.return)&&p.call(N)}finally{if(f)throw f.error}}D>=10&&(b|=1<<5-I)}return t.determineNumSysAndCheckDigit(new me(c),b),T},t.prototype.decodeEnd=function(n,o){return t.findGuardPatternWithoutCounters(n,o,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(n){return ot.checkChecksum(t.convertUPCEtoUPCA(n))},t.determineNumSysAndCheckDigit=function(n,o){for(var c=0;c<=1;c++)for(var f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){n.insert(0,"0"+c),n.append("0"+f);return}throw ne.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return qe.UPC_E},t.convertUPCEtoUPCA=function(n){var o=n.slice(1,7).split("").map(function(p){return p.charCodeAt(0)}),c=new me;c.append(n.charAt(0));var f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return n.length>=8&&c.append(n.charAt(7)),c.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(ot),mr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pn=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ho=function(a){mr(t,a);function t(n){var o=a.call(this)||this,c=n==null?null:n.get(Q.POSSIBLE_FORMATS),f=[];return c!=null&&(c.indexOf(qe.EAN_13)>-1?f.push(new Fn):c.indexOf(qe.UPC_A)>-1&&f.push(new gs),c.indexOf(qe.EAN_8)>-1&&f.push(new fu),c.indexOf(qe.UPC_E)>-1&&f.push(new _i)),f.length===0&&(f.push(new Fn),f.push(new fu),f.push(new _i)),o.readers=f,o}return t.prototype.decodeRow=function(n,o,c){var f,p;try{for(var m=Pn(this.readers),_=m.next();!_.done;_=m.next()){var T=_.value;try{var b=T.decodeRow(n,o,c),I=b.getBarcodeFormat()===qe.EAN_13&&b.getText().charAt(0)==="0",D=c==null?null:c.get(Q.POSSIBLE_FORMATS),N=D==null||D.includes(qe.UPC_A);if(I&&N){var V=b.getRawBytes(),q=new hn(b.getText().substring(1),V,V.length,b.getResultPoints(),qe.UPC_A);return q.putAllMetadata(b.getResultMetadata()),q}return b}catch{}}}catch(re){f={error:re}}finally{try{_&&!_.done&&(p=m.return)&&p.call(m)}finally{if(f)throw f.error}}throw new ne},t.prototype.reset=function(){var n,o;try{for(var c=Pn(this.readers),f=c.next();!f.done;f=c.next()){var p=f.value;p.reset()}}catch(m){n={error:m}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}},t}(rn),vl=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ba=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pr=function(a){vl(t,a);function t(){var n=a.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(n,o){for(var c=0;c<o.length;c++)if(rn.patternMatchVariance(n,o[c],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return c;throw new ne},t.count=function(n){return ht.sum(new Int32Array(n))},t.increment=function(n,o){for(var c=0,f=o[0],p=1;p<n.length;p++)o[p]>f&&(f=o[p],c=p);n[c]++},t.decrement=function(n,o){for(var c=0,f=o[0],p=1;p<n.length;p++)o[p]<f&&(f=o[p],c=p);n[c]--},t.isFinderPattern=function(n){var o,c,f=n[0]+n[1],p=f+n[2]+n[3],m=f/p;if(m>=t.MIN_FINDER_PATTERN_RATIO&&m<=t.MAX_FINDER_PATTERN_RATIO){var _=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;try{for(var b=ba(n),I=b.next();!I.done;I=b.next()){var D=I.value;D>T&&(T=D),D<_&&(_=D)}}catch(N){o={error:N}}finally{try{I&&!I.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}return T<10*_}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(rn),Ei=function(){function a(t,n){this.value=t,this.checksumPortion=n}return a.prototype.getValue=function(){return this.value},a.prototype.getChecksumPortion=function(){return this.checksumPortion},a.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion},a.prototype.hashCode=function(){return this.value^this.checksumPortion},a}(),Zr=function(){function a(t,n,o,c,f){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ve(o,f)),this.resultPoints.push(new Ve(c,f))}return a.prototype.getValue=function(){return this.value},a.prototype.getStartEnd=function(){return this.startEnd},a.prototype.getResultPoints=function(){return this.resultPoints},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.value===n.value},a.prototype.hashCode=function(){return this.value},a}(),Wt=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sr=function(){function a(){}return a.getRSSvalue=function(t,n,o){var c,f,p=0;try{for(var m=Wt(t),_=m.next();!_.done;_=m.next()){var T=_.value;p+=T}}catch(ee){c={error:ee}}finally{try{_&&!_.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}for(var b=0,I=0,D=t.length,N=0;N<D-1;N++){var V=void 0;for(V=1,I|=1<<N;V<t[N];V++,I&=~(1<<N)){var q=a.combins(p-V-1,D-N-2);if(o&&I===0&&p-V-(D-N-1)>=D-N-1&&(q-=a.combins(p-V-(D-N),D-N-2)),D-N-1>1){for(var re=0,Z=p-V-(D-N-2);Z>n;Z--)re+=a.combins(p-V-Z-1,D-N-3);q-=re*(D-1-N)}else p-V>n&&q--;b+=q}p-=V}return b},a.combins=function(t,n){var o,c;t-n>n?(c=n,o=t-n):(c=t-n,o=n);for(var f=1,p=1,m=t;m>o;m--)f*=m,p<=c&&(f/=p,p++);for(;p<=c;)f/=p,p++;return f},a}(),Ia=function(){function a(){}return a.buildBitArray=function(t){var n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);for(var o=12*n,c=new H(o),f=0,p=t[0],m=p.getRightChar().getValue(),_=11;_>=0;--_)(m&1<<_)!=0&&c.set(f),f++;for(var _=1;_<t.length;++_){for(var T=t[_],b=T.getLeftChar().getValue(),I=11;I>=0;--I)(b&1<<I)!=0&&c.set(f),f++;if(T.getRightChar()!=null)for(var D=T.getRightChar().getValue(),I=11;I>=0;--I)(D&1<<I)!=0&&c.set(f),f++}return c},a}(),yr=function(){function a(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}return a.prototype.getDecodedInformation=function(){return this.decodedInformation},a.prototype.isFinished=function(){return this.finished},a}(),_t=function(){function a(t){this.newPosition=t}return a.prototype.getNewPosition=function(){return this.newPosition},a}(),Ra=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),En=function(a){Ra(t,a);function t(n,o){var c=a.call(this,n)||this;return c.value=o,c}return t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(_t),_r=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xi=function(a){_r(t,a);function t(n,o,c){var f=a.call(this,n)||this;return c?(f.remaining=!0,f.remainingValue=f.remainingValue):(f.remaining=!1,f.remainingValue=0),f.newString=o,f}return t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(_t),vs=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ai=function(a){vs(t,a);function t(n,o,c){var f=a.call(this,n)||this;if(o<0||o>10||c<0||c>10)throw new F;return f.firstDigit=o,f.secondDigit=c,f}return t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(_t),Qi=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ml=function(){function a(){}return a.parseFieldsInGeneralPurpose=function(t){var n,o,c,f,p,m,_,T;if(!t)return null;if(t.length<2)throw new ne;var b=t.substring(0,2);try{for(var I=Qi(a.TWO_DIGIT_DATA_LENGTH),D=I.next();!D.done;D=I.next()){var N=D.value;if(N[0]===b)return N[1]===a.VARIABLE_LENGTH?a.processVariableAI(2,N[2],t):a.processFixedAI(2,N[1],t)}}catch(Re){n={error:Re}}finally{try{D&&!D.done&&(o=I.return)&&o.call(I)}finally{if(n)throw n.error}}if(t.length<3)throw new ne;var V=t.substring(0,3);try{for(var q=Qi(a.THREE_DIGIT_DATA_LENGTH),re=q.next();!re.done;re=q.next()){var N=re.value;if(N[0]===V)return N[1]===a.VARIABLE_LENGTH?a.processVariableAI(3,N[2],t):a.processFixedAI(3,N[1],t)}}catch(Re){c={error:Re}}finally{try{re&&!re.done&&(f=q.return)&&f.call(q)}finally{if(c)throw c.error}}try{for(var Z=Qi(a.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),ee=Z.next();!ee.done;ee=Z.next()){var N=ee.value;if(N[0]===V)return N[1]===a.VARIABLE_LENGTH?a.processVariableAI(4,N[2],t):a.processFixedAI(4,N[1],t)}}catch(Re){p={error:Re}}finally{try{ee&&!ee.done&&(m=Z.return)&&m.call(Z)}finally{if(p)throw p.error}}if(t.length<4)throw new ne;var he=t.substring(0,4);try{for(var ge=Qi(a.FOUR_DIGIT_DATA_LENGTH),Ce=ge.next();!Ce.done;Ce=ge.next()){var N=Ce.value;if(N[0]===he)return N[1]===a.VARIABLE_LENGTH?a.processVariableAI(4,N[2],t):a.processFixedAI(4,N[1],t)}}catch(Re){_={error:Re}}finally{try{Ce&&!Ce.done&&(T=ge.return)&&T.call(ge)}finally{if(_)throw _.error}}throw new ne},a.processFixedAI=function(t,n,o){if(o.length<t)throw new ne;var c=o.substring(0,t);if(o.length<t+n)throw new ne;var f=o.substring(t,t+n),p=o.substring(t+n),m="("+c+")"+f,_=a.parseFieldsInGeneralPurpose(p);return _==null?m:m+_},a.processVariableAI=function(t,n,o){var c=o.substring(0,t),f;o.length<t+n?f=o.length:f=t+n;var p=o.substring(t,f),m=o.substring(f),_="("+c+")"+p,T=a.parseFieldsInGeneralPurpose(m);return T==null?_:_+T},a.VARIABLE_LENGTH=[],a.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",a.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",a.VARIABLE_LENGTH,20],["22",a.VARIABLE_LENGTH,29],["30",a.VARIABLE_LENGTH,8],["37",a.VARIABLE_LENGTH,8],["90",a.VARIABLE_LENGTH,30],["91",a.VARIABLE_LENGTH,30],["92",a.VARIABLE_LENGTH,30],["93",a.VARIABLE_LENGTH,30],["94",a.VARIABLE_LENGTH,30],["95",a.VARIABLE_LENGTH,30],["96",a.VARIABLE_LENGTH,30],["97",a.VARIABLE_LENGTH,3],["98",a.VARIABLE_LENGTH,30],["99",a.VARIABLE_LENGTH,30]],a.THREE_DIGIT_DATA_LENGTH=[["240",a.VARIABLE_LENGTH,30],["241",a.VARIABLE_LENGTH,30],["242",a.VARIABLE_LENGTH,6],["250",a.VARIABLE_LENGTH,30],["251",a.VARIABLE_LENGTH,30],["253",a.VARIABLE_LENGTH,17],["254",a.VARIABLE_LENGTH,20],["400",a.VARIABLE_LENGTH,30],["401",a.VARIABLE_LENGTH,30],["402",17],["403",a.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",a.VARIABLE_LENGTH,20],["421",a.VARIABLE_LENGTH,15],["422",3],["423",a.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],a.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",a.VARIABLE_LENGTH,15],["391",a.VARIABLE_LENGTH,18],["392",a.VARIABLE_LENGTH,15],["393",a.VARIABLE_LENGTH,18],["703",a.VARIABLE_LENGTH,30]],a.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",a.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",a.VARIABLE_LENGTH,20],["8003",a.VARIABLE_LENGTH,30],["8004",a.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",a.VARIABLE_LENGTH,30],["8008",a.VARIABLE_LENGTH,12],["8018",18],["8020",a.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",a.VARIABLE_LENGTH,70],["8200",a.VARIABLE_LENGTH,70]],a}(),po=function(){function a(t){this.buffer=new me,this.information=t}return a.prototype.decodeAllCodes=function(t,n){var o=n,c=null;do{var f=this.decodeGeneralPurposeField(o,c),p=ml.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&t.append(p),f.isRemaining()?c=""+f.getRemainingValue():c=null,o===f.getNewPosition())break;o=f.getNewPosition()}while(!0);return t.toString()},a.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)},a.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(t,4);return n===0?new Ai(this.information.getSize(),Ai.FNC1,Ai.FNC1):new Ai(this.information.getSize(),n-1,Ai.FNC1)}var o=this.extractNumericValueFromBitArray(t,7),c=(o-8)/11,f=(o-8)%11;return new Ai(t+7,c,f)},a.prototype.extractNumericValueFromBitArray=function(t,n){return a.extractNumericValueFromBitArray(this.information,t,n)},a.extractNumericValueFromBitArray=function(t,n,o){for(var c=0,f=0;f<o;++f)t.get(n+f)&&(c|=1<<o-f-1);return c},a.prototype.decodeGeneralPurposeField=function(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);var o=this.parseBlocks();return o!=null&&o.isRemaining()?new xi(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new xi(this.current.getPosition(),this.buffer.toString())},a.prototype.parseBlocks=function(){var t,n;do{var o=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished());var c=o!==this.current.getPosition();if(!c&&!t)break}while(!t);return n.getDecodedInformation()},a.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var n=void 0;return t.isSecondDigitFNC1()?n=new xi(this.current.getPosition(),this.buffer.toString()):n=new xi(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new yr(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){var n=new xi(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yr(!1)},a.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new xi(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yr(!1)},a.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var n=new xi(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yr(!1)},a.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;var c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253},a.prototype.decodeIsoIec646=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new En(t+5,En.FNC1);if(n>=5&&n<15)return new En(t+5,"0"+(n-5));var o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new En(t+7,""+(o+1));if(o>=90&&o<116)return new En(t+7,""+(o+7));var c=this.extractNumericValueFromBitArray(t,8),f;switch(c){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new F}return new En(t+8,f)},a.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;var o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63},a.prototype.decodeAlphanumeric=function(t){var n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new En(t+5,En.FNC1);if(n>=5&&n<15)return new En(t+5,"0"+(n-5));var o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new En(t+6,""+(o+33));var c;switch(o){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Kt("Decoding invalid alphanumeric value: "+o)}return new En(t+6,c)},a.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0},a.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0},a.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0},a}(),Mr=function(){function a(t){this.information=t,this.generalDecoder=new po(t)}return a.prototype.getInformation=function(){return this.information},a.prototype.getGeneralDecoder=function(){return this.generalDecoder},a}(),Er=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mn=function(a){Er(t,a);function t(n){return a.call(this,n)||this}return t.prototype.encodeCompressedGtin=function(n,o){n.append("(01)");var c=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,o,c)},t.prototype.encodeCompressedGtinWithoutAI=function(n,o,c){for(var f=0;f<4;++f){var p=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);p/100===0&&n.append("0"),p/10===0&&n.append("0"),n.append(p)}t.appendCheckDigit(n,c)},t.appendCheckDigit=function(n,o){for(var c=0,f=0;f<13;f++){var p=n.charAt(f+o).charCodeAt(0)-48;c+=(f&1)===0?3*p:p}c=10-c%10,c===10&&(c=0),n.append(c)},t.GTIN_SIZE=40,t}(Mr),Ti=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Si=function(a){Ti(t,a);function t(n){return a.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new me;n.append("(01)");var o=n.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return n.append(c),this.encodeCompressedGtinWithoutAI(n,t.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Mn),Ci=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ms=function(a){Ci(t,a);function t(n){return a.call(this,n)||this}return t.prototype.parseInformation=function(){var n=new me;return this.getGeneralDecoder().decodeAllCodes(n,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(Mr),du=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jr=function(a){du(t,a);function t(n){return a.call(this,n)||this}return t.prototype.encodeCompressedWeight=function(n,o,c){var f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(n,f);for(var p=this.checkWeight(f),m=1e5,_=0;_<5;++_)p/m===0&&n.append("0"),m/=10;n.append(p)},t}(Mn),xr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),$i=function(a){xr(t,a);function t(n){return a.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+Jr.GTIN_SIZE+t.WEIGHT_SIZE)throw new ne;var n=new me;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+Jr.GTIN_SIZE,t.WEIGHT_SIZE),n.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(Jr),ei=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zi=function(a){ei(t,a);function t(n){return a.call(this,n)||this}return t.prototype.addWeightCode=function(n,o){n.append("(3103)")},t.prototype.checkWeight=function(n){return n},t}($i),wi=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ys=function(a){wi(t,a);function t(n){return a.call(this,n)||this}return t.prototype.addWeightCode=function(n,o){o<1e4?n.append("(3202)"):n.append("(3203)")},t.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},t}($i),ti=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ni=function(a){ti(t,a);function t(n){return a.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Mn.GTIN_SIZE)throw new ne;var n=new me;this.encodeCompressedGtin(n,t.HEADER_SIZE);var o=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Mn.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(392"),n.append(o),n.append(")");var c=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Mn.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return n.append(c.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Mn),_s=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xn=function(a){_s(t,a);function t(n){return a.call(this,n)||this}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Mn.GTIN_SIZE)throw new ne;var n=new me;this.encodeCompressedGtin(n,t.HEADER_SIZE);var o=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Mn.GTIN_SIZE,t.LAST_DIGIT_SIZE);n.append("(393"),n.append(o),n.append(")");var c=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Mn.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);c/100==0&&n.append("0"),c/10==0&&n.append("0"),n.append(c);var f=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Mn.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return n.append(f.getNewString()),n.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Mn),Ot=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ur=function(a){Ot(t,a);function t(n,o,c){var f=a.call(this,n)||this;return f.dateCode=c,f.firstAIdigits=o,f}return t.prototype.parseInformation=function(){if(this.getInformation().getSize()!=t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new ne;var n=new me;return this.encodeCompressedGtin(n,t.HEADER_SIZE),this.encodeCompressedWeight(n,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(n,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),n.toString()},t.prototype.encodeCompressedDate=function(n,o){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,t.DATE_SIZE);if(c!=38400){n.append("("),n.append(this.dateCode),n.append(")");var f=c%32;c/=32;var p=c%12+1;c/=12;var m=c;m/10==0&&n.append("0"),n.append(m),p/10==0&&n.append("0"),n.append(p),f/10==0&&n.append("0"),n.append(f)}},t.prototype.addWeightCode=function(n,o){n.append("("),n.append(this.firstAIdigits),n.append(o/1e5),n.append(")")},t.prototype.checkWeight=function(n){return n%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(Jr);function Oa(a){try{if(a.get(1))return new Si(a);if(!a.get(2))return new ms(a);var t=po.extractNumericValueFromBitArray(a,1,4);switch(t){case 4:return new Zi(a);case 5:return new ys(a)}var n=po.extractNumericValueFromBitArray(a,1,5);switch(n){case 12:return new ni(a);case 13:return new xn(a)}var o=po.extractNumericValueFromBitArray(a,1,7);switch(o){case 56:return new ur(a,"310","11");case 57:return new ur(a,"320","11");case 58:return new ur(a,"310","13");case 59:return new ur(a,"320","13");case 60:return new ur(a,"310","15");case 61:return new ur(a,"320","15");case 62:return new ur(a,"310","17");case 63:return new ur(a,"320","17")}}catch(c){throw console.log(c),new Kt("unknown decoder: "+a)}}var Es=function(){function a(t,n,o,c){this.leftchar=t,this.rightchar=n,this.finderpattern=o,this.maybeLast=c}return a.prototype.mayBeLast=function(){return this.maybeLast},a.prototype.getLeftChar=function(){return this.leftchar},a.prototype.getRightChar=function(){return this.rightchar},a.prototype.getFinderPattern=function(){return this.finderpattern},a.prototype.mustBeLast=function(){return this.rightchar==null},a.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},a.equals=function(t,n){return t instanceof a?a.equalsOrNull(t.leftchar,n.leftchar)&&a.equalsOrNull(t.rightchar,n.rightchar)&&a.equalsOrNull(t.finderpattern,n.finderpattern):!1},a.equalsOrNull=function(t,n){return t===null?n===null:a.equals(t,n)},a.prototype.hashCode=function(){var t=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return t},a}(),go=function(){function a(t,n,o){this.pairs=t,this.rowNumber=n,this.wasReversed=o}return a.prototype.getPairs=function(){return this.pairs},a.prototype.getRowNumber=function(){return this.rowNumber},a.prototype.isReversed=function(){return this.wasReversed},a.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},a.prototype.toString=function(){return"{ "+this.pairs+" }"},a.prototype.equals=function(t,n){return t instanceof a?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1},a.prototype.checkEqualitity=function(t,n){if(!(!t||!n)){var o;return t.forEach(function(c,f){n.forEach(function(p){c.getLeftChar().getValue()===p.getLeftChar().getValue()&&c.getRightChar().getValue()===p.getRightChar().getValue()&&c.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(o=!0)})}),o}},a}(),vo=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),wn=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ji=function(a){vo(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.pairs=new Array(t.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return t.prototype.decodeRow=function(n,o,c){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(n,o))}catch(f){console.log(f)}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(n,o))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(n,o){for(var c=!1;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,n))}catch(m){if(m instanceof ne){if(!this.pairs.length)throw new ne;c=!0}}if(this.checkChecksum())return this.pairs;var f;if(this.rows.length?f=!0:f=!1,this.storeRow(n,!1),f){var p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new ne},t.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var o=null;try{o=this.checkRows(new Array,0)}catch(c){console.log(c)}return n&&(this.rows=this.rows.reverse()),o},t.prototype.checkRows=function(n,o){for(var c,f,p=o;p<this.rows.length;p++){var m=this.rows[p];this.pairs.length=0;try{for(var _=(c=void 0,wn(n)),T=_.next();!T.done;T=_.next()){var b=T.value;this.pairs.push(b.getPairs())}}catch(D){c={error:D}}finally{try{T&&!T.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}if(this.pairs.push(m.getPairs()),!!t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var I=new Array(n);I.push(m);try{return this.checkRows(I,p+1)}catch(D){console.log(D)}}}throw new ne},t.isValidSequence=function(n){var o,c;try{for(var f=wn(t.FINDER_PATTERN_SEQUENCES),p=f.next();!p.done;p=f.next()){var m=p.value;if(!(n.length>m.length)){for(var _=!0,T=0;T<n.length;T++)if(n[T].getFinderPattern().getValue()!=m[T]){_=!1;break}if(_)return!0}}}catch(b){o={error:b}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(o)throw o.error}}return!1},t.prototype.storeRow=function(n,o){for(var c=0,f=!1,p=!1;c<this.rows.length;){var m=this.rows[c];if(m.getRowNumber()>n){p=m.isEquivalent(this.pairs);break}f=m.isEquivalent(this.pairs),c++}p||f||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new go(this.pairs,n,o)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(n,o){var c,f,p,m,_,T;try{for(var b=wn(o),I=b.next();!I.done;I=b.next()){var D=I.value;if(D.getPairs().length!==n.length){var N=!0;try{for(var V=(p=void 0,wn(D.getPairs())),q=V.next();!q.done;q=V.next()){var re=q.value,Z=!1;try{for(var ee=(_=void 0,wn(n)),he=ee.next();!he.done;he=ee.next()){var ge=he.value;if(Es.equals(re,ge)){Z=!0;break}}}catch(Ce){_={error:Ce}}finally{try{he&&!he.done&&(T=ee.return)&&T.call(ee)}finally{if(_)throw _.error}}Z||(N=!1)}}catch(Ce){p={error:Ce}}finally{try{q&&!q.done&&(m=V.return)&&m.call(V)}finally{if(p)throw p.error}}}}}catch(Ce){c={error:Ce}}finally{try{I&&!I.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},t.isPartialRow=function(n,o){var c,f,p,m,_,T;try{for(var b=wn(o),I=b.next();!I.done;I=b.next()){var D=I.value,N=!0;try{for(var V=(p=void 0,wn(n)),q=V.next();!q.done;q=V.next()){var re=q.value,Z=!1;try{for(var ee=(_=void 0,wn(D.getPairs())),he=ee.next();!he.done;he=ee.next()){var ge=he.value;if(re.equals(ge)){Z=!0;break}}}catch(Ce){_={error:Ce}}finally{try{he&&!he.done&&(T=ee.return)&&T.call(ee)}finally{if(_)throw _.error}}if(!Z){N=!1;break}}}catch(Ce){p={error:Ce}}finally{try{q&&!q.done&&(m=V.return)&&m.call(V)}finally{if(p)throw p.error}}if(N)return!0}}catch(Ce){c={error:Ce}}finally{try{I&&!I.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(n){var o=Ia.buildBitArray(n),c=Oa(o),f=c.parseInformation(),p=n[0].getFinderPattern().getResultPoints(),m=n[n.length-1].getFinderPattern().getResultPoints(),_=[p[0],p[1],m[0],m[1]];return new hn(f,null,null,_,qe.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var n=this.pairs.get(0),o=n.getLeftChar(),c=n.getRightChar();if(c==null)return!1;for(var f=c.getChecksumPortion(),p=2,m=1;m<this.pairs.size();++m){var _=this.pairs.get(m);f+=_.getLeftChar().getChecksumPortion(),p++;var T=_.getRightChar();T!=null&&(f+=T.getChecksumPortion(),p++)}f%=211;var b=211*(p-4)+f;return b==o.getValue()},t.getNextSecondBar=function(n,o){var c;return n.get(o)?(c=n.getNextUnset(o),c=n.getNextSet(c)):(c=n.getNextSet(o),c=n.getNextUnset(c)),c},t.prototype.retrieveNextPair=function(n,o,c){var f=o.length%2==0;this.startFromEven&&(f=!f);var p,m=!0,_=-1;do this.findNextPair(n,o,_),p=this.parseFoundFinderPattern(n,c,f),p==null?_=t.getNextSecondBar(n,this.startEnd[0]):m=!1;while(m);var T=this.decodeDataCharacter(n,p,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ne;var b;try{b=this.decodeDataCharacter(n,p,f,!1)}catch(I){b=null,console.log(I)}return new Es(T,b,p,!0)},t.prototype.isEmptyPair=function(n){return n.length===0},t.prototype.findNextPair=function(n,o,c){var f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;var p=n.getSize(),m;if(c>=0)m=c;else if(this.isEmptyPair(o))m=0;else{var _=o[o.length-1];m=_.getFinderPattern().getStartEnd()[1]}var T=o.length%2!=0;this.startFromEven&&(T=!T);for(var b=!1;m<p&&(b=!n.get(m),!!b);)m++;for(var I=0,D=m,N=m;N<p;N++)if(n.get(N)!=b)f[I]++;else{if(I==3){if(T&&t.reverseCounters(f),t.isFinderPattern(f)){this.startEnd[0]=D,this.startEnd[1]=N;return}T&&t.reverseCounters(f),D+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,I--}else I++;f[I]=1,b=!b}throw new ne},t.reverseCounters=function(n){for(var o=n.length,c=0;c<o/2;++c){var f=n[c];n[c]=n[o-c-1],n[o-c-1]=f}},t.prototype.parseFoundFinderPattern=function(n,o,c){var f,p,m;if(c){for(var _=this.startEnd[0]-1;_>=0&&!n.get(_);)_--;_++,f=this.startEnd[0]-_,p=_,m=this.startEnd[1]}else p=this.startEnd[0],m=n.getNextUnset(this.startEnd[1]+1),f=m-this.startEnd[1];var T=this.getDecodeFinderCounters();ae.arraycopy(T,0,T,1,T.length-1),T[0]=f;var b;try{b=this.parseFinderValue(T,t.FINDER_PATTERNS)}catch{return null}return new Zr(b,[p,m],p,m,o)},t.prototype.decodeDataCharacter=function(n,o,c,f){for(var p=this.getDataCharacterCounters(),m=0;m<p.length;m++)p[m]=0;if(f)t.recordPatternInReverse(n,o.getStartEnd()[0],p);else{t.recordPattern(n,o.getStartEnd()[1],p);for(var _=0,T=p.length-1;_<T;_++,T--){var b=p[_];p[_]=p[T],p[T]=b}}var I=17,D=ht.sum(new Int32Array(p))/I,N=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(D-N)/N>.3)throw new ne;for(var V=this.getOddCounts(),q=this.getEvenCounts(),re=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors(),_=0;_<p.length;_++){var ee=1*p[_]/D,he=ee+.5;if(he<1){if(ee<.3)throw new ne;he=1}else if(he>8){if(ee>8.7)throw new ne;he=8}var ge=_/2;(_&1)==0?(V[ge]=he,re[ge]=ee-he):(q[ge]=he,Z[ge]=ee-he)}this.adjustOddEvenCounts(I);for(var Ce=4*o.getValue()+(c?0:2)+(f?0:1)-1,Re=0,Oe=0,_=V.length-1;_>=0;_--){if(t.isNotA1left(o,c,f)){var ze=t.WEIGHTS[Ce][2*_];Oe+=V[_]*ze}Re+=V[_]}for(var dt=0,_=q.length-1;_>=0;_--)if(t.isNotA1left(o,c,f)){var ze=t.WEIGHTS[Ce][2*_+1];dt+=q[_]*ze}var Le=Oe+dt;if((Re&1)!=0||Re>13||Re<4)throw new ne;var lt=(13-Re)/2,pt=t.SYMBOL_WIDEST[lt],Lt=9-pt,jn=sr.getRSSvalue(V,pt,!0),si=sr.getRSSvalue(q,Lt,!1),Fr=t.EVEN_TOTAL_SUBSET[lt],bo=t.GSUM[lt],Us=jn*Fr+si+bo;return new Ei(Us,Le)},t.isNotA1left=function(n,o,c){return!(n.getValue()==0&&o&&c)},t.prototype.adjustOddEvenCounts=function(n){var o=ht.sum(new Int32Array(this.getOddCounts())),c=ht.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1;o>13?p=!0:o<4&&(f=!0);var m=!1,_=!1;c>13?_=!0:c<4&&(m=!0);var T=o+c-n,b=(o&1)==1,I=(c&1)==0;if(T==1)if(b){if(I)throw new ne;p=!0}else{if(!I)throw new ne;_=!0}else if(T==-1)if(b){if(I)throw new ne;f=!0}else{if(!I)throw new ne;m=!0}else if(T==0){if(b){if(!I)throw new ne;o<c?(f=!0,_=!0):(p=!0,m=!0)}else if(I)throw new ne}else throw new ne;if(f){if(p)throw new ne;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(_)throw new ne;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PAT_A=0,t.FINDER_PAT_B=1,t.FINDER_PAT_C=2,t.FINDER_PAT_D=3,t.FINDER_PAT_E=4,t.FINDER_PAT_F=5,t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C,t.FINDER_PAT_B,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(Pr),Ar=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),pu=function(a){Ar(t,a);function t(n,o,c){var f=a.call(this,n,o)||this;return f.count=0,f.finderPattern=c,f}return t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(Ei),yl=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),bi=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Da=function(a){yl(t,a);function t(){var n=a!==null&&a.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return t.prototype.decodeRow=function(n,o,c){var f,p,m,_,T=this.decodePair(o,!1,n,c);t.addOrTally(this.possibleLeftPairs,T),o.reverse();var b=this.decodePair(o,!0,n,c);t.addOrTally(this.possibleRightPairs,b),o.reverse();try{for(var I=bi(this.possibleLeftPairs),D=I.next();!D.done;D=I.next()){var N=D.value;if(N.getCount()>1)try{for(var V=(m=void 0,bi(this.possibleRightPairs)),q=V.next();!q.done;q=V.next()){var re=q.value;if(re.getCount()>1&&t.checkChecksum(N,re))return t.constructResult(N,re)}}catch(Z){m={error:Z}}finally{try{q&&!q.done&&(_=V.return)&&_.call(V)}finally{if(m)throw m.error}}}}catch(Z){f={error:Z}}finally{try{D&&!D.done&&(p=I.return)&&p.call(I)}finally{if(f)throw f.error}}throw new ne},t.addOrTally=function(n,o){var c,f;if(o!=null){var p=!1;try{for(var m=bi(n),_=m.next();!_.done;_=m.next()){var T=_.value;if(T.getValue()===o.getValue()){T.incrementCount(),p=!0;break}}}catch(b){c={error:b}}finally{try{_&&!_.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}p||n.push(o)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(n,o){for(var c=4537077*n.getValue()+o.getValue(),f=new String(c).toString(),p=new me,m=13-f.length;m>0;m--)p.append("0");p.append(f);for(var _=0,m=0;m<13;m++){var T=p.charAt(m).charCodeAt(0)-48;_+=(m&1)===0?3*T:T}_=10-_%10,_===10&&(_=0),p.append(_.toString());var b=n.getFinderPattern().getResultPoints(),I=o.getFinderPattern().getResultPoints();return new hn(p.toString(),null,0,[b[0],b[1],I[0],I[1]],qe.RSS_14,new Date().getTime())},t.checkChecksum=function(n,o){var c=(n.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*n.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f},t.prototype.decodePair=function(n,o,c,f){try{var p=this.findFinderPattern(n,o),m=this.parseFoundFinderPattern(n,c,o,p),_=f==null?null:f.get(Q.NEED_RESULT_POINT_CALLBACK);if(_!=null){var T=(p[0]+p[1])/2;o&&(T=n.getSize()-1-T),_.foundPossibleResultPoint(new Ve(T,c))}var b=this.decodeDataCharacter(n,m,!0),I=this.decodeDataCharacter(n,m,!1);return new pu(1597*b.getValue()+I.getValue(),b.getChecksumPortion()+4*I.getChecksumPortion(),m)}catch{return null}},t.prototype.decodeDataCharacter=function(n,o,c){for(var f=this.getDataCharacterCounters(),p=0;p<f.length;p++)f[p]=0;if(c)rn.recordPatternInReverse(n,o.getStartEnd()[0],f);else{rn.recordPattern(n,o.getStartEnd()[1]+1,f);for(var m=0,_=f.length-1;m<_;m++,_--){var T=f[m];f[m]=f[_],f[_]=T}}for(var b=c?16:15,I=ht.sum(new Int32Array(f))/b,D=this.getOddCounts(),N=this.getEvenCounts(),V=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors(),m=0;m<f.length;m++){var re=f[m]/I,Z=Math.floor(re+.5);Z<1?Z=1:Z>8&&(Z=8);var ee=Math.floor(m/2);(m&1)===0?(D[ee]=Z,V[ee]=re-Z):(N[ee]=Z,q[ee]=re-Z)}this.adjustOddEvenCounts(c,b);for(var he=0,ge=0,m=D.length-1;m>=0;m--)ge*=9,ge+=D[m],he+=D[m];for(var Ce=0,Re=0,m=N.length-1;m>=0;m--)Ce*=9,Ce+=N[m],Re+=N[m];var Oe=ge+3*Ce;if(c){if((he&1)!==0||he>12||he<4)throw new ne;var ze=(12-he)/2,dt=t.OUTSIDE_ODD_WIDEST[ze],Le=9-dt,lt=sr.getRSSvalue(D,dt,!1),pt=sr.getRSSvalue(N,Le,!0),Lt=t.OUTSIDE_EVEN_TOTAL_SUBSET[ze],jn=t.OUTSIDE_GSUM[ze];return new Ei(lt*Lt+pt+jn,Oe)}else{if((Re&1)!==0||Re>10||Re<4)throw new ne;var ze=(10-Re)/2,dt=t.INSIDE_ODD_WIDEST[ze],Le=9-dt,lt=sr.getRSSvalue(D,dt,!0),pt=sr.getRSSvalue(N,Le,!1),si=t.INSIDE_ODD_TOTAL_SUBSET[ze],jn=t.INSIDE_GSUM[ze];return new Ei(pt*si+lt+jn,Oe)}},t.prototype.findFinderPattern=function(n,o){var c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var f=n.getSize(),p=!1,m=0;m<f&&(p=!n.get(m),o!==p);)m++;for(var _=0,T=m,b=m;b<f;b++)if(n.get(b)!==p)c[_]++;else{if(_===3){if(Pr.isFinderPattern(c))return[T,b];T+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,_--}else _++;c[_]=1,p=!p}throw new ne},t.prototype.parseFoundFinderPattern=function(n,o,c,f){for(var p=n.get(f[0]),m=f[0]-1;m>=0&&p!==n.get(m);)m--;m++;var _=f[0]-m,T=this.getDecodeFinderCounters(),b=new Int32Array(T.length);ae.arraycopy(T,0,b,1,T.length-1),b[0]=_;var I=this.parseFinderValue(b,t.FINDER_PATTERNS),D=m,N=f[1];return c&&(D=n.getSize()-1-D,N=n.getSize()-1-N),new Zr(I,[m,f[1]],D,N,o)},t.prototype.adjustOddEvenCounts=function(n,o){var c=ht.sum(new Int32Array(this.getOddCounts())),f=ht.sum(new Int32Array(this.getEvenCounts())),p=!1,m=!1,_=!1,T=!1;n?(c>12?m=!0:c<4&&(p=!0),f>12?T=!0:f<4&&(_=!0)):(c>11?m=!0:c<5&&(p=!0),f>10?T=!0:f<4&&(_=!0));var b=c+f-o,I=(c&1)===(n?1:0),D=(f&1)===1;if(b===1)if(I){if(D)throw new ne;m=!0}else{if(!D)throw new ne;T=!0}else if(b===-1)if(I){if(D)throw new ne;p=!0}else{if(!D)throw new ne;_=!0}else if(b===0){if(I){if(!D)throw new ne;c<f?(p=!0,T=!0):(m=!0,_=!0)}else if(D)throw new ne}else throw new ne;if(p){if(m)throw new ne;Pr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Pr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(T)throw new ne;Pr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Pr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(Pr),xs=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Lr=function(a){xs(t,a);function t(n){var o=a.call(this)||this;o.readers=[];var c=n?n.get(Q.POSSIBLE_FORMATS):null,f=n&&n.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return c&&((c.includes(qe.EAN_13)||c.includes(qe.UPC_A)||c.includes(qe.EAN_8)||c.includes(qe.UPC_E))&&o.readers.push(new ho(n)),c.includes(qe.CODE_39)&&o.readers.push(new on(f)),c.includes(qe.CODE_128)&&o.readers.push(new vi),c.includes(qe.ITF)&&o.readers.push(new Sa),c.includes(qe.RSS_14)&&o.readers.push(new Da),c.includes(qe.RSS_EXPANDED)&&o.readers.push(new Ji)),o.readers.length===0&&(o.readers.push(new ho(n)),o.readers.push(new on),o.readers.push(new ho(n)),o.readers.push(new vi),o.readers.push(new Sa),o.readers.push(new Da),o.readers.push(new Ji)),o}return t.prototype.decodeRow=function(n,o,c){for(var f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(n,o,c)}catch{}throw new ne},t.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},t}(rn),gu=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){gu(t,a);function t(n,o){return n===void 0&&(n=500),a.call(this,new Lr(o),n,o)||this}return t})(Rr);var Na=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bt=function(){function a(t,n,o){this.ecCodewords=t,this.ecBlocks=[n],o&&this.ecBlocks.push(o)}return a.prototype.getECCodewords=function(){return this.ecCodewords},a.prototype.getECBlocks=function(){return this.ecBlocks},a}(),vt=function(){function a(t,n){this.count=t,this.dataCodewords=n}return a.prototype.getCount=function(){return this.count},a.prototype.getDataCodewords=function(){return this.dataCodewords},a}(),Pa=function(){function a(t,n,o,c,f,p){var m,_;this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=o,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=f,this.ecBlocks=p;var T=0,b=p.getECCodewords(),I=p.getECBlocks();try{for(var D=Na(I),N=D.next();!N.done;N=D.next()){var V=N.value;T+=V.getCount()*(V.getDataCodewords()+b)}}catch(q){m={error:q}}finally{try{N&&!N.done&&(_=D.return)&&_.call(D)}finally{if(m)throw m.error}}this.totalCodewords=T}return a.prototype.getVersionNumber=function(){return this.versionNumber},a.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},a.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},a.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},a.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},a.prototype.getTotalCodewords=function(){return this.totalCodewords},a.prototype.getECBlocks=function(){return this.ecBlocks},a.getVersionForDimensions=function(t,n){var o,c;if((t&1)!==0||(n&1)!==0)throw new F;try{for(var f=Na(a.VERSIONS),p=f.next();!p.done;p=f.next()){var m=p.value;if(m.symbolSizeRows===t&&m.symbolSizeColumns===n)return m}}catch(_){o={error:_}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(o)throw o.error}}throw new F},a.prototype.toString=function(){return""+this.versionNumber},a.buildVersions=function(){return[new a(1,10,10,8,8,new bt(5,new vt(1,3))),new a(2,12,12,10,10,new bt(7,new vt(1,5))),new a(3,14,14,12,12,new bt(10,new vt(1,8))),new a(4,16,16,14,14,new bt(12,new vt(1,12))),new a(5,18,18,16,16,new bt(14,new vt(1,18))),new a(6,20,20,18,18,new bt(18,new vt(1,22))),new a(7,22,22,20,20,new bt(20,new vt(1,30))),new a(8,24,24,22,22,new bt(24,new vt(1,36))),new a(9,26,26,24,24,new bt(28,new vt(1,44))),new a(10,32,32,14,14,new bt(36,new vt(1,62))),new a(11,36,36,16,16,new bt(42,new vt(1,86))),new a(12,40,40,18,18,new bt(48,new vt(1,114))),new a(13,44,44,20,20,new bt(56,new vt(1,144))),new a(14,48,48,22,22,new bt(68,new vt(1,174))),new a(15,52,52,24,24,new bt(42,new vt(2,102))),new a(16,64,64,14,14,new bt(56,new vt(2,140))),new a(17,72,72,16,16,new bt(36,new vt(4,92))),new a(18,80,80,18,18,new bt(48,new vt(4,114))),new a(19,88,88,20,20,new bt(56,new vt(4,144))),new a(20,96,96,22,22,new bt(68,new vt(4,174))),new a(21,104,104,24,24,new bt(56,new vt(6,136))),new a(22,120,120,18,18,new bt(68,new vt(6,175))),new a(23,132,132,20,20,new bt(62,new vt(8,163))),new a(24,144,144,22,22,new bt(62,new vt(8,156),new vt(2,155))),new a(25,8,18,6,16,new bt(7,new vt(1,5))),new a(26,8,32,6,14,new bt(11,new vt(1,10))),new a(27,12,26,10,24,new bt(14,new vt(1,16))),new a(28,12,36,10,16,new bt(18,new vt(1,22))),new a(29,16,36,14,16,new bt(24,new vt(1,32))),new a(30,16,48,14,22,new bt(28,new vt(1,49)))]},a.VERSIONS=a.buildVersions(),a}(),vu=function(){function a(t){var n=t.getHeight();if(n<8||n>144||(n&1)!==0)throw new F;this.version=a.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return a.prototype.getVersion=function(){return this.version},a.readVersion=function(t){var n=t.getHeight(),o=t.getWidth();return Pa.getVersionForDimensions(n,o)},a.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),n=0,o=4,c=0,f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth(),m=!1,_=!1,T=!1,b=!1;do if(o===f&&c===0&&!m)t[n++]=this.readCorner1(f,p)&255,o-=2,c+=2,m=!0;else if(o===f-2&&c===0&&(p&3)!==0&&!_)t[n++]=this.readCorner2(f,p)&255,o-=2,c+=2,_=!0;else if(o===f+4&&c===2&&(p&7)===0&&!T)t[n++]=this.readCorner3(f,p)&255,o-=2,c+=2,T=!0;else if(o===f-2&&c===0&&(p&7)===4&&!b)t[n++]=this.readCorner4(f,p)&255,o-=2,c+=2,b=!0;else{do o<f&&c>=0&&!this.readMappingMatrix.get(c,o)&&(t[n++]=this.readUtah(o,c,f,p)&255),o-=2,c+=2;while(o>=0&&c<p);o+=1,c+=3;do o>=0&&c<p&&!this.readMappingMatrix.get(c,o)&&(t[n++]=this.readUtah(o,c,f,p)&255),o+=2,c-=2;while(o<f&&c>=0);o+=3,c+=1}while(o<f||c<p);if(n!==this.version.getTotalCodewords())throw new F;return t},a.prototype.readModule=function(t,n,o,c){return t<0&&(t+=o,n+=4-(o+4&7)),n<0&&(n+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)},a.prototype.readUtah=function(t,n,o,c){var f=0;return this.readModule(t-2,n-2,o,c)&&(f|=1),f<<=1,this.readModule(t-2,n-1,o,c)&&(f|=1),f<<=1,this.readModule(t-1,n-2,o,c)&&(f|=1),f<<=1,this.readModule(t-1,n-1,o,c)&&(f|=1),f<<=1,this.readModule(t-1,n,o,c)&&(f|=1),f<<=1,this.readModule(t,n-2,o,c)&&(f|=1),f<<=1,this.readModule(t,n-1,o,c)&&(f|=1),f<<=1,this.readModule(t,n,o,c)&&(f|=1),f},a.prototype.readCorner1=function(t,n){var o=0;return this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,1,t,n)&&(o|=1),o<<=1,this.readModule(t-1,2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o<<=1,this.readModule(2,n-1,t,n)&&(o|=1),o<<=1,this.readModule(3,n-1,t,n)&&(o|=1),o},a.prototype.readCorner2=function(t,n){var o=0;return this.readModule(t-3,0,t,n)&&(o|=1),o<<=1,this.readModule(t-2,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(0,n-4,t,n)&&(o|=1),o<<=1,this.readModule(0,n-3,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o},a.prototype.readCorner3=function(t,n){var o=0;return this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,n-1,t,n)&&(o|=1),o<<=1,this.readModule(0,n-3,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-3,t,n)&&(o|=1),o<<=1,this.readModule(1,n-2,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o},a.prototype.readCorner4=function(t,n){var o=0;return this.readModule(t-3,0,t,n)&&(o|=1),o<<=1,this.readModule(t-2,0,t,n)&&(o|=1),o<<=1,this.readModule(t-1,0,t,n)&&(o|=1),o<<=1,this.readModule(0,n-2,t,n)&&(o|=1),o<<=1,this.readModule(0,n-1,t,n)&&(o|=1),o<<=1,this.readModule(1,n-1,t,n)&&(o|=1),o<<=1,this.readModule(2,n-1,t,n)&&(o|=1),o<<=1,this.readModule(3,n-1,t,n)&&(o|=1),o},a.prototype.extractDataRegion=function(t){var n=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new L("Dimension of bitMatrix must match the version size");for(var c=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=n/c|0,m=o/f|0,_=p*c,T=m*f,b=new Ne(T,_),I=0;I<p;++I)for(var D=I*c,N=0;N<m;++N)for(var V=N*f,q=0;q<c;++q)for(var re=I*(c+2)+1+q,Z=D+q,ee=0;ee<f;++ee){var he=N*(f+2)+1+ee;if(t.get(he,re)){var ge=V+ee;b.set(ge,Z)}}return b},a}(),As=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ts=function(){function a(t,n){this.numDataCodewords=t,this.codewords=n}return a.getDataBlocks=function(t,n){var o,c,f,p,m=n.getECBlocks(),_=0,T=m.getECBlocks();try{for(var b=As(T),I=b.next();!I.done;I=b.next()){var D=I.value;_+=D.getCount()}}catch(jn){o={error:jn}}finally{try{I&&!I.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}var N=new Array(_),V=0;try{for(var q=As(T),re=q.next();!re.done;re=q.next())for(var D=re.value,Z=0;Z<D.getCount();Z++){var ee=D.getDataCodewords(),he=m.getECCodewords()+ee;N[V++]=new a(ee,new Uint8Array(he))}}catch(jn){f={error:jn}}finally{try{re&&!re.done&&(p=q.return)&&p.call(q)}finally{if(f)throw f.error}}for(var ge=N[0].codewords.length,Ce=ge-m.getECCodewords(),Re=Ce-1,Oe=0,Z=0;Z<Re;Z++)for(var ze=0;ze<V;ze++)N[ze].codewords[Z]=t[Oe++];for(var dt=n.getVersionNumber()===24,Le=dt?8:V,ze=0;ze<Le;ze++)N[ze].codewords[Ce-1]=t[Oe++];for(var lt=N[0].codewords.length,Z=Ce;Z<lt;Z++)for(var ze=0;ze<V;ze++){var pt=dt?(ze+8)%V:ze,Lt=dt&&pt>7?Z-1:Z;N[pt].codewords[Lt]=t[Oe++]}if(Oe!==t.length)throw new L;return N},a.prototype.getNumDataCodewords=function(){return this.numDataCodewords},a.prototype.getCodewords=function(){return this.codewords},a}(),ea=function(){function a(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return a.prototype.getBitOffset=function(){return this.bitOffset},a.prototype.getByteOffset=function(){return this.byteOffset},a.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new L(""+t);var n=0,o=this.bitOffset,c=this.byteOffset,f=this.bytes;if(o>0){var p=8-o,m=t<p?t:p,_=p-m,T=255>>8-m<<_;n=(f[c]&T)>>_,t-=m,o+=m,o===8&&(o=0,c++)}if(t>0){for(;t>=8;)n=n<<8|f[c]&255,c++,t-=8;if(t>0){var _=8-t,T=255>>_<<_;n=n<<t|(f[c]&T)>>_,o+=t}}return this.bitOffset=o,this.byteOffset=c,n},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}(),Qt;(function(a){a[a.PAD_ENCODE=0]="PAD_ENCODE",a[a.ASCII_ENCODE=1]="ASCII_ENCODE",a[a.C40_ENCODE=2]="C40_ENCODE",a[a.TEXT_ENCODE=3]="TEXT_ENCODE",a[a.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",a[a.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",a[a.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qt||(Qt={}));var mo=function(){function a(){}return a.decode=function(t){var n=new ea(t),o=new me,c=new me,f=new Array,p=Qt.ASCII_ENCODE;do if(p===Qt.ASCII_ENCODE)p=this.decodeAsciiSegment(n,o,c);else{switch(p){case Qt.C40_ENCODE:this.decodeC40Segment(n,o);break;case Qt.TEXT_ENCODE:this.decodeTextSegment(n,o);break;case Qt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,o);break;case Qt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,o);break;case Qt.BASE256_ENCODE:this.decodeBase256Segment(n,o,f);break;default:throw new F}p=Qt.ASCII_ENCODE}while(p!==Qt.PAD_ENCODE&&n.available()>0);return c.length()>0&&o.append(c.toString()),new Cn(t,o.toString(),f.length===0?null:f,null)},a.decodeAsciiSegment=function(t,n,o){var c=!1;do{var f=t.readBits(8);if(f===0)throw new F;if(f<=128)return c&&(f+=128),n.append(String.fromCharCode(f-1)),Qt.ASCII_ENCODE;if(f===129)return Qt.PAD_ENCODE;if(f<=229){var p=f-130;p<10&&n.append("0"),n.append(""+p)}else switch(f){case 230:return Qt.C40_ENCODE;case 231:return Qt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:n.append("[)>05"),o.insert(0,"");break;case 237:n.append("[)>06"),o.insert(0,"");break;case 238:return Qt.ANSIX12_ENCODE;case 239:return Qt.TEXT_ENCODE;case 240:return Qt.EDIFACT_ENCODE;case 241:break;default:if(f!==254||t.available()!==0)throw new F;break}}while(t.available()>0);return Qt.ASCII_ENCODE},a.decodeC40Segment=function(t,n){var o=!1,c=[],f=0;do{if(t.available()===8)return;var p=t.readBits(8);if(p===254)return;this.parseTwoBytes(p,t.readBits(8),c);for(var m=0;m<3;m++){var _=c[m];switch(f){case 0:if(_<3)f=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){var T=this.C40_BASIC_SET_CHARS[_];o?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),o=!1):n.append(T)}else throw new F;break;case 1:o?(n.append(String.fromCharCode(_+128)),o=!1):n.append(String.fromCharCode(_)),f=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){var T=this.C40_SHIFT2_SET_CHARS[_];o?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),o=!1):n.append(T)}else switch(_){case 27:n.append("");break;case 30:o=!0;break;default:throw new F}f=0;break;case 3:o?(n.append(String.fromCharCode(_+224)),o=!1):n.append(String.fromCharCode(_+96)),f=0;break;default:throw new F}}}while(t.available()>0)},a.decodeTextSegment=function(t,n){var o=!1,c=[],f=0;do{if(t.available()===8)return;var p=t.readBits(8);if(p===254)return;this.parseTwoBytes(p,t.readBits(8),c);for(var m=0;m<3;m++){var _=c[m];switch(f){case 0:if(_<3)f=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){var T=this.TEXT_BASIC_SET_CHARS[_];o?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),o=!1):n.append(T)}else throw new F;break;case 1:o?(n.append(String.fromCharCode(_+128)),o=!1):n.append(String.fromCharCode(_)),f=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){var T=this.TEXT_SHIFT2_SET_CHARS[_];o?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),o=!1):n.append(T)}else switch(_){case 27:n.append("");break;case 30:o=!0;break;default:throw new F}f=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){var T=this.TEXT_SHIFT3_SET_CHARS[_];o?(n.append(String.fromCharCode(T.charCodeAt(0)+128)),o=!1):n.append(T),f=0}else throw new F;break;default:throw new F}}}while(t.available()>0)},a.decodeAnsiX12Segment=function(t,n){var o=[];do{if(t.available()===8)return;var c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(var f=0;f<3;f++){var p=o[f];switch(p){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(p<14)n.append(String.fromCharCode(p+44));else if(p<40)n.append(String.fromCharCode(p+51));else throw new F;break}}}while(t.available()>0)},a.parseTwoBytes=function(t,n,o){var c=(t<<8)+n-1,f=Math.floor(c/1600);o[0]=f,c-=f*1600,f=Math.floor(c/40),o[1]=f,o[2]=c-f*40},a.decodeEdifactSegment=function(t,n){do{if(t.available()<=16)return;for(var o=0;o<4;o++){var c=t.readBits(6);if(c===31){var f=8-t.getBitOffset();f!==8&&t.readBits(f);return}(c&32)===0&&(c|=64),n.append(String.fromCharCode(c))}}while(t.available()>0)},a.decodeBase256Segment=function(t,n,o){var c=1+t.getByteOffset(),f=this.unrandomize255State(t.readBits(8),c++),p;if(f===0?p=t.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(t.readBits(8),c++),p<0)throw new F;for(var m=new Uint8Array(p),_=0;_<p;_++){if(t.available()<8)throw new F;m[_]=this.unrandomize255State(t.readBits(8),c++)}o.push(m);try{n.append(ct.decode(m,W.ISO88591))}catch(T){throw new Kt("Platform does not support required encoding: "+T.message)}},a.unrandomize255State=function(t,n){var o=149*n%255+1,c=t-o;return c>=0?c:c+256},a.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],a.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.TEXT_SHIFT2_SET_CHARS=a.C40_SHIFT2_SET_CHARS,a.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],a}(),mu=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ss=function(){function a(){this.rsDecoder=new zi(_n.DATA_MATRIX_FIELD_256)}return a.prototype.decode=function(t){var n,o,c=new vu(t),f=c.getVersion(),p=c.readCodewords(),m=Ts.getDataBlocks(p,f),_=0;try{for(var T=mu(m),b=T.next();!b.done;b=T.next()){var I=b.value;_+=I.getNumDataCodewords()}}catch(he){n={error:he}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(n)throw n.error}}for(var D=new Uint8Array(_),N=m.length,V=0;V<N;V++){var q=m[V],re=q.getCodewords(),Z=q.getNumDataCodewords();this.correctErrors(re,Z);for(var ee=0;ee<Z;ee++)D[ee*N+V]=re[ee]}return mo.decode(D)},a.prototype.correctErrors=function(t,n){var o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-n)}catch{throw new J}for(var c=0;c<n;c++)t[c]=o[c]},a}(),Ii=function(){function a(t){this.image=t,this.rectangleDetector=new $n(this.image)}return a.prototype.detect=function(){var t=this.rectangleDetector.detect(),n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new ne;n=this.shiftToModuleCenter(n);var o=n[0],c=n[1],f=n[2],p=n[3],m=this.transitionsBetween(o,p)+1,_=this.transitionsBetween(f,p)+1;(m&1)===1&&(m+=1),(_&1)===1&&(_+=1),4*m<7*_&&4*_<7*m&&(m=_=Math.max(m,_));var T=a.sampleGrid(this.image,o,c,f,p,m,_);return new vr(T,[o,c,f,p])},a.shiftPoint=function(t,n,o){var c=(n.getX()-t.getX())/(o+1),f=(n.getY()-t.getY())/(o+1);return new Ve(t.getX()+c,t.getY()+f)},a.moveAway=function(t,n,o){var c=t.getX(),f=t.getY();return c<n?c-=1:c+=1,f<o?f-=1:f+=1,new Ve(c,f)},a.prototype.detectSolid1=function(t){var n=t[0],o=t[1],c=t[3],f=t[2],p=this.transitionsBetween(n,o),m=this.transitionsBetween(o,c),_=this.transitionsBetween(c,f),T=this.transitionsBetween(f,n),b=p,I=[f,n,o,c];return b>m&&(b=m,I[0]=n,I[1]=o,I[2]=c,I[3]=f),b>_&&(b=_,I[0]=o,I[1]=c,I[2]=f,I[3]=n),b>T&&(I[0]=c,I[1]=f,I[2]=n,I[3]=o),I},a.prototype.detectSolid2=function(t){var n=t[0],o=t[1],c=t[2],f=t[3],p=this.transitionsBetween(n,f),m=a.shiftPoint(o,c,(p+1)*4),_=a.shiftPoint(c,o,(p+1)*4),T=this.transitionsBetween(m,n),b=this.transitionsBetween(_,f);return T<b?(t[0]=n,t[1]=o,t[2]=c,t[3]=f):(t[0]=o,t[1]=c,t[2]=f,t[3]=n),t},a.prototype.correctTopRight=function(t){var n=t[0],o=t[1],c=t[2],f=t[3],p=this.transitionsBetween(n,f),m=this.transitionsBetween(o,f),_=a.shiftPoint(n,o,(m+1)*4),T=a.shiftPoint(c,o,(p+1)*4);p=this.transitionsBetween(_,f),m=this.transitionsBetween(T,f);var b=new Ve(f.getX()+(c.getX()-o.getX())/(p+1),f.getY()+(c.getY()-o.getY())/(p+1)),I=new Ve(f.getX()+(n.getX()-o.getX())/(m+1),f.getY()+(n.getY()-o.getY())/(m+1));if(!this.isValid(b))return this.isValid(I)?I:null;if(!this.isValid(I))return b;var D=this.transitionsBetween(_,b)+this.transitionsBetween(T,b),N=this.transitionsBetween(_,I)+this.transitionsBetween(T,I);return D>N?b:I},a.prototype.shiftToModuleCenter=function(t){var n=t[0],o=t[1],c=t[2],f=t[3],p=this.transitionsBetween(n,f)+1,m=this.transitionsBetween(c,f)+1,_=a.shiftPoint(n,o,m*4),T=a.shiftPoint(c,o,p*4);p=this.transitionsBetween(_,f)+1,m=this.transitionsBetween(T,f)+1,(p&1)===1&&(p+=1),(m&1)===1&&(m+=1);var b=(n.getX()+o.getX()+c.getX()+f.getX())/4,I=(n.getY()+o.getY()+c.getY()+f.getY())/4;n=a.moveAway(n,b,I),o=a.moveAway(o,b,I),c=a.moveAway(c,b,I),f=a.moveAway(f,b,I);var D,N;return _=a.shiftPoint(n,o,m*4),_=a.shiftPoint(_,f,p*4),D=a.shiftPoint(o,n,m*4),D=a.shiftPoint(D,c,p*4),T=a.shiftPoint(c,f,m*4),T=a.shiftPoint(T,o,p*4),N=a.shiftPoint(f,c,m*4),N=a.shiftPoint(N,n,p*4),[_,D,T,N]},a.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},a.sampleGrid=function(t,n,o,c,f,p,m){var _=ji.getInstance();return _.sampleGrid(t,p,m,.5,.5,p-.5,.5,p-.5,m-.5,.5,m-.5,n.getX(),n.getY(),f.getX(),f.getY(),c.getX(),c.getY(),o.getX(),o.getY())},a.prototype.transitionsBetween=function(t,n){var o=Math.trunc(t.getX()),c=Math.trunc(t.getY()),f=Math.trunc(n.getX()),p=Math.trunc(n.getY()),m=Math.abs(p-c)>Math.abs(f-o);if(m){var _=o;o=c,c=_,_=f,f=p,p=_}for(var T=Math.abs(f-o),b=Math.abs(p-c),I=-T/2,D=c<p?1:-1,N=o<f?1:-1,V=0,q=this.image.get(m?c:o,m?o:c),re=o,Z=c;re!==f;re+=N){var ee=this.image.get(m?Z:re,m?re:Z);if(ee!==q&&(V++,q=ee),I+=b,I>0){if(Z===p)break;Z+=D,I-=T}}return V},a}(),Ma=function(){function a(){this.decoder=new Ss}return a.prototype.decode=function(t,n){n===void 0&&(n=null);var o,c;if(n!=null&&n.has(Q.PURE_BARCODE)){var f=a.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(f),c=a.NO_POINTS}else{var p=new Ii(t.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),c=p.getPoints()}var m=o.getRawBytes(),_=new hn(o.getText(),m,8*m.length,c,qe.DATA_MATRIX,ae.currentTimeMillis()),T=o.getByteSegments();T!=null&&_.putMetadata($t.BYTE_SEGMENTS,T);var b=o.getECLevel();return b!=null&&_.putMetadata($t.ERROR_CORRECTION_LEVEL,b),_},a.prototype.reset=function(){},a.extractPureBits=function(t){var n=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(n==null||o==null)throw new ne;var c=this.moduleSize(n,t),f=n[1],p=o[1],m=n[0],_=o[0],T=(_-m+1)/c,b=(p-f+1)/c;if(T<=0||b<=0)throw new ne;var I=c/2;f+=I,m+=I;for(var D=new Ne(T,b),N=0;N<b;N++)for(var V=f+N*c,q=0;q<T;q++)t.get(m+q*c,V)&&D.set(q,N);return D},a.moduleSize=function(t,n){for(var o=n.getWidth(),c=t[0],f=t[1];c<o&&n.get(c,f);)c++;if(c===o)throw new ne;var p=c-t[0];if(p===0)throw new ne;return p},a.NO_POINTS=[],a}(),yu=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){yu(t,a);function t(n){return n===void 0&&(n=500),a.call(this,new Ma,n)||this}return t})(Rr);var Ri;(function(a){a[a.L=0]="L",a[a.M=1]="M",a[a.Q=2]="Q",a[a.H=3]="H"})(Ri||(Ri={}));var ta=function(){function a(t,n,o){this.value=t,this.stringValue=n,this.bits=o,a.FOR_BITS.set(o,this),a.FOR_VALUE.set(t,this)}return a.prototype.getValue=function(){return this.value},a.prototype.getBits=function(){return this.bits},a.fromString=function(t){switch(t){case"L":return a.L;case"M":return a.M;case"Q":return a.Q;case"H":return a.H;default:throw new O(t+"not available")}},a.prototype.toString=function(){return this.stringValue},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.value===n.value},a.forBits=function(t){if(t<0||t>=a.FOR_BITS.size)throw new L;return a.FOR_BITS.get(t)},a.FOR_BITS=new Map,a.FOR_VALUE=new Map,a.L=new a(Ri.L,"L",1),a.M=new a(Ri.M,"M",0),a.Q=new a(Ri.Q,"Q",3),a.H=new a(Ri.H,"H",2),a}(),yo=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ln=function(){function a(t){this.errorCorrectionLevel=ta.forBits(t>>3&3),this.dataMask=t&7}return a.numBitsDiffering=function(t,n){return G.bitCount(t^n)},a.decodeFormatInformation=function(t,n){var o=a.doDecodeFormatInformation(t,n);return o!==null?o:a.doDecodeFormatInformation(t^a.FORMAT_INFO_MASK_QR,n^a.FORMAT_INFO_MASK_QR)},a.doDecodeFormatInformation=function(t,n){var o,c,f=Number.MAX_SAFE_INTEGER,p=0;try{for(var m=yo(a.FORMAT_INFO_DECODE_LOOKUP),_=m.next();!_.done;_=m.next()){var T=_.value,b=T[0];if(b===t||b===n)return new a(T[1]);var I=a.numBitsDiffering(t,b);I<f&&(p=T[1],f=I),t!==n&&(I=a.numBitsDiffering(n,b),I<f&&(p=T[1],f=I))}}catch(D){o={error:D}}finally{try{_&&!_.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}return f<=3?new a(p):null},a.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},a.prototype.getDataMask=function(){return this.dataMask},a.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},a.FORMAT_INFO_MASK_QR=21522,a.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],a}(),_u=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},le=function(){function a(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.ecCodewordsPerBlock=t,this.ecBlocks=n}return a.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},a.prototype.getNumBlocks=function(){var t,n,o=0,c=this.ecBlocks;try{for(var f=_u(c),p=f.next();!p.done;p=f.next()){var m=p.value;o+=m.getCount()}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return o},a.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},a.prototype.getECBlocks=function(){return this.ecBlocks},a}(),z=function(){function a(t,n){this.count=t,this.dataCodewords=n}return a.prototype.getCount=function(){return this.count},a.prototype.getDataCodewords=function(){return this.dataCodewords},a}(),y=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R=function(){function a(t,n){for(var o,c,f=[],p=2;p<arguments.length;p++)f[p-2]=arguments[p];this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=f;var m=0,_=f[0].getECCodewordsPerBlock(),T=f[0].getECBlocks();try{for(var b=y(T),I=b.next();!I.done;I=b.next()){var D=I.value;m+=D.getCount()*(D.getDataCodewords()+_)}}catch(N){o={error:N}}finally{try{I&&!I.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}this.totalCodewords=m}return a.prototype.getVersionNumber=function(){return this.versionNumber},a.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},a.prototype.getTotalCodewords=function(){return this.totalCodewords},a.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},a.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},a.getProvisionalVersionForDimension=function(t){if(t%4!==1)throw new F;try{return this.getVersionForNumber((t-17)/4)}catch{throw new F}},a.getVersionForNumber=function(t){if(t<1||t>40)throw new L;return a.VERSIONS[t-1]},a.decodeVersionInformation=function(t){for(var n=Number.MAX_SAFE_INTEGER,o=0,c=0;c<a.VERSION_DECODE_INFO.length;c++){var f=a.VERSION_DECODE_INFO[c];if(f===t)return a.getVersionForNumber(c+7);var p=Ln.numBitsDiffering(t,f);p<n&&(o=c+7,n=p)}return n<=3?a.getVersionForNumber(o):null},a.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),n=new Ne(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);for(var o=this.alignmentPatternCenters.length,c=0;c<o;c++)for(var f=this.alignmentPatternCenters[c]-2,p=0;p<o;p++)c===0&&(p===0||p===o-1)||c===o-1&&p===0||n.setRegion(this.alignmentPatternCenters[p]-2,f,5,5);return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n},a.prototype.toString=function(){return""+this.versionNumber},a.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),a.VERSIONS=[new a(1,new Int32Array(0),new le(7,new z(1,19)),new le(10,new z(1,16)),new le(13,new z(1,13)),new le(17,new z(1,9))),new a(2,Int32Array.from([6,18]),new le(10,new z(1,34)),new le(16,new z(1,28)),new le(22,new z(1,22)),new le(28,new z(1,16))),new a(3,Int32Array.from([6,22]),new le(15,new z(1,55)),new le(26,new z(1,44)),new le(18,new z(2,17)),new le(22,new z(2,13))),new a(4,Int32Array.from([6,26]),new le(20,new z(1,80)),new le(18,new z(2,32)),new le(26,new z(2,24)),new le(16,new z(4,9))),new a(5,Int32Array.from([6,30]),new le(26,new z(1,108)),new le(24,new z(2,43)),new le(18,new z(2,15),new z(2,16)),new le(22,new z(2,11),new z(2,12))),new a(6,Int32Array.from([6,34]),new le(18,new z(2,68)),new le(16,new z(4,27)),new le(24,new z(4,19)),new le(28,new z(4,15))),new a(7,Int32Array.from([6,22,38]),new le(20,new z(2,78)),new le(18,new z(4,31)),new le(18,new z(2,14),new z(4,15)),new le(26,new z(4,13),new z(1,14))),new a(8,Int32Array.from([6,24,42]),new le(24,new z(2,97)),new le(22,new z(2,38),new z(2,39)),new le(22,new z(4,18),new z(2,19)),new le(26,new z(4,14),new z(2,15))),new a(9,Int32Array.from([6,26,46]),new le(30,new z(2,116)),new le(22,new z(3,36),new z(2,37)),new le(20,new z(4,16),new z(4,17)),new le(24,new z(4,12),new z(4,13))),new a(10,Int32Array.from([6,28,50]),new le(18,new z(2,68),new z(2,69)),new le(26,new z(4,43),new z(1,44)),new le(24,new z(6,19),new z(2,20)),new le(28,new z(6,15),new z(2,16))),new a(11,Int32Array.from([6,30,54]),new le(20,new z(4,81)),new le(30,new z(1,50),new z(4,51)),new le(28,new z(4,22),new z(4,23)),new le(24,new z(3,12),new z(8,13))),new a(12,Int32Array.from([6,32,58]),new le(24,new z(2,92),new z(2,93)),new le(22,new z(6,36),new z(2,37)),new le(26,new z(4,20),new z(6,21)),new le(28,new z(7,14),new z(4,15))),new a(13,Int32Array.from([6,34,62]),new le(26,new z(4,107)),new le(22,new z(8,37),new z(1,38)),new le(24,new z(8,20),new z(4,21)),new le(22,new z(12,11),new z(4,12))),new a(14,Int32Array.from([6,26,46,66]),new le(30,new z(3,115),new z(1,116)),new le(24,new z(4,40),new z(5,41)),new le(20,new z(11,16),new z(5,17)),new le(24,new z(11,12),new z(5,13))),new a(15,Int32Array.from([6,26,48,70]),new le(22,new z(5,87),new z(1,88)),new le(24,new z(5,41),new z(5,42)),new le(30,new z(5,24),new z(7,25)),new le(24,new z(11,12),new z(7,13))),new a(16,Int32Array.from([6,26,50,74]),new le(24,new z(5,98),new z(1,99)),new le(28,new z(7,45),new z(3,46)),new le(24,new z(15,19),new z(2,20)),new le(30,new z(3,15),new z(13,16))),new a(17,Int32Array.from([6,30,54,78]),new le(28,new z(1,107),new z(5,108)),new le(28,new z(10,46),new z(1,47)),new le(28,new z(1,22),new z(15,23)),new le(28,new z(2,14),new z(17,15))),new a(18,Int32Array.from([6,30,56,82]),new le(30,new z(5,120),new z(1,121)),new le(26,new z(9,43),new z(4,44)),new le(28,new z(17,22),new z(1,23)),new le(28,new z(2,14),new z(19,15))),new a(19,Int32Array.from([6,30,58,86]),new le(28,new z(3,113),new z(4,114)),new le(26,new z(3,44),new z(11,45)),new le(26,new z(17,21),new z(4,22)),new le(26,new z(9,13),new z(16,14))),new a(20,Int32Array.from([6,34,62,90]),new le(28,new z(3,107),new z(5,108)),new le(26,new z(3,41),new z(13,42)),new le(30,new z(15,24),new z(5,25)),new le(28,new z(15,15),new z(10,16))),new a(21,Int32Array.from([6,28,50,72,94]),new le(28,new z(4,116),new z(4,117)),new le(26,new z(17,42)),new le(28,new z(17,22),new z(6,23)),new le(30,new z(19,16),new z(6,17))),new a(22,Int32Array.from([6,26,50,74,98]),new le(28,new z(2,111),new z(7,112)),new le(28,new z(17,46)),new le(30,new z(7,24),new z(16,25)),new le(24,new z(34,13))),new a(23,Int32Array.from([6,30,54,78,102]),new le(30,new z(4,121),new z(5,122)),new le(28,new z(4,47),new z(14,48)),new le(30,new z(11,24),new z(14,25)),new le(30,new z(16,15),new z(14,16))),new a(24,Int32Array.from([6,28,54,80,106]),new le(30,new z(6,117),new z(4,118)),new le(28,new z(6,45),new z(14,46)),new le(30,new z(11,24),new z(16,25)),new le(30,new z(30,16),new z(2,17))),new a(25,Int32Array.from([6,32,58,84,110]),new le(26,new z(8,106),new z(4,107)),new le(28,new z(8,47),new z(13,48)),new le(30,new z(7,24),new z(22,25)),new le(30,new z(22,15),new z(13,16))),new a(26,Int32Array.from([6,30,58,86,114]),new le(28,new z(10,114),new z(2,115)),new le(28,new z(19,46),new z(4,47)),new le(28,new z(28,22),new z(6,23)),new le(30,new z(33,16),new z(4,17))),new a(27,Int32Array.from([6,34,62,90,118]),new le(30,new z(8,122),new z(4,123)),new le(28,new z(22,45),new z(3,46)),new le(30,new z(8,23),new z(26,24)),new le(30,new z(12,15),new z(28,16))),new a(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new z(3,117),new z(10,118)),new le(28,new z(3,45),new z(23,46)),new le(30,new z(4,24),new z(31,25)),new le(30,new z(11,15),new z(31,16))),new a(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new z(7,116),new z(7,117)),new le(28,new z(21,45),new z(7,46)),new le(30,new z(1,23),new z(37,24)),new le(30,new z(19,15),new z(26,16))),new a(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new z(5,115),new z(10,116)),new le(28,new z(19,47),new z(10,48)),new le(30,new z(15,24),new z(25,25)),new le(30,new z(23,15),new z(25,16))),new a(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new z(13,115),new z(3,116)),new le(28,new z(2,46),new z(29,47)),new le(30,new z(42,24),new z(1,25)),new le(30,new z(23,15),new z(28,16))),new a(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new z(17,115)),new le(28,new z(10,46),new z(23,47)),new le(30,new z(10,24),new z(35,25)),new le(30,new z(19,15),new z(35,16))),new a(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new z(17,115),new z(1,116)),new le(28,new z(14,46),new z(21,47)),new le(30,new z(29,24),new z(19,25)),new le(30,new z(11,15),new z(46,16))),new a(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new z(13,115),new z(6,116)),new le(28,new z(14,46),new z(23,47)),new le(30,new z(44,24),new z(7,25)),new le(30,new z(59,16),new z(1,17))),new a(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new z(12,121),new z(7,122)),new le(28,new z(12,47),new z(26,48)),new le(30,new z(39,24),new z(14,25)),new le(30,new z(22,15),new z(41,16))),new a(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new z(6,121),new z(14,122)),new le(28,new z(6,47),new z(34,48)),new le(30,new z(46,24),new z(10,25)),new le(30,new z(2,15),new z(64,16))),new a(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new z(17,122),new z(4,123)),new le(28,new z(29,46),new z(14,47)),new le(30,new z(49,24),new z(10,25)),new le(30,new z(24,15),new z(46,16))),new a(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new z(4,122),new z(18,123)),new le(28,new z(13,46),new z(32,47)),new le(30,new z(48,24),new z(14,25)),new le(30,new z(42,15),new z(32,16))),new a(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new z(20,117),new z(4,118)),new le(28,new z(40,47),new z(7,48)),new le(30,new z(43,24),new z(22,25)),new le(30,new z(10,15),new z(67,16))),new a(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new z(19,118),new z(6,119)),new le(28,new z(18,47),new z(31,48)),new le(30,new z(34,24),new z(34,25)),new le(30,new z(20,15),new z(61,16)))],a}(),P;(function(a){a[a.DATA_MASK_000=0]="DATA_MASK_000",a[a.DATA_MASK_001=1]="DATA_MASK_001",a[a.DATA_MASK_010=2]="DATA_MASK_010",a[a.DATA_MASK_011=3]="DATA_MASK_011",a[a.DATA_MASK_100=4]="DATA_MASK_100",a[a.DATA_MASK_101=5]="DATA_MASK_101",a[a.DATA_MASK_110=6]="DATA_MASK_110",a[a.DATA_MASK_111=7]="DATA_MASK_111"})(P||(P={}));var U=function(){function a(t,n){this.value=t,this.isMasked=n}return a.prototype.unmaskBitMatrix=function(t,n){for(var o=0;o<n;o++)for(var c=0;c<n;c++)this.isMasked(o,c)&&t.flip(c,o)},a.values=new Map([[P.DATA_MASK_000,new a(P.DATA_MASK_000,function(t,n){return(t+n&1)===0})],[P.DATA_MASK_001,new a(P.DATA_MASK_001,function(t,n){return(t&1)===0})],[P.DATA_MASK_010,new a(P.DATA_MASK_010,function(t,n){return n%3===0})],[P.DATA_MASK_011,new a(P.DATA_MASK_011,function(t,n){return(t+n)%3===0})],[P.DATA_MASK_100,new a(P.DATA_MASK_100,function(t,n){return(Math.floor(t/2)+Math.floor(n/3)&1)===0})],[P.DATA_MASK_101,new a(P.DATA_MASK_101,function(t,n){return t*n%6===0})],[P.DATA_MASK_110,new a(P.DATA_MASK_110,function(t,n){return t*n%6<3})],[P.DATA_MASK_111,new a(P.DATA_MASK_111,function(t,n){return(t+n+t*n%3&1)===0})]]),a}(),ue=function(){function a(t){var n=t.getHeight();if(n<21||(n&3)!==1)throw new F;this.bitMatrix=t}return a.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var t=0,n=0;n<6;n++)t=this.copyBit(n,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var o=5;o>=0;o--)t=this.copyBit(8,o,t);for(var c=this.bitMatrix.getHeight(),f=0,p=c-7,o=c-1;o>=p;o--)f=this.copyBit(8,o,f);for(var n=c-8;n<c;n++)f=this.copyBit(n,8,f);if(this.parsedFormatInfo=Ln.decodeFormatInformation(t,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F},a.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return R.getVersionForNumber(n);for(var o=0,c=t-11,f=5;f>=0;f--)for(var p=t-9;p>=c;p--)o=this.copyBit(p,f,o);var m=R.decodeVersionInformation(o);if(m!==null&&m.getDimensionForVersion()===t)return this.parsedVersion=m,m;o=0;for(var p=5;p>=0;p--)for(var f=t-9;f>=c;f--)o=this.copyBit(p,f,o);if(m=R.decodeVersionInformation(o),m!==null&&m.getDimensionForVersion()===t)return this.parsedVersion=m,m;throw new F},a.prototype.copyBit=function(t,n,o){var c=this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n);return c?o<<1|1:o<<1},a.prototype.readCodewords=function(){var t=this.readFormatInformation(),n=this.readVersion(),o=U.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c);for(var f=n.buildFunctionPattern(),p=!0,m=new Uint8Array(n.getTotalCodewords()),_=0,T=0,b=0,I=c-1;I>0;I-=2){I===6&&I--;for(var D=0;D<c;D++)for(var N=p?c-1-D:D,V=0;V<2;V++)f.get(I-V,N)||(b++,T<<=1,this.bitMatrix.get(I-V,N)&&(T|=1),b===8&&(m[_++]=T,b=0,T=0));p=!p}if(_!==n.getTotalCodewords())throw new F;return m},a.prototype.remask=function(){if(this.parsedFormatInfo!==null){var t=U.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}},a.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},a.prototype.mirror=function(){for(var t=this.bitMatrix,n=0,o=t.getWidth();n<o;n++)for(var c=n+1,f=t.getHeight();c<f;c++)t.get(n,c)!==t.get(c,n)&&(t.flip(c,n),t.flip(n,c))},a}(),pe=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ie=function(){function a(t,n){this.numDataCodewords=t,this.codewords=n}return a.getDataBlocks=function(t,n,o){var c,f,p,m;if(t.length!==n.getTotalCodewords())throw new L;var _=n.getECBlocksForLevel(o),T=0,b=_.getECBlocks();try{for(var I=pe(b),D=I.next();!D.done;D=I.next()){var N=D.value;T+=N.getCount()}}catch(Lt){c={error:Lt}}finally{try{D&&!D.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}var V=new Array(T),q=0;try{for(var re=pe(b),Z=re.next();!Z.done;Z=re.next())for(var N=Z.value,ee=0;ee<N.getCount();ee++){var he=N.getDataCodewords(),ge=_.getECCodewordsPerBlock()+he;V[q++]=new a(he,new Uint8Array(ge))}}catch(Lt){p={error:Lt}}finally{try{Z&&!Z.done&&(m=re.return)&&m.call(re)}finally{if(p)throw p.error}}for(var Ce=V[0].codewords.length,Re=V.length-1;Re>=0;){var Oe=V[Re].codewords.length;if(Oe===Ce)break;Re--}Re++;for(var ze=Ce-_.getECCodewordsPerBlock(),dt=0,ee=0;ee<ze;ee++)for(var Le=0;Le<q;Le++)V[Le].codewords[ee]=t[dt++];for(var Le=Re;Le<q;Le++)V[Le].codewords[ze]=t[dt++];for(var lt=V[0].codewords.length,ee=ze;ee<lt;ee++)for(var Le=0;Le<q;Le++){var pt=Le<Re?ee:ee+1;V[Le].codewords[pt]=t[dt++]}return V},a.prototype.getNumDataCodewords=function(){return this.numDataCodewords},a.prototype.getCodewords=function(){return this.codewords},a}(),Je;(function(a){a[a.TERMINATOR=0]="TERMINATOR",a[a.NUMERIC=1]="NUMERIC",a[a.ALPHANUMERIC=2]="ALPHANUMERIC",a[a.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",a[a.BYTE=4]="BYTE",a[a.ECI=5]="ECI",a[a.KANJI=6]="KANJI",a[a.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",a[a.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",a[a.HANZI=9]="HANZI"})(Je||(Je={}));var tt=function(){function a(t,n,o,c){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=o,this.bits=c,a.FOR_BITS.set(c,this),a.FOR_VALUE.set(t,this)}return a.forBits=function(t){var n=a.FOR_BITS.get(t);if(n===void 0)throw new L;return n},a.prototype.getCharacterCountBits=function(t){var n=t.getVersionNumber(),o;return n<=9?o=0:n<=26?o=1:o=2,this.characterCountBitsForVersions[o]},a.prototype.getValue=function(){return this.value},a.prototype.getBits=function(){return this.bits},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;return this.value===n.value},a.prototype.toString=function(){return this.stringValue},a.FOR_BITS=new Map,a.FOR_VALUE=new Map,a.TERMINATOR=new a(Je.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),a.NUMERIC=new a(Je.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),a.ALPHANUMERIC=new a(Je.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),a.STRUCTURED_APPEND=new a(Je.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),a.BYTE=new a(Je.BYTE,"BYTE",Int32Array.from([8,16,16]),4),a.ECI=new a(Je.ECI,"ECI",Int32Array.from([0,0,0]),7),a.KANJI=new a(Je.KANJI,"KANJI",Int32Array.from([8,10,12]),8),a.FNC1_FIRST_POSITION=new a(Je.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),a.FNC1_SECOND_POSITION=new a(Je.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),a.HANZI=new a(Je.HANZI,"HANZI",Int32Array.from([8,10,12]),13),a}(),Et=function(){function a(){}return a.decode=function(t,n,o,c){var f=new ea(t),p=new me,m=new Array,_=-1,T=-1;try{var b=null,I=!1,D=void 0;do{if(f.available()<4)D=tt.TERMINATOR;else{var N=f.readBits(4);D=tt.forBits(N)}switch(D){case tt.TERMINATOR:break;case tt.FNC1_FIRST_POSITION:case tt.FNC1_SECOND_POSITION:I=!0;break;case tt.STRUCTURED_APPEND:if(f.available()<16)throw new F;_=f.readBits(8),T=f.readBits(8);break;case tt.ECI:var V=a.parseECIValue(f);if(b=be.getCharacterSetECIByValue(V),b===null)throw new F;break;case tt.HANZI:var q=f.readBits(4),re=f.readBits(D.getCharacterCountBits(n));q===a.GB2312_SUBSET&&a.decodeHanziSegment(f,p,re);break;default:var Z=f.readBits(D.getCharacterCountBits(n));switch(D){case tt.NUMERIC:a.decodeNumericSegment(f,p,Z);break;case tt.ALPHANUMERIC:a.decodeAlphanumericSegment(f,p,Z,I);break;case tt.BYTE:a.decodeByteSegment(f,p,Z,b,m,c);break;case tt.KANJI:a.decodeKanjiSegment(f,p,Z);break;default:throw new F}break}}while(D!==tt.TERMINATOR)}catch{throw new F}return new Cn(t,p.toString(),m.length===0?null:m,o===null?null:o.toString(),_,T)},a.decodeHanziSegment=function(t,n,o){if(o*13>t.available())throw new F;for(var c=new Uint8Array(2*o),f=0;o>0;){var p=t.readBits(13),m=p/96<<8&4294967295|p%96;m<959?m+=41377:m+=42657,c[f]=m>>8&255,c[f+1]=m&255,f+=2,o--}try{n.append(ct.decode(c,W.GB2312))}catch(_){throw new F(_)}},a.decodeKanjiSegment=function(t,n,o){if(o*13>t.available())throw new F;for(var c=new Uint8Array(2*o),f=0;o>0;){var p=t.readBits(13),m=p/192<<8&4294967295|p%192;m<7936?m+=33088:m+=49472,c[f]=m>>8,c[f+1]=m,f+=2,o--}try{n.append(ct.decode(c,W.SHIFT_JIS))}catch(_){throw new F(_)}},a.decodeByteSegment=function(t,n,o,c,f,p){if(8*o>t.available())throw new F;for(var m=new Uint8Array(o),_=0;_<o;_++)m[_]=t.readBits(8);var T;c===null?T=W.guessEncoding(m,p):T=c.getName();try{n.append(ct.decode(m,T))}catch(b){throw new F(b)}f.push(m)},a.toAlphaNumericChar=function(t){if(t>=a.ALPHANUMERIC_CHARS.length)throw new F;return a.ALPHANUMERIC_CHARS[t]},a.decodeAlphanumericSegment=function(t,n,o,c){for(var f=n.length();o>1;){if(t.available()<11)throw new F;var p=t.readBits(11);n.append(a.toAlphaNumericChar(Math.floor(p/45))),n.append(a.toAlphaNumericChar(p%45)),o-=2}if(o===1){if(t.available()<6)throw new F;n.append(a.toAlphaNumericChar(t.readBits(6)))}if(c)for(var m=f;m<n.length();m++)n.charAt(m)==="%"&&(m<n.length()-1&&n.charAt(m+1)==="%"?n.deleteCharAt(m+1):n.setCharAt(m,""))},a.decodeNumericSegment=function(t,n,o){for(;o>=3;){if(t.available()<10)throw new F;var c=t.readBits(10);if(c>=1e3)throw new F;n.append(a.toAlphaNumericChar(Math.floor(c/100))),n.append(a.toAlphaNumericChar(Math.floor(c/10)%10)),n.append(a.toAlphaNumericChar(c%10)),o-=3}if(o===2){if(t.available()<7)throw new F;var f=t.readBits(7);if(f>=100)throw new F;n.append(a.toAlphaNumericChar(Math.floor(f/10))),n.append(a.toAlphaNumericChar(f%10))}else if(o===1){if(t.available()<4)throw new F;var p=t.readBits(4);if(p>=10)throw new F;n.append(a.toAlphaNumericChar(p))}},a.parseECIValue=function(t){var n=t.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){var o=t.readBits(8);return(n&63)<<8&4294967295|o}if((n&224)===192){var c=t.readBits(16);return(n&31)<<16&4294967295|c}throw new F},a.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",a.GB2312_SUBSET=1,a}(),dn=function(){function a(t){this.mirrored=t}return a.prototype.isMirrored=function(){return this.mirrored},a.prototype.applyMirroredCorrection=function(t){if(!(!this.mirrored||t===null||t.length<3)){var n=t[0];t[0]=t[2],t[2]=n}},a}(),sn=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oi=function(){function a(){this.rsDecoder=new zi(_n.QR_CODE_FIELD_256)}return a.prototype.decodeBooleanArray=function(t,n){return this.decodeBitMatrix(Ne.parseFromBooleanArray(t),n)},a.prototype.decodeBitMatrix=function(t,n){var o=new ue(t),c=null;try{return this.decodeBitMatrixParser(o,n)}catch(p){c=p}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();var f=this.decodeBitMatrixParser(o,n);return f.setOther(new dn(!0)),f}catch(p){throw c!==null?c:p}},a.prototype.decodeBitMatrixParser=function(t,n){var o,c,f,p,m=t.readVersion(),_=t.readFormatInformation().getErrorCorrectionLevel(),T=t.readCodewords(),b=Ie.getDataBlocks(T,m,_),I=0;try{for(var D=sn(b),N=D.next();!N.done;N=D.next()){var V=N.value;I+=V.getNumDataCodewords()}}catch(Re){o={error:Re}}finally{try{N&&!N.done&&(c=D.return)&&c.call(D)}finally{if(o)throw o.error}}var q=new Uint8Array(I),re=0;try{for(var Z=sn(b),ee=Z.next();!ee.done;ee=Z.next()){var V=ee.value,he=V.getCodewords(),ge=V.getNumDataCodewords();this.correctErrors(he,ge);for(var Ce=0;Ce<ge;Ce++)q[re++]=he[Ce]}}catch(Re){f={error:Re}}finally{try{ee&&!ee.done&&(p=Z.return)&&p.call(Z)}finally{if(f)throw f.error}}return Et.decode(q,m,_,n)},a.prototype.correctErrors=function(t,n){var o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-n)}catch{throw new J}for(var c=0;c<n;c++)t[c]=o[c]},a}(),bn=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ri=function(a){bn(t,a);function t(n,o,c){var f=a.call(this,n,o)||this;return f.estimatedModuleSize=c,f}return t.prototype.aboutEquals=function(n,o,c){if(Math.abs(o-this.getY())<=n&&Math.abs(c-this.getX())<=n){var f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,o,c){var f=(this.getX()+o)/2,p=(this.getY()+n)/2,m=(this.estimatedModuleSize+c)/2;return new t(f,p,m)},t}(Ve),Cs=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=function(){function a(t,n,o,c,f,p,m){this.image=t,this.startX=n,this.startY=o,this.width=c,this.height=f,this.moduleSize=p,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return a.prototype.find=function(){for(var t=this.startX,n=this.height,o=this.width,c=t+o,f=this.startY+n/2,p=new Int32Array(3),m=this.image,_=0;_<n;_++){var T=f+((_&1)===0?Math.floor((_+1)/2):-Math.floor((_+1)/2));p[0]=0,p[1]=0,p[2]=0;for(var b=t;b<c&&!m.get(b,T);)b++;for(var I=0;b<c;){if(m.get(b,T))if(I===1)p[1]++;else if(I===2){if(this.foundPatternCross(p)){var D=this.handlePossibleCenter(p,T,b);if(D!==null)return D}p[0]=p[2],p[1]=1,p[2]=0,I=1}else p[++I]++;else I===1&&I++,p[I]++;b++}if(this.foundPatternCross(p)){var D=this.handlePossibleCenter(p,T,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne},a.centerFromEnd=function(t,n){return n-t[2]-t[1]/2},a.prototype.foundPatternCross=function(t){for(var n=this.moduleSize,o=n/2,c=0;c<3;c++)if(Math.abs(n-t[c])>=o)return!1;return!0},a.prototype.crossCheckVertical=function(t,n,o,c){var f=this.image,p=f.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;for(var _=t;_>=0&&f.get(n,_)&&m[1]<=o;)m[1]++,_--;if(_<0||m[1]>o)return NaN;for(;_>=0&&!f.get(n,_)&&m[0]<=o;)m[0]++,_--;if(m[0]>o)return NaN;for(_=t+1;_<p&&f.get(n,_)&&m[1]<=o;)m[1]++,_++;if(_===p||m[1]>o)return NaN;for(;_<p&&!f.get(n,_)&&m[2]<=o;)m[2]++,_++;if(m[2]>o)return NaN;var T=m[0]+m[1]+m[2];return 5*Math.abs(T-c)>=2*c?NaN:this.foundPatternCross(m)?a.centerFromEnd(m,_):NaN},a.prototype.handlePossibleCenter=function(t,n,o){var c,f,p=t[0]+t[1]+t[2],m=a.centerFromEnd(t,o),_=this.crossCheckVertical(n,m,2*t[1],p);if(!isNaN(_)){var T=(t[0]+t[1]+t[2])/3;try{for(var b=Cs(this.possibleCenters),I=b.next();!I.done;I=b.next()){var D=I.value;if(D.aboutEquals(T,_,m))return D.combineEstimate(_,m,T)}}catch(V){c={error:V}}finally{try{I&&!I.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}var N=new ri(m,_,T);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null},a}(),Vc=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uc=function(a){Vc(t,a);function t(n,o,c,f){var p=a.call(this,n,o)||this;return p.estimatedModuleSize=c,p.count=f,f===void 0&&(p.count=1),p}return t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(n,o,c){if(Math.abs(o-this.getY())<=n&&Math.abs(c-this.getX())<=n){var f=Math.abs(n-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(n,o,c){var f=this.count+1,p=(this.count*this.getX()+o)/f,m=(this.count*this.getY()+n)/f,_=(this.count*this.estimatedModuleSize+c)/f;return new t(p,m,_,f)},t}(Ve),_l=function(){function a(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return a.prototype.getBottomLeft=function(){return this.bottomLeft},a.prototype.getTopLeft=function(){return this.topLeft},a.prototype.getTopRight=function(){return this.topRight},a}(),La=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fc=function(){function a(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return a.prototype.getImage=function(){return this.image},a.prototype.getPossibleCenters=function(){return this.possibleCenters},a.prototype.find=function(t){var n=t!=null&&t.get(Q.TRY_HARDER)!==void 0,o=t!=null&&t.get(Q.PURE_BARCODE)!==void 0,c=this.image,f=c.getHeight(),p=c.getWidth(),m=Math.floor(3*f/(4*a.MAX_MODULES));(m<a.MIN_SKIP||n)&&(m=a.MIN_SKIP);for(var _=!1,T=new Int32Array(5),b=m-1;b<f&&!_;b+=m){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;for(var I=0,D=0;D<p;D++)if(c.get(D,b))(I&1)===1&&I++,T[I]++;else if((I&1)===0)if(I===4)if(a.foundPatternCross(T)){var N=this.handlePossibleCenter(T,b,D,o);if(N===!0)if(m=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{var V=this.findRowSkip();V>T[2]&&(b+=V-T[2]-m,D=p-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,I=3;continue}I=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,I=3;else T[++I]++;else T[I]++;if(a.foundPatternCross(T)){var N=this.handlePossibleCenter(T,b,p,o);N===!0&&(m=T[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}}var q=this.selectBestPatterns();return Ve.orderBestPatterns(q),new _l(q)},a.centerFromEnd=function(t,n){return n-t[4]-t[3]-t[2]/2},a.foundPatternCross=function(t){for(var n=0,o=0;o<5;o++){var c=t[o];if(c===0)return!1;n+=c}if(n<7)return!1;var f=n/7,p=f/2;return Math.abs(f-t[0])<p&&Math.abs(f-t[1])<p&&Math.abs(3*f-t[2])<3*p&&Math.abs(f-t[3])<p&&Math.abs(f-t[4])<p},a.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},a.prototype.crossCheckDiagonal=function(t,n,o,c){for(var f=this.getCrossCheckStateCount(),p=0,m=this.image;t>=p&&n>=p&&m.get(n-p,t-p);)f[2]++,p++;if(t<p||n<p)return!1;for(;t>=p&&n>=p&&!m.get(n-p,t-p)&&f[1]<=o;)f[1]++,p++;if(t<p||n<p||f[1]>o)return!1;for(;t>=p&&n>=p&&m.get(n-p,t-p)&&f[0]<=o;)f[0]++,p++;if(f[0]>o)return!1;var _=m.getHeight(),T=m.getWidth();for(p=1;t+p<_&&n+p<T&&m.get(n+p,t+p);)f[2]++,p++;if(t+p>=_||n+p>=T)return!1;for(;t+p<_&&n+p<T&&!m.get(n+p,t+p)&&f[3]<o;)f[3]++,p++;if(t+p>=_||n+p>=T||f[3]>=o)return!1;for(;t+p<_&&n+p<T&&m.get(n+p,t+p)&&f[4]<o;)f[4]++,p++;if(f[4]>=o)return!1;var b=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(b-c)<2*c&&a.foundPatternCross(f)},a.prototype.crossCheckVertical=function(t,n,o,c){for(var f=this.image,p=f.getHeight(),m=this.getCrossCheckStateCount(),_=t;_>=0&&f.get(n,_);)m[2]++,_--;if(_<0)return NaN;for(;_>=0&&!f.get(n,_)&&m[1]<=o;)m[1]++,_--;if(_<0||m[1]>o)return NaN;for(;_>=0&&f.get(n,_)&&m[0]<=o;)m[0]++,_--;if(m[0]>o)return NaN;for(_=t+1;_<p&&f.get(n,_);)m[2]++,_++;if(_===p)return NaN;for(;_<p&&!f.get(n,_)&&m[3]<o;)m[3]++,_++;if(_===p||m[3]>=o)return NaN;for(;_<p&&f.get(n,_)&&m[4]<o;)m[4]++,_++;if(m[4]>=o)return NaN;var T=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(T-c)>=2*c?NaN:a.foundPatternCross(m)?a.centerFromEnd(m,_):NaN},a.prototype.crossCheckHorizontal=function(t,n,o,c){for(var f=this.image,p=f.getWidth(),m=this.getCrossCheckStateCount(),_=t;_>=0&&f.get(_,n);)m[2]++,_--;if(_<0)return NaN;for(;_>=0&&!f.get(_,n)&&m[1]<=o;)m[1]++,_--;if(_<0||m[1]>o)return NaN;for(;_>=0&&f.get(_,n)&&m[0]<=o;)m[0]++,_--;if(m[0]>o)return NaN;for(_=t+1;_<p&&f.get(_,n);)m[2]++,_++;if(_===p)return NaN;for(;_<p&&!f.get(_,n)&&m[3]<o;)m[3]++,_++;if(_===p||m[3]>=o)return NaN;for(;_<p&&f.get(_,n)&&m[4]<o;)m[4]++,_++;if(m[4]>=o)return NaN;var T=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(T-c)>=c?NaN:a.foundPatternCross(m)?a.centerFromEnd(m,_):NaN},a.prototype.handlePossibleCenter=function(t,n,o,c){var f=t[0]+t[1]+t[2]+t[3]+t[4],p=a.centerFromEnd(t,o),m=this.crossCheckVertical(n,Math.floor(p),t[2],f);if(!isNaN(m)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(m),t[2],f),!isNaN(p)&&(!c||this.crossCheckDiagonal(Math.floor(m),Math.floor(p),t[2],f)))){for(var _=f/7,T=!1,b=this.possibleCenters,I=0,D=b.length;I<D;I++){var N=b[I];if(N.aboutEquals(_,m,p)){b[I]=N.combineEstimate(m,p,_),T=!0;break}}if(!T){var V=new Uc(p,m,_);b.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1},a.prototype.findRowSkip=function(){var t,n,o=this.possibleCenters.length;if(o<=1)return 0;var c=null;try{for(var f=La(this.possibleCenters),p=f.next();!p.done;p=f.next()){var m=p.value;if(m.getCount()>=a.CENTER_QUORUM)if(c==null)c=m;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-m.getX())-Math.abs(c.getY()-m.getY()))/2)}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return 0},a.prototype.haveMultiplyConfirmedCenters=function(){var t,n,o,c,f=0,p=0,m=this.possibleCenters.length;try{for(var _=La(this.possibleCenters),T=_.next();!T.done;T=_.next()){var b=T.value;b.getCount()>=a.CENTER_QUORUM&&(f++,p+=b.getEstimatedModuleSize())}}catch(q){t={error:q}}finally{try{T&&!T.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}if(f<3)return!1;var I=p/m,D=0;try{for(var N=La(this.possibleCenters),V=N.next();!V.done;V=N.next()){var b=V.value;D+=Math.abs(b.getEstimatedModuleSize()-I)}}catch(q){o={error:q}}finally{try{V&&!V.done&&(c=N.return)&&c.call(N)}finally{if(o)throw o.error}}return D<=.05*p},a.prototype.selectBestPatterns=function(){var t,n,o,c,f=this.possibleCenters.length;if(f<3)throw new ne;var p=this.possibleCenters,m;if(f>3){var _=0,T=0;try{for(var b=La(this.possibleCenters),I=b.next();!I.done;I=b.next()){var D=I.value,N=D.getEstimatedModuleSize();_+=N,T+=N*N}}catch(Ce){t={error:Ce}}finally{try{I&&!I.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}m=_/f;var V=Math.sqrt(T/f-m*m);p.sort(function(Ce,Re){var Oe=Math.abs(Re.getEstimatedModuleSize()-m),ze=Math.abs(Ce.getEstimatedModuleSize()-m);return Oe<ze?-1:Oe>ze?1:0});for(var q=Math.max(.2*m,V),re=0;re<p.length&&p.length>3;re++){var Z=p[re];Math.abs(Z.getEstimatedModuleSize()-m)>q&&(p.splice(re,1),re--)}}if(p.length>3){var _=0;try{for(var ee=La(p),he=ee.next();!he.done;he=ee.next()){var ge=he.value;_+=ge.getEstimatedModuleSize()}}catch(Re){o={error:Re}}finally{try{he&&!he.done&&(c=ee.return)&&c.call(ee)}finally{if(o)throw o.error}}m=_/p.length,p.sort(function(Re,Oe){if(Oe.getCount()===Re.getCount()){var ze=Math.abs(Oe.getEstimatedModuleSize()-m),dt=Math.abs(Re.getEstimatedModuleSize()-m);return ze<dt?1:ze>dt?-1:0}else return Oe.getCount()-Re.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]},a.CENTER_QUORUM=2,a.MIN_SKIP=3,a.MAX_MODULES=57,a}(),zc=function(){function a(t){this.image=t}return a.prototype.getImage=function(){return this.image},a.prototype.getResultPointCallback=function(){return this.resultPointCallback},a.prototype.detect=function(t){this.resultPointCallback=t==null?null:t.get(Q.NEED_RESULT_POINT_CALLBACK);var n=new Fc(this.image,this.resultPointCallback),o=n.find(t);return this.processFinderPatternInfo(o)},a.prototype.processFinderPatternInfo=function(t){var n=t.getTopLeft(),o=t.getTopRight(),c=t.getBottomLeft(),f=this.calculateModuleSize(n,o,c);if(f<1)throw new ne("No pattern found in proccess finder.");var p=a.computeDimension(n,o,c,f),m=R.getProvisionalVersionForDimension(p),_=m.getDimensionForVersion()-7,T=null;if(m.getAlignmentPatternCenters().length>0)for(var b=o.getX()-n.getX()+c.getX(),I=o.getY()-n.getY()+c.getY(),D=1-3/_,N=Math.floor(n.getX()+D*(b-n.getX())),V=Math.floor(n.getY()+D*(I-n.getY())),q=4;q<=16;q<<=1)try{T=this.findAlignmentInRegion(f,N,V,q);break}catch(he){if(!(he instanceof ne))throw he}var re=a.createTransform(n,o,c,T,p),Z=a.sampleGrid(this.image,re,p),ee;return T===null?ee=[c,n,o]:ee=[c,n,o,T],new vr(Z,ee)},a.createTransform=function(t,n,o,c,f){var p=f-3.5,m,_,T,b;return c!==null?(m=c.getX(),_=c.getY(),T=p-3,b=T):(m=n.getX()-t.getX()+o.getX(),_=n.getY()-t.getY()+o.getY(),T=p,b=p),Aa.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,T,b,3.5,p,t.getX(),t.getY(),n.getX(),n.getY(),m,_,o.getX(),o.getY())},a.sampleGrid=function(t,n,o){var c=ji.getInstance();return c.sampleGridWithTransform(t,o,o,n)},a.computeDimension=function(t,n,o,c){var f=ht.round(Ve.distance(t,n)/c),p=ht.round(Ve.distance(t,o)/c),m=Math.floor((f+p)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new ne("Dimensions could be not found.")}return m},a.prototype.calculateModuleSize=function(t,n,o){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,o))/2},a.prototype.calculateModuleSizeOneWay=function(t,n){var o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?c/7:isNaN(c)?o/7:(o+c)/14},a.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,n,o,c){var f=this.sizeOfBlackWhiteBlackRun(t,n,o,c),p=1,m=t-(o-t);m<0?(p=t/(t-m),m=0):m>=this.image.getWidth()&&(p=(this.image.getWidth()-1-t)/(m-t),m=this.image.getWidth()-1);var _=Math.floor(n-(c-n)*p);return p=1,_<0?(p=n/(n-_),_=0):_>=this.image.getHeight()&&(p=(this.image.getHeight()-1-n)/(_-n),_=this.image.getHeight()-1),m=Math.floor(t+(m-t)*p),f+=this.sizeOfBlackWhiteBlackRun(t,n,m,_),f-1},a.prototype.sizeOfBlackWhiteBlackRun=function(t,n,o,c){var f=Math.abs(c-n)>Math.abs(o-t);if(f){var p=t;t=n,n=p,p=o,o=c,c=p}for(var m=Math.abs(o-t),_=Math.abs(c-n),T=-m/2,b=t<o?1:-1,I=n<c?1:-1,D=0,N=o+b,V=t,q=n;V!==N;V+=b){var re=f?q:V,Z=f?V:q;if(D===1===this.image.get(re,Z)){if(D===2)return ht.distance(V,q,t,n);D++}if(T+=_,T>0){if(q===c)break;q+=I,T-=m}}return D===2?ht.distance(o+b,c,t,n):NaN},a.prototype.findAlignmentInRegion=function(t,n,o,c){var f=Math.floor(c*t),p=Math.max(0,n-f),m=Math.min(this.image.getWidth()-1,n+f);if(m-p<t*3)throw new ne("Alignment top exceeds estimated module size.");var _=Math.max(0,o-f),T=Math.min(this.image.getHeight()-1,o+f);if(T-_<t*3)throw new ne("Alignment bottom exceeds estimated module size.");var b=new Eu(this.image,p,_,m-p,T-_,t,this.resultPointCallback);return b.find()},a}(),ws=function(){function a(){this.decoder=new Oi}return a.prototype.getDecoder=function(){return this.decoder},a.prototype.decode=function(t,n){var o,c;if(n!=null&&n.get(Q.PURE_BARCODE)!==void 0){var f=a.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(f,n),c=a.NO_POINTS}else{var p=new zc(t.getBlackMatrix()).detect(n);o=this.decoder.decodeBitMatrix(p.getBits(),n),c=p.getPoints()}o.getOther()instanceof dn&&o.getOther().applyMirroredCorrection(c);var m=new hn(o.getText(),o.getRawBytes(),void 0,c,qe.QR_CODE,void 0),_=o.getByteSegments();_!==null&&m.putMetadata($t.BYTE_SEGMENTS,_);var T=o.getECLevel();return T!==null&&m.putMetadata($t.ERROR_CORRECTION_LEVEL,T),o.hasStructuredAppend()&&(m.putMetadata($t.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),m.putMetadata($t.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),m},a.prototype.reset=function(){},a.extractPureBits=function(t){var n=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(n===null||o===null)throw new ne;var c=this.moduleSize(n,t),f=n[1],p=o[1],m=n[0],_=o[0];if(m>=_||f>=p)throw new ne;if(p-f!==_-m&&(_=m+(p-f),_>=t.getWidth()))throw new ne;var T=Math.round((_-m+1)/c),b=Math.round((p-f+1)/c);if(T<=0||b<=0)throw new ne;if(b!==T)throw new ne;var I=Math.floor(c/2);f+=I,m+=I;var D=m+Math.floor((T-1)*c)-_;if(D>0){if(D>I)throw new ne;m-=D}var N=f+Math.floor((b-1)*c)-p;if(N>0){if(N>I)throw new ne;f-=N}for(var V=new Ne(T,b),q=0;q<b;q++)for(var re=f+Math.floor(q*c),Z=0;Z<T;Z++)t.get(m+Math.floor(Z*c),re)&&V.set(Z,q);return V},a.moduleSize=function(t,n){for(var o=n.getHeight(),c=n.getWidth(),f=t[0],p=t[1],m=!0,_=0;f<c&&p<o;){if(m!==n.get(f,p)){if(++_===5)break;m=!m}f++,p++}if(f===c||p===o)throw new ne;return(f-t[0])/7},a.NO_POINTS=new Array,a}(),cd=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},St=function(){function a(){}return a.prototype.PDF417Common=function(){},a.getBitCountSum=function(t){return ht.sum(t)},a.toIntArray=function(t){var n,o;if(t==null||!t.length)return a.EMPTY_INT_ARRAY;var c=new Int32Array(t.length),f=0;try{for(var p=cd(t),m=p.next();!m.done;m=p.next()){var _=m.value;c[f++]=_}}catch(T){n={error:T}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return c},a.getCodeword=function(t){var n=$.binarySearch(a.SYMBOL_TABLE,t&262143);return n<0?-1:(a.CODEWORD_TABLE[n]-1)%a.NUMBER_OF_CODEWORDS},a.NUMBER_OF_CODEWORDS=929,a.MAX_CODEWORDS_IN_BARCODE=a.NUMBER_OF_CODEWORDS-1,a.MIN_ROWS_IN_BARCODE=3,a.MAX_ROWS_IN_BARCODE=90,a.MODULES_IN_CODEWORD=17,a.MODULES_IN_STOP_PATTERN=18,a.BARS_IN_MODULE=8,a.EMPTY_INT_ARRAY=new Int32Array([]),a.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),a.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),a}(),fd=function(){function a(t,n){this.bits=t,this.points=n}return a.prototype.getBits=function(){return this.bits},a.prototype.getPoints=function(){return this.points},a}(),hd=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dd=function(){function a(){}return a.detectMultiple=function(t,n,o){var c=t.getBlackMatrix(),f=a.detect(o,c);return f.length||(c=c.clone(),c.rotate180(),f=a.detect(o,c)),new fd(c,f)},a.detect=function(t,n){for(var o,c,f=new Array,p=0,m=0,_=!1;p<n.getHeight();){var T=a.findVertices(n,p,m);if(T[0]==null&&T[3]==null){if(!_)break;_=!1,m=0;try{for(var b=(o=void 0,hd(f)),I=b.next();!I.done;I=b.next()){var D=I.value;D[1]!=null&&(p=Math.trunc(Math.max(p,D[1].getY()))),D[3]!=null&&(p=Math.max(p,Math.trunc(D[3].getY())))}}catch(N){o={error:N}}finally{try{I&&!I.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}p+=a.ROW_STEP;continue}if(_=!0,f.push(T),!t)break;T[2]!=null?(m=Math.trunc(T[2].getX()),p=Math.trunc(T[2].getY())):(m=Math.trunc(T[4].getX()),p=Math.trunc(T[4].getY()))}return f},a.findVertices=function(t,n,o){var c=t.getHeight(),f=t.getWidth(),p=new Array(8);return a.copyToResult(p,a.findRowsWithPattern(t,c,f,n,o,a.START_PATTERN),a.INDEXES_START_PATTERN),p[4]!=null&&(o=Math.trunc(p[4].getX()),n=Math.trunc(p[4].getY())),a.copyToResult(p,a.findRowsWithPattern(t,c,f,n,o,a.STOP_PATTERN),a.INDEXES_STOP_PATTERN),p},a.copyToResult=function(t,n,o){for(var c=0;c<o.length;c++)t[o[c]]=n[c]},a.findRowsWithPattern=function(t,n,o,c,f,p){for(var m=new Array(4),_=!1,T=new Int32Array(p.length);c<n;c+=a.ROW_STEP){var b=a.findGuardPattern(t,f,c,o,!1,p,T);if(b!=null){for(;c>0;){var I=a.findGuardPattern(t,f,--c,o,!1,p,T);if(I!=null)b=I;else{c++;break}}m[0]=new Ve(b[0],c),m[1]=new Ve(b[1],c),_=!0;break}}var D=c+1;if(_){for(var N=0,I=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);D<n;D++){var b=a.findGuardPattern(t,I[0],D,o,!1,p,T);if(b!=null&&Math.abs(I[0]-b[0])<a.MAX_PATTERN_DRIFT&&Math.abs(I[1]-b[1])<a.MAX_PATTERN_DRIFT)I=b,N=0;else{if(N>a.SKIPPED_ROW_COUNT_MAX)break;N++}}D-=N+1,m[2]=new Ve(I[0],D),m[3]=new Ve(I[1],D)}return D-c<a.BARCODE_MIN_HEIGHT&&$.fill(m,null),m},a.findGuardPattern=function(t,n,o,c,f,p,m){$.fillWithin(m,0,m.length,0);for(var _=n,T=0;t.get(_,o)&&_>0&&T++<a.MAX_PIXEL_DRIFT;)_--;for(var b=_,I=0,D=p.length,N=f;b<c;b++){var V=t.get(b,o);if(V!==N)m[I]++;else{if(I===D-1){if(a.patternMatchVariance(m,p,a.MAX_INDIVIDUAL_VARIANCE)<a.MAX_AVG_VARIANCE)return new Int32Array([_,b]);_+=m[0]+m[1],ae.arraycopy(m,2,m,0,I-1),m[I-1]=0,m[I]=0,I--}else I++;m[I]=1,N=!N}}return I===D-1&&a.patternMatchVariance(m,p,a.MAX_INDIVIDUAL_VARIANCE)<a.MAX_AVG_VARIANCE?new Int32Array([_,b-1]):null},a.patternMatchVariance=function(t,n,o){for(var c=t.length,f=0,p=0,m=0;m<c;m++)f+=t[m],p+=n[m];if(f<p)return 1/0;var _=f/p;o*=_;for(var T=0,b=0;b<c;b++){var I=t[b],D=n[b]*_,N=I>D?I-D:D-I;if(N>o)return 1/0;T+=N}return T/f},a.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),a.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),a.MAX_AVG_VARIANCE=.42,a.MAX_INDIVIDUAL_VARIANCE=.8,a.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),a.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),a.MAX_PIXEL_DRIFT=3,a.MAX_PATTERN_DRIFT=5,a.SKIPPED_ROW_COUNT_MAX=25,a.ROW_STEP=5,a.BARCODE_MIN_HEIGHT=10,a}(),lr=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kr=function(){function a(t,n){if(n.length===0)throw new L;this.field=t;var o=n.length;if(o>1&&n[0]===0){for(var c=1;c<o&&n[c]===0;)c++;c===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-c),ae.arraycopy(n,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return a.prototype.getCoefficients=function(){return this.coefficients},a.prototype.getDegree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return this.coefficients[0]===0},a.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},a.prototype.evaluateAt=function(t){var n,o;if(t===0)return this.getCoefficient(0);if(t===1){var c=0;try{for(var f=lr(this.coefficients),p=f.next();!p.done;p=f.next()){var m=p.value;c=this.field.add(c,m)}}catch(I){n={error:I}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return c}for(var _=this.coefficients[0],T=this.coefficients.length,b=1;b<T;b++)_=this.field.add(this.field.multiply(t,_),this.coefficients[b]);return _},a.prototype.add=function(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,o=t.coefficients;if(n.length>o.length){var c=n;n=o,o=c}var f=new Int32Array(o.length),p=o.length-n.length;ae.arraycopy(o,0,f,0,p);for(var m=p;m<o.length;m++)f[m]=this.field.add(n[m-p],o[m]);return new a(this.field,f)},a.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},a.prototype.multiply=function(t){return t instanceof a?this.multiplyOther(t):this.multiplyScalar(t)},a.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new L("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new a(this.field,new Int32Array([0]));for(var n=this.coefficients,o=n.length,c=t.coefficients,f=c.length,p=new Int32Array(o+f-1),m=0;m<o;m++)for(var _=n[m],T=0;T<f;T++)p[m+T]=this.field.add(p[m+T],this.field.multiply(_,c[T]));return new a(this.field,p)},a.prototype.negative=function(){for(var t=this.coefficients.length,n=new Int32Array(t),o=0;o<t;o++)n[o]=this.field.subtract(0,this.coefficients[o]);return new a(this.field,n)},a.prototype.multiplyScalar=function(t){if(t===0)return new a(this.field,new Int32Array([0]));if(t===1)return this;for(var n=this.coefficients.length,o=new Int32Array(n),c=0;c<n;c++)o[c]=this.field.multiply(this.coefficients[c],t);return new a(this.field,o)},a.prototype.multiplyByMonomial=function(t,n){if(t<0)throw new L;if(n===0)return new a(this.field,new Int32Array([0]));for(var o=this.coefficients.length,c=new Int32Array(o+t),f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],n);return new a(this.field,c)},a.prototype.toString=function(){for(var t=new me,n=this.getDegree();n>=0;n--){var o=this.getCoefficient(n);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(n===0||o!==1)&&t.append(o),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()},a}(),Hc=function(){function a(){}return a.prototype.add=function(t,n){return(t+n)%this.modulus},a.prototype.subtract=function(t,n){return(this.modulus+t-n)%this.modulus},a.prototype.exp=function(t){return this.expTable[t]},a.prototype.log=function(t){if(t===0)throw new L;return this.logTable[t]},a.prototype.inverse=function(t){if(t===0)throw new Yr;return this.expTable[this.modulus-this.logTable[t]-1]},a.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]},a.prototype.getSize=function(){return this.modulus},a.prototype.equals=function(t){return t===this},a}(),Gc=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),jc=function(a){Gc(t,a);function t(n,o){var c=a.call(this)||this;c.modulus=n,c.expTable=new Int32Array(n),c.logTable=new Int32Array(n);for(var f=1,p=0;p<n;p++)c.expTable[p]=f,f=f*o%n;for(var p=0;p<n-1;p++)c.logTable[c.expTable[p]]=p;return c.zero=new kr(c,new Int32Array([0])),c.one=new kr(c,new Int32Array([1])),c}return t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(n,o){if(n<0)throw new L;if(o===0)return this.zero;var c=new Int32Array(n+1);return c[0]=o,new kr(this,c)},t.PDF417_GF=new t(St.NUMBER_OF_CODEWORDS,3),t}(Hc),qc=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},El=function(){function a(){this.field=jc.PDF417_GF}return a.prototype.decode=function(t,n,o){for(var c,f,p=new kr(this.field,t),m=new Int32Array(n),_=!1,T=n;T>0;T--){var b=p.evaluateAt(this.field.exp(T));m[n-T]=b,b!==0&&(_=!0)}if(!_)return 0;var I=this.field.getOne();if(o!=null)try{for(var D=qc(o),N=D.next();!N.done;N=D.next()){var V=N.value,q=this.field.exp(t.length-1-V),re=new kr(this.field,new Int32Array([this.field.subtract(0,q),1]));I=I.multiply(re)}}catch(ze){c={error:ze}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}for(var Z=new kr(this.field,m),ee=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),Z,n),he=ee[0],ge=ee[1],Ce=this.findErrorLocations(he),Re=this.findErrorMagnitudes(ge,he,Ce),T=0;T<Ce.length;T++){var Oe=t.length-1-this.field.log(Ce[T]);if(Oe<0)throw J.getChecksumInstance();t[Oe]=this.field.subtract(t[Oe],Re[T])}return Ce.length},a.prototype.runEuclideanAlgorithm=function(t,n,o){if(t.getDegree()<n.getDegree()){var c=t;t=n,n=c}for(var f=t,p=n,m=this.field.getZero(),_=this.field.getOne();p.getDegree()>=Math.round(o/2);){var T=f,b=m;if(f=p,m=_,f.isZero())throw J.getChecksumInstance();p=T;for(var I=this.field.getZero(),D=f.getCoefficient(f.getDegree()),N=this.field.inverse(D);p.getDegree()>=f.getDegree()&&!p.isZero();){var V=p.getDegree()-f.getDegree(),q=this.field.multiply(p.getCoefficient(p.getDegree()),N);I=I.add(this.field.buildMonomial(V,q)),p=p.subtract(f.multiplyByMonomial(V,q))}_=I.multiply(m).subtract(b).negative()}var re=_.getCoefficient(0);if(re===0)throw J.getChecksumInstance();var Z=this.field.inverse(re),ee=_.multiply(Z),he=p.multiply(Z);return[ee,he]},a.prototype.findErrorLocations=function(t){for(var n=t.getDegree(),o=new Int32Array(n),c=0,f=1;f<this.field.getSize()&&c<n;f++)t.evaluateAt(f)===0&&(o[c]=this.field.inverse(f),c++);if(c!==n)throw J.getChecksumInstance();return o},a.prototype.findErrorMagnitudes=function(t,n,o){for(var c=n.getDegree(),f=new Int32Array(c),p=1;p<=c;p++)f[c-p]=this.field.multiply(p,n.getCoefficient(p));for(var m=new kr(this.field,f),_=o.length,T=new Int32Array(_),p=0;p<_;p++){var b=this.field.inverse(o[p]),I=this.field.subtract(0,t.evaluateAt(b)),D=this.field.inverse(m.evaluateAt(b));T[p]=this.field.multiply(I,D)}return T},a}(),xl=function(){function a(t,n,o,c,f){t instanceof a?this.constructor_2(t):this.constructor_1(t,n,o,c,f)}return a.prototype.constructor_1=function(t,n,o,c,f){var p=n==null||o==null,m=c==null||f==null;if(p&&m)throw new ne;p?(n=new Ve(0,c.getY()),o=new Ve(0,f.getY())):m&&(c=new Ve(t.getWidth()-1,n.getY()),f=new Ve(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=n,this.bottomLeft=o,this.topRight=c,this.bottomRight=f,this.minX=Math.trunc(Math.min(n.getX(),o.getX())),this.maxX=Math.trunc(Math.max(c.getX(),f.getX())),this.minY=Math.trunc(Math.min(n.getY(),c.getY())),this.maxY=Math.trunc(Math.max(o.getY(),f.getY()))},a.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},a.merge=function(t,n){return t==null?n:n==null?t:new a(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)},a.prototype.addMissingRows=function(t,n,o){var c=this.topLeft,f=this.bottomLeft,p=this.topRight,m=this.bottomRight;if(t>0){var _=o?this.topLeft:this.topRight,T=Math.trunc(_.getY()-t);T<0&&(T=0);var b=new Ve(_.getX(),T);o?c=b:p=b}if(n>0){var I=o?this.bottomLeft:this.bottomRight,D=Math.trunc(I.getY()+n);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);var N=new Ve(I.getX(),D);o?f=N:m=N}return new a(this.image,c,f,p,m)},a.prototype.getMinX=function(){return this.minX},a.prototype.getMaxX=function(){return this.maxX},a.prototype.getMinY=function(){return this.minY},a.prototype.getMaxY=function(){return this.maxY},a.prototype.getTopLeft=function(){return this.topLeft},a.prototype.getTopRight=function(){return this.topRight},a.prototype.getBottomLeft=function(){return this.bottomLeft},a.prototype.getBottomRight=function(){return this.bottomRight},a}(),pd=function(){function a(t,n,o,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=n,this.rowCountLowerPart=o,this.rowCount=n+o}return a.prototype.getColumnCount=function(){return this.columnCount},a.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},a.prototype.getRowCount=function(){return this.rowCount},a.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},a.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},a}(),na=function(){function a(){this.buffer=""}return a.form=function(t,n){var o=-1;function c(p,m,_,T,b,I){if(p==="%%")return"%";if(n[++o]!==void 0){p=T?parseInt(T.substr(1)):void 0;var D=b?parseInt(b.substr(1)):void 0,N;switch(I){case"s":N=n[o];break;case"c":N=n[o][0];break;case"f":N=parseFloat(n[o]).toFixed(p);break;case"p":N=parseFloat(n[o]).toPrecision(p);break;case"e":N=parseFloat(n[o]).toExponential(p);break;case"x":N=parseInt(n[o]).toString(D||16);break;case"d":N=parseFloat(parseInt(n[o],D||10).toPrecision(p)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(D);for(var V=parseInt(_),q=_&&_[0]+""=="0"?"0":" ";N.length<V;)N=m!==void 0?N+q:q+N;return N}}var f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(f,c)},a.prototype.format=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.buffer+=a.form(t,n)},a.prototype.toString=function(){return this.buffer},a}(),Al=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_o=function(){function a(t){this.boundingBox=new xl(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return a.prototype.getCodewordNearby=function(t){var n=this.getCodeword(t);if(n!=null)return n;for(var o=1;o<a.MAX_NEARBY_DISTANCE;o++){var c=this.imageRowToCodewordIndex(t)-o;if(c>=0&&(n=this.codewords[c],n!=null)||(c=this.imageRowToCodewordIndex(t)+o,c<this.codewords.length&&(n=this.codewords[c],n!=null)))return n}return null},a.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},a.prototype.setCodeword=function(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n},a.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},a.prototype.getBoundingBox=function(){return this.boundingBox},a.prototype.getCodewords=function(){return this.codewords},a.prototype.toString=function(){var t,n,o=new na,c=0;try{for(var f=Al(this.codewords),p=f.next();!p.done;p=f.next()){var m=p.value;if(m==null){o.format("%3d:    |   %n",c++);continue}o.format("%3d: %3d|%3d%n",c++,m.getRowNumber(),m.getValue())}}catch(_){t={error:_}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return o.toString()},a.MAX_NEARBY_DISTANCE=5,a}(),Tl=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xc=function(a,t){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var o=n.call(a),c,f=[],p;try{for(;(t===void 0||t-- >0)&&!(c=o.next()).done;)f.push(c.value)}catch(m){p={error:m}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(p)throw p.error}}return f},Br=function(){function a(){this.values=new Map}return a.prototype.setValue=function(t){t=Math.trunc(t);var n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)},a.prototype.getValue=function(){var t,n,o=-1,c=new Array,f=function(I,D){var N={getKey:function(){return I},getValue:function(){return D}};N.getValue()>o?(o=N.getValue(),c=[],c.push(N.getKey())):N.getValue()===o&&c.push(N.getKey())};try{for(var p=Tl(this.values.entries()),m=p.next();!m.done;m=p.next()){var _=Xc(m.value,2),T=_[0],b=_[1];f(T,b)}}catch(I){t={error:I}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return St.toIntArray(c)},a.prototype.getConfidence=function(t){return this.values.get(t)},a}(),Eo=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),bs=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sl=function(a){Eo(t,a);function t(n,o){var c=a.call(this,n)||this;return c._isLeft=o,c}return t.prototype.setRowNumbers=function(){var n,o;try{for(var c=bs(this.getCodewords()),f=c.next();!f.done;f=c.next()){var p=f.value;p!=null&&p.setRowNumberAsRowIndicatorColumn()}}catch(m){n={error:m}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,n);for(var c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),_=this.imageRowToCodewordIndex(Math.trunc(p.getY())),T=-1,b=1,I=0,D=m;D<_;D++)if(o[D]!=null){var N=o[D],V=N.getRowNumber()-T;if(V===0)I++;else if(V===1)b=Math.max(b,I),I=1,T=N.getRowNumber();else if(V<0||N.getRowNumber()>=n.getRowCount()||V>D)o[D]=null;else{var q=void 0;b>2?q=(b-2)*V:q=V;for(var re=q>=D,Z=1;Z<=q&&!re;Z++)re=o[D-Z]!=null;re?o[D]=null:(T=N.getRowNumber(),I=1)}}},t.prototype.getRowHeights=function(){var n,o,c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);var f=new Int32Array(c.getRowCount());try{for(var p=bs(this.getCodewords()),m=p.next();!m.done;m=p.next()){var _=m.value;if(_!=null){var T=_.getRowNumber();if(T>=f.length)continue;f[T]++}}}catch(b){n={error:b}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return f},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),_=this.getCodewords(),T=-1,b=p;b<m;b++)if(_[b]!=null){var I=_[b];I.setRowNumberAsRowIndicatorColumn();var D=I.getRowNumber()-T;D===0||(D===1?T=I.getRowNumber():I.getRowNumber()>=n.getRowCount()?_[b]=null:T=I.getRowNumber())}},t.prototype.getBarcodeMetadata=function(){var n,o,c=this.getCodewords(),f=new Br,p=new Br,m=new Br,_=new Br;try{for(var T=bs(c),b=T.next();!b.done;b=T.next()){var I=b.value;if(I!=null){I.setRowNumberAsRowIndicatorColumn();var D=I.getValue()%30,N=I.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:p.setValue(D*3+1);break;case 1:_.setValue(D/3),m.setValue(D%3);break;case 2:f.setValue(D+1);break}}}}catch(q){n={error:q}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(n)throw n.error}}if(f.getValue().length===0||p.getValue().length===0||m.getValue().length===0||_.getValue().length===0||f.getValue()[0]<1||p.getValue()[0]+m.getValue()[0]<St.MIN_ROWS_IN_BARCODE||p.getValue()[0]+m.getValue()[0]>St.MAX_ROWS_IN_BARCODE)return null;var V=new pd(f.getValue()[0],p.getValue()[0],m.getValue()[0],_.getValue()[0]);return this.removeIncorrectCodewords(c,V),V},t.prototype.removeIncorrectCodewords=function(n,o){for(var c=0;c<n.length;c++){var f=n[c];if(n[c]!=null){var p=f.getValue()%30,m=f.getRowNumber();if(m>o.getRowCount()){n[c]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:p*3+1!==o.getRowCountUpperPart()&&(n[c]=null);break;case 1:(Math.trunc(p/3)!==o.getErrorCorrectionLevel()||p%3!==o.getRowCountLowerPart())&&(n[c]=null);break;case 2:p+1!==o.getColumnCount()&&(n[c]=null);break}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+a.prototype.toString.call(this)},t}(_o),ka=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yc=function(){function a(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return a.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t=St.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns},a.prototype.adjustIndicatorColumnRowNumbers=function(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},a.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(t===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var o=this.detectionResultColumns[n].getCodewords(),c=0;c<o.length;c++)o[c]!=null&&(o[c].hasValidRowNumber()||this.adjustRowNumbers(n,c,o));return t},a.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var t=this.adjustRowNumbersFromLRI();return t+this.adjustRowNumbersFromRRI()},a.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),o=0;o<t.length;o++)if(t[o]!=null&&n[o]!=null&&t[o].getRowNumber()===n[o].getRowNumber())for(var c=1;c<=this.barcodeColumnCount;c++){var f=this.detectionResultColumns[c].getCodewords()[o];f!=null&&(f.setRowNumber(t[o].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[o]=null))}}},a.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),o=0;o<n.length;o++)if(n[o]!=null)for(var c=n[o].getRowNumber(),f=0,p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){var m=this.detectionResultColumns[p].getCodewords()[o];m!=null&&(f=a.adjustRowNumberIfValid(c,f,m),m.hasValidRowNumber()||t++)}return t},a.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var t=0,n=this.detectionResultColumns[0].getCodewords(),o=0;o<n.length;o++)if(n[o]!=null)for(var c=n[o].getRowNumber(),f=0,p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){var m=this.detectionResultColumns[p].getCodewords()[o];m!=null&&(f=a.adjustRowNumberIfValid(c,f,m),m.hasValidRowNumber()||t++)}return t},a.adjustRowNumberIfValid=function(t,n,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),n=0):++n),n},a.prototype.adjustRowNumbers=function(t,n,o){var c,f,p=o[n],m=this.detectionResultColumns[t-1].getCodewords(),_=m;this.detectionResultColumns[t+1]!=null&&(_=this.detectionResultColumns[t+1].getCodewords());var T=new Array(14);T[2]=m[n],T[3]=_[n],n>0&&(T[0]=o[n-1],T[4]=m[n-1],T[5]=_[n-1]),n>1&&(T[8]=o[n-2],T[10]=m[n-2],T[11]=_[n-2]),n<o.length-1&&(T[1]=o[n+1],T[6]=m[n+1],T[7]=_[n+1]),n<o.length-2&&(T[9]=o[n+2],T[12]=m[n+2],T[13]=_[n+2]);try{for(var b=ka(T),I=b.next();!I.done;I=b.next()){var D=I.value;if(a.adjustRowNumber(p,D))return}}catch(N){c={error:N}}finally{try{I&&!I.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},a.adjustRowNumber=function(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1},a.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},a.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},a.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},a.prototype.setBoundingBox=function(t){this.boundingBox=t},a.prototype.getBoundingBox=function(){return this.boundingBox},a.prototype.setDetectionResultColumn=function(t,n){this.detectionResultColumns[t]=n},a.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},a.prototype.toString=function(){var t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new na,o=0;o<t.getCodewords().length;o++){n.format("CW %3d:",o);for(var c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){n.format("    |   ");continue}var f=this.detectionResultColumns[c].getCodewords()[o];if(f==null){n.format("    |   ");continue}n.format(" %3d|%3d",f.getRowNumber(),f.getValue())}n.format("%n")}return n.toString()},a}(),Kc=function(){function a(t,n,o,c){this.rowNumber=a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(o),this.value=Math.trunc(c)}return a.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},a.prototype.isValidRowNumber=function(t){return t!==a.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},a.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},a.prototype.getWidth=function(){return this.endX-this.startX},a.prototype.getStartX=function(){return this.startX},a.prototype.getEndX=function(){return this.endX},a.prototype.getBucket=function(){return this.bucket},a.prototype.getValue=function(){return this.value},a.prototype.getRowNumber=function(){return this.rowNumber},a.prototype.setRowNumber=function(t){this.rowNumber=t},a.prototype.toString=function(){return this.rowNumber+"|"+this.value},a.BARCODE_ROW_UNKNOWN=-1,a}(),Wc=function(){function a(){}return a.initialize=function(){for(var t=0;t<St.SYMBOL_TABLE.length;t++)for(var n=St.SYMBOL_TABLE[t],o=n&1,c=0;c<St.BARS_IN_MODULE;c++){for(var f=0;(n&1)===o;)f+=1,n>>=1;o=n&1,a.RATIOS_TABLE[t]||(a.RATIOS_TABLE[t]=new Array(St.BARS_IN_MODULE)),a.RATIOS_TABLE[t][St.BARS_IN_MODULE-c-1]=Math.fround(f/St.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},a.getDecodedValue=function(t){var n=a.getDecodedCodewordValue(a.sampleBitCounts(t));return n!==-1?n:a.getClosestDecodedValue(t)},a.sampleBitCounts=function(t){for(var n=ht.sum(t),o=new Int32Array(St.BARS_IN_MODULE),c=0,f=0,p=0;p<St.MODULES_IN_CODEWORD;p++){var m=n/(2*St.MODULES_IN_CODEWORD)+p*n/St.MODULES_IN_CODEWORD;f+t[c]<=m&&(f+=t[c],c++),o[c]++}return o},a.getDecodedCodewordValue=function(t){var n=a.getBitValue(t);return St.getCodeword(n)===-1?-1:n},a.getBitValue=function(t){for(var n=0,o=0;o<t.length;o++)for(var c=0;c<t[o];c++)n=n<<1|(o%2===0?1:0);return Math.trunc(n)},a.getClosestDecodedValue=function(t){var n=ht.sum(t),o=new Array(St.BARS_IN_MODULE);if(n>1)for(var c=0;c<o.length;c++)o[c]=Math.fround(t[c]/n);var f=fo.MAX_VALUE,p=-1;this.bSymbolTableReady||a.initialize();for(var m=0;m<a.RATIOS_TABLE.length;m++){for(var _=0,T=a.RATIOS_TABLE[m],b=0;b<St.BARS_IN_MODULE;b++){var I=Math.fround(T[b]-o[b]);if(_+=Math.fround(I*I),_>=f)break}_<f&&(f=_,p=St.SYMBOL_TABLE[m])}return p},a.bSymbolTableReady=!1,a.RATIOS_TABLE=new Array(St.SYMBOL_TABLE.length).map(function(t){return new Array(St.BARS_IN_MODULE)}),a}(),gd=function(){function a(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return a.prototype.getSegmentIndex=function(){return this.segmentIndex},a.prototype.setSegmentIndex=function(t){this.segmentIndex=t},a.prototype.getFileId=function(){return this.fileId},a.prototype.setFileId=function(t){this.fileId=t},a.prototype.getOptionalData=function(){return this.optionalData},a.prototype.setOptionalData=function(t){this.optionalData=t},a.prototype.isLastSegment=function(){return this.lastSegment},a.prototype.setLastSegment=function(t){this.lastSegment=t},a.prototype.getSegmentCount=function(){return this.segmentCount},a.prototype.setSegmentCount=function(t){this.segmentCount=t},a.prototype.getSender=function(){return this.sender||null},a.prototype.setSender=function(t){this.sender=t},a.prototype.getAddressee=function(){return this.addressee||null},a.prototype.setAddressee=function(t){this.addressee=t},a.prototype.getFileName=function(){return this.fileName},a.prototype.setFileName=function(t){this.fileName=t},a.prototype.getFileSize=function(){return this.fileSize},a.prototype.setFileSize=function(t){this.fileSize=t},a.prototype.getChecksum=function(){return this.checksum},a.prototype.setChecksum=function(t){this.checksum=t},a.prototype.getTimestamp=function(){return this.timestamp},a.prototype.setTimestamp=function(t){this.timestamp=t},a}(),Qc=function(){function a(){}return a.parseLong=function(t,n){return n===void 0&&(n=void 0),parseInt(t,n)},a}(),vd=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),$c=function(a){vd(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="NullPointerException",t}(S),Zc=function(){function a(){}return a.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},a.prototype.writeBytesOffset=function(t,n,o){if(t==null)throw new $c;if(n<0||n>t.length||o<0||n+o>t.length||n+o<0)throw new Se;if(o===0)return;for(var c=0;c<o;c++)this.write(t[n+c])},a.prototype.flush=function(){},a.prototype.close=function(){},a}(),Jc=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vr=function(a){Jc(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(S),Tr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),xo=function(a){Tr(t,a);function t(n){n===void 0&&(n=32);var o=a.call(this)||this;if(o.count=0,n<0)throw new L("Negative initial size: "+n);return o.buf=new Uint8Array(n),o}return t.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},t.prototype.grow=function(n){var o=this.buf.length,c=o<<1;if(c-n<0&&(c=n),c<0){if(n<0)throw new Vr;c=G.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,c)},t.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},t.prototype.writeBytesOffset=function(n,o,c){if(o<0||o>n.length||c<0||o+c-n.length>0)throw new Se;this.ensureCapacity(this.count+c),ae.arraycopy(n,o,this.buf,this.count,c),this.count+=c},t.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return $.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(n){return new String(this.buf).toString()},t.prototype.toString_number=function(n){return new String(this.buf).toString()},t.prototype.close=function(){},t}(Zc),Dt;(function(a){a[a.ALPHA=0]="ALPHA",a[a.LOWER=1]="LOWER",a[a.MIXED=2]="MIXED",a[a.PUNCT=3]="PUNCT",a[a.ALPHA_SHIFT=4]="ALPHA_SHIFT",a[a.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Dt||(Dt={}));function Is(){if(typeof window<"u")return window.BigInt||null;if(typeof vm<"u")return vm.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Ba;function ii(a){if(typeof Ba>"u"&&(Ba=Is()),Ba===null)throw new Error("BigInt is not supported!");return Ba(a)}function ra(){var a=[];a[0]=ii(1);var t=ii(900);a[1]=t;for(var n=2;n<16;n++)a[n]=a[n-1]*t;return a}var ef=function(){function a(){}return a.decode=function(t,n){var o=new me(""),c=be.ISO8859_1;o.enableDecoding(c);for(var f=1,p=t[f++],m=new gd;f<t[0];){switch(p){case a.TEXT_COMPACTION_MODE_LATCH:f=a.textCompaction(t,f,o);break;case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:f=a.byteCompaction(p,t,c,f,o);break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[f++]);break;case a.NUMERIC_COMPACTION_MODE_LATCH:f=a.numericCompaction(t,f,o);break;case a.ECI_CHARSET:be.getCharacterSetECIByValue(t[f++]);break;case a.ECI_GENERAL_PURPOSE:f+=2;break;case a.ECI_USER_DEFINED:f++;break;case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=a.decodeMacroBlock(t,f,m);break;case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:throw new F;default:f--,f=a.textCompaction(t,f,o);break}if(f<t.length)p=t[f++];else throw F.getFormatInstance()}if(o.length()===0)throw F.getFormatInstance();var _=new Cn(null,o.toString(),null,n);return _.setOther(m),_},a.decodeMacroBlock=function(t,n,o){if(n+a.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw F.getFormatInstance();for(var c=new Int32Array(a.NUMBER_OF_SEQUENCE_CODEWORDS),f=0;f<a.NUMBER_OF_SEQUENCE_CODEWORDS;f++,n++)c[f]=t[n];o.setSegmentIndex(G.parseInt(a.decodeBase900toBase10(c,a.NUMBER_OF_SEQUENCE_CODEWORDS)));var p=new me;n=a.textCompaction(t,n,p),o.setFileId(p.toString());var m=-1;for(t[n]===a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=n+1);n<t[0];)switch(t[n]){case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case a.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var _=new me;n=a.textCompaction(t,n+1,_),o.setFileName(_.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var T=new me;n=a.textCompaction(t,n+1,T),o.setSender(T.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var b=new me;n=a.textCompaction(t,n+1,b),o.setAddressee(b.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var I=new me;n=a.numericCompaction(t,n+1,I),o.setSegmentCount(G.parseInt(I.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var D=new me;n=a.numericCompaction(t,n+1,D),o.setTimestamp(Qc.parseLong(D.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var N=new me;n=a.numericCompaction(t,n+1,N),o.setChecksum(G.parseInt(N.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var V=new me;n=a.numericCompaction(t,n+1,V),o.setFileSize(Qc.parseLong(V.toString()));break;default:throw F.getFormatInstance()}break;case a.MACRO_PDF417_TERMINATOR:n++,o.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(m!==-1){var q=n-m;o.isLastSegment()&&q--,o.setOptionalData($.copyOfRange(t,m,m+q))}return n},a.textCompaction=function(t,n,o){for(var c=new Int32Array((t[0]-n)*2),f=new Int32Array((t[0]-n)*2),p=0,m=!1;n<t[0]&&!m;){var _=t[n++];if(_<a.TEXT_COMPACTION_MODE_LATCH)c[p]=_/30,c[p+1]=_%30,p+=2;else switch(_){case a.TEXT_COMPACTION_MODE_LATCH:c[p++]=a.TEXT_COMPACTION_MODE_LATCH;break;case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:n--,m=!0;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[p]=a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=t[n++],f[p]=_,p++;break}}return a.decodeTextCompaction(c,f,p,o),n},a.decodeTextCompaction=function(t,n,o,c){for(var f=Dt.ALPHA,p=Dt.ALPHA,m=0;m<o;){var _=t[m],T="";switch(f){case Dt.ALPHA:if(_<26)T=String.fromCharCode(65+_);else switch(_){case 26:T=" ";break;case a.LL:f=Dt.LOWER;break;case a.ML:f=Dt.MIXED;break;case a.PS:p=f,f=Dt.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=Dt.ALPHA;break}break;case Dt.LOWER:if(_<26)T=String.fromCharCode(97+_);else switch(_){case 26:T=" ";break;case a.AS:p=f,f=Dt.ALPHA_SHIFT;break;case a.ML:f=Dt.MIXED;break;case a.PS:p=f,f=Dt.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=Dt.ALPHA;break}break;case Dt.MIXED:if(_<a.PL)T=a.MIXED_CHARS[_];else switch(_){case a.PL:f=Dt.PUNCT;break;case 26:T=" ";break;case a.LL:f=Dt.LOWER;break;case a.AL:f=Dt.ALPHA;break;case a.PS:p=f,f=Dt.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=Dt.ALPHA;break}break;case Dt.PUNCT:if(_<a.PAL)T=a.PUNCT_CHARS[_];else switch(_){case a.PAL:f=Dt.ALPHA;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=Dt.ALPHA;break}break;case Dt.ALPHA_SHIFT:if(f=p,_<26)T=String.fromCharCode(65+_);else switch(_){case 26:T=" ";break;case a.TEXT_COMPACTION_MODE_LATCH:f=Dt.ALPHA;break}break;case Dt.PUNCT_SHIFT:if(f=p,_<a.PAL)T=a.PUNCT_CHARS[_];else switch(_){case a.PAL:f=Dt.ALPHA;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=Dt.ALPHA;break}break}T!==""&&c.append(T),m++}},a.byteCompaction=function(t,n,o,c,f){var p=new xo,m=0,_=0,T=!1;switch(t){case a.BYTE_COMPACTION_MODE_LATCH:for(var b=new Int32Array(6),I=n[c++];c<n[0]&&!T;)switch(b[m++]=I,_=900*_+I,I=n[c++],I){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:c--,T=!0;break;default:if(m%5===0&&m>0){for(var D=0;D<6;++D)p.write(Number(ii(_)>>ii(8*(5-D))));_=0,m=0}break}c===n[0]&&I<a.TEXT_COMPACTION_MODE_LATCH&&(b[m++]=I);for(var N=0;N<m;N++)p.write(b[N]);break;case a.BYTE_COMPACTION_MODE_LATCH_6:for(;c<n[0]&&!T;){var V=n[c++];if(V<a.TEXT_COMPACTION_MODE_LATCH)m++,_=900*_+V;else switch(V){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:c--,T=!0;break}if(m%5===0&&m>0){for(var D=0;D<6;++D)p.write(Number(ii(_)>>ii(8*(5-D))));_=0,m=0}}break}return f.append(ct.decode(p.toByteArray(),o)),c},a.numericCompaction=function(t,n,o){for(var c=0,f=!1,p=new Int32Array(a.MAX_NUMERIC_CODEWORDS);n<t[0]&&!f;){var m=t[n++];if(n===t[0]&&(f=!0),m<a.TEXT_COMPACTION_MODE_LATCH)p[c]=m,c++;else switch(m){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:n--,f=!0;break}(c%a.MAX_NUMERIC_CODEWORDS===0||m===a.NUMERIC_COMPACTION_MODE_LATCH||f)&&c>0&&(o.append(a.decodeBase900toBase10(p,c)),c=0)}return n},a.decodeBase900toBase10=function(t,n){for(var o=ii(0),c=0;c<n;c++)o+=a.EXP900[n-c-1]*ii(t[c]);var f=o.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)},a.TEXT_COMPACTION_MODE_LATCH=900,a.BYTE_COMPACTION_MODE_LATCH=901,a.NUMERIC_COMPACTION_MODE_LATCH=902,a.BYTE_COMPACTION_MODE_LATCH_6=924,a.ECI_USER_DEFINED=925,a.ECI_GENERAL_PURPOSE=926,a.ECI_CHARSET=927,a.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,a.MACRO_PDF417_TERMINATOR=922,a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,a.MAX_NUMERIC_CODEWORDS=15,a.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,a.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,a.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,a.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,a.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,a.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,a.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,a.PL=25,a.LL=27,a.AS=27,a.ML=28,a.AL=28,a.PS=29,a.PAL=29,a.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,a.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",a.EXP900=Is()?ra():[],a.NUMBER_OF_SEQUENCE_CODEWORDS=2,a}(),ia=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ao=function(){function a(){}return a.decode=function(t,n,o,c,f,p,m){for(var _=new xl(t,n,o,c,f),T=null,b=null,I,D=!0;;D=!1){if(n!=null&&(T=a.getRowIndicatorColumn(t,_,n,!0,p,m)),c!=null&&(b=a.getRowIndicatorColumn(t,_,c,!1,p,m)),I=a.merge(T,b),I==null)throw ne.getNotFoundInstance();var N=I.getBoundingBox();if(D&&N!=null&&(N.getMinY()<_.getMinY()||N.getMaxY()>_.getMaxY()))_=N;else break}I.setBoundingBox(_);var V=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,T),I.setDetectionResultColumn(V,b);for(var q=T!=null,re=1;re<=V;re++){var Z=q?re:V-re;if(I.getDetectionResultColumn(Z)===void 0){var ee=void 0;Z===0||Z===V?ee=new Sl(_,Z===0):ee=new _o(_),I.setDetectionResultColumn(Z,ee);for(var he=-1,ge=he,Ce=_.getMinY();Ce<=_.getMaxY();Ce++){if(he=a.getStartColumn(I,Z,Ce,q),he<0||he>_.getMaxX()){if(ge===-1)continue;he=ge}var Re=a.detectCodeword(t,_.getMinX(),_.getMaxX(),q,he,Ce,p,m);Re!=null&&(ee.setCodeword(Ce,Re),ge=he,p=Math.min(p,Re.getWidth()),m=Math.max(m,Re.getWidth()))}}}return a.createDecoderResult(I)},a.merge=function(t,n){if(t==null&&n==null)return null;var o=a.getBarcodeMetadata(t,n);if(o==null)return null;var c=xl.merge(a.adjustBoundingBox(t),a.adjustBoundingBox(n));return new Yc(o,c)},a.adjustBoundingBox=function(t){var n,o;if(t==null)return null;var c=t.getRowHeights();if(c==null)return null;var f=a.getMax(c),p=0;try{for(var m=ia(c),_=m.next();!_.done;_=m.next()){var T=_.value;if(p+=f-T,T>0)break}}catch(N){n={error:N}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}for(var b=t.getCodewords(),I=0;p>0&&b[I]==null;I++)p--;for(var D=0,I=c.length-1;I>=0&&(D+=f-c[I],!(c[I]>0));I--);for(var I=b.length-1;D>0&&b[I]==null;I--)D--;return t.getBoundingBox().addMissingRows(p,D,t.isLeft())},a.getMax=function(t){var n,o,c=-1;try{for(var f=ia(t),p=f.next();!p.done;p=f.next()){var m=p.value;c=Math.max(c,m)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return c},a.getBarcodeMetadata=function(t,n){var o;if(t==null||(o=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var c;return n==null||(c=n.getBarcodeMetadata())==null?o:o.getColumnCount()!==c.getColumnCount()&&o.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&o.getRowCount()!==c.getRowCount()?null:o},a.getRowIndicatorColumn=function(t,n,o,c,f,p){for(var m=new Sl(n,c),_=0;_<2;_++)for(var T=_===0?1:-1,b=Math.trunc(Math.trunc(o.getX())),I=Math.trunc(Math.trunc(o.getY()));I<=n.getMaxY()&&I>=n.getMinY();I+=T){var D=a.detectCodeword(t,0,t.getWidth(),c,b,I,f,p);D!=null&&(m.setCodeword(I,D),c?b=D.getStartX():b=D.getEndX())}return m},a.adjustCodewordCount=function(t,n){var o=n[0][1],c=o.getValue(),f=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-a.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(f<1||f>St.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();o.setValue(f)}else c[0]!==f&&o.setValue(f)},a.createDecoderResult=function(t){var n=a.createBarcodeMatrix(t);a.adjustCodewordCount(t,n);for(var o=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),f=[],p=new Array,m=0;m<t.getBarcodeRowCount();m++)for(var _=0;_<t.getBarcodeColumnCount();_++){var T=n[m][_+1].getValue(),b=m*t.getBarcodeColumnCount()+_;T.length===0?o.push(b):T.length===1?c[b]=T[0]:(p.push(b),f.push(T))}for(var I=new Array(f.length),D=0;D<I.length;D++)I[D]=f[D];return a.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,St.toIntArray(o),St.toIntArray(p),I)},a.createDecoderResultFromAmbiguousValues=function(t,n,o,c,f){for(var p=new Int32Array(c.length),m=100;m-- >0;){for(var _=0;_<p.length;_++)n[c[_]]=f[_][p[_]];try{return a.decodeCodewords(n,t,o)}catch(b){var T=b instanceof J;if(!T)throw b}if(p.length===0)throw J.getChecksumInstance();for(var _=0;_<p.length;_++)if(p[_]<f[_].length-1){p[_]++;break}else if(p[_]=0,_===p.length-1)throw J.getChecksumInstance()}throw J.getChecksumInstance()},a.createBarcodeMatrix=function(t){for(var n,o,c,f,p=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),m=0;m<p.length;m++)for(var _=0;_<p[m].length;_++)p[m][_]=new Br;var T=0;try{for(var b=ia(t.getDetectionResultColumns()),I=b.next();!I.done;I=b.next()){var D=I.value;if(D!=null)try{for(var N=(c=void 0,ia(D.getCodewords())),V=N.next();!V.done;V=N.next()){var q=V.value;if(q!=null){var re=q.getRowNumber();if(re>=0){if(re>=p.length)continue;p[re][T].setValue(q.getValue())}}}}catch(Z){c={error:Z}}finally{try{V&&!V.done&&(f=N.return)&&f.call(N)}finally{if(c)throw c.error}}T++}}catch(Z){n={error:Z}}finally{try{I&&!I.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}return p},a.isValidBarcodeColumn=function(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1},a.getStartColumn=function(t,n,o,c){var f,p,m=c?1:-1,_=null;if(a.isValidBarcodeColumn(t,n-m)&&(_=t.getDetectionResultColumn(n-m).getCodeword(o)),_!=null)return c?_.getEndX():_.getStartX();if(_=t.getDetectionResultColumn(n).getCodewordNearby(o),_!=null)return c?_.getStartX():_.getEndX();if(a.isValidBarcodeColumn(t,n-m)&&(_=t.getDetectionResultColumn(n-m).getCodewordNearby(o)),_!=null)return c?_.getEndX():_.getStartX();for(var T=0;a.isValidBarcodeColumn(t,n-m);){n-=m;try{for(var b=(f=void 0,ia(t.getDetectionResultColumn(n).getCodewords())),I=b.next();!I.done;I=b.next()){var D=I.value;if(D!=null)return(c?D.getEndX():D.getStartX())+m*T*(D.getEndX()-D.getStartX())}}catch(N){f={error:N}}finally{try{I&&!I.done&&(p=b.return)&&p.call(b)}finally{if(f)throw f.error}}T++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},a.detectCodeword=function(t,n,o,c,f,p,m,_){f=a.adjustCodewordStartColumn(t,n,o,c,f,p);var T=a.getModuleBitCount(t,n,o,c,f,p);if(T==null)return null;var b,I=ht.sum(T);if(c)b=f+I;else{for(var D=0;D<T.length/2;D++){var N=T[D];T[D]=T[T.length-1-D],T[T.length-1-D]=N}b=f,f=b-I}if(!a.checkCodewordSkew(I,m,_))return null;var V=Wc.getDecodedValue(T),q=St.getCodeword(V);return q===-1?null:new Kc(f,b,a.getCodewordBucketNumber(V),q)},a.getModuleBitCount=function(t,n,o,c,f,p){for(var m=f,_=new Int32Array(8),T=0,b=c?1:-1,I=c;(c?m<o:m>=n)&&T<_.length;)t.get(m,p)===I?(_[T]++,m+=b):(T++,I=!I);return T===_.length||m===(c?o:n)&&T===_.length-1?_:null},a.getNumberOfECCodeWords=function(t){return 2<<t},a.adjustCodewordStartColumn=function(t,n,o,c,f,p){for(var m=f,_=c?-1:1,T=0;T<2;T++){for(;(c?m>=n:m<o)&&c===t.get(m,p);){if(Math.abs(f-m)>a.CODEWORD_SKEW_SIZE)return f;m+=_}_=-_,c=!c}return m},a.checkCodewordSkew=function(t,n,o){return n-a.CODEWORD_SKEW_SIZE<=t&&t<=o+a.CODEWORD_SKEW_SIZE},a.decodeCodewords=function(t,n,o){if(t.length===0)throw F.getFormatInstance();var c=1<<n+1,f=a.correctErrors(t,o,c);a.verifyCodewordCount(t,c);var p=ef.decode(t,""+n);return p.setErrorsCorrected(f),p.setErasures(o.length),p},a.correctErrors=function(t,n,o){if(n!=null&&n.length>o/2+a.MAX_ERRORS||o<0||o>a.MAX_EC_CODEWORDS)throw J.getChecksumInstance();return a.errorCorrection.decode(t,o,n)},a.verifyCodewordCount=function(t,n){if(t.length<4)throw F.getFormatInstance();var o=t[0];if(o>t.length)throw F.getFormatInstance();if(o===0)if(n<t.length)t[0]=t.length-n;else throw F.getFormatInstance()},a.getBitCountForCodeword=function(t){for(var n=new Int32Array(8),o=0,c=n.length-1;!((t&1)!==o&&(o=t&1,c--,c<0));)n[c]++,t>>=1;return n},a.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},a.getCodewordBucketNumber_number=function(t){return a.getCodewordBucketNumber(a.getBitCountForCodeword(t))},a.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},a.toString=function(t){for(var n=new na,o=0;o<t.length;o++){n.format("Row %2d: ",o);for(var c=0;c<t[o].length;c++){var f=t[o][c];f.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}n.format("%n")}return n.toString()},a.CODEWORD_SKEW_SIZE=2,a.MAX_ERRORS=3,a.MAX_EC_CODEWORDS=512,a.errorCorrection=new El,a}(),tf=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zn=function(){function a(){}return a.prototype.decode=function(t,n){n===void 0&&(n=null);var o=a.decode(t,n,!1);if(o==null||o.length===0||o[0]==null)throw ne.getNotFoundInstance();return o[0]},a.prototype.decodeMultiple=function(t,n){n===void 0&&(n=null);try{return a.decode(t,n,!0)}catch(o){throw o instanceof F||o instanceof J?ne.getNotFoundInstance():o}},a.decode=function(t,n,o){var c,f,p=new Array,m=dd.detectMultiple(t,n,o);try{for(var _=tf(m.getPoints()),T=_.next();!T.done;T=_.next()){var b=T.value,I=Ao.decode(m.getBits(),b[4],b[5],b[6],b[7],a.getMinCodewordWidth(b),a.getMaxCodewordWidth(b)),D=new hn(I.getText(),I.getRawBytes(),void 0,b,qe.PDF_417);D.putMetadata($t.ERROR_CORRECTION_LEVEL,I.getECLevel());var N=I.getOther();N!=null&&D.putMetadata($t.PDF417_EXTRA_METADATA,N),p.push(D)}}catch(V){c={error:V}}finally{try{T&&!T.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}return p.map(function(V){return V})},a.getMaxWidth=function(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))},a.getMinWidth=function(t,n){return t==null||n==null?G.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))},a.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(a.getMaxWidth(t[0],t[4]),a.getMaxWidth(t[6],t[2])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN),Math.max(a.getMaxWidth(t[1],t[5]),a.getMaxWidth(t[7],t[3])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN)))},a.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(a.getMinWidth(t[0],t[4]),a.getMinWidth(t[6],t[2])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN),Math.min(a.getMinWidth(t[1],t[5]),a.getMinWidth(t[7],t[3])*St.MODULES_IN_CODEWORD/St.MODULES_IN_STOP_PATTERN)))},a.prototype.reset=function(){},a}(),To=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Va=function(a){To(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="ReaderException",t}(S),Rs=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Os=function(){function a(){}return a.prototype.decode=function(t,n){return this.setHints(n),this.decodeInternal(t)},a.prototype.decodeWithState=function(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)},a.prototype.setHints=function(t){this.hints=t;var n=t!=null&&t.get(Q.TRY_HARDER)!==void 0,o=t==null?null:t.get(Q.POSSIBLE_FORMATS),c=new Array;if(o!=null){var f=o.some(function(p){return p===qe.UPC_A||p===qe.UPC_E||p===qe.EAN_13||p===qe.EAN_8||p===qe.CODABAR||p===qe.CODE_39||p===qe.CODE_93||p===qe.CODE_128||p===qe.ITF||p===qe.RSS_14||p===qe.RSS_EXPANDED});f&&!n&&c.push(new Lr(t)),o.includes(qe.QR_CODE)&&c.push(new ws),o.includes(qe.DATA_MATRIX)&&c.push(new Ma),o.includes(qe.AZTEC)&&c.push(new Dr),o.includes(qe.PDF_417)&&c.push(new zn),f&&n&&c.push(new Lr(t))}c.length===0&&(n||c.push(new Lr(t)),c.push(new ws),c.push(new Ma),c.push(new Dr),c.push(new zn),n&&c.push(new Lr(t))),this.readers=c},a.prototype.reset=function(){var t,n;if(this.readers!==null)try{for(var o=Rs(this.readers),c=o.next();!c.done;c=o.next()){var f=c.value;f.reset()}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},a.prototype.decodeInternal=function(t){var n,o;if(this.readers===null)throw new Va("No readers where selected, nothing can be read.");try{for(var c=Rs(this.readers),f=c.next();!f.done;f=c.next()){var p=f.value;try{return p.decode(t,this.hints)}catch(m){if(m instanceof Va)continue}}}catch(m){n={error:m}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}throw new ne("No MultiFormat Readers were able to detect the code.")},a}(),Sr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){Sr(t,a);function t(n,o){n===void 0&&(n=null),o===void 0&&(o=500);var c=this,f=new Os;return f.setHints(n),c=a.call(this,f,o)||this,c}return t.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},t})(Rr);var Cr=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){Cr(t,a);function t(n){return n===void 0&&(n=500),a.call(this,new zn,n)||this}return t})(Rr);var Ua=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){Ua(t,a);function t(n){return n===void 0&&(n=500),a.call(this,new ws,n)||this}return t})(Rr);var Ur;(function(a){a[a.ERROR_CORRECTION=0]="ERROR_CORRECTION",a[a.CHARACTER_SET=1]="CHARACTER_SET",a[a.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",a[a.MIN_SIZE=3]="MIN_SIZE",a[a.MAX_SIZE=4]="MAX_SIZE",a[a.MARGIN=5]="MARGIN",a[a.PDF417_COMPACT=6]="PDF417_COMPACT",a[a.PDF417_COMPACTION=7]="PDF417_COMPACTION",a[a.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",a[a.AZTEC_LAYERS=9]="AZTEC_LAYERS",a[a.QR_VERSION=10]="QR_VERSION"})(Ur||(Ur={}));var un=Ur,aa=function(){function a(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Bt(t,Int32Array.from([1])))}return a.prototype.buildGenerator=function(t){var n=this.cachedGenerators;if(t>=n.length)for(var o=n[n.length-1],c=this.field,f=n.length;f<=t;f++){var p=o.multiply(new Bt(c,Int32Array.from([1,c.exp(f-1+c.getGeneratorBase())])));n.push(p),o=p}return n[t]},a.prototype.encode=function(t,n){if(n===0)throw new L("No error correction bytes");var o=t.length-n;if(o<=0)throw new L("No data bytes provided");var c=this.buildGenerator(n),f=new Int32Array(o);ae.arraycopy(t,0,f,0,o);var p=new Bt(this.field,f);p=p.multiplyByMonomial(n,1);for(var m=p.divide(c)[1],_=m.getCoefficients(),T=n-_.length,b=0;b<T;b++)t[o+b]=0;ae.arraycopy(_,0,t,o+T,_.length)},a}(),So=function(){function a(){}return a.applyMaskPenaltyRule1=function(t){return a.applyMaskPenaltyRule1Internal(t,!0)+a.applyMaskPenaltyRule1Internal(t,!1)},a.applyMaskPenaltyRule2=function(t){for(var n=0,o=t.getArray(),c=t.getWidth(),f=t.getHeight(),p=0;p<f-1;p++)for(var m=o[p],_=0;_<c-1;_++){var T=m[_];T===m[_+1]&&T===o[p+1][_]&&T===o[p+1][_+1]&&n++}return a.N2*n},a.applyMaskPenaltyRule3=function(t){for(var n=0,o=t.getArray(),c=t.getWidth(),f=t.getHeight(),p=0;p<f;p++)for(var m=0;m<c;m++){var _=o[p];m+6<c&&_[m]===1&&_[m+1]===0&&_[m+2]===1&&_[m+3]===1&&_[m+4]===1&&_[m+5]===0&&_[m+6]===1&&(a.isWhiteHorizontal(_,m-4,m)||a.isWhiteHorizontal(_,m+7,m+11))&&n++,p+6<f&&o[p][m]===1&&o[p+1][m]===0&&o[p+2][m]===1&&o[p+3][m]===1&&o[p+4][m]===1&&o[p+5][m]===0&&o[p+6][m]===1&&(a.isWhiteVertical(o,m,p-4,p)||a.isWhiteVertical(o,m,p+7,p+11))&&n++}return n*a.N3},a.isWhiteHorizontal=function(t,n,o){n=Math.max(n,0),o=Math.min(o,t.length);for(var c=n;c<o;c++)if(t[c]===1)return!1;return!0},a.isWhiteVertical=function(t,n,o,c){o=Math.max(o,0),c=Math.min(c,t.length);for(var f=o;f<c;f++)if(t[f][n]===1)return!1;return!0},a.applyMaskPenaltyRule4=function(t){for(var n=0,o=t.getArray(),c=t.getWidth(),f=t.getHeight(),p=0;p<f;p++)for(var m=o[p],_=0;_<c;_++)m[_]===1&&n++;var T=t.getHeight()*t.getWidth(),b=Math.floor(Math.abs(n*2-T)*10/T);return b*a.N4},a.getDataMaskBit=function(t,n,o){var c,f;switch(t){case 0:c=o+n&1;break;case 1:c=o&1;break;case 2:c=n%3;break;case 3:c=(o+n)%3;break;case 4:c=Math.floor(o/2)+Math.floor(n/3)&1;break;case 5:f=o*n,c=(f&1)+f%3;break;case 6:f=o*n,c=(f&1)+f%3&1;break;case 7:f=o*n,c=f%3+(o+n&1)&1;break;default:throw new L("Invalid mask pattern: "+t)}return c===0},a.applyMaskPenaltyRule1Internal=function(t,n){for(var o=0,c=n?t.getHeight():t.getWidth(),f=n?t.getWidth():t.getHeight(),p=t.getArray(),m=0;m<c;m++){for(var _=0,T=-1,b=0;b<f;b++){var I=n?p[m][b]:p[b][m];I===T?_++:(_>=5&&(o+=a.N1+(_-5)),_=1,T=I)}_>=5&&(o+=a.N1+(_-5))}return o},a.N1=3,a.N2=3,a.N3=40,a.N4=10,a}(),Cl=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wl=function(){function a(t,n){this.width=t,this.height=n;for(var o=new Array(n),c=0;c!==n;c++)o[c]=new Uint8Array(t);this.bytes=o}return a.prototype.getHeight=function(){return this.height},a.prototype.getWidth=function(){return this.width},a.prototype.get=function(t,n){return this.bytes[n][t]},a.prototype.getArray=function(){return this.bytes},a.prototype.setNumber=function(t,n,o){this.bytes[n][t]=o},a.prototype.setBoolean=function(t,n,o){this.bytes[n][t]=o?1:0},a.prototype.clear=function(t){var n,o;try{for(var c=Cl(this.bytes),f=c.next();!f.done;f=c.next()){var p=f.value;$.fill(p,t)}}catch(m){n={error:m}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}},a.prototype.equals=function(t){if(!(t instanceof a))return!1;var n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(var o=0,c=this.height;o<c;++o)for(var f=this.bytes[o],p=n.bytes[o],m=0,_=this.width;m<_;++m)if(f[m]!==p[m])return!1;return!0},a.prototype.toString=function(){for(var t=new me,n=0,o=this.height;n<o;++n){for(var c=this.bytes[n],f=0,p=this.width;f<p;++f)switch(c[f]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()},a}(),In=function(){function a(){this.maskPattern=-1}return a.prototype.getMode=function(){return this.mode},a.prototype.getECLevel=function(){return this.ecLevel},a.prototype.getVersion=function(){return this.version},a.prototype.getMaskPattern=function(){return this.maskPattern},a.prototype.getMatrix=function(){return this.matrix},a.prototype.toString=function(){var t=new me;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()},a.prototype.setMode=function(t){this.mode=t},a.prototype.setECLevel=function(t){this.ecLevel=t},a.prototype.setVersion=function(t){this.version=t},a.prototype.setMaskPattern=function(t){this.maskPattern=t},a.prototype.setMatrix=function(t){this.matrix=t},a.isValidMaskPattern=function(t){return t>=0&&t<a.NUM_MASK_PATTERNS},a.NUM_MASK_PATTERNS=8,a}(),Rn=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),je=function(a){Rn(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.kind="WriterException",t}(S),wr=function(){function a(){}return a.clearMatrix=function(t){t.clear(255)},a.buildMatrix=function(t,n,o,c,f){a.clearMatrix(f),a.embedBasicPatterns(o,f),a.embedTypeInfo(n,c,f),a.maybeEmbedVersionInfo(o,f),a.embedDataBits(t,c,f)},a.embedBasicPatterns=function(t,n){a.embedPositionDetectionPatternsAndSeparators(n),a.embedDarkDotAtLeftBottomCorner(n),a.maybeEmbedPositionAdjustmentPatterns(t,n),a.embedTimingPatterns(n)},a.embedTypeInfo=function(t,n,o){var c=new H;a.makeTypeInfoBits(t,n,c);for(var f=0,p=c.getSize();f<p;++f){var m=c.get(c.getSize()-1-f),_=a.TYPE_INFO_COORDINATES[f],T=_[0],b=_[1];if(o.setBoolean(T,b,m),f<8){var I=o.getWidth()-f-1,D=8;o.setBoolean(I,D,m)}else{var I=8,D=o.getHeight()-7+(f-8);o.setBoolean(I,D,m)}}},a.maybeEmbedVersionInfo=function(t,n){if(!(t.getVersionNumber()<7)){var o=new H;a.makeVersionInfoBits(t,o);for(var c=6*3-1,f=0;f<6;++f)for(var p=0;p<3;++p){var m=o.get(c);c--,n.setBoolean(f,n.getHeight()-11+p,m),n.setBoolean(n.getHeight()-11+p,f,m)}}},a.embedDataBits=function(t,n,o){for(var c=0,f=-1,p=o.getWidth()-1,m=o.getHeight()-1;p>0;){for(p===6&&(p-=1);m>=0&&m<o.getHeight();){for(var _=0;_<2;++_){var T=p-_;if(a.isEmpty(o.get(T,m))){var b=void 0;c<t.getSize()?(b=t.get(c),++c):b=!1,n!==255&&So.getDataMaskBit(n,T,m)&&(b=!b),o.setBoolean(T,m,b)}}m+=f}f=-f,m+=f,p-=2}if(c!==t.getSize())throw new je("Not all bits consumed: "+c+"/"+t.getSize())},a.findMSBSet=function(t){return 32-G.numberOfLeadingZeros(t)},a.calculateBCHCode=function(t,n){if(n===0)throw new L("0 polynomial");var o=a.findMSBSet(n);for(t<<=o-1;a.findMSBSet(t)>=o;)t^=n<<a.findMSBSet(t)-o;return t},a.makeTypeInfoBits=function(t,n,o){if(!In.isValidMaskPattern(n))throw new je("Invalid mask pattern");var c=t.getBits()<<3|n;o.appendBits(c,5);var f=a.calculateBCHCode(c,a.TYPE_INFO_POLY);o.appendBits(f,10);var p=new H;if(p.appendBits(a.TYPE_INFO_MASK_PATTERN,15),o.xor(p),o.getSize()!==15)throw new je("should not happen but we got: "+o.getSize())},a.makeVersionInfoBits=function(t,n){n.appendBits(t.getVersionNumber(),6);var o=a.calculateBCHCode(t.getVersionNumber(),a.VERSION_INFO_POLY);if(n.appendBits(o,12),n.getSize()!==18)throw new je("should not happen but we got: "+n.getSize())},a.isEmpty=function(t){return t===255},a.embedTimingPatterns=function(t){for(var n=8;n<t.getWidth()-8;++n){var o=(n+1)%2;a.isEmpty(t.get(n,6))&&t.setNumber(n,6,o),a.isEmpty(t.get(6,n))&&t.setNumber(6,n,o)}},a.embedDarkDotAtLeftBottomCorner=function(t){if(t.get(8,t.getHeight()-8)===0)throw new je;t.setNumber(8,t.getHeight()-8,1)},a.embedHorizontalSeparationPattern=function(t,n,o){for(var c=0;c<8;++c){if(!a.isEmpty(o.get(t+c,n)))throw new je;o.setNumber(t+c,n,0)}},a.embedVerticalSeparationPattern=function(t,n,o){for(var c=0;c<7;++c){if(!a.isEmpty(o.get(t,n+c)))throw new je;o.setNumber(t,n+c,0)}},a.embedPositionAdjustmentPattern=function(t,n,o){for(var c=0;c<5;++c)for(var f=a.POSITION_ADJUSTMENT_PATTERN[c],p=0;p<5;++p)o.setNumber(t+p,n+c,f[p])},a.embedPositionDetectionPattern=function(t,n,o){for(var c=0;c<7;++c)for(var f=a.POSITION_DETECTION_PATTERN[c],p=0;p<7;++p)o.setNumber(t+p,n+c,f[p])},a.embedPositionDetectionPatternsAndSeparators=function(t){var n=a.POSITION_DETECTION_PATTERN[0].length;a.embedPositionDetectionPattern(0,0,t),a.embedPositionDetectionPattern(t.getWidth()-n,0,t),a.embedPositionDetectionPattern(0,t.getWidth()-n,t);var o=8;a.embedHorizontalSeparationPattern(0,o-1,t),a.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),a.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);var c=7;a.embedVerticalSeparationPattern(c,0,t),a.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),a.embedVerticalSeparationPattern(c,t.getHeight()-c,t)},a.maybeEmbedPositionAdjustmentPatterns=function(t,n){if(!(t.getVersionNumber()<2))for(var o=t.getVersionNumber()-1,c=a.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o],f=0,p=c.length;f!==p;f++){var m=c[f];if(m>=0)for(var _=0;_!==p;_++){var T=c[_];T>=0&&a.isEmpty(n.get(T,m))&&a.embedPositionAdjustmentPattern(T-2,m-2,n)}}},a.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),a.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),a.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),a.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),a.VERSION_INFO_POLY=7973,a.TYPE_INFO_POLY=1335,a.TYPE_INFO_MASK_PATTERN=21522,a}(),ai=function(){function a(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}return a.prototype.getDataBytes=function(){return this.dataBytes},a.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},a}(),xu=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oa=function(){function a(){}return a.calculateMaskPenalty=function(t){return So.applyMaskPenaltyRule1(t)+So.applyMaskPenaltyRule2(t)+So.applyMaskPenaltyRule3(t)+So.applyMaskPenaltyRule4(t)},a.encode=function(t,n,o){o===void 0&&(o=null);var c=a.DEFAULT_BYTE_MODE_ENCODING,f=o!==null&&o.get(un.CHARACTER_SET)!==void 0;f&&(c=o.get(un.CHARACTER_SET).toString());var p=this.chooseMode(t,c),m=new H;if(p===tt.BYTE&&(f||a.DEFAULT_BYTE_MODE_ENCODING!==c)){var _=be.getCharacterSetECIByName(c);_!==void 0&&this.appendECI(_,m)}this.appendModeInfo(p,m);var T=new H;this.appendBytes(t,p,T,c);var b;if(o!==null&&o.get(un.QR_VERSION)!==void 0){var I=Number.parseInt(o.get(un.QR_VERSION).toString(),10);b=R.getVersionForNumber(I);var D=this.calculateBitsNeeded(p,m,T,b);if(!this.willFit(D,b,n))throw new je("Data too big for requested version")}else b=this.recommendVersion(n,p,m,T);var N=new H;N.appendBitArray(m);var V=p===tt.BYTE?T.getSizeInBytes():t.length;this.appendLengthInfo(V,b,p,N),N.appendBitArray(T);var q=b.getECBlocksForLevel(n),re=b.getTotalCodewords()-q.getTotalECCodewords();this.terminateBits(re,N);var Z=this.interleaveWithECBytes(N,b.getTotalCodewords(),re,q.getNumBlocks()),ee=new In;ee.setECLevel(n),ee.setMode(p),ee.setVersion(b);var he=b.getDimensionForVersion(),ge=new wl(he,he),Ce=this.chooseMaskPattern(Z,n,b,ge);return ee.setMaskPattern(Ce),wr.buildMatrix(Z,n,b,Ce,ge),ee.setMatrix(ge),ee},a.recommendVersion=function(t,n,o,c){var f=this.calculateBitsNeeded(n,o,c,R.getVersionForNumber(1)),p=this.chooseVersion(f,t),m=this.calculateBitsNeeded(n,o,c,p);return this.chooseVersion(m,t)},a.calculateBitsNeeded=function(t,n,o,c){return n.getSize()+t.getCharacterCountBits(c)+o.getSize()},a.getAlphanumericCode=function(t){return t<a.ALPHANUMERIC_TABLE.length?a.ALPHANUMERIC_TABLE[t]:-1},a.chooseMode=function(t,n){if(n===void 0&&(n=null),be.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return tt.KANJI;for(var o=!1,c=!1,f=0,p=t.length;f<p;++f){var m=t.charAt(f);if(a.isDigit(m))o=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return tt.BYTE}return c?tt.ALPHANUMERIC:o?tt.NUMERIC:tt.BYTE},a.isOnlyDoubleByteKanji=function(t){var n;try{n=ct.encode(t,be.SJIS)}catch{return!1}var o=n.length;if(o%2!==0)return!1;for(var c=0;c<o;c+=2){var f=n[c]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0},a.chooseMaskPattern=function(t,n,o,c){for(var f=Number.MAX_SAFE_INTEGER,p=-1,m=0;m<In.NUM_MASK_PATTERNS;m++){wr.buildMatrix(t,n,o,m,c);var _=this.calculateMaskPenalty(c);_<f&&(f=_,p=m)}return p},a.chooseVersion=function(t,n){for(var o=1;o<=40;o++){var c=R.getVersionForNumber(o);if(a.willFit(t,c,n))return c}throw new je("Data too big")},a.willFit=function(t,n,o){var c=n.getTotalCodewords(),f=n.getECBlocksForLevel(o),p=f.getTotalECCodewords(),m=c-p,_=(t+7)/8;return m>=_},a.terminateBits=function(t,n){var o=t*8;if(n.getSize()>o)throw new je("data bits cannot fit in the QR Code"+n.getSize()+" > "+o);for(var c=0;c<4&&n.getSize()<o;++c)n.appendBit(!1);var f=n.getSize()&7;if(f>0)for(var c=f;c<8;c++)n.appendBit(!1);for(var p=t-n.getSizeInBytes(),c=0;c<p;++c)n.appendBits((c&1)===0?236:17,8);if(n.getSize()!==o)throw new je("Bits size does not equal capacity")},a.getNumDataBytesAndNumECBytesForBlockID=function(t,n,o,c,f,p){if(c>=o)throw new je("Block ID too large");var m=t%o,_=o-m,T=Math.floor(t/o),b=T+1,I=Math.floor(n/o),D=I+1,N=T-I,V=b-D;if(N!==V)throw new je("EC bytes mismatch");if(o!==_+m)throw new je("RS blocks mismatch");if(t!==(I+N)*_+(D+V)*m)throw new je("Total bytes mismatch");c<_?(f[0]=I,p[0]=N):(f[0]=D,p[0]=V)},a.interleaveWithECBytes=function(t,n,o,c){var f,p,m,_;if(t.getSizeInBytes()!==o)throw new je("Number of bits and data bytes does not match");for(var T=0,b=0,I=0,D=new Array,N=0;N<c;++N){var V=new Int32Array(1),q=new Int32Array(1);a.getNumDataBytesAndNumECBytesForBlockID(n,o,c,N,V,q);var re=V[0],Z=new Uint8Array(re);t.toBytes(8*T,Z,0,re);var ee=a.generateECBytes(Z,q[0]);D.push(new ai(Z,ee)),b=Math.max(b,re),I=Math.max(I,ee.length),T+=V[0]}if(o!==T)throw new je("Data bytes does not match offset");for(var he=new H,N=0;N<b;++N)try{for(var ge=(f=void 0,xu(D)),Ce=ge.next();!Ce.done;Ce=ge.next()){var Re=Ce.value,Z=Re.getDataBytes();N<Z.length&&he.appendBits(Z[N],8)}}catch(Le){f={error:Le}}finally{try{Ce&&!Ce.done&&(p=ge.return)&&p.call(ge)}finally{if(f)throw f.error}}for(var N=0;N<I;++N)try{for(var Oe=(m=void 0,xu(D)),ze=Oe.next();!ze.done;ze=Oe.next()){var Re=ze.value,ee=Re.getErrorCorrectionBytes();N<ee.length&&he.appendBits(ee[N],8)}}catch(Le){m={error:Le}}finally{try{ze&&!ze.done&&(_=Oe.return)&&_.call(Oe)}finally{if(m)throw m.error}}if(n!==he.getSizeInBytes())throw new je("Interleaving error: "+n+" and "+he.getSizeInBytes()+" differ.");return he},a.generateECBytes=function(t,n){for(var o=t.length,c=new Int32Array(o+n),f=0;f<o;f++)c[f]=t[f]&255;new aa(_n.QR_CODE_FIELD_256).encode(c,n);for(var p=new Uint8Array(n),f=0;f<n;f++)p[f]=c[o+f];return p},a.appendModeInfo=function(t,n){n.appendBits(t.getBits(),4)},a.appendLengthInfo=function(t,n,o,c){var f=o.getCharacterCountBits(n);if(t>=1<<f)throw new je(t+" is bigger than "+((1<<f)-1));c.appendBits(t,f)},a.appendBytes=function(t,n,o,c){switch(n){case tt.NUMERIC:a.appendNumericBytes(t,o);break;case tt.ALPHANUMERIC:a.appendAlphanumericBytes(t,o);break;case tt.BYTE:a.append8BitBytes(t,o,c);break;case tt.KANJI:a.appendKanjiBytes(t,o);break;default:throw new je("Invalid mode: "+n)}},a.getDigit=function(t){return t.charCodeAt(0)-48},a.isDigit=function(t){var n=a.getDigit(t);return n>=0&&n<=9},a.appendNumericBytes=function(t,n){for(var o=t.length,c=0;c<o;){var f=a.getDigit(t.charAt(c));if(c+2<o){var p=a.getDigit(t.charAt(c+1)),m=a.getDigit(t.charAt(c+2));n.appendBits(f*100+p*10+m,10),c+=3}else if(c+1<o){var p=a.getDigit(t.charAt(c+1));n.appendBits(f*10+p,7),c+=2}else n.appendBits(f,4),c++}},a.appendAlphanumericBytes=function(t,n){for(var o=t.length,c=0;c<o;){var f=a.getAlphanumericCode(t.charCodeAt(c));if(f===-1)throw new je;if(c+1<o){var p=a.getAlphanumericCode(t.charCodeAt(c+1));if(p===-1)throw new je;n.appendBits(f*45+p,11),c+=2}else n.appendBits(f,6),c++}},a.append8BitBytes=function(t,n,o){var c;try{c=ct.encode(t,o)}catch(_){throw new je(_)}for(var f=0,p=c.length;f!==p;f++){var m=c[f];n.appendBits(m,8)}},a.appendKanjiBytes=function(t,n){var o;try{o=ct.encode(t,be.SJIS)}catch(I){throw new je(I)}for(var c=o.length,f=0;f<c;f+=2){var p=o[f]&255,m=o[f+1]&255,_=p<<8&4294967295|m,T=-1;if(_>=33088&&_<=40956?T=_-33088:_>=57408&&_<=60351&&(T=_-49472),T===-1)throw new je("Invalid byte sequence");var b=(T>>8)*192+(T&255);n.appendBits(b,13)}},a.appendECI=function(t,n){n.appendBits(tt.ECI.getBits(),4),n.appendBits(t.getValue(),8)},a.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),a.DEFAULT_BYTE_MODE_ENCODING=be.UTF8.getName(),a}(),nf=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){nf(t,a);function t(n,o,c,f,p,m,_,T){var b=a.call(this,m,_)||this;if(b.yuvData=n,b.dataWidth=o,b.dataHeight=c,b.left=f,b.top=p,f+m>o||p+_>c)throw new L("Crop rectangle does not fit within image data.");return T&&b.reverseHorizontal(m,_),b}return t.prototype.getRow=function(n,o){if(n<0||n>=this.getHeight())throw new L("Requested row is outside the image: "+n);var c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));var f=(n+this.top)*this.dataWidth+this.left;return ae.arraycopy(this.yuvData,f,o,0,c),o},t.prototype.getMatrix=function(){var n=this.getWidth(),o=this.getHeight();if(n===this.dataWidth&&o===this.dataHeight)return this.yuvData;var c=n*o,f=new Uint8ClampedArray(c),p=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return ae.arraycopy(this.yuvData,p,f,0,c),f;for(var m=0;m<o;m++){var _=m*n;ae.arraycopy(this.yuvData,p,f,_,n),p+=this.dataWidth}return f},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,o,c,f){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+o,c,f,!1)},t.prototype.renderThumbnail=function(){for(var n=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(n*o),f=this.yuvData,p=this.top*this.dataWidth+this.left,m=0;m<o;m++){for(var _=m*n,T=0;T<n;T++){var b=f[p+T*t.THUMBNAIL_SCALE_FACTOR]&255;c[_+T]=4278190080|b*65793}p+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return c},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(n,o){for(var c=this.yuvData,f=0,p=this.top*this.dataWidth+this.left;f<o;f++,p+=this.dataWidth)for(var m=p+n/2,_=p,T=p+n-1;_<m;_++,T--){var b=c[_];c[_]=c[T],c[T]=b}},t.prototype.invert=function(){return new mn(this)},t.THUMBNAIL_SCALE_FACTOR=2,t})(kt);var rf=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){rf(t,a);function t(n,o,c,f,p,m,_){var T=a.call(this,o,c)||this;if(T.dataWidth=f,T.dataHeight=p,T.left=m,T.top=_,n.BYTES_PER_ELEMENT===4){for(var b=o*c,I=new Uint8ClampedArray(b),D=0;D<b;D++){var N=n[D],V=N>>16&255,q=N>>7&510,re=N&255;I[D]=(V+q+re)/4&255}T.luminances=I}else T.luminances=n;if(f===void 0&&(T.dataWidth=o),p===void 0&&(T.dataHeight=c),m===void 0&&(T.left=0),_===void 0&&(T.top=0),T.left+o>T.dataWidth||T.top+c>T.dataHeight)throw new L("Crop rectangle does not fit within image data.");return T}return t.prototype.getRow=function(n,o){if(n<0||n>=this.getHeight())throw new L("Requested row is outside the image: "+n);var c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));var f=(n+this.top)*this.dataWidth+this.left;return ae.arraycopy(this.luminances,f,o,0,c),o},t.prototype.getMatrix=function(){var n=this.getWidth(),o=this.getHeight();if(n===this.dataWidth&&o===this.dataHeight)return this.luminances;var c=n*o,f=new Uint8ClampedArray(c),p=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return ae.arraycopy(this.luminances,p,f,0,c),f;for(var m=0;m<o;m++){var _=m*n;ae.arraycopy(this.luminances,p,f,_,n),p+=this.dataWidth}return f},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(n,o,c,f){return new t(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+n,this.top+o)},t.prototype.invert=function(){return new mn(this)},t})(kt);var Ds=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(a){Ds(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.forName=function(n){return this.getCharacterSetECIByName(n)},t})(be),function(){function a(){}return a.ISO_8859_1=be.ISO8859_1,a}();var Ns=function(){function a(){}return a.prototype.isCompact=function(){return this.compact},a.prototype.setCompact=function(t){this.compact=t},a.prototype.getSize=function(){return this.size},a.prototype.setSize=function(t){this.size=t},a.prototype.getLayers=function(){return this.layers},a.prototype.setLayers=function(t){this.layers=t},a.prototype.getCodeWords=function(){return this.codeWords},a.prototype.setCodeWords=function(t){this.codeWords=t},a.prototype.getMatrix=function(){return this.matrix},a.prototype.setMatrix=function(t){this.matrix=t},a}(),Co=function(){function a(){}return a.singletonList=function(t){return[t]},a.min=function(t,n){return t.sort(n)[0]},a}(),Ps=function(){function a(t){this.previous=t}return a.prototype.getPrevious=function(){return this.previous},a}(),af=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ms=function(a){af(t,a);function t(n,o,c){var f=a.call(this,n)||this;return f.value=o,f.bitCount=c,f}return t.prototype.appendTo=function(n,o){n.appendBits(this.value,this.bitCount)},t.prototype.add=function(n,o){return new t(this,n,o)},t.prototype.addBinaryShift=function(n,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,n,o)},t.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+G.toBinaryString(n|1<<this.bitCount).substring(1)+">"},t}(Ps),of=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},a(t,n)};return function(t,n){a(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Au=function(a){of(t,a);function t(n,o,c){var f=a.call(this,n,0,0)||this;return f.binaryShiftStart=o,f.binaryShiftByteCount=c,f}return t.prototype.appendTo=function(n,o){for(var c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):c===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(o[this.binaryShiftStart+c],8)},t.prototype.addBinaryShift=function(n,o){return new t(this,n,o)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(Ms);function sf(a,t,n){return new Au(a,t,n)}function Di(a,t,n){return new Ms(a,t,n)}var uf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cr=0,sa=1,Hn=2,wo=3,fr=4,lf=new Ms(null,0,0),Tu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Fa=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function cf(a){var t,n;try{for(var o=Fa(a),c=o.next();!c.done;c=o.next()){var f=c.value;$.fill(f,-1)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a[cr][fr]=0,a[sa][fr]=0,a[sa][cr]=28,a[wo][fr]=0,a[Hn][fr]=0,a[Hn][cr]=15,a}var za=cf($.createInt32Array(6,6)),Su=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ff=function(){function a(t,n,o,c){this.token=t,this.mode=n,this.binaryShiftByteCount=o,this.bitCount=c}return a.prototype.getMode=function(){return this.mode},a.prototype.getToken=function(){return this.token},a.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},a.prototype.getBitCount=function(){return this.bitCount},a.prototype.latchAndAppend=function(t,n){var o=this.bitCount,c=this.token;if(t!==this.mode){var f=Tu[this.mode][t];c=Di(c,f&65535,f>>16),o+=f>>16}var p=t===Hn?4:5;return c=Di(c,n,p),new a(c,t,0,o+p)},a.prototype.shiftAndAppend=function(t,n){var o=this.token,c=this.mode===Hn?4:5;return o=Di(o,za[this.mode][t],c),o=Di(o,n,5),new a(o,this.mode,0,this.bitCount+c+5)},a.prototype.addBinaryShiftChar=function(t){var n=this.token,o=this.mode,c=this.bitCount;if(this.mode===fr||this.mode===Hn){var f=Tu[o][cr];n=Di(n,f&65535,f>>16),c+=f>>16,o=cr}var p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new a(n,o,this.binaryShiftByteCount+1,c+p);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(t+1)),m},a.prototype.endBinaryShift=function(t){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=sf(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new a(n,this.mode,0,this.bitCount)},a.prototype.isBetterThanOrEqualTo=function(t){var n=this.bitCount+(Tu[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=a.calculateBinaryShiftCost(t)-a.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount},a.prototype.toBitArray=function(t){for(var n,o,c=[],f=this.endBinaryShift(t.length).token;f!==null;f=f.getPrevious())c.unshift(f);var p=new H;try{for(var m=Su(c),_=m.next();!_.done;_=m.next()){var T=_.value;T.appendTo(p,t)}}catch(b){n={error:b}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}return p},a.prototype.toString=function(){return W.format("%s bits=%d bytes=%d",uf[this.mode],this.bitCount,this.binaryShiftByteCount)},a.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},a.INITIAL_STATE=new a(lf,cr,0,0),a}();function bl(a){var t=W.getCharCode(" "),n=W.getCharCode("."),o=W.getCharCode(",");a[cr][t]=1;for(var c=W.getCharCode("Z"),f=W.getCharCode("A"),p=f;p<=c;p++)a[cr][p]=p-f+2;a[sa][t]=1;for(var m=W.getCharCode("z"),_=W.getCharCode("a"),p=_;p<=m;p++)a[sa][p]=p-_+2;a[Hn][t]=1;for(var T=W.getCharCode("9"),b=W.getCharCode("0"),p=b;p<=T;p++)a[Hn][p]=p-b+2;a[Hn][o]=12,a[Hn][n]=13;for(var I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],D=0;D<I.length;D++)a[wo][W.getCharCode(I[D])]=D;for(var N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],D=0;D<N.length;D++)W.getCharCode(N[D])>0&&(a[fr][W.getCharCode(N[D])]=D);return a}var Ls=bl($.createInt32Array(5,256)),Gn=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oi=function(){function a(t){this.text=t}return a.prototype.encode=function(){for(var t=W.getCharCode(" "),n=W.getCharCode(`
`),o=Co.singletonList(ff.INITIAL_STATE),c=0;c<this.text.length;c++){var f=void 0,p=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case W.getCharCode("\r"):f=p===n?2:0;break;case W.getCharCode("."):f=p===t?3:0;break;case W.getCharCode(","):f=p===t?4:0;break;case W.getCharCode(":"):f=p===t?5:0;break;default:f=0}f>0?(o=a.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}var m=Co.min(o,function(_,T){return _.getBitCount()-T.getBitCount()});return m.toBitArray(this.text)},a.prototype.updateStateListForChar=function(t,n){var o,c,f=[];try{for(var p=Gn(t),m=p.next();!m.done;m=p.next()){var _=m.value;this.updateStateForChar(_,n,f)}}catch(T){o={error:T}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(o)throw o.error}}return a.simplifyStates(f)},a.prototype.updateStateForChar=function(t,n,o){for(var c=this.text[n]&255,f=Ls[t.getMode()][c]>0,p=null,m=0;m<=fr;m++){var _=Ls[m][c];if(_>0){if(p==null&&(p=t.endBinaryShift(n)),!f||m===t.getMode()||m===Hn){var T=p.latchAndAppend(m,_);o.push(T)}if(!f&&za[t.getMode()][m]>=0){var b=p.shiftAndAppend(m,_);o.push(b)}}}if(t.getBinaryShiftByteCount()>0||Ls[t.getMode()][c]===0){var I=t.addBinaryShiftChar(n);o.push(I)}},a.updateStateListForPair=function(t,n,o){var c,f,p=[];try{for(var m=Gn(t),_=m.next();!_.done;_=m.next()){var T=_.value;this.updateStateForPair(T,n,o,p)}}catch(b){c={error:b}}finally{try{_&&!_.done&&(f=m.return)&&f.call(m)}finally{if(c)throw c.error}}return this.simplifyStates(p)},a.updateStateForPair=function(t,n,o,c){var f=t.endBinaryShift(n);if(c.push(f.latchAndAppend(fr,o)),t.getMode()!==fr&&c.push(f.shiftAndAppend(fr,o)),o===3||o===4){var p=f.latchAndAppend(Hn,16-o).latchAndAppend(Hn,1);c.push(p)}if(t.getBinaryShiftByteCount()>0){var m=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);c.push(m)}},a.simplifyStates=function(t){var n,o,c,f,p=[];try{for(var m=Gn(t),_=m.next();!_.done;_=m.next()){var T=_.value,b=!0,I=function(re){if(re.isBetterThanOrEqualTo(T))return b=!1,"break";T.isBetterThanOrEqualTo(re)&&(p=p.filter(function(Z){return Z!==re}))};try{for(var D=(c=void 0,Gn(p)),N=D.next();!N.done;N=D.next()){var V=N.value,q=I(V);if(q==="break")break}}catch(re){c={error:re}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}b&&p.push(T)}}catch(re){n={error:re}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}return p},a}(),ua=function(a){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&a[t],o=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&o>=a.length&&(a=void 0),{value:a&&a[o++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function a(){}return a.encodeBytes=function(t){return a.encode(t,a.DEFAULT_EC_PERCENT,a.DEFAULT_AZTEC_LAYERS)},a.encode=function(t,n,o){var c=new oi(t).encode(),f=G.truncDivision(c.getSize()*n,100)+11,p=c.getSize()+f,m,_,T,b,I;if(o!==a.DEFAULT_AZTEC_LAYERS){if(m=o<0,_=Math.abs(o),_>(m?a.MAX_NB_BITS_COMPACT:a.MAX_NB_BITS))throw new L(W.format("Illegal value %s for layers",o));T=a.totalBitsInLayer(_,m),b=a.WORD_SIZE[_];var D=T-T%b;if(I=a.stuffBits(c,b),I.getSize()+f>D)throw new L("Data to large for user specified layer");if(m&&I.getSize()>b*64)throw new L("Data to large for user specified layer")}else{b=0,I=null;for(var N=0;;N++){if(N>a.MAX_NB_BITS)throw new L("Data too large for an Aztec code");if(m=N<=3,_=m?N+1:N,T=a.totalBitsInLayer(_,m),!(p>T)){(I==null||b!==a.WORD_SIZE[_])&&(b=a.WORD_SIZE[_],I=a.stuffBits(c,b));var D=T-T%b;if(!(m&&I.getSize()>b*64)&&I.getSize()+f<=D)break}}}var V=a.generateCheckWords(I,T,b),q=I.getSize()/b,re=a.generateModeMessage(m,_,q),Z=(m?11:14)+_*4,ee=new Int32Array(Z),he;if(m){he=Z;for(var N=0;N<ee.length;N++)ee[N]=N}else{he=Z+1+2*G.truncDivision(G.truncDivision(Z,2)-1,15);for(var ge=G.truncDivision(Z,2),Ce=G.truncDivision(he,2),N=0;N<ge;N++){var Re=N+G.truncDivision(N,15);ee[ge-N-1]=Ce-Re-1,ee[ge+N]=Ce+Re+1}}for(var Oe=new Ne(he),N=0,ze=0;N<_;N++){for(var dt=(_-N)*4+(m?9:12),Le=0;Le<dt;Le++)for(var lt=Le*2,pt=0;pt<2;pt++)V.get(ze+lt+pt)&&Oe.set(ee[N*2+pt],ee[N*2+Le]),V.get(ze+dt*2+lt+pt)&&Oe.set(ee[N*2+Le],ee[Z-1-N*2-pt]),V.get(ze+dt*4+lt+pt)&&Oe.set(ee[Z-1-N*2-pt],ee[Z-1-N*2-Le]),V.get(ze+dt*6+lt+pt)&&Oe.set(ee[Z-1-N*2-Le],ee[N*2+pt]);ze+=dt*8}if(a.drawModeMessage(Oe,m,he,re),m)a.drawBullsEye(Oe,G.truncDivision(he,2),5);else{a.drawBullsEye(Oe,G.truncDivision(he,2),7);for(var N=0,Le=0;N<G.truncDivision(Z,2)-1;N+=15,Le+=16)for(var pt=G.truncDivision(he,2)&1;pt<he;pt+=2)Oe.set(G.truncDivision(he,2)-Le,pt),Oe.set(G.truncDivision(he,2)+Le,pt),Oe.set(pt,G.truncDivision(he,2)-Le),Oe.set(pt,G.truncDivision(he,2)+Le)}var Lt=new Ns;return Lt.setCompact(m),Lt.setSize(he),Lt.setLayers(_),Lt.setCodeWords(q),Lt.setMatrix(Oe),Lt},a.drawBullsEye=function(t,n,o){for(var c=0;c<o;c+=2)for(var f=n-c;f<=n+c;f++)t.set(f,n-c),t.set(f,n+c),t.set(n-c,f),t.set(n+c,f);t.set(n-o,n-o),t.set(n-o+1,n-o),t.set(n-o,n-o+1),t.set(n+o,n-o),t.set(n+o,n-o+1),t.set(n+o,n+o-1)},a.generateModeMessage=function(t,n,o){var c=new H;return t?(c.appendBits(n-1,2),c.appendBits(o-1,6),c=a.generateCheckWords(c,28,4)):(c.appendBits(n-1,5),c.appendBits(o-1,11),c=a.generateCheckWords(c,40,4)),c},a.drawModeMessage=function(t,n,o,c){var f=G.truncDivision(o,2);if(n)for(var p=0;p<7;p++){var m=f-3+p;c.get(p)&&t.set(m,f-5),c.get(p+7)&&t.set(f+5,m),c.get(20-p)&&t.set(m,f+5),c.get(27-p)&&t.set(f-5,m)}else for(var p=0;p<10;p++){var m=f-5+p+G.truncDivision(p,5);c.get(p)&&t.set(m,f-7),c.get(p+10)&&t.set(f+7,m),c.get(29-p)&&t.set(m,f+7),c.get(39-p)&&t.set(f-7,m)}},a.generateCheckWords=function(t,n,o){var c,f,p=t.getSize()/o,m=new aa(a.getGF(o)),_=G.truncDivision(n,o),T=a.bitsToWords(t,o,_);m.encode(T,_-p);var b=n%o,I=new H;I.appendBits(0,b);try{for(var D=ua(Array.from(T)),N=D.next();!N.done;N=D.next()){var V=N.value;I.appendBits(V,o)}}catch(q){c={error:q}}finally{try{N&&!N.done&&(f=D.return)&&f.call(D)}finally{if(c)throw c.error}}return I},a.bitsToWords=function(t,n,o){var c=new Int32Array(o),f,p;for(f=0,p=t.getSize()/n;f<p;f++){for(var m=0,_=0;_<n;_++)m|=t.get(f*n+_)?1<<n-_-1:0;c[f]=m}return c},a.getGF=function(t){switch(t){case 4:return _n.AZTEC_PARAM;case 6:return _n.AZTEC_DATA_6;case 8:return _n.AZTEC_DATA_8;case 10:return _n.AZTEC_DATA_10;case 12:return _n.AZTEC_DATA_12;default:throw new L("Unsupported word size "+t)}},a.stuffBits=function(t,n){for(var o=new H,c=t.getSize(),f=(1<<n)-2,p=0;p<c;p+=n){for(var m=0,_=0;_<n;_++)(p+_>=c||t.get(p+_))&&(m|=1<<n-1-_);(m&f)===f?(o.appendBits(m&f,n),p--):(m&f)===0?(o.appendBits(m|1,n),p--):o.appendBits(m,n)}return o},a.totalBitsInLayer=function(t,n){return((n?88:112)+16*t)*t},a.DEFAULT_EC_PERCENT=33,a.DEFAULT_AZTEC_LAYERS=0,a.MAX_NB_BITS=32,a.MAX_NB_BITS_COMPACT=4,a.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),a})();class Ni extends kt{constructor(t){super(t.width,t.height),this.canvas=t,this.buffer=Ni.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");const o=n.getImageData(0,0,t.width,t.height);return Ni.toGrayscaleBuffer(o.data,t.width,t.height)}static toGrayscaleBuffer(t,n,o){const c=new Uint8ClampedArray(n*o);for(let f=0,p=0,m=t.length;f<m;f+=4,p++){let _;if(t[f+3]===0)_=255;else{const b=t[f],I=t[f+1],D=t[f+2];_=306*b+601*I+117*D+512>>10}c[p]=_}return c}getRow(t,n){if(t<0||t>=this.getHeight())throw new L("Requested row is outside the image: "+t);const o=this.getWidth(),c=t*o;return n===null?n=this.buffer.slice(c,c+o):(n.length<o&&(n=new Uint8ClampedArray(o)),n.set(this.buffer.slice(c,c+o))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,n,o,c){return super.crop(t,n,o,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}invert(){return new mn(this)}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");const o=t*Ni.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(o))*c+Math.abs(Math.sin(o))*f),m=Math.ceil(Math.abs(Math.sin(o))*c+Math.abs(Math.cos(o))*f);n.width=p,n.height=m;const _=n.getContext("2d");if(!_)throw new Error("Could not create a Convas Context element.");return _.translate(p/2,m/2),_.rotate(o),_.drawImage(this.canvas,c/-2,f/-2),this.buffer=Ni.makeBufferFromCanvasImageData(n),this}}Ni.DEGREE_TO_RADIANS=Math.PI/180;function Pi(){return typeof navigator<"u"}function Mi(){return Pi()&&!!navigator.mediaDevices}function pn(){return!!(Mi()&&navigator.mediaDevices.enumerateDevices)}var zt=function(a,t,n,o){function c(f){return f instanceof n?f:new n(function(p){p(f)})}return new(n||(n=Promise))(function(f,p){function m(b){try{T(o.next(b))}catch(I){p(I)}}function _(b){try{T(o.throw(b))}catch(I){p(I)}}function T(b){b.done?f(b.value):c(b.value).then(m,_)}T((o=o.apply(a,t||[])).next())})};const md={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3};class Fe{constructor(t,n=new Map,o={}){this.reader=t,this.hints=n,this.options=Object.assign(Object.assign({},md),o)}set possibleFormats(t){this.hints.set(Q.POSSIBLE_FORMATS,t)}static addVideoSource(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}}static mediaStreamSetTorch(t,n){return zt(this,void 0,void 0,function*(){yield t.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})})}static mediaStreamIsTorchCompatible(t){const n=t.getVideoTracks();for(const o of n)if(Fe.mediaStreamIsTorchCompatibleTrack(o))return!0;return!1}static mediaStreamIsTorchCompatibleTrack(t){try{return"torch"in t.getCapabilities()}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}}static isVideoPlaying(t){return t.currentTime>0&&!t.paused&&t.readyState>2}static getMediaElement(t,n){const o=document.getElementById(t);if(!o)throw new O(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==n.toLowerCase())throw new O(`element with id '${t}' must be an ${n} element`);return o}static createVideoElement(t){if(t instanceof HTMLVideoElement)return t;if(typeof t=="string")return Fe.getMediaElement(t,"video");if(!t&&typeof document<"u"){const n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")}static prepareImageElement(t){if(t instanceof HTMLImageElement)return t;if(typeof t=="string")return Fe.getMediaElement(t,"img");if(typeof t>"u"){const n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")}static prepareVideoElement(t){const n=Fe.createVideoElement(t);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}static isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}static createBinaryBitmapFromCanvas(t){const n=new Ni(t),o=new Tt(n);return new X(o)}static drawImageOnCanvas(t,n){t.drawImage(n,0,0)}static getMediaElementDimensions(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimentions!")}static createCaptureCanvas(t){if(!t)throw new O("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);const n=document.createElement("canvas"),{width:o,height:c}=Fe.getMediaElementDimensions(t);return n.style.width=o+"px",n.style.height=c+"px",n.width=o,n.height=c,n}static tryPlayVideo(t){return zt(this,void 0,void 0,function*(){if(t!=null&&t.ended)return console.error("Trying to play video that has ended."),!1;if(Fe.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),!0;try{return yield t.play(),!0}catch(n){return console.warn("It was not possible to play the video.",n),!1}})}static createCanvasFromMediaElement(t){const n=Fe.createCaptureCanvas(t),o=n.getContext("2d");if(!o)throw new Error("Couldn't find Canvas 2D Context.");return Fe.drawImageOnCanvas(o,t),n}static createBinaryBitmapFromMediaElem(t){const n=Fe.createCanvasFromMediaElement(t);return Fe.createBinaryBitmapFromCanvas(n)}static destroyImageElement(t){t.src="",t.removeAttribute("src"),t=void 0}static listVideoInputDevices(){return zt(this,void 0,void 0,function*(){if(!Pi())throw new Error("Can't enumerate devices, navigator is not present.");if(!pn())throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const o of t){const c=o.kind==="video"?"videoinput":o.kind;if(c!=="videoinput")continue;const f=o.deviceId||o.id,p=o.label||`Video device ${n.length+1}`,m=o.groupId,_={deviceId:f,label:p,kind:c,groupId:m};n.push(_)}return n})}static findDeviceById(t){return zt(this,void 0,void 0,function*(){const n=yield Fe.listVideoInputDevices();if(n)return n.find(o=>o.deviceId===t)})}static cleanVideoSource(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}}static playVideoOnLoadAsync(t,n){return zt(this,void 0,void 0,function*(){return(yield Fe.tryPlayVideo(t))?!0:new Promise((c,f)=>{const p=setTimeout(()=>{Fe.isVideoPlaying(t)||(f(!1),t.removeEventListener("canplay",m))},n),m=()=>{Fe.tryPlayVideo(t).then(_=>{clearTimeout(p),t.removeEventListener("canplay",m),c(_)})};t.addEventListener("canplay",m)})})}static attachStreamToVideo(t,n,o=5e3){return zt(this,void 0,void 0,function*(){const c=Fe.prepareVideoElement(n);return Fe.addVideoSource(c,t),yield Fe.playVideoOnLoadAsync(c,o),c})}static _waitImageLoad(t){return new Promise((n,o)=>{const f=setTimeout(()=>{Fe.isImageLoaded(t)||(t.removeEventListener("load",p),o())},1e4),p=()=>{clearTimeout(f),t.removeEventListener("load",p),n()};t.addEventListener("load",p)})}static checkCallbackFnOrThrow(t){if(!t)throw new O("`callbackFn` is a required parameter, you cannot capture results without it.")}static disposeMediaStream(t){t.getVideoTracks().forEach(n=>n.stop()),t=void 0}decode(t){const n=Fe.createCanvasFromMediaElement(t);return this.decodeFromCanvas(n)}decodeBitmap(t){return this.reader.decode(t,this.hints)}decodeFromCanvas(t){const n=Fe.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(n)}decodeFromImageElement(t){return zt(this,void 0,void 0,function*(){if(!t)throw new O("An image element must be provided.");const n=Fe.prepareImageElement(t);return yield this._decodeOnLoadImage(n)})}decodeFromImageUrl(t){return zt(this,void 0,void 0,function*(){if(!t)throw new O("An URL must be provided.");const n=Fe.prepareImageElement();n.src=t;try{return yield this.decodeFromImageElement(n)}finally{Fe.destroyImageElement(n)}})}decodeFromConstraints(t,n,o){return zt(this,void 0,void 0,function*(){Fe.checkCallbackFnOrThrow(o);const c=yield navigator.mediaDevices.getUserMedia(t);try{return yield this.decodeFromStream(c,n,o)}catch(f){throw Fe.disposeMediaStream(c),f}})}decodeFromStream(t,n,o){return zt(this,void 0,void 0,function*(){Fe.checkCallbackFnOrThrow(o);const c=this.options.tryPlayVideoTimeout,f=yield Fe.attachStreamToVideo(t,n,c),p=()=>{for(const D of t.getVideoTracks())D.stop();t=void 0},m=()=>{p(),Fe.cleanVideoSource(f)},_=this.scan(f,o,m),T=t.getVideoTracks(),b=Object.assign(Object.assign({},_),{stop(){_.stop()},streamVideoConstraintsApply(D,N){return zt(this,void 0,void 0,function*(){const V=N?T.filter(N):T;for(const q of V)yield q.applyConstraints(D)})},streamVideoConstraintsGet(D){return T.find(D).getConstraints()},streamVideoSettingsGet(D){return T.find(D).getSettings()},streamVideoCapabilitiesGet(D){return T.find(D).getCapabilities()}});if(Fe.mediaStreamIsTorchCompatible(t)){const D=T==null?void 0:T.find(q=>Fe.mediaStreamIsTorchCompatibleTrack(q)),N=q=>zt(this,void 0,void 0,function*(){yield Fe.mediaStreamSetTorch(D,q)});b.switchTorch=N;const V=()=>{_.stop(),N(!1)};b.stop=V}return b})}decodeFromVideoDevice(t,n,o){return zt(this,void 0,void 0,function*(){Fe.checkCallbackFnOrThrow(o);let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeFromConstraints(f,n,o)})}decodeFromVideoElement(t,n){return zt(this,void 0,void 0,function*(){if(Fe.checkCallbackFnOrThrow(n),!t)throw new O("A video element must be provided.");const o=Fe.prepareVideoElement(t),c=this.options.tryPlayVideoTimeout;return yield Fe.playVideoOnLoadAsync(o,c),this.scan(o,n)})}decodeFromVideoUrl(t,n){return zt(this,void 0,void 0,function*(){if(Fe.checkCallbackFnOrThrow(n),!t)throw new O("An URL must be provided.");const o=Fe.prepareVideoElement();o.src=t;const c=()=>{Fe.cleanVideoSource(o)},f=this.options.tryPlayVideoTimeout;return yield Fe.playVideoOnLoadAsync(o,f),this.scan(o,n,c)})}decodeOnceFromConstraints(t,n){return zt(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,n)})}decodeOnceFromStream(t,n){return zt(this,void 0,void 0,function*(){const o=!!n,c=yield Fe.attachStreamToVideo(t,n);try{return yield this.scanOneResult(c)}finally{o||Fe.cleanVideoSource(c)}})}decodeOnceFromVideoDevice(t,n){return zt(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeOnceFromConstraints(c,n)})}decodeOnceFromVideoElement(t){return zt(this,void 0,void 0,function*(){if(!t)throw new O("A video element must be provided.");const n=Fe.prepareVideoElement(t),o=this.options.tryPlayVideoTimeout;return yield Fe.playVideoOnLoadAsync(n,o),yield this.scanOneResult(n)})}decodeOnceFromVideoUrl(t){return zt(this,void 0,void 0,function*(){if(!t)throw new O("An URL must be provided.");const n=Fe.prepareVideoElement();n.src=t;const o=this.decodeOnceFromVideoElement(n);try{return yield o}finally{Fe.cleanVideoSource(n)}})}scanOneResult(t,n=!0,o=!0,c=!0){return new Promise((f,p)=>{this.scan(t,(m,_,T)=>{if(m){f(m),T.stop();return}if(_){if(_ instanceof ne&&n||_ instanceof J&&o||_ instanceof F&&c)return;T.stop(),p(_)}})})}scan(t,n,o){Fe.checkCallbackFnOrThrow(n);let c=Fe.createCaptureCanvas(t),f=c.getContext("2d");if(!f)throw new Error("Couldn't create canvas for visual element scan.");const p=()=>{f=void 0,c=void 0};let m=!1,_;const b={stop:()=>{m=!0,clearTimeout(_),p(),o&&o()}},I=()=>{if(!m)try{Fe.drawImageOnCanvas(f,t);const D=this.decodeFromCanvas(c);n(D,void 0,b),_=setTimeout(I,this.options.delayBetweenScanSuccess)}catch(D){n(void 0,D,b);const N=D instanceof J,V=D instanceof F,q=D instanceof ne;if(N||V||q){_=setTimeout(I,this.options.delayBetweenScanAttempts);return}p(),o&&o(D)}};return I(),b}_decodeOnLoadImage(t){return zt(this,void 0,void 0,function*(){return Fe.isImageLoaded(t)||(yield Fe._waitImageLoad(t)),this.decode(t)})}}class yd extends Fe{constructor(t,n){super(new Dr,t,n)}}class gn extends Fe{constructor(t,n){super(new Lr(t),t,n)}}class Il extends Fe{constructor(t,n){super(new Ma,t,n)}}class ks extends Fe{constructor(t,n){const o=new Os;o.setHints(t),super(o,t,n),this.reader=o}set possibleFormats(t){this.hints.set(Q.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)}decodeBitmap(t){return this.reader.decodeWithState(t)}setHints(t){this.hints=t,this.reader.setHints(this.hints)}}class Bs extends Fe{constructor(t,n){super(new zn,t,n)}}class Rl extends Fe{constructor(t,n){super(new ws,t,n)}}const er="http://www.w3.org/2000/svg";class hr{constructor(t){if(typeof t=="string"){const n=document.getElementById(t);if(!n)throw new Error(`Could not find a Container element with '${t}'.`);this.containerElement=n}else this.containerElement=t}write(t,n,o,c){if(t.length===0)throw new L("Found empty contents");if(n<0||o<0)throw new L("Requested dimensions are too small: "+n+"x"+o);const f=c&&c.get(un.MARGIN)!==void 0?Number.parseInt(c.get(un.MARGIN).toString(),10):hr.QUIET_ZONE_SIZE,p=this.encode(c,t);return this.renderResult(p,n,o,f)}createSVGElement(t,n){const o=document.createElementNS(hr.SVG_NS,"svg");return o.setAttributeNS(er,"width",n.toString()),o.setAttributeNS(er,"height",t.toString()),o}createSvgPathPlaceholderElement(t,n){const o=document.createElementNS(hr.SVG_NS,"path");return o.setAttributeNS(er,"d",`M0 0h${t}v${n}H0z`),o.setAttributeNS(er,"fill","none"),o}createSvgRectElement(t,n,o,c){const f=document.createElementNS(hr.SVG_NS,"rect");return f.setAttributeNS(er,"x",t.toString()),f.setAttributeNS(er,"y",n.toString()),f.setAttributeNS(er,"height",o.toString()),f.setAttributeNS(er,"width",c.toString()),f.setAttributeNS(er,"fill","#000000"),f}encode(t,n){let o=ta.L;if(t&&t.get(un.ERROR_CORRECTION)!==void 0){const f=t.get(un.ERROR_CORRECTION).toString();o=ta.fromString(f)}return oa.encode(n,o,t)}renderResult(t,n,o,c){const f=t.getMatrix();if(f===null)throw new Kt;const p=f.getWidth(),m=f.getHeight(),_=p+c*2,T=m+c*2,b=Math.max(n,_),I=Math.max(o,T),D=Math.min(Math.floor(b/_),Math.floor(I/T)),N=Math.floor((b-p*D)/2),V=Math.floor((I-m*D)/2),q=this.createSVGElement(b,I),re=this.createSvgPathPlaceholderElement(n,o);q.appendChild(re),this.containerElement.appendChild(q);for(let Z=0,ee=V;Z<m;Z++,ee+=D)for(let he=0,ge=N;he<p;he++,ge+=D)if(f.get(he,Z)===1){const Ce=this.createSvgRectElement(ge,ee,D,D);q.appendChild(Ce)}return q}}hr.QUIET_ZONE_SIZE=4,hr.SVG_NS="http://www.w3.org/2000/svg";const hf="http://www.w3.org/2000/svg";class Vs{write(t,n,o,c){if(t.length===0)throw new L("Found empty contents");if(n<0||o<0)throw new L("Requested dimensions are too small: "+n+"x"+o);let f=ta.L,p=Vs.QUIET_ZONE_SIZE;if(c){if(c.get(un.ERROR_CORRECTION)!==void 0){const _=c.get(un.ERROR_CORRECTION).toString();f=ta.fromString(_)}c.get(un.MARGIN)!==void 0&&(p=Number.parseInt(c.get(un.MARGIN).toString(),10))}const m=oa.encode(t,f,c);return this.renderResult(m,n,o,p)}writeToDom(t,n,o,c,f){if(typeof t=="string"){const m=document.querySelector(t);if(!m)throw new Error("Could no find the target HTML element.");t=m}const p=this.write(n,o,c,f);t instanceof HTMLElement&&t.appendChild(p)}renderResult(t,n,o,c){const f=t.getMatrix();if(f===null)throw new Kt;const p=f.getWidth(),m=f.getHeight(),_=p+c*2,T=m+c*2,b=Math.max(n,_),I=Math.max(o,T),D=Math.min(Math.floor(b/_),Math.floor(I/T)),N=Math.floor((b-p*D)/2),V=Math.floor((I-m*D)/2),q=this.createSVGElement(b,I);for(let re=0,Z=V;re<m;re++,Z+=D)for(let ee=0,he=N;ee<p;ee++,he+=D)if(f.get(ee,re)===1){const ge=this.createSvgRectElement(he,Z,D,D);q.appendChild(ge)}return q}createSVGElement(t,n){const o=document.createElementNS(hf,"svg");return o.setAttribute("height",t.toString()),o.setAttribute("width",n.toString()),o}createSvgRectElement(t,n,o,c){const f=document.createElementNS(hf,"rect");return f.setAttribute("x",t.toString()),f.setAttribute("y",n.toString()),f.setAttribute("height",o.toString()),f.setAttribute("width",c.toString()),f.setAttribute("fill","#000000"),f}}Vs.QUIET_ZONE_SIZE=4,r.BarcodeFormat=qe,r.BrowserAztecCodeReader=yd,r.BrowserCodeReader=Fe,r.BrowserCodeSvgWriter=hr,r.BrowserDatamatrixCodeReader=Il,r.BrowserMultiFormatOneDReader=gn,r.BrowserMultiFormatReader=ks,r.BrowserPDF417Reader=Bs,r.BrowserQRCodeReader=Rl,r.BrowserQRCodeSvgWriter=Vs,r.HTMLCanvasElementLuminanceSource=Ni,Object.defineProperty(r,"__esModule",{value:!0})})}(uc,uc.exports)),uc.exports}var p8=d8();const g8=()=>{const s=typeof navigator<"u"&&!!navigator.mediaDevices;return s||console.warn('[ReactQrReader]: MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"'),s},nh=(s,e,r)=>{const l=typeof s===r;return l||console.warn(`[ReactQrReader]: Expected "${e}" to be a of type "${r}".`),l},v8=({scanDelay:s,constraints:e,onResult:r,videoId:l})=>{const h=_e.useRef(null);_e.useEffect(()=>{const g=new p8.BrowserQRCodeReader(null,{delayBetweenScanAttempts:s});if(!g8()&&nh(r,"onResult","function")){const E='MediaDevices API has no support for your browser. You can fix this by running "npm i webrtc-adapter"';r(null,new Error(E),g)}return nh(e,"constraints","object")&&g.decodeFromConstraints({video:e},l,(E,A)=>{nh(r,"onResult","function")&&r(E,A,g)}).then(E=>h.current=E).catch(E=>{nh(r,"onResult","function")&&r(null,E,g)}),()=>{var E;(E=h.current)===null||E===void 0||E.stop()}},[])},b2={container:{width:"100%",paddingTop:"100%",overflow:"hidden",position:"relative"},video:{top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden",position:"absolute",transform:void 0}},Qp=({videoContainerStyle:s,containerStyle:e,videoStyle:r,constraints:l,ViewFinder:h,scanDelay:g,className:E,onResult:A,videoId:S})=>(v8({constraints:l,scanDelay:g,onResult:A,videoId:S}),_e.createElement("section",{className:E,style:e},_e.createElement("div",{style:{...b2.container,...s}},!!h&&_e.createElement(h,null),_e.createElement("video",{muted:!0,id:S,style:{...b2.video,...r,transform:(l==null?void 0:l.facingMode)==="user"&&"scaleX(-1)"}}))));Qp.displayName="QrReader";Qp.defaultProps={constraints:{facingMode:"user"},videoId:"video",scanDelay:500};const m8=async s=>{try{const e=TE(Kp,"players"),r=Rb(e,Ob("name","==",s)),l=await Bb(r);return l.empty?(console.log("Jugador no encontrado"),null):l.docs[0].data().balance}catch(e){return console.error("Error al obtener el balance:",e),null}},y8=async(s,e)=>{try{const r=SE(Kp,"players",s);await Vb(r,{balance:e})}catch(r){console.error("Error al actualizar el balance:",r)}},_8=()=>{const[s,e]=_e.useState(null),[r,l]=_e.useState(null),[h,g]=_e.useState(0),[E,A]=_e.useState(null),[S,w]=_e.useState(!0),O=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),k=async j=>{if(j&&S){console.log("QR Detectado:",j),w(!1),e(j);const J=await m8(j);J!==null?(l(J),A(null)):(A("Jugador no encontrado."),w(!0))}},L=j=>{console.error("Error en QR Reader:",j),(j==null?void 0:j.name)==="NotFoundError"||(j==null?void 0:j.name)==="NotFoundException"?A("No se encontró cámara disponible o no se otorgaron permisos."):A("No se pudo acceder a la cámara."),w(!1)},X=async j=>{if(!s||r===null)return;const J=j==="add"?r+h:Math.max(0,r-h);await y8(s,J),l(J),g(0)};return st.jsxs("div",{className:"update-balance-container",children:[st.jsx("h2",{children:"📷 Escanea el QR del Jugador"}),S&&!s&&O&&st.jsx(Qp,{onResult:(j,J)=>{j!=null&&j.getText()&&k(j.getText()),J&&L(J)},constraints:{facingMode:{ideal:"environment"}}}),!O&&st.jsx("p",{style:{color:"red"},children:"❌ Tu navegador no soporta acceso a la cámara."}),E&&st.jsx("p",{className:"error",children:E}),s&&r!==null&&st.jsxs("div",{className:"balance-info",children:[st.jsx("h3",{children:"🏦 Información del Jugador"}),st.jsxs("p",{children:[st.jsx("strong",{children:"ID:"})," ",s]}),st.jsxs("p",{children:[st.jsx("strong",{children:"Balance Actual:"})," $",r]}),st.jsx("input",{type:"number",placeholder:"Cantidad a modificar",value:h,onChange:j=>g(parseInt(j.target.value)||0),className:"input-field"}),st.jsxs("div",{className:"btn-group",children:[st.jsx("button",{onClick:()=>X("add"),className:"btn btn-add",children:"➕ Aumentar"}),st.jsx("button",{onClick:()=>X("subtract"),className:"btn btn-subtract",children:"➖ Disminuir"})]}),st.jsx("button",{className:"btn btn-reset",onClick:()=>{e(null),l(null),w(!0),A(null)},children:"🔄 Escanear Otro QR"})]})]})};function E8(){return st.jsx(wS,{children:st.jsxs(rS,{children:[st.jsx(rh,{path:"/",element:st.jsx(kS,{})}),st.jsx(rh,{path:"/crear-jugador",element:st.jsx(r8,{})}),st.jsx(rh,{path:"/modificar-dinero",element:st.jsx(_8,{})})]})})}dT.createRoot(document.getElementById("root")).render(st.jsx(_e.StrictMode,{children:st.jsx(E8,{})}));
